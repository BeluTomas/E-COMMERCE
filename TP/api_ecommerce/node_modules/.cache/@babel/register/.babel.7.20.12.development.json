{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _router = _interopRequireDefault(require(\"./router\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//CONEXION A LA BASE DE DATOS\n\n_mongoose.default.Promise = global.Promise;\nconst dbUrL = \"mongodb://127.0.0.1:27017/ecommerce\";\n_mongoose.default.connect(dbUrL, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}).then(mongoose => console.log(\"CONECTADO A LA BD EN EL PUERTO 27017\")).catch(err => console.log(err));\nconst app = (0, _express.default)();\napp.use((0, _cors.default)());\napp.use(_express.default.json());\napp.use(_express.default.urlencoded({\n  extended: true\n}));\napp.use(_express.default.static(_path.default.join(__dirname, 'public')));\napp.use('/api/', _router.default);\napp.set('port', process.env.PORT || 3000);\napp.listen(app.get('port'), () => {\n  console.log(\"EL SERVIDOR SE EJECUTO PERFECTAMENTE EN EL PUERTO 3000\");\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NvcnMiLCJfcGF0aCIsIl9tb25nb29zZSIsIl9yb3V0ZXIiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIm1vbmdvb3NlIiwiUHJvbWlzZSIsImdsb2JhbCIsImRiVXJMIiwiY29ubmVjdCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnIiLCJhcHAiLCJleHByZXNzIiwidXNlIiwiY29ycyIsImpzb24iLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJzdGF0aWMiLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsInJvdXRlciIsInNldCIsInByb2Nlc3MiLCJlbnYiLCJQT1JUIiwibGlzdGVuIiwiZ2V0Il0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFwiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnXHJcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnXHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnXHJcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSdcclxuaW1wb3J0IHJvdXRlciBmcm9tICcuL3JvdXRlcidcclxuXHJcbi8vQ09ORVhJT04gQSBMQSBCQVNFIERFIERBVE9TXHJcblxyXG5tb25nb29zZS5Qcm9taXNlID0gZ2xvYmFsLlByb21pc2U7XHJcbmNvbnN0IGRiVXJMID0gXCJtb25nb2RiOi8vMTI3LjAuMC4xOjI3MDE3L2Vjb21tZXJjZVwiO1xyXG5tb25nb29zZS5jb25uZWN0KFxyXG4gICAgZGJVckwgLCB7XHJcbiAgICAgICAgdXNlTmV3VXJsUGFyc2VyOiAgdHJ1ZSxcclxuICAgICAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWVcclxuICAgIH1cclxuKS50aGVuKG1vbmdvb3NlID0+IGNvbnNvbGUubG9nKFwiQ09ORUNUQURPIEEgTEEgQkQgRU4gRUwgUFVFUlRPIDI3MDE3XCIpKVxyXG4uY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG5cclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5hcHAudXNlKGNvcnMoKSk7XHJcblxyXG5hcHAudXNlKGV4cHJlc3MuanNvbigpKTtcclxuYXBwLnVzZShleHByZXNzLnVybGVuY29kZWQoe2V4dGVuZGVkOiB0cnVlfSkpO1xyXG5hcHAudXNlKGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsJ3B1YmxpYycpKSlcclxuYXBwLnVzZSgnL2FwaS8nLHJvdXRlcilcclxuXHJcbmFwcC5zZXQoJ3BvcnQnLHByb2Nlc3MuZW52LlBPUlQgfHwgMzAwMCk7XHJcblxyXG5hcHAubGlzdGVuKGFwcC5nZXQoJ3BvcnQnKSwgKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coXCJFTCBTRVJWSURPUiBTRSBFSkVDVVRPIFBFUkZFQ1RBTUVOVEUgRU4gRUwgUFVFUlRPIDMwMDBcIik7XHJcbn0pIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFNBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLE9BQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUE2QixTQUFBRCx1QkFBQU0sR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUU3Qjs7QUFFQUcsaUJBQVEsQ0FBQ0MsT0FBTyxHQUFHQyxNQUFNLENBQUNELE9BQU87QUFDakMsTUFBTUUsS0FBSyxHQUFHLHFDQUFxQztBQUNuREgsaUJBQVEsQ0FBQ0ksT0FBTyxDQUNaRCxLQUFLLEVBQUc7RUFDSkUsZUFBZSxFQUFHLElBQUk7RUFDdEJDLGtCQUFrQixFQUFFO0FBQ3hCLENBQ0osQ0FBQyxDQUFDQyxJQUFJLENBQUNQLFFBQVEsSUFBSVEsT0FBTyxDQUFDQyxHQUFHLENBQUMsc0NBQXNDLENBQUMsQ0FBQyxDQUN0RUMsS0FBSyxDQUFDQyxHQUFHLElBQUlILE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRSxHQUFHLENBQUMsQ0FBQztBQUUvQixNQUFNQyxHQUFHLEdBQUcsSUFBQUMsZ0JBQU8sRUFBQyxDQUFDO0FBQ3JCRCxHQUFHLENBQUNFLEdBQUcsQ0FBQyxJQUFBQyxhQUFJLEVBQUMsQ0FBQyxDQUFDO0FBRWZILEdBQUcsQ0FBQ0UsR0FBRyxDQUFDRCxnQkFBTyxDQUFDRyxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ3ZCSixHQUFHLENBQUNFLEdBQUcsQ0FBQ0QsZ0JBQU8sQ0FBQ0ksVUFBVSxDQUFDO0VBQUNDLFFBQVEsRUFBRTtBQUFJLENBQUMsQ0FBQyxDQUFDO0FBQzdDTixHQUFHLENBQUNFLEdBQUcsQ0FBQ0QsZ0JBQU8sQ0FBQ00sTUFBTSxDQUFDQyxhQUFJLENBQUNDLElBQUksQ0FBQ0MsU0FBUyxFQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7QUFDdERWLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLE9BQU8sRUFBQ1MsZUFBTSxDQUFDO0FBRXZCWCxHQUFHLENBQUNZLEdBQUcsQ0FBQyxNQUFNLEVBQUNDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxJQUFJLElBQUksSUFBSSxDQUFDO0FBRXhDZixHQUFHLENBQUNnQixNQUFNLENBQUNoQixHQUFHLENBQUNpQixHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsTUFBTTtFQUM5QnJCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHdEQUF3RCxDQUFDO0FBQ3pFLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_cors","_path","_mongoose","_router","obj","__esModule","default","mongoose","Promise","global","dbUrL","connect","useNewUrlParser","useUnifiedTopology","then","console","log","catch","err","app","express","use","cors","json","urlencoded","extended","static","path","join","__dirname","router","set","process","env","PORT","listen","get"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\","sources":["index.js"],"sourcesContent":["import express from 'express'\r\nimport cors from 'cors'\r\nimport path from 'path'\r\nimport mongoose from 'mongoose'\r\nimport router from './router'\r\n\r\n//CONEXION A LA BASE DE DATOS\r\n\r\nmongoose.Promise = global.Promise;\r\nconst dbUrL = \"mongodb://127.0.0.1:27017/ecommerce\";\r\nmongoose.connect(\r\n    dbUrL , {\r\n        useNewUrlParser:  true,\r\n        useUnifiedTopology: true\r\n    }\r\n).then(mongoose => console.log(\"CONECTADO A LA BD EN EL PUERTO 27017\"))\r\n.catch(err => console.log(err));\r\n\r\nconst app = express();\r\napp.use(cors());\r\n\r\napp.use(express.json());\r\napp.use(express.urlencoded({extended: true}));\r\napp.use(express.static(path.join(__dirname,'public')))\r\napp.use('/api/',router)\r\n\r\napp.set('port',process.env.PORT || 3000);\r\n\r\napp.listen(app.get('port'), () => {\r\n    console.log(\"EL SERVIDOR SE EJECUTO PERFECTAMENTE EN EL PUERTO 3000\");\r\n})"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE7B;;AAEAG,iBAAQ,CAACC,OAAO,GAAGC,MAAM,CAACD,OAAO;AACjC,MAAME,KAAK,GAAG,qCAAqC;AACnDH,iBAAQ,CAACI,OAAO,CACZD,KAAK,EAAG;EACJE,eAAe,EAAG,IAAI;EACtBC,kBAAkB,EAAE;AACxB,CACJ,CAAC,CAACC,IAAI,CAACP,QAAQ,IAAIQ,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC,CAAC,CACtEC,KAAK,CAACC,GAAG,IAAIH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC,CAAC;AAE/B,MAAMC,GAAG,GAAG,IAAAC,gBAAO,EAAC,CAAC;AACrBD,GAAG,CAACE,GAAG,CAAC,IAAAC,aAAI,EAAC,CAAC,CAAC;AAEfH,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACG,IAAI,CAAC,CAAC,CAAC;AACvBJ,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACI,UAAU,CAAC;EAACC,QAAQ,EAAE;AAAI,CAAC,CAAC,CAAC;AAC7CN,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACM,MAAM,CAACC,aAAI,CAACC,IAAI,CAACC,SAAS,EAAC,QAAQ,CAAC,CAAC,CAAC;AACtDV,GAAG,CAACE,GAAG,CAAC,OAAO,EAACS,eAAM,CAAC;AAEvBX,GAAG,CAACY,GAAG,CAAC,MAAM,EAACC,OAAO,CAACC,GAAG,CAACC,IAAI,IAAI,IAAI,CAAC;AAExCf,GAAG,CAACgB,MAAM,CAAChB,GAAG,CAACiB,GAAG,CAAC,MAAM,CAAC,EAAE,MAAM;EAC9BrB,OAAO,CAACC,GAAG,CAAC,wDAAwD,CAAC;AACzE,CAAC,CAAC","ignoreList":[]}},"mtime":1725995118542},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.use('/users', _User.default);\nrouter.use('/categories', _Categorie.default);\nrouter.use('/products', _Product.default);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyIiwiX0NhdGVnb3JpZSIsIl9Qcm9kdWN0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwidXNlIiwiVXNlciIsIkNhdGVnb3JpZSIsIlByb2R1Y3QiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tICdleHByZXNzLXByb21pc2Utcm91dGVyJ1xyXG5pbXBvcnQgVXNlciBmcm9tICcuL1VzZXInXHJcbmltcG9ydCBDYXRlZ29yaWUgZnJvbSAnLi9DYXRlZ29yaWUnXHJcbmltcG9ydCBQcm9kdWN0IGZyb20gJy4vUHJvZHVjdCdcclxuXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxucm91dGVyLnVzZSgnL3VzZXJzJywgVXNlcik7XHJcbnJvdXRlci51c2UoJy9jYXRlZ29yaWVzJywgQ2F0ZWdvcmllKTtcclxucm91dGVyLnVzZSgnL3Byb2R1Y3RzJywgUHJvZHVjdCk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsVUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsUUFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQStCLFNBQUFELHVCQUFBSyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRS9CLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFDeEJELE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLFFBQVEsRUFBRUMsYUFBSSxDQUFDO0FBQzFCSCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxhQUFhLEVBQUVFLGtCQUFTLENBQUM7QUFDcENKLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLFdBQVcsRUFBRUcsZ0JBQU8sQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FFbEJOLE1BQU07QUFBQU8sT0FBQSxDQUFBUixPQUFBLEdBQUFPLFFBQUEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_User","_Categorie","_Product","obj","__esModule","default","router","routerx","use","User","Categorie","Product","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["index.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport User from './User'\r\nimport Categorie from './Categorie'\r\nimport Product from './Product'\r\n\r\nconst router = routerx();\r\nrouter.use('/users', User);\r\nrouter.use('/categories', Categorie);\r\nrouter.use('/products', Product);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,UAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,QAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA+B,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE/B,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxBD,MAAM,CAACE,GAAG,CAAC,QAAQ,EAAEC,aAAI,CAAC;AAC1BH,MAAM,CAACE,GAAG,CAAC,aAAa,EAAEE,kBAAS,CAAC;AACpCJ,MAAM,CAACE,GAAG,CAAC,WAAW,EAAEG,gBAAO,CAAC;AAAC,IAAAC,QAAA,GAElBN,MAAM;AAAAO,OAAA,CAAAR,OAAA,GAAAO,QAAA","ignoreList":[]}},"mtime":1725995139871},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _UserController = _interopRequireDefault(require(\"../controllers/UserController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", _UserController.default.register);\nrouter.put(\"/update\", _UserController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _UserController.default.list);\nrouter.post(\"/register_admin\", _auth.default.verifyAdmin, _UserController.default.register_admin);\nrouter.post(\"/login\", _UserController.default.login);\nrouter.post(\"/login_admin\", _UserController.default.login_admin);\nrouter.delete(\"/delete\", _UserController.default.remove);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyQ29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsInVzZXJjb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJsaXN0IiwicmVnaXN0ZXJfYWRtaW4iLCJsb2dpbiIsImxvZ2luX2FkbWluIiwiZGVsZXRlIiwicmVtb3ZlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tICdleHByZXNzLXByb21pc2Utcm91dGVyJ1xyXG5pbXBvcnQgdXNlcmNvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvVXNlckNvbnRyb2xsZXInXHJcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXHJcblxyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcbi8vIGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcnMvcmVnaXN0ZXJcclxuXHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsdXNlcmNvbnRyb2xsZXIucmVnaXN0ZXIpO1xyXG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLHVzZXJjb250cm9sbGVyLnVwZGF0ZSk7XHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4sdXNlcmNvbnRyb2xsZXIubGlzdCk7XHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyX2FkbWluXCIsYXV0aC52ZXJpZnlBZG1pbix1c2VyY29udHJvbGxlci5yZWdpc3Rlcl9hZG1pbik7XHJcbnJvdXRlci5wb3N0KFwiL2xvZ2luXCIsdXNlcmNvbnRyb2xsZXIubG9naW4pO1xyXG5yb3V0ZXIucG9zdChcIi9sb2dpbl9hZG1pblwiLHVzZXJjb250cm9sbGVyLmxvZ2luX2FkbWluKTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIix1c2VyY29udHJvbGxlci5yZW1vdmUpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLGVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFzQyxTQUFBRCx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUV0QyxNQUFNRyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBQ3hCOztBQUVBRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUNDLHVCQUFjLENBQUNDLFFBQVEsQ0FBQztBQUNoREosTUFBTSxDQUFDSyxHQUFHLENBQUMsU0FBUyxFQUFDRix1QkFBYyxDQUFDRyxNQUFNLENBQUM7QUFDM0NOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLE9BQU8sRUFBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUNOLHVCQUFjLENBQUNPLElBQUksQ0FBQztBQUN4RFYsTUFBTSxDQUFDRSxJQUFJLENBQUMsaUJBQWlCLEVBQUNNLGFBQUksQ0FBQ0MsV0FBVyxFQUFDTix1QkFBYyxDQUFDUSxjQUFjLENBQUM7QUFDN0VYLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFFBQVEsRUFBQ0MsdUJBQWMsQ0FBQ1MsS0FBSyxDQUFDO0FBQzFDWixNQUFNLENBQUNFLElBQUksQ0FBQyxjQUFjLEVBQUNDLHVCQUFjLENBQUNVLFdBQVcsQ0FBQztBQUN0RGIsTUFBTSxDQUFDYyxNQUFNLENBQUMsU0FBUyxFQUFDWCx1QkFBYyxDQUFDWSxNQUFNLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBRWhDaEIsTUFBTTtBQUFBaUIsT0FBQSxDQUFBbEIsT0FBQSxHQUFBaUIsUUFBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_UserController","_auth","obj","__esModule","default","router","routerx","post","usercontroller","register","put","update","get","auth","verifyAdmin","list","register_admin","login","login_admin","delete","remove","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["User.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport usercontroller from '../controllers/UserController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n// http://localhost:3000/api/users/register\r\n\r\nrouter.post(\"/register\",usercontroller.register);\r\nrouter.put(\"/update\",usercontroller.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,usercontroller.list);\r\nrouter.post(\"/register_admin\",auth.verifyAdmin,usercontroller.register_admin);\r\nrouter.post(\"/login\",usercontroller.login);\r\nrouter.post(\"/login_admin\",usercontroller.login_admin);\r\nrouter.delete(\"/delete\",usercontroller.remove);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,uBAAc,CAACC,QAAQ,CAAC;AAChDJ,MAAM,CAACK,GAAG,CAAC,SAAS,EAACF,uBAAc,CAACG,MAAM,CAAC;AAC3CN,MAAM,CAACO,GAAG,CAAC,OAAO,EAACC,aAAI,CAACC,WAAW,EAACN,uBAAc,CAACO,IAAI,CAAC;AACxDV,MAAM,CAACE,IAAI,CAAC,iBAAiB,EAACM,aAAI,CAACC,WAAW,EAACN,uBAAc,CAACQ,cAAc,CAAC;AAC7EX,MAAM,CAACE,IAAI,CAAC,QAAQ,EAACC,uBAAc,CAACS,KAAK,CAAC;AAC1CZ,MAAM,CAACE,IAAI,CAAC,cAAc,EAACC,uBAAc,CAACU,WAAW,CAAC;AACtDb,MAAM,CAACc,MAAM,CAAC,SAAS,EAACX,uBAAc,CAACY,MAAM,CAAC;AAAC,IAAAC,QAAA,GAEhChB,MAAM;AAAAiB,OAAA,CAAAlB,OAAA,GAAAiB,QAAA","ignoreList":[]}},"mtime":1725995139870},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  register: async (req, res) => {\n    try {\n      // rol\n      // name\n      // surname\n      // email\n      // password\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      const user = await _models.default.User.create(req.body);\n      res.status(200).json(user);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_admin: async (req, res) => {\n    try {\n      // rol\n      // name\n      // surname\n      // email\n      // password\n      const userV = await _models.default.User.findOne({\n        email: req.body.email\n      });\n      if (userV) {\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"admin\";\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      let user = await _models.default.User.create(req.body);\n      res.status(200).json({\n        user: _resources.default.User.user_list(user)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1\n      });\n      if (user) {\n        //SI ESTA RGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login_admin: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1,\n        rol: \"admin\"\n      });\n      if (user) {\n        //SI ESTA RGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar,\n              rol: user.rol\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('\\\\');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let UserT = await _models.default.User.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n        user: _resources.default.User.user_list(UserT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Users = await _models.default.User.find({\n        $or: [{\n          \"name\": new RegExp(search, \"i\")\n        }, {\n          \"surname\": new RegExp(search, \"i\")\n        }, {\n          \"email\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Users = Users.map(user => {\n        return _resources.default.User.user_list(user);\n      });\n      res.status(200).json({\n        users: Users\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      const User = await _models.default.User.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYmNyeXB0anMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9tb2RlbHMiLCJfdG9rZW4iLCJfcmVzb3VyY2VzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiYm9keSIsInBhc3N3b3JkIiwiYmNyeXB0IiwiaGFzaCIsInVzZXIiLCJtb2RlbHMiLCJVc2VyIiwiY3JlYXRlIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwic2VuZCIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwicmVnaXN0ZXJfYWRtaW4iLCJ1c2VyViIsImZpbmRPbmUiLCJlbWFpbCIsInJvbCIsInJlc291cmNlIiwidXNlcl9saXN0IiwibG9naW4iLCJzdGF0ZSIsImNvbXBhcmUiLCJ0b2tlblQiLCJ0b2tlbiIsImVuY29kZSIsIl9pZCIsIlVTRVJfRlJPTlRFRCIsIm5hbWUiLCJzdXJuYW1lIiwiYXZhdGFyIiwibG9naW5fYWRtaW4iLCJ1cGRhdGUiLCJmaWxlcyIsImltZ19wYXRoIiwicGF0aCIsInNwbGl0IiwiYXZhdGFyX25hbWUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIlVzZXJUIiwibGlzdCIsInNlYXJjaCIsInF1ZXJ5IiwiVXNlcnMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwic29ydCIsIm1hcCIsInVzZXJzIiwicmVtb3ZlIiwiZmluZEJ5SWRBbmREZWxldGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJVc2VyQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJ1xyXG5pbXBvcnQgbW9kZWxzIGZyb20gJy4uL21vZGVscydcclxuaW1wb3J0IHRva2VuIGZyb20gJy4uL3NlcnZpY2VzL3Rva2VuJ1xyXG5pbXBvcnQgcmVzb3VyY2UgZnJvbSAnLi4vcmVzb3VyY2VzJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyByb2xcclxuICAgICAgICAgICAgLy8gbmFtZVxyXG4gICAgICAgICAgICAvLyBzdXJuYW1lXHJcbiAgICAgICAgICAgIC8vIGVtYWlsXHJcbiAgICAgICAgICAgIC8vIHBhc3N3b3JkXHJcbiAgICAgICAgICAgIHJlcS5ib2R5LnBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocmVxLmJvZHkucGFzc3dvcmQsMTApO1xyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuY3JlYXRlKHJlcS5ib2R5KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24odXNlcik7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgcmVnaXN0ZXJfYWRtaW46IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyByb2xcclxuICAgICAgICAgICAgLy8gbmFtZVxyXG4gICAgICAgICAgICAvLyBzdXJuYW1lXHJcbiAgICAgICAgICAgIC8vIGVtYWlsXHJcbiAgICAgICAgICAgIC8vIHBhc3N3b3JkXHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXJWID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsfSk7XHJcbiAgICAgICAgICAgIGlmKHVzZXJWKXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gWUEgRVhJU1RFXCJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlcS5ib2R5LnJvbCA9IFwiYWRtaW5cIjtcclxuICAgICAgICAgICAgcmVxLmJvZHkucGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChyZXEuYm9keS5wYXNzd29yZCwxMCk7XHJcbiAgICAgICAgICAgIGxldCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuY3JlYXRlKHJlcS5ib2R5KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgdXNlcjogcmVzb3VyY2UuVXNlci51c2VyX2xpc3QodXNlcilcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbG9naW46IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsLHN0YXRlOjF9KTtcclxuICAgICAgICAgICAgaWYodXNlcil7XHJcbiAgICAgICAgICAgICAgICAvL1NJIEVTVEEgUkdJU1RSQURPIEVOIEVMIFNJU1RFTUFcclxuICAgICAgICAgICAgICAgIGxldCBjb21wYXJlID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocmVxLmJvZHkucGFzc3dvcmQsdXNlci5wYXNzd29yZCk7XHJcbiAgICAgICAgICAgICAgICBpZihjb21wYXJlKXtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdG9rZW5UID0gYXdhaXQgdG9rZW4uZW5jb2RlKHVzZXIuX2lkLHVzZXIucm9sLHVzZXIuZW1haWwpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBVU0VSX0ZST05URUQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOnRva2VuVCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdXJuYW1lOiB1c2VyLnN1cm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmF0YXI6IHVzZXIuYXZhdGFyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBVU0VSX0ZST05URUQ6VVNFUl9GUk9OVEVELFxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBOTyBFWElTVEVcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVhJU1RFXCJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbG9naW5fYWRtaW46IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsLHN0YXRlOjEscm9sOiBcImFkbWluXCJ9KTtcclxuICAgICAgICAgICAgaWYodXNlcil7XHJcbiAgICAgICAgICAgICAgICAvL1NJIEVTVEEgUkdJU1RSQURPIEVOIEVMIFNJU1RFTUFcclxuICAgICAgICAgICAgICAgIGxldCBjb21wYXJlID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocmVxLmJvZHkucGFzc3dvcmQsdXNlci5wYXNzd29yZCk7XHJcbiAgICAgICAgICAgICAgICBpZihjb21wYXJlKXtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdG9rZW5UID0gYXdhaXQgdG9rZW4uZW5jb2RlKHVzZXIuX2lkLHVzZXIucm9sLHVzZXIuZW1haWwpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBVU0VSX0ZST05URUQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOnRva2VuVCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdXJuYW1lOiB1c2VyLnN1cm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmF0YXI6IHVzZXIuYXZhdGFyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sOiB1c2VyLnJvbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVVNFUl9GUk9OVEVEOlVTRVJfRlJPTlRFRCxcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVhJU1RFXCJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHVwZGF0ZTogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmKHJlcS5maWxlcyl7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMuYXZhdGFyLnBhdGg7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXZhdGFyX25hbWUgPSBuYW1lWzJdO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYXZhdGFyX25hbWUpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYocmVxLmJvZHkucGFzc3dvcmQpe1xyXG4gICAgICAgICAgICAgICAgcmVxLmJvZHkucGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChyZXEuYm9keS5wYXNzd29yZCwxMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlVzZXIuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogcmVxLmJvZHkuX2lkfSxyZXEuYm9keSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgVXNlclQgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kT25lKHtfaWQ6IHJlcS5ib2R5Ll9pZH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gU0UgSEEgTU9ESUZJQ0FETyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICB1c2VyOiByZXNvdXJjZS5Vc2VyLnVzZXJfbGlzdChVc2VyVCksXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGxpc3Q6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaDtcclxuICAgICAgICAgICAgbGV0IFVzZXJzID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZCh7XHJcbiAgICAgICAgICAgICAgICAkb3I6W1xyXG4gICAgICAgICAgICAgICAgICAgIHtcIm5hbWVcIjogbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXHJcbiAgICAgICAgICAgICAgICAgICAge1wic3VybmFtZVwiOiBuZXcgUmVnRXhwKHNlYXJjaCwgXCJpXCIpfSxcclxuICAgICAgICAgICAgICAgICAgICB7XCJlbWFpbFwiOiBuZXcgUmVnRXhwKHNlYXJjaCwgXCJpXCIpfSxcclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSkuc29ydCh7J2NyZWF0ZWRBdCc6IC0xfSk7XHJcblxyXG4gICAgICAgICAgICBVc2VycyA9IFVzZXJzLm1hcCgodXNlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlLlVzZXIudXNlcl9saXN0KHVzZXIpO1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgdXNlcnM6IFVzZXJzXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHJlbW92ZTogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IFVzZXIgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kQnlJZEFuZERlbGV0ZSh7X2lkOiByZXEucXVlcnkuX2lkfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBTRSBFTElNSU5PIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLE9BQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLE1BQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFVBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUFtQyxTQUFBRCx1QkFBQUssR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEsR0FFcEI7RUFDWEMsUUFBUSxFQUFFLE1BQUFBLENBQU1DLEdBQUcsRUFBQ0MsR0FB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","map":{"version":3,"names":["_bcryptjs","_interopRequireDefault","require","_models","_token","_resources","obj","__esModule","default","_default","register","req","res","body","password","bcrypt","hash","user","models","User","create","status","json","error","send","message","console","log","register_admin","userV","findOne","email","rol","resource","user_list","login","state","compare","tokenT","token","encode","_id","USER_FRONTED","name","surname","avatar","login_admin","update","files","img_path","path","split","avatar_name","findByIdAndUpdate","UserT","list","search","query","Users","find","$or","RegExp","sort","map","users","remove","findByIdAndDelete","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["UserController.js"],"sourcesContent":["import bcrypt from 'bcryptjs'\r\nimport models from '../models'\r\nimport token from '../services/token'\r\nimport resource from '../resources'\r\n\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            // rol\r\n            // name\r\n            // surname\r\n            // email\r\n            // password\r\n            req.body.password = await bcrypt.hash(req.body.password,10);\r\n            const user = await models.User.create(req.body);\r\n            res.status(200).json(user);\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    register_admin: async(req,res) => {\r\n        try {\r\n            // rol\r\n            // name\r\n            // surname\r\n            // email\r\n            // password\r\n            const userV = await models.User.findOne({email: req.body.email});\r\n            if(userV){\r\n                res.status(500).send({\r\n                    message: \"EL USUARIO YA EXISTE\"\r\n                });\r\n            }\r\n            req.body.rol = \"admin\";\r\n            req.body.password = await bcrypt.hash(req.body.password,10);\r\n            let user = await models.User.create(req.body);\r\n            res.status(200).json({\r\n                user: resource.User.user_list(user)\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    login: async(req,res) => {\r\n        try {\r\n            const user = await models.User.findOne({email: req.body.email,state:1});\r\n            if(user){\r\n                //SI ESTA RGISTRADO EN EL SISTEMA\r\n                let compare = await bcrypt.compare(req.body.password,user.password);\r\n                if(compare){\r\n                    let tokenT = await token.encode(user._id,user.rol,user.email);\r\n\r\n                    const USER_FRONTED = {\r\n                        token:tokenT,\r\n                        user: {\r\n                            name: user.name,\r\n                            email: user.email,\r\n                            surname: user.surname,\r\n                            avatar: user.avatar,\r\n                        },\r\n                    }\r\n\r\n                    res.status(200).json({\r\n                        USER_FRONTED:USER_FRONTED,\r\n                    })\r\n                }else{\r\n                    res.status(500).send({\r\n                        message: \"EL USUARIO NO EXISTE\"\r\n                    });\r\n                }\r\n            }else{\r\n                res.status(500).send({\r\n                    message: \"EL USUARIO NO EXISTE\"\r\n                });\r\n            }\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    login_admin: async(req,res) => {\r\n        try {\r\n            const user = await models.User.findOne({email: req.body.email,state:1,rol: \"admin\"});\r\n            if(user){\r\n                //SI ESTA RGISTRADO EN EL SISTEMA\r\n                let compare = await bcrypt.compare(req.body.password,user.password);\r\n                if(compare){\r\n                    let tokenT = await token.encode(user._id,user.rol,user.email);\r\n\r\n                    const USER_FRONTED = {\r\n                        token:tokenT,\r\n                        user: {\r\n                            name: user.name,\r\n                            email: user.email,\r\n                            surname: user.surname,\r\n                            avatar: user.avatar,\r\n                            rol: user.rol,\r\n                        },\r\n                    }\r\n\r\n                    res.status(200).json({\r\n                        USER_FRONTED:USER_FRONTED,\r\n                    })\r\n                }else{\r\n                    res.status(500).send({\r\n                        message: \"EL USUARIO NO EXISTE\"\r\n                    });\r\n                }\r\n            }else{\r\n                res.status(500).send({\r\n                    message: \"EL USUARIO NO EXISTE\"\r\n                });\r\n            }\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    update: async(req,res) => {\r\n        try {\r\n            if(req.files){\r\n                var img_path = req.files.avatar.path;\r\n                var name = img_path.split('\\\\');\r\n                var avatar_name = name[2];\r\n                console.log(avatar_name)\r\n            }\r\n            if(req.body.password){\r\n                req.body.password = await bcrypt.hash(req.body.password,10);\r\n            }\r\n            await models.User.findByIdAndUpdate({_id: req.body._id},req.body);\r\n\r\n            let UserT = await models.User.findOne({_id: req.body._id});\r\n            res.status(200).json({\r\n                message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\r\n                user: resource.User.user_list(UserT),\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    list: async(req,res) => {\r\n        try {\r\n            var search = req.query.search;\r\n            let Users = await models.User.find({\r\n                $or:[\r\n                    {\"name\": new RegExp(search, \"i\")},\r\n                    {\"surname\": new RegExp(search, \"i\")},\r\n                    {\"email\": new RegExp(search, \"i\")},\r\n                ]\r\n            }).sort({'createdAt': -1});\r\n\r\n            Users = Users.map((user) => {\r\n                return resource.User.user_list(user);\r\n            })\r\n\r\n            res.status(200).json({\r\n                users: Users\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    remove: async(req,res) => {\r\n        try {\r\n            const User = await models.User.findByIdAndDelete({_id: req.query._id});\r\n            res.status(200).json({\r\n                message: \"EL USUARIO SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    }\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1725995118542},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Variedad = _interopRequireDefault(require(\"./Variedad\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _Cupone = _interopRequireDefault(require(\"./Cupone\"));\nvar _Discount = _interopRequireDefault(require(\"./Discount\"));\nvar _Cart = _interopRequireDefault(require(\"./Cart\"));\nvar _AddressClient = _interopRequireDefault(require(\"./AddressClient\"));\nvar _Sale = _interopRequireDefault(require(\"./Sale\"));\nvar _SaleDetail = _interopRequireDefault(require(\"./SaleDetail\"));\nvar _SaleAddress = _interopRequireDefault(require(\"./SaleAddress\"));\nvar _Review = _interopRequireDefault(require(\"./Review\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  User: _User.default,\n  Categorie: _Categorie.default,\n  Product: _Product.default,\n  Variedad: _Variedad.default,\n  Slider: _Slider.default,\n  Cupone: _Cupone.default,\n  Discount: _Discount.default,\n  Cart: _Cart.default,\n  AddressClient: _AddressClient.default,\n  Sale: _Sale.default,\n  SaleDetail: _SaleDetail.default,\n  SaleAddress: _SaleAddress.default,\n  Review: _Review.default\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0NhdGVnb3JpZSIsIl9Qcm9kdWN0IiwiX1ZhcmllZGFkIiwiX1NsaWRlciIsIl9DdXBvbmUiLCJfRGlzY291bnQiLCJfQ2FydCIsIl9BZGRyZXNzQ2xpZW50IiwiX1NhbGUiLCJfU2FsZURldGFpbCIsIl9TYWxlQWRkcmVzcyIsIl9SZXZpZXciLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiVXNlciIsIkNhdGVnb3JpZSIsIlByb2R1Y3QiLCJWYXJpZWRhZCIsIlNsaWRlciIsIkN1cG9uZSIsIkRpc2NvdW50IiwiQ2FydCIsIkFkZHJlc3NDbGllbnQiLCJTYWxlIiwiU2FsZURldGFpbCIsIlNhbGVBZGRyZXNzIiwiUmV2aWV3IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVc2VyIGZyb20gJy4vVXNlcidcclxuaW1wb3J0IENhdGVnb3JpZSBmcm9tICcuL0NhdGVnb3JpZSdcclxuaW1wb3J0IFByb2R1Y3QgZnJvbSAnLi9Qcm9kdWN0J1xyXG5pbXBvcnQgVmFyaWVkYWQgZnJvbSAnLi9WYXJpZWRhZCdcclxuaW1wb3J0IFNsaWRlciBmcm9tICcuL1NsaWRlcidcclxuaW1wb3J0IEN1cG9uZSBmcm9tICcuL0N1cG9uZSdcclxuaW1wb3J0IERpc2NvdW50IGZyb20gJy4vRGlzY291bnQnXHJcbmltcG9ydCBDYXJ0IGZyb20gJy4vQ2FydCdcclxuaW1wb3J0IEFkZHJlc3NDbGllbnQgZnJvbSAnLi9BZGRyZXNzQ2xpZW50J1xyXG5cclxuaW1wb3J0IFNhbGUgZnJvbSAnLi9TYWxlJ1xyXG5pbXBvcnQgU2FsZURldGFpbCBmcm9tICcuL1NhbGVEZXRhaWwnXHJcbmltcG9ydCBTYWxlQWRkcmVzcyBmcm9tICcuL1NhbGVBZGRyZXNzJ1xyXG5cclxuaW1wb3J0IFJldmlldyBmcm9tICcuL1JldmlldydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIFVzZXIsXHJcbiAgICBDYXRlZ29yaWUsXHJcbiAgICBQcm9kdWN0LFxyXG4gICAgVmFyaWVkYWQsXHJcbiAgICBTbGlkZXIsXHJcbiAgICBDdXBvbmUsXHJcbiAgICBEaXNjb3VudCxcclxuICAgIENhcnQsXHJcbiAgICBBZGRyZXNzQ2xpZW50LFxyXG4gICAgU2FsZSxcclxuICAgIFNhbGVEZXRhaWwsXHJcbiAgICBTYWxlQWRkcmVzcyxcclxuICAgIFJldmlldyxcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsS0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsVUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsUUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsU0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksT0FBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUssT0FBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU0sU0FBQSxHQUFBUCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU8sS0FBQSxHQUFBUixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVEsY0FBQSxHQUFBVCxzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBQVMsS0FBQSxHQUFBVixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVUsV0FBQSxHQUFBWCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVcsWUFBQSxHQUFBWixzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBQVksT0FBQSxHQUFBYixzQkFBQSxDQUFBQyxPQUFBO0FBQTZCLFNBQUFELHVCQUFBYyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUVkO0VBQ1hDLElBQUksRUFBSkEsYUFBSTtFQUNKQyxTQUFTLEVBQVRBLGtCQUFTO0VBQ1RDLE9BQU8sRUFBUEEsZ0JBQU87RUFDUEMsUUFBUSxFQUFSQSxpQkFBUTtFQUNSQyxNQUFNLEVBQU5BLGVBQU07RUFDTkMsTUFBTSxFQUFOQSxlQUFNO0VBQ05DLFFBQVEsRUFBUkEsaUJBQVE7RUFDUkMsSUFBSSxFQUFKQSxhQUFJO0VBQ0pDLGFBQWEsRUFBYkEsc0JBQWE7RUFDYkMsSUFBSSxFQUFKQSxhQUFJO0VBQ0pDLFVBQVUsRUFBVkEsbUJBQVU7RUFDVkMsV0FBVyxFQUFYQSxvQkFBVztFQUNYQyxNQUFNLEVBQU5BO0FBQ0osQ0FBQztBQUFBQyxPQUFBLENBQUFmLE9BQUEsR0FBQUMsUUFBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_User","_interopRequireDefault","require","_Categorie","_Product","_Variedad","_Slider","_Cupone","_Discount","_Cart","_AddressClient","_Sale","_SaleDetail","_SaleAddress","_Review","obj","__esModule","default","_default","User","Categorie","Product","Variedad","Slider","Cupone","Discount","Cart","AddressClient","Sale","SaleDetail","SaleAddress","Review","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["index.js"],"sourcesContent":["import User from './User'\r\nimport Categorie from './Categorie'\r\nimport Product from './Product'\r\nimport Variedad from './Variedad'\r\nimport Slider from './Slider'\r\nimport Cupone from './Cupone'\r\nimport Discount from './Discount'\r\nimport Cart from './Cart'\r\nimport AddressClient from './AddressClient'\r\n\r\nimport Sale from './Sale'\r\nimport SaleDetail from './SaleDetail'\r\nimport SaleAddress from './SaleAddress'\r\n\r\nimport Review from './Review'\r\n\r\nexport default {\r\n    User,\r\n    Categorie,\r\n    Product,\r\n    Variedad,\r\n    Slider,\r\n    Cupone,\r\n    Discount,\r\n    Cart,\r\n    AddressClient,\r\n    Sale,\r\n    SaleDetail,\r\n    SaleAddress,\r\n    Review,\r\n}"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,QAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,OAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,SAAA,GAAAP,sBAAA,CAAAC,OAAA;AACA,IAAAO,KAAA,GAAAR,sBAAA,CAAAC,OAAA;AACA,IAAAQ,cAAA,GAAAT,sBAAA,CAAAC,OAAA;AAEA,IAAAS,KAAA,GAAAV,sBAAA,CAAAC,OAAA;AACA,IAAAU,WAAA,GAAAX,sBAAA,CAAAC,OAAA;AACA,IAAAW,YAAA,GAAAZ,sBAAA,CAAAC,OAAA;AAEA,IAAAY,OAAA,GAAAb,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAc,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAEd;EACXC,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA,kBAAS;EACTC,OAAO,EAAPA,gBAAO;EACPC,QAAQ,EAARA,iBAAQ;EACRC,MAAM,EAANA,eAAM;EACNC,MAAM,EAANA,eAAM;EACNC,QAAQ,EAARA,iBAAQ;EACRC,IAAI,EAAJA,aAAI;EACJC,aAAa,EAAbA,sBAAa;EACbC,IAAI,EAAJA,aAAI;EACJC,UAAU,EAAVA,mBAAU;EACVC,WAAW,EAAXA,oBAAW;EACXC,MAAM,EAANA;AACJ,CAAC;AAAAC,OAAA,CAAAf,OAAA,GAAAC,QAAA","ignoreList":[]}},"mtime":1680709955464},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst UserSchema = new _mongoose.Schema({\n  rol: {\n    type: String,\n    maxlength: 30,\n    required: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    required: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  avatar: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  state: {\n    type: Number,\n    default: 1\n  },\n  //1 es activo y 2 es des activo\n  phone: {\n    type: String,\n    maxlength: 20,\n    required: false\n  },\n  birthday: {\n    type: String,\n    maxlength: 20,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst User = _mongoose.default.model(\"user\", UserSchema);\nvar _default = User;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiVXNlclNjaGVtYSIsIlNjaGVtYSIsInJvbCIsInR5cGUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJyZXF1aXJlZCIsIm5hbWUiLCJzdXJuYW1lIiwiZW1haWwiLCJ1bmlxdWUiLCJwYXNzd29yZCIsImF2YXRhciIsInN0YXRlIiwiTnVtYmVyIiwicGhvbmUiLCJiaXJ0aGRheSIsInRpbWVzdGFtcHMiLCJVc2VyIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIlVzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3QgVXNlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgcm9sOnt0eXBlOiBTdHJpbmcsbWF4bGVuZ3RoOjMwLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgbmFtZTp7dHlwZTogU3RyaW5nLG1heGxlbmd0aDoyNTAscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBzdXJuYW1lOnt0eXBlOiBTdHJpbmcsbWF4bGVuZ3RoOjI1MCxyZXF1aXJlZDpmYWxzZX0sXHJcbiAgICBlbWFpbDp7dHlwZTogU3RyaW5nLG1heGxlbmd0aDoyNTAscmVxdWlyZWQ6dHJ1ZSx1bmlxdWU6dHJ1ZX0sXHJcbiAgICBwYXNzd29yZDp7dHlwZTogU3RyaW5nLG1heGxlbmd0aDoyNTAscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBhdmF0YXI6e3R5cGU6IFN0cmluZyxtYXhsZW5ndGg6MjUwLHJlcXVpcmVkOmZhbHNlfSxcclxuICAgIHN0YXRlOnt0eXBlOiBOdW1iZXIsZGVmYXVsdDoxfSwvLzEgZXMgYWN0aXZvIHkgMiBlcyBkZXMgYWN0aXZvXHJcbiAgICBwaG9uZTp7dHlwZTogU3RyaW5nLG1heGxlbmd0aDoyMCxyZXF1aXJlZDpmYWxzZX0sXHJcbiAgICBiaXJ0aGRheTp7dHlwZTogU3RyaW5nLG1heGxlbmd0aDoyMCxyZXF1aXJlZDpmYWxzZX0sXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczogdHJ1ZVxyXG59KTtcclxuXHJcbmNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbChcInVzZXJcIixVc2VyU2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgVXNlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBQyx5QkFBQUMsV0FBQSxlQUFBQyxPQUFBLGtDQUFBQyxpQkFBQSxPQUFBRCxPQUFBLFFBQUFFLGdCQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsV0FBQSxXQUFBQSxXQUFBLEdBQUFHLGdCQUFBLEdBQUFELGlCQUFBLEtBQUFGLFdBQUE7QUFBQSxTQUFBSCx3QkFBQU8sR0FBQSxFQUFBSixXQUFBLFNBQUFBLFdBQUEsSUFBQUksR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsV0FBQUQsR0FBQSxRQUFBQSxHQUFBLG9CQUFBQSxHQUFBLHdCQUFBQSxHQUFBLDRCQUFB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","UserSchema","Schema","rol","type","String","maxlength","required","name","surname","email","unique","password","avatar","state","Number","phone","birthday","timestamps","User","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["User.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst UserSchema = new Schema({\r\n    rol:{type: String,maxlength:30,required:true},\r\n    name:{type: String,maxlength:250,required:true},\r\n    surname:{type: String,maxlength:250,required:false},\r\n    email:{type: String,maxlength:250,required:true,unique:true},\r\n    password:{type: String,maxlength:250,required:true},\r\n    avatar:{type: String,maxlength:250,required:false},\r\n    state:{type: Number,default:1},//1 es activo y 2 es des activo\r\n    phone:{type: String,maxlength:20,required:false},\r\n    birthday:{type: String,maxlength:20,required:false},\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst User = mongoose.model(\"user\",UserSchema);\r\nexport default User;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAH,wBAAAO,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,CAAAJ,OAAA,GAAAF,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAEzC,MAAMW,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC1BC,GAAG,EAAC;IAACC,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC7CC,IAAI,EAAC;IAACJ,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC/CE,OAAO,EAAC;IAACL,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAK,CAAC;EACnDG,KAAK,EAAC;IAACN,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC,IAAI;IAACI,MAAM,EAAC;EAAI,CAAC;EAC5DC,QAAQ,EAAC;IAACR,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EACnDM,MAAM,EAAC;IAACT,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAK,CAAC;EAClDO,KAAK,EAAC;IAACV,IAAI,EAAEW,MAAM;IAAC7B,OAAO,EAAC;EAAC,CAAC;EAAC;EAC/B8B,KAAK,EAAC;IAACZ,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAK,CAAC;EAChDU,QAAQ,EAAC;IAACb,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAK;AACtD,CAAC,EAAC;EACEW,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAACpB,UAAU,CAAC;AAAC,IAAAqB,QAAA,GAChCH,IAAI;AAAAI,OAAA,CAAArC,OAAA,GAAAoC,QAAA","ignoreList":[]}},"mtime":1676098831866},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\services\\\\token.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  encode: async (_id, rol, email) => {\n    const token = _jsonwebtoken.default.sign({\n      _id: _id,\n      rol: rol,\n      email: email\n    }, 'ecommerce_udemy', {\n      expiresIn: '1d'\n    });\n    return token;\n  },\n  decode: async token => {\n    try {\n      const {\n        _id\n      } = await _jsonwebtoken.default.verify(token, 'ecommerce_udemy');\n      const user = _models.default.User.findOne({\n        _id: _id,\n        state: 1\n      });\n      if (user) {\n        return user;\n      }\n      return false;\n    } catch (error) {\n      console.log(error);\n      return false;\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfbW9kZWxzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImVuY29kZSIsIl9pZCIsInJvbCIsImVtYWlsIiwidG9rZW4iLCJqd3QiLCJzaWduIiwiZXhwaXJlc0luIiwiZGVjb2RlIiwidmVyaWZ5IiwidXNlciIsIm1vZGVscyIsIlVzZXIiLCJmaW5kT25lIiwic3RhdGUiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxzZXJ2aWNlc1xcIiwic291cmNlcyI6WyJ0b2tlbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbidcclxuaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICBlbmNvZGU6IGFzeW5jKF9pZCxyb2wsZW1haWwpID0+e1xyXG4gICAgICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oe19pZDogX2lkLHJvbDogcm9sLGVtYWlsOiBlbWFpbH0sJ2Vjb21tZXJjZV91ZGVteScse2V4cGlyZXNJbjogJzFkJ30pO1xyXG4gICAgICAgIHJldHVybiB0b2tlbjtcclxuICAgIH0sXHJcbiAgICBkZWNvZGU6IGFzeW5jKHRva2VuKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3Qge19pZH0gPSBhd2FpdCBqd3QudmVyaWZ5KHRva2VuLCdlY29tbWVyY2VfdWRlbXknKTtcclxuICAgICAgICAgICAgY29uc3QgdXNlciA9IG1vZGVscy5Vc2VyLmZpbmRPbmUoe19pZDogX2lkLHN0YXRlOiAxfSk7XHJcbiAgICAgICAgICAgIGlmKHVzZXIpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsYUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQThCLFNBQUFELHVCQUFBRyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUVmO0VBQ1hDLE1BQU0sRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsRUFBQ0MsS0FBSyxLQUFJO0lBQzNCLE1BQU1DLEtBQUssR0FBR0MscUJBQUcsQ0FBQ0MsSUFBSSxDQUFDO01BQUNMLEdBQUcsRUFBRUEsR0FBRztNQUFDQyxHQUFHLEVBQUVBLEdBQUc7TUFBQ0MsS0FBSyxFQUFFQTtJQUFLLENBQUMsRUFBQyxpQkFBaUIsRUFBQztNQUFDSSxTQUFTLEVBQUU7SUFBSSxDQUFDLENBQUM7SUFDNUYsT0FBT0gsS0FBSztFQUNoQixDQUFDO0VBQ0RJLE1BQU0sRUFBRSxNQUFNSixLQUFLLElBQUs7SUFDcEIsSUFBSTtNQUNBLE1BQU07UUFBQ0g7TUFBRyxDQUFDLEdBQUcsTUFBTUkscUJBQUcsQ0FBQ0ksTUFBTSxDQUFDTCxLQUFLLEVBQUMsaUJBQWlCLENBQUM7TUFDdkQsTUFBTU0sSUFBSSxHQUFHQyxlQUFNLENBQUNDLElBQUksQ0FBQ0MsT0FBTyxDQUFDO1FBQUNaLEdBQUcsRUFBRUEsR0FBRztRQUFDYSxLQUFLLEVBQUU7TUFBQyxDQUFDLENBQUM7TUFDckQsSUFBR0osSUFBSSxFQUFDO1FBQ0osT0FBT0EsSUFBSTtNQUNmO01BQ0EsT0FBTyxLQUFLO0lBQ2hCLENBQUMsQ0FBQyxPQUFPSyxLQUFLLEVBQUU7TUFDWkMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEtBQUssQ0FBQztNQUNsQixPQUFPLEtBQUs7SUFDaEI7RUFDSjtBQUNKLENBQUM7QUFBQUcsT0FBQSxDQUFBcEIsT0FBQSxHQUFBQyxRQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_models","obj","__esModule","default","_default","encode","_id","rol","email","token","jwt","sign","expiresIn","decode","verify","user","models","User","findOne","state","error","console","log","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\services\\","sources":["token.js"],"sourcesContent":["import jwt from 'jsonwebtoken'\r\nimport models from '../models'\r\n\r\nexport default {\r\n    encode: async(_id,rol,email) =>{\r\n        const token = jwt.sign({_id: _id,rol: rol,email: email},'ecommerce_udemy',{expiresIn: '1d'});\r\n        return token;\r\n    },\r\n    decode: async(token) => {\r\n        try {\r\n            const {_id} = await jwt.verify(token,'ecommerce_udemy');\r\n            const user = models.User.findOne({_id: _id,state: 1});\r\n            if(user){\r\n                return user;\r\n            }\r\n            return false;\r\n        } catch (error) {\r\n            console.log(error);\r\n            return false;\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA8B,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAEf;EACXC,MAAM,EAAE,MAAAA,CAAMC,GAAG,EAACC,GAAG,EAACC,KAAK,KAAI;IAC3B,MAAMC,KAAK,GAAGC,qBAAG,CAACC,IAAI,CAAC;MAACL,GAAG,EAAEA,GAAG;MAACC,GAAG,EAAEA,GAAG;MAACC,KAAK,EAAEA;IAAK,CAAC,EAAC,iBAAiB,EAAC;MAACI,SAAS,EAAE;IAAI,CAAC,CAAC;IAC5F,OAAOH,KAAK;EAChB,CAAC;EACDI,MAAM,EAAE,MAAMJ,KAAK,IAAK;IACpB,IAAI;MACA,MAAM;QAACH;MAAG,CAAC,GAAG,MAAMI,qBAAG,CAACI,MAAM,CAACL,KAAK,EAAC,iBAAiB,CAAC;MACvD,MAAMM,IAAI,GAAGC,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAACZ,GAAG,EAAEA,GAAG;QAACa,KAAK,EAAE;MAAC,CAAC,CAAC;MACrD,IAAGJ,IAAI,EAAC;QACJ,OAAOA,IAAI;MACf;MACA,OAAO,KAAK;IAChB,CAAC,CAAC,OAAOK,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClB,OAAO,KAAK;IAChB;EACJ;AACJ,CAAC;AAAAG,OAAA,CAAApB,OAAA,GAAAC,QAAA","ignoreList":[]}},"mtime":1676101734781},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\middlewares\\\\auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  verifyEcommerce: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(404).send({\n        message: 'NO SE ENVIO EL TOKEN'\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"cliente\" || response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(403).send({\n          message: 'NO ESTA PERMITIDO VISITAR ESTA RUTA'\n        });\n      }\n    } else {\n      res.status(403).send({\n        message: 'EL TOKEN NO ES VALIDO'\n      });\n    }\n  },\n  verifyAdmin: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(404).send({\n        message: 'NO SE ENVIO EL TOKEN'\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(403).send({\n          message: 'NO ESTA PERMITIDO VISITAR ESTA RUTA'\n        });\n      }\n    } else {\n      res.status(403).send({\n        message: 'EL TOKEN NO ES VALIDO'\n      });\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdG9rZW4iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJ2ZXJpZnlFY29tbWVyY2UiLCJyZXEiLCJyZXMiLCJuZXh0IiwiaGVhZGVycyIsInRva2VuIiwic3RhdHVzIiwic2VuZCIsIm1lc3NhZ2UiLCJyZXNwb25zZSIsImRlY29kZSIsInJvbCIsInZlcmlmeUFkbWluIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcbWlkZGxld2FyZXNcXCIsInNvdXJjZXMiOlsiYXV0aC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdG9rZW4gZnJvbSAnLi4vc2VydmljZXMvdG9rZW4nXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICB2ZXJpZnlFY29tbWVyY2U6IGFzeW5jKHJlcSxyZXMsbmV4dCkgPT4ge1xyXG4gICAgICAgIGlmKCFyZXEuaGVhZGVycy50b2tlbil7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdOTyBTRSBFTlZJTyBFTCBUT0tFTidcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdG9rZW4uZGVjb2RlKHJlcS5oZWFkZXJzLnRva2VuKTtcclxuICAgICAgICBpZihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgIGlmKHJlc3BvbnNlLnJvbCA9PSBcImNsaWVudGVcIiB8fCByZXNwb25zZS5yb2wgPT0gXCJhZG1pblwiKXtcclxuICAgICAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMykuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ05PIEVTVEEgUEVSTUlUSURPIFZJU0lUQVIgRVNUQSBSVVRBJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDMpLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ0VMIFRPS0VOIE5PIEVTIFZBTElETydcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHZlcmlmeUFkbWluOiBhc3luYyhyZXEscmVzLG5leHQpID0+IHtcclxuICAgICAgICBpZighcmVxLmhlYWRlcnMudG9rZW4pe1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTk8gU0UgRU5WSU8gRUwgVE9LRU4nXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRva2VuLmRlY29kZShyZXEuaGVhZGVycy50b2tlbik7XHJcbiAgICAgICAgaWYocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICBpZihyZXNwb25zZS5yb2wgPT0gXCJhZG1pblwiKXtcclxuICAgICAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMykuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ05PIEVTVEEgUEVSTUlUSURPIFZJU0lUQVIgRVNUQSBSVVRBJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDMpLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ0VMIFRPS0VOIE5PIEVTIFZBTElETydcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxNQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBcUMsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFBQSxJQUFBRyxRQUFBLEdBRXRCO0VBQ1hDLGVBQWUsRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsRUFBQ0MsSUFBSSxLQUFLO0lBQ3BDLElBQUcsQ0FBQ0YsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssRUFBQztNQUNsQkgsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ047SUFDQSxNQUFNQyxRQUFRLEdBQUcsTUFBTUosY0FBSyxDQUFDSyxNQUFNLENBQUNULEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLENBQUM7SUFDdEQsSUFBR0ksUUFBUSxFQUFDO01BQ1IsSUFBR0EsUUFBUSxDQUFDRSxHQUFHLElBQUksU0FBUyxJQUFJRixRQUFRLENBQUNFLEdBQUcsSUFBSSxPQUFPLEVBQUM7UUFDcERSLElBQUksQ0FBQyxDQUFDO01BQ1YsQ0FBQyxNQUFJO1FBQ0RELEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7VUFDakJDLE9BQU8sRUFBRTtRQUNiLENBQUMsQ0FBQztNQUNOO0lBQ0osQ0FBQyxNQUFJO01BQ0ROLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztJQUNOO0VBQ0osQ0FBQztFQUNESSxXQUFXLEVBQUUsTUFBQUEsQ0FBTVgsR0FBRyxFQUFDQyxHQUFHLEVBQUNDLElBQUksS0FBSztJQUNoQyxJQUFHLENBQUNGLEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLEVBQUM7TUFDbEJILEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztJQUNOO0lBQ0EsTUFBTUMsUUFBUSxHQUFHLE1BQU1KLGNBQUssQ0FBQ0ssTUFBTSxDQUFDVCxHQUFHLENBQUNHLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDO0lBQ3RELElBQUdJLFFBQVEsRUFBQztNQUNSLElBQUdBLFFBQVEsQ0FBQ0UsR0FBRyxJQUFJLE9BQU8sRUFBQztRQUN2QlIsSUFBSSxDQUFDLENBQUM7TUFDVixDQUFDLE1BQUk7UUFDREQsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztVQUNqQkMsT0FBTyxFQUFFO1FBQ2IsQ0FBQyxDQUFDO01BQ047SUFDSixDQUFDLE1BQUk7TUFDRE4sR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ047RUFDSjtBQUNKLENBQUM7QUFBQUssT0FBQSxDQUFBZixPQUFBLEdBQUFDLFFBQUEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_token","_interopRequireDefault","require","obj","__esModule","default","_default","verifyEcommerce","req","res","next","headers","token","status","send","message","response","decode","rol","verifyAdmin","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\middlewares\\","sources":["auth.js"],"sourcesContent":["import token from '../services/token'\r\n\r\nexport default {\r\n    verifyEcommerce: async(req,res,next) => {\r\n        if(!req.headers.token){\r\n            res.status(404).send({\r\n                message: 'NO SE ENVIO EL TOKEN'\r\n            });\r\n        }\r\n        const response = await token.decode(req.headers.token);\r\n        if(response){\r\n            if(response.rol == \"cliente\" || response.rol == \"admin\"){\r\n                next();\r\n            }else{\r\n                res.status(403).send({\r\n                    message: 'NO ESTA PERMITIDO VISITAR ESTA RUTA'\r\n                });\r\n            }\r\n        }else{\r\n            res.status(403).send({\r\n                message: 'EL TOKEN NO ES VALIDO'\r\n            });\r\n        }\r\n    },\r\n    verifyAdmin: async(req,res,next) => {\r\n        if(!req.headers.token){\r\n            res.status(404).send({\r\n                message: 'NO SE ENVIO EL TOKEN'\r\n            });\r\n        }\r\n        const response = await token.decode(req.headers.token);\r\n        if(response){\r\n            if(response.rol == \"admin\"){\r\n                next();\r\n            }else{\r\n                res.status(403).send({\r\n                    message: 'NO ESTA PERMITIDO VISITAR ESTA RUTA'\r\n                });\r\n            }\r\n        }else{\r\n            res.status(403).send({\r\n                message: 'EL TOKEN NO ES VALIDO'\r\n            });\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAqC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAEtB;EACXC,eAAe,EAAE,MAAAA,CAAMC,GAAG,EAACC,GAAG,EAACC,IAAI,KAAK;IACpC,IAAG,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAC;MAClBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAGI,QAAQ,EAAC;MACR,IAAGA,QAAQ,CAACE,GAAG,IAAI,SAAS,IAAIF,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAC;QACpDR,IAAI,CAAC,CAAC;MACV,CAAC,MAAI;QACDD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,MAAI;MACDN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ,CAAC;EACDI,WAAW,EAAE,MAAAA,CAAMX,GAAG,EAACC,GAAG,EAACC,IAAI,KAAK;IAChC,IAAG,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAC;MAClBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAGI,QAAQ,EAAC;MACR,IAAGA,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAC;QACvBR,IAAI,CAAC,CAAC;MACV,CAAC,MAAI;QACDD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,MAAI;MACDN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ;AACJ,CAAC;AAAAK,OAAA,CAAAf,OAAA,GAAAC,QAAA","ignoreList":[]}},"mtime":1676102350909},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _Cupone = _interopRequireDefault(require(\"./Cupone\"));\nvar _Discount = _interopRequireDefault(require(\"./Discount\"));\nvar _Home = _interopRequireDefault(require(\"./Home\"));\nvar _Cart = _interopRequireDefault(require(\"./Cart\"));\nvar _AddressClient = _interopRequireDefault(require(\"./AddressClient\"));\nvar _Sale = _interopRequireDefault(require(\"./Sale\"));\nvar _Review = _interopRequireDefault(require(\"./Review\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.use('/users', _User.default);\nrouter.use('/categories', _Categorie.default);\nrouter.use('/products', _Product.default);\nrouter.use('/sliders', _Slider.default);\nrouter.use('/cupones', _Cupone.default);\nrouter.use('/discount', _Discount.default);\nrouter.use('/home', _Home.default);\nrouter.use('/cart', _Cart.default);\nrouter.use('/address_client', _AddressClient.default);\nrouter.use('/sale', _Sale.default);\nrouter.use('/review', _Review.default);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyIiwiX0NhdGVnb3JpZSIsIl9Qcm9kdWN0IiwiX1NsaWRlciIsIl9DdXBvbmUiLCJfRGlzY291bnQiLCJfSG9tZSIsIl9DYXJ0IiwiX0FkZHJlc3NDbGllbnQiLCJfU2FsZSIsIl9SZXZpZXciLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsInJvdXRlcngiLCJ1c2UiLCJVc2VyIiwiQ2F0ZWdvcmllIiwiUHJvZHVjdCIsIlNsaWRlciIsIkN1cG9uZSIsIkRpc2NvdW50IiwiSG9tZSIsIkNhcnQiLCJBZGRyZXNzQ2xpZW50IiwiU2FsZSIsIlJldmlldyIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxccm91dGVyXFwiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gJ2V4cHJlc3MtcHJvbWlzZS1yb3V0ZXInXHJcbmltcG9ydCBVc2VyIGZyb20gJy4vVXNlcidcclxuaW1wb3J0IENhdGVnb3JpZSBmcm9tICcuL0NhdGVnb3JpZSdcclxuaW1wb3J0IFByb2R1Y3QgZnJvbSAnLi9Qcm9kdWN0J1xyXG5pbXBvcnQgU2xpZGVyIGZyb20gJy4vU2xpZGVyJ1xyXG5pbXBvcnQgQ3Vwb25lIGZyb20gJy4vQ3Vwb25lJ1xyXG5pbXBvcnQgRGlzY291bnQgZnJvbSAnLi9EaXNjb3VudCdcclxuaW1wb3J0IEhvbWUgZnJvbSAnLi9Ib21lJ1xyXG5pbXBvcnQgQ2FydCBmcm9tICcuL0NhcnQnXHJcbmltcG9ydCBBZGRyZXNzQ2xpZW50IGZyb20gJy4vQWRkcmVzc0NsaWVudCdcclxuaW1wb3J0IFNhbGUgZnJvbSAnLi9TYWxlJ1xyXG5pbXBvcnQgUmV2aWV3IGZyb20gJy4vUmV2aWV3J1xyXG5cclxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xyXG5yb3V0ZXIudXNlKCcvdXNlcnMnLCBVc2VyKTtcclxucm91dGVyLnVzZSgnL2NhdGVnb3JpZXMnLCBDYXRlZ29yaWUpO1xyXG5yb3V0ZXIudXNlKCcvcHJvZHVjdHMnLCBQcm9kdWN0KTtcclxucm91dGVyLnVzZSgnL3NsaWRlcnMnLCBTbGlkZXIpO1xyXG5yb3V0ZXIudXNlKCcvY3Vwb25lcycsIEN1cG9uZSk7XHJcbnJvdXRlci51c2UoJy9kaXNjb3VudCcsIERpc2NvdW50KTtcclxucm91dGVyLnVzZSgnL2hvbWUnLCBIb21lKTtcclxucm91dGVyLnVzZSgnL2NhcnQnLCBDYXJ0KTtcclxucm91dGVyLnVzZSgnL2FkZHJlc3NfY2xpZW50JyxBZGRyZXNzQ2xpZW50KTtcclxucm91dGVyLnVzZSgnL3NhbGUnLFNhbGUpO1xyXG5yb3V0ZXIudXNlKCcvcmV2aWV3JyxSZXZpZXcpO1xyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsVUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsUUFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksT0FBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUssT0FBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU0sU0FBQSxHQUFBUCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU8sS0FBQSxHQUFBUixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVEsS0FBQSxHQUFBVCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVMsY0FBQSxHQUFBVixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVUsS0FBQSxHQUFBWCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVcsT0FBQSxHQUFBWixzQkFBQSxDQUFBQyxPQUFBO0FBQTZCLFNBQUFELHVCQUFBYSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRTdCLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFDeEJELE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLFFBQVEsRUFBRUMsYUFBSSxDQUFDO0FBQzFCSCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxhQUFhLEVBQUVFLGtCQUFTLENBQUM7QUFDcENKLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLFdBQVcsRUFBRUcsZ0JBQU8sQ0FBQztBQUNoQ0wsTUFBTSxDQUFDRSxHQUFHLENBQUMsVUFBVSxFQUFFSSxlQUFNLENBQUM7QUFDOUJOLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLFVBQVUsRUFBRUssZUFBTSxDQUFDO0FBQzlCUCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxXQUFXLEVBQUVNLGlCQUFRLENBQUM7QUFDakNSLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLE9BQU8sRUFBRU8sYUFBSSxDQUFDO0FBQ3pCVCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxPQUFPLEVBQUVRLGFBQUksQ0FBQztBQUN6QlYsTUFBTSxDQUFDRSxHQUFHLENBQUMsaUJBQWlCLEVBQUNTLHNCQUFhLENBQUM7QUFDM0NYLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLE9BQU8sRUFBQ1UsYUFBSSxDQUFDO0FBQ3hCWixNQUFNLENBQUNFLEdBQUcsQ0FBQyxTQUFTLEVBQUNXLGVBQU0sQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FDZGQsTUFBTTtBQUFBZSxPQUFBLENBQUFoQixPQUFBLEdBQUFlLFFBQUEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_User","_Categorie","_Product","_Slider","_Cupone","_Discount","_Home","_Cart","_AddressClient","_Sale","_Review","obj","__esModule","default","router","routerx","use","User","Categorie","Product","Slider","Cupone","Discount","Home","Cart","AddressClient","Sale","Review","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["index.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport User from './User'\r\nimport Categorie from './Categorie'\r\nimport Product from './Product'\r\nimport Slider from './Slider'\r\nimport Cupone from './Cupone'\r\nimport Discount from './Discount'\r\nimport Home from './Home'\r\nimport Cart from './Cart'\r\nimport AddressClient from './AddressClient'\r\nimport Sale from './Sale'\r\nimport Review from './Review'\r\n\r\nconst router = routerx();\r\nrouter.use('/users', User);\r\nrouter.use('/categories', Categorie);\r\nrouter.use('/products', Product);\r\nrouter.use('/sliders', Slider);\r\nrouter.use('/cupones', Cupone);\r\nrouter.use('/discount', Discount);\r\nrouter.use('/home', Home);\r\nrouter.use('/cart', Cart);\r\nrouter.use('/address_client',AddressClient);\r\nrouter.use('/sale',Sale);\r\nrouter.use('/review',Review);\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,UAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,QAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,OAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,SAAA,GAAAP,sBAAA,CAAAC,OAAA;AACA,IAAAO,KAAA,GAAAR,sBAAA,CAAAC,OAAA;AACA,IAAAQ,KAAA,GAAAT,sBAAA,CAAAC,OAAA;AACA,IAAAS,cAAA,GAAAV,sBAAA,CAAAC,OAAA;AACA,IAAAU,KAAA,GAAAX,sBAAA,CAAAC,OAAA;AACA,IAAAW,OAAA,GAAAZ,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAa,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE7B,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxBD,MAAM,CAACE,GAAG,CAAC,QAAQ,EAAEC,aAAI,CAAC;AAC1BH,MAAM,CAACE,GAAG,CAAC,aAAa,EAAEE,kBAAS,CAAC;AACpCJ,MAAM,CAACE,GAAG,CAAC,WAAW,EAAEG,gBAAO,CAAC;AAChCL,MAAM,CAACE,GAAG,CAAC,UAAU,EAAEI,eAAM,CAAC;AAC9BN,MAAM,CAACE,GAAG,CAAC,UAAU,EAAEK,eAAM,CAAC;AAC9BP,MAAM,CAACE,GAAG,CAAC,WAAW,EAAEM,iBAAQ,CAAC;AACjCR,MAAM,CAACE,GAAG,CAAC,OAAO,EAAEO,aAAI,CAAC;AACzBT,MAAM,CAACE,GAAG,CAAC,OAAO,EAAEQ,aAAI,CAAC;AACzBV,MAAM,CAACE,GAAG,CAAC,iBAAiB,EAACS,sBAAa,CAAC;AAC3CX,MAAM,CAACE,GAAG,CAAC,OAAO,EAACU,aAAI,CAAC;AACxBZ,MAAM,CAACE,GAAG,CAAC,SAAS,EAACW,eAAM,CAAC;AAAC,IAAAC,QAAA,GACdd,MAAM;AAAAe,OAAA,CAAAhB,OAAA,GAAAe,QAAA","ignoreList":[]}},"mtime":1680709936100},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _UserController = _interopRequireDefault(require(\"../controllers/UserController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", _UserController.default.register);\nrouter.put(\"/update\", _UserController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _UserController.default.list);\nrouter.post(\"/register_admin\", _auth.default.verifyAdmin, _UserController.default.register_admin);\nrouter.post(\"/login\", _UserController.default.login);\nrouter.post(\"/login_admin\", _UserController.default.login_admin);\nrouter.delete(\"/delete\", _UserController.default.remove);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyQ29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsInVzZXJjb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJsaXN0IiwicmVnaXN0ZXJfYWRtaW4iLCJsb2dpbiIsImxvZ2luX2FkbWluIiwiZGVsZXRlIiwicmVtb3ZlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tICdleHByZXNzLXByb21pc2Utcm91dGVyJ1xyXG5pbXBvcnQgdXNlcmNvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvVXNlckNvbnRyb2xsZXInXHJcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXHJcblxyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcbi8vIGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcnMvcmVnaXN0ZXJcclxuXHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsdXNlcmNvbnRyb2xsZXIucmVnaXN0ZXIpO1xyXG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLHVzZXJjb250cm9sbGVyLnVwZGF0ZSk7XHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4sdXNlcmNvbnRyb2xsZXIubGlzdCk7XHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyX2FkbWluXCIsYXV0aC52ZXJpZnlBZG1pbix1c2VyY29udHJvbGxlci5yZWdpc3Rlcl9hZG1pbik7XHJcbnJvdXRlci5wb3N0KFwiL2xvZ2luXCIsdXNlcmNvbnRyb2xsZXIubG9naW4pO1xyXG5yb3V0ZXIucG9zdChcIi9sb2dpbl9hZG1pblwiLHVzZXJjb250cm9sbGVyLmxvZ2luX2FkbWluKTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIix1c2VyY29udHJvbGxlci5yZW1vdmUpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLGVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFzQyxTQUFBRCx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUV0QyxNQUFNRyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBQ3hCOztBQUVBRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUNDLHVCQUFjLENBQUNDLFFBQVEsQ0FBQztBQUNoREosTUFBTSxDQUFDSyxHQUFHLENBQUMsU0FBUyxFQUFDRix1QkFBYyxDQUFDRyxNQUFNLENBQUM7QUFDM0NOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLE9BQU8sRUFBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUNOLHVCQUFjLENBQUNPLElBQUksQ0FBQztBQUN4RFYsTUFBTSxDQUFDRSxJQUFJLENBQUMsaUJBQWlCLEVBQUNNLGFBQUksQ0FBQ0MsV0FBVyxFQUFDTix1QkFBYyxDQUFDUSxjQUFjLENBQUM7QUFDN0VYLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFFBQVEsRUFBQ0MsdUJBQWMsQ0FBQ1MsS0FBSyxDQUFDO0FBQzFDWixNQUFNLENBQUNFLElBQUksQ0FBQyxjQUFjLEVBQUNDLHVCQUFjLENBQUNVLFdBQVcsQ0FBQztBQUN0RGIsTUFBTSxDQUFDYyxNQUFNLENBQUMsU0FBUyxFQUFDWCx1QkFBYyxDQUFDWSxNQUFNLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBRWhDaEIsTUFBTTtBQUFBaUIsT0FBQSxDQUFBbEIsT0FBQSxHQUFBaUIsUUFBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_UserController","_auth","obj","__esModule","default","router","routerx","post","usercontroller","register","put","update","get","auth","verifyAdmin","list","register_admin","login","login_admin","delete","remove","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["User.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport usercontroller from '../controllers/UserController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n// http://localhost:3000/api/users/register\r\n\r\nrouter.post(\"/register\",usercontroller.register);\r\nrouter.put(\"/update\",usercontroller.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,usercontroller.list);\r\nrouter.post(\"/register_admin\",auth.verifyAdmin,usercontroller.register_admin);\r\nrouter.post(\"/login\",usercontroller.login);\r\nrouter.post(\"/login_admin\",usercontroller.login_admin);\r\nrouter.delete(\"/delete\",usercontroller.remove);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,uBAAc,CAACC,QAAQ,CAAC;AAChDJ,MAAM,CAACK,GAAG,CAAC,SAAS,EAACF,uBAAc,CAACG,MAAM,CAAC;AAC3CN,MAAM,CAACO,GAAG,CAAC,OAAO,EAACC,aAAI,CAACC,WAAW,EAACN,uBAAc,CAACO,IAAI,CAAC;AACxDV,MAAM,CAACE,IAAI,CAAC,iBAAiB,EAACM,aAAI,CAACC,WAAW,EAACN,uBAAc,CAACQ,cAAc,CAAC;AAC7EX,MAAM,CAACE,IAAI,CAAC,QAAQ,EAACC,uBAAc,CAACS,KAAK,CAAC;AAC1CZ,MAAM,CAACE,IAAI,CAAC,cAAc,EAACC,uBAAc,CAACU,WAAW,CAAC;AACtDb,MAAM,CAACc,MAAM,CAAC,SAAS,EAACX,uBAAc,CAACY,MAAM,CAAC;AAAC,IAAAC,QAAA,GAEhChB,MAAM;AAAAiB,OAAA,CAAAlB,OAAA,GAAAiB,QAAA","ignoreList":[]}},"mtime":1676271632239},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// Importa el módulo 'bcryptjs' para encriptar contraseñas\n// Exporta un objeto con varios métodos para manejar las operaciones CRUD relacionadas con los usuarios\nvar _default = {\n  // Método para registrar un nuevo usuario\n  register: async (req, res) => {\n    try {\n      // Verifica si se proporcionó una contraseña en la solicitud\n      if (!req.body.password) {\n        return res.status(400).json({\n          message: \"Falta la contraseña en la solicitud.\"\n        });\n      }\n\n      // Encripta la contraseña del usuario\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n\n      // Crea un nuevo usuario con los datos del cuerpo de la solicitud\n      const user = await _models.default.User.create(req.body);\n\n      // Responde con el objeto del usuario creado\n      res.status(200).json(user);\n    } catch (error) {\n      let errorMessage = \"Ocurrió un problema al registrar el usuario.\";\n\n      // Agrega detalles del error basado en el tipo de error\n      if (error.name === 'ValidationError') {\n        errorMessage = \"Error de validación de datos. Por favor, verifique los datos enviados.\";\n      } else if (error.code === 11000) {\n        // Detección específica del error de duplicación de clave\n        if (error.keyPattern && error.keyPattern.email) {\n          errorMessage = \"El correo electrónico ya está registrado. Por favor, use un correo electrónico diferente.\";\n        } else {\n          errorMessage = \"Ya existe un registro con el mismo valor único. Por favor, use un valor diferente.\";\n        }\n      } else if (error.name === 'MongoNetworkError') {\n        errorMessage = \"Error de red al conectar con la base de datos. Por favor, intente nuevamente más tarde.\";\n      } else if (error.message.includes('ECONNREFUSED')) {\n        errorMessage = \"No se pudo conectar a la base de datos. Por favor, verifique que el servidor de base de datos esté en funcionamiento.\";\n      }\n      // Manejo de errores, responde con un mensaje de error específico\n      res.status(500).send({\n        message: errorMessage,\n        error: error.message // Incluye el mensaje de error para más detalles\n      });\n      console.log(error); // Imprime el error en la consola\n    }\n  },\n  // Método para registrar un nuevo administrador\n  register_admin: async (req, res) => {\n    try {\n      // Validación de entrada\n      const {\n        error\n      } = validateAdminData(req.body);\n      if (error) {\n        return res.status(400).send({\n          message: error.details[0].message\n        });\n      }\n\n      // Verifica si el usuario ya existe por su correo electrónico\n      const userV = await _models.default.User.findOne({\n        email: req.body.email\n      });\n      if (userV) {\n        return res.status(400).send({\n          message: \"El correo electrónico ya está en uso.\"\n        });\n      }\n\n      // Establece el rol del usuario como \"admin\" y encripta la contraseña\n      req.body.rol = \"admin\";\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n\n      // Crea un nuevo usuario administrador\n      let user = await _models.default.User.create(req.body);\n\n      // Responde con el objeto del usuario creado\n      res.status(200).json({\n        user: _resources.default.User.user_list(user)\n      });\n    } catch (error) {\n      switch (error.code) {\n        case 11000:\n          res.status(400).send({\n            message: \"El correo electrónico ya está en uso.\"\n          });\n          break;\n        case \"ValidationError\":\n          res.status(400).send({\n            message: error.errors.map(err => err.message).join(\", \")\n          });\n          break;\n        default:\n          const errorId = uuid.v4();\n          logger.error(errorId, error);\n          res.status(500).send({\n            message: \"Ocurrió un problema inesperado.\",\n            errorId\n          });\n      }\n    }\n  },\n  // Método para iniciar sesión\n  login: async (req, res) => {\n    try {\n      // Busca al usuario por su correo electrónico y estado activo\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1\n      });\n      if (user) {\n        // Verifica si la contraseña es correcta\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          // Genera un token para el usuario\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n\n          // Prepara la respuesta con el token y los datos del usuario\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar\n            }\n          };\n\n          // Responde con los datos del usuario y el token\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          // Responde con un mensaje de error si la contraseña es incorrecta\n          res.status(500).send({\n            message: \"LA CONTRASEÑA ES INCORRECTA\"\n          });\n        }\n      } else {\n        // Responde con un mensaje de error si el usuario no existe\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      // Manejo de errores, responde con un mensaje de error\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error); // Imprime el error en la consola\n    }\n  },\n  // Método para iniciar sesión como administrador\n  login_admin: async (req, res) => {\n    try {\n      // Busca al usuario por su correo electrónico, estado activo y rol de administrador\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1,\n        rol: \"admin\"\n      });\n      if (user) {\n        // Verifica si la contraseña es correcta\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          // Genera un token para el administrador\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n\n          // Prepara la respuesta con el token y los datos del administrador\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar,\n              rol: user.rol\n            }\n          };\n\n          // Responde con los datos del administrador y el token\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          // Responde con un mensaje de error si la contraseña es incorrecta\n          res.status(500).send({\n            message: \"LA CONTRASEÑA ES INCORRECTA\"\n          });\n        }\n      } else {\n        // Responde con un mensaje de error si el administrador no existe\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      // Manejo de errores, responde con un mensaje de error\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error); // Imprime el error en la consola\n    }\n  },\n  update: async (req, res) => {\n    try {\n      // Validación de entrada\n      const {\n        error\n      } = validateUserData(req.body);\n      if (error) {\n        return res.status(400).send({\n          message: error.details[0].message\n        });\n      }\n\n      // Si hay archivos en la solicitud, procesa la imagen de avatar\n      if (req.files) {\n        const avatar = await processAvatar(req.files.avatar);\n        if (!avatar) {\n          throw new UploadAvatarError();\n        }\n        req.body.avatar = avatar;\n      }\n\n      // Si hay una contraseña en el cuerpo de la solicitud, encripta la nueva contraseña\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n\n      // Actualiza el usuario con el ID especificado en el cuerpo de la solicitud\n      await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n\n      // Obtiene el usuario actualizado\n      const UserT = await _models.default.User.findOne({\n        _id: req.body._id\n      });\n\n      // Responde con un mensaje y el usuario actualizado\n      res.status(200).json({\n        message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n        user: _resources.default.User.user_list(UserT)\n      });\n    } catch (error) {\n      switch (error.constructor) {\n        case UsuarioNoEncontrado:\n          res.status(404).send({\n            message: \"El usuario no existe.\"\n          });\n          break;\n        case UploadAvatarError:\n          res.status(500).send({\n            message: \"Ocurrió un error al cargar el avatar.\"\n          });\n          break;\n        default:\n          res.status(500).send({\n            message: \"Ocurrió un problema inesperado.\"\n          });\n          console.log(error);\n      }\n    }\n  },\n  // Método para listar los usuarios\n  list: async (req, res) => {\n    try {\n      var search = req.query.search; // Obtiene el término de búsqueda de la consulta\n      // Busca usuarios que coincidan con el término de búsqueda en nombre, apellido o correo electrónico\n      let Users = await _models.default.User.find({\n        $or: [{\n          \"name\": new RegExp(search, \"i\")\n        }, {\n          \"surname\": new RegExp(search, \"i\")\n        }, {\n          \"email\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      }); // Ordena los resultados por fecha de creación en orden descendente\n\n      // Mapea los usuarios encontrados a una forma más presentable\n      Users = Users.map(user => {\n        return _resources.default.User.user_list(user);\n      });\n\n      // Responde con la lista de usuarios encontrados\n      res.status(200).json({\n        users: Users\n      });\n    } catch (error) {\n      // Manejo de errores, responde con un mensaje de error\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error); // Imprime el error en la consola\n    }\n  },\n  // Método para eliminar un usuario\n  remove: async (req, res) => {\n    try {\n      // Elimina el usuario con el ID especificado en la consulta\n      await _models.default.User.findByIdAndDelete({\n        _id: req.query._id\n      });\n      // Responde con un mensaje confirmando la eliminación\n      res.status(200).json({\n        message: \"EL USUARIO SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      // Manejo de errores, responde con un mensaje de error\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error); // Imprime el error en la consola\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYmNyeXB0anMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9tb2RlbHMiLCJfdG9rZW4iLCJfcmVzb3VyY2VzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiYm9keSIsInBhc3N3b3JkIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJiY3J5cHQiLCJoYXNoIiwidXNlciIsIm1vZGVscyIsIlVzZXIiLCJjcmVhdGUiLCJlcnJvciIsImVycm9yTWVzc2FnZSIsIm5hbWUiLCJjb2RlIiwia2V5UGF0dGVybiIsImVtYWlsIiwiaW5jbHVkZXMiLCJzZW5kIiwiY29uc29sZSIsImxvZyIsInJlZ2lzdGVyX2FkbWluIiwidmFsaWRhdGVBZG1pbkRhdGEiLCJkZXRhaWxzIiwidXNlclYiLCJmaW5kT25lIiwicm9sIiwicmVzb3VyY2UiLCJ1c2VyX2xpc3QiLCJlcnJvcnMiLCJtYXAiLCJlcnIiLCJqb2luIiwiZXJyb3JJZCIsInV1aWQiLCJ2NCIsImxvZ2dlciIsImxvZ2luIiwic3RhdGUiLCJjb21wYXJlIiwidG9rZW5UIiwidG9rZW4iLCJlbmNvZGUiLCJfaWQiLCJVU0VSX0ZST05URUQiLCJzdXJuYW1lIiwiYXZhdGFyIiwibG9naW5fYWRtaW4iLCJ1cGRhdGUiLCJ2YWxpZGF0ZVVzZXJEYXRhIiwiZmlsZXMiLCJwcm9jZXNzQXZhdGFyIiwiVXBsb2FkQXZhdGFyRXJyb3IiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIlVzZXJUIiwiY29uc3RydWN0b3IiLCJVc3VhcmlvTm9FbmNvbnRyYWRvIiwibGlzdCIsInNlYXJjaCIsInF1ZXJ5IiwiVXNlcnMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwic29ydCIsInVzZXJzIiwicmVtb3ZlIiwiZmluZEJ5SWRBbmREZWxldGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJVc2VyQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRhIGVsIG3Ds2R1bG8gJ2JjcnlwdGpzJyBwYXJhIGVuY3JpcHRhciBjb250cmFzZcOxYXNcclxuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcydcclxuaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnXHJcbmltcG9ydCB0b2tlbiBmcm9tICcuLi9zZXJ2aWNlcy90b2tlbidcclxuaW1wb3J0IHJlc291cmNlIGZyb20gJy4uL3Jlc291cmNlcydcclxuXHJcbi8vIEV4cG9ydGEgdW4gb2JqZXRvIGNvbiB2YXJpb3MgbcOpdG9kb3MgcGFyYSBtYW5lamFyIGxhcyBvcGVyYWNpb25lcyBDUlVEIHJlbGFjaW9uYWRhcyBjb24gbG9zIHVzdWFyaW9zXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIC8vIE3DqXRvZG8gcGFyYSByZWdpc3RyYXIgdW4gbnVldm8gdXN1YXJpb1xyXG5yZWdpc3RlcjogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIC8vIFZlcmlmaWNhIHNpIHNlIHByb3BvcmNpb27DsyB1bmEgY29udHJhc2XDsWEgZW4gbGEgc29saWNpdHVkXHJcbiAgICAgICAgaWYgKCFyZXEuYm9keS5wYXNzd29yZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJGYWx0YSBsYSBjb250cmFzZcOxYSBlbiBsYSBzb2xpY2l0dWQuXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBFbmNyaXB0YSBsYSBjb250cmFzZcOxYSBkZWwgdXN1YXJpb1xyXG4gICAgICAgIHJlcS5ib2R5LnBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocmVxLmJvZHkucGFzc3dvcmQsIDEwKTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYSB1biBudWV2byB1c3VhcmlvIGNvbiBsb3MgZGF0b3MgZGVsIGN1ZXJwbyBkZSBsYSBzb2xpY2l0dWRcclxuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuY3JlYXRlKHJlcS5ib2R5KTtcclxuXHJcbiAgICAgICAgLy8gUmVzcG9uZGUgY29uIGVsIG9iamV0byBkZWwgdXN1YXJpbyBjcmVhZG9cclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih1c2VyKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgbGV0IGVycm9yTWVzc2FnZSA9IFwiT2N1cnJpw7MgdW4gcHJvYmxlbWEgYWwgcmVnaXN0cmFyIGVsIHVzdWFyaW8uXCI7XHJcblxyXG4gICAgICAgIC8vIEFncmVnYSBkZXRhbGxlcyBkZWwgZXJyb3IgYmFzYWRvIGVuIGVsIHRpcG8gZGUgZXJyb3JcclxuICAgICAgICBpZiAoZXJyb3IubmFtZSA9PT0gJ1ZhbGlkYXRpb25FcnJvcicpIHtcclxuICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gXCJFcnJvciBkZSB2YWxpZGFjacOzbiBkZSBkYXRvcy4gUG9yIGZhdm9yLCB2ZXJpZmlxdWUgbG9zIGRhdG9zIGVudmlhZG9zLlwiO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZXJyb3IuY29kZSA9PT0gMTEwMDApIHtcclxuICAgICAgICAgICAgLy8gRGV0ZWNjacOzbiBlc3BlY8OtZmljYSBkZWwgZXJyb3IgZGUgZHVwbGljYWNpw7NuIGRlIGNsYXZlXHJcbiAgICAgICAgICAgIGlmIChlcnJvci5rZXlQYXR0ZXJuICYmIGVycm9yLmtleVBhdHRlcm4uZW1haWwpIHtcclxuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IFwiRWwgY29ycmVvIGVsZWN0csOzbmljbyB5YSBlc3TDoSByZWdpc3RyYWRvLiBQb3IgZmF2b3IsIHVzZSB1biBjb3JyZW8gZWxlY3Ryw7NuaWNvIGRpZmVyZW50ZS5cIjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IFwiWWEgZXhpc3RlIHVuIHJlZ2lzdHJvIGNvbiBlbCBtaXNtbyB2YWxvciDDum5pY28uIFBvciBmYXZvciwgdXNlIHVuIHZhbG9yIGRpZmVyZW50ZS5cIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubmFtZSA9PT0gJ01vbmdvTmV0d29ya0Vycm9yJykge1xyXG4gICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBcIkVycm9yIGRlIHJlZCBhbCBjb25lY3RhciBjb24gbGEgYmFzZSBkZSBkYXRvcy4gUG9yIGZhdm9yLCBpbnRlbnRlIG51ZXZhbWVudGUgbcOhcyB0YXJkZS5cIjtcclxuICAgICAgICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ0VDT05OUkVGVVNFRCcpKSB7XHJcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IFwiTm8gc2UgcHVkbyBjb25lY3RhciBhIGxhIGJhc2UgZGUgZGF0b3MuIFBvciBmYXZvciwgdmVyaWZpcXVlIHF1ZSBlbCBzZXJ2aWRvciBkZSBiYXNlIGRlIGRhdG9zIGVzdMOpIGVuIGZ1bmNpb25hbWllbnRvLlwiO1xyXG4gICAgICAgIH1cclxuICAgIC8vIE1hbmVqbyBkZSBlcnJvcmVzLCByZXNwb25kZSBjb24gdW4gbWVuc2FqZSBkZSBlcnJvciBlc3BlY8OtZmljb1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JNZXNzYWdlLFxyXG4gICAgICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSAvLyBJbmNsdXllIGVsIG1lbnNhamUgZGUgZXJyb3IgcGFyYSBtw6FzIGRldGFsbGVzXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOyAvLyBJbXByaW1lIGVsIGVycm9yIGVuIGxhIGNvbnNvbGFcclxuICAgIH1cclxufSxcclxuLy8gTcOpdG9kbyBwYXJhIHJlZ2lzdHJhciB1biBudWV2byBhZG1pbmlzdHJhZG9yXHJcbnJlZ2lzdGVyX2FkbWluOiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgLy8gVmFsaWRhY2nDs24gZGUgZW50cmFkYVxyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gdmFsaWRhdGVBZG1pbkRhdGEocmVxLmJvZHkpO1xyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCh7IG1lc3NhZ2U6IGVycm9yLmRldGFpbHNbMF0ubWVzc2FnZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBWZXJpZmljYSBzaSBlbCB1c3VhcmlvIHlhIGV4aXN0ZSBwb3Igc3UgY29ycmVvIGVsZWN0csOzbmljb1xyXG4gICAgY29uc3QgdXNlclYgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kT25lKHsgZW1haWw6IHJlcS5ib2R5LmVtYWlsIH0pO1xyXG4gICAgaWYgKHVzZXJWKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCh7IG1lc3NhZ2U6IFwiRWwgY29ycmVvIGVsZWN0csOzbmljbyB5YSBlc3TDoSBlbiB1c28uXCIgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRXN0YWJsZWNlIGVsIHJvbCBkZWwgdXN1YXJpbyBjb21vIFwiYWRtaW5cIiB5IGVuY3JpcHRhIGxhIGNvbnRyYXNlw7FhXHJcbiAgICByZXEuYm9keS5yb2wgPSBcImFkbWluXCI7XHJcbiAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLCAxMCk7XHJcblxyXG4gICAgLy8gQ3JlYSB1biBudWV2byB1c3VhcmlvIGFkbWluaXN0cmFkb3JcclxuICAgIGxldCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuY3JlYXRlKHJlcS5ib2R5KTtcclxuXHJcbiAgICAvLyBSZXNwb25kZSBjb24gZWwgb2JqZXRvIGRlbCB1c3VhcmlvIGNyZWFkb1xyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyB1c2VyOiByZXNvdXJjZS5Vc2VyLnVzZXJfbGlzdCh1c2VyKSB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgc3dpdGNoIChlcnJvci5jb2RlKSB7XHJcbiAgICAgIGNhc2UgMTEwMDA6XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoeyBtZXNzYWdlOiBcIkVsIGNvcnJlbyBlbGVjdHLDs25pY28geWEgZXN0w6EgZW4gdXNvLlwiIH0pO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiVmFsaWRhdGlvbkVycm9yXCI6XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoeyBtZXNzYWdlOiBlcnJvci5lcnJvcnMubWFwKGVyciA9PiBlcnIubWVzc2FnZSkuam9pbihcIiwgXCIpIH0pO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIGNvbnN0IGVycm9ySWQgPSB1dWlkLnY0KCk7XHJcbiAgICAgICAgbG9nZ2VyLmVycm9yKGVycm9ySWQsIGVycm9yKTtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6IFwiT2N1cnJpw7MgdW4gcHJvYmxlbWEgaW5lc3BlcmFkby5cIiwgZXJyb3JJZCB9KTtcclxuICAgIH1cclxuICB9XHJcbn0sXHJcbiAgICAvLyBNw6l0b2RvIHBhcmEgaW5pY2lhciBzZXNpw7NuXHJcbiAgICBsb2dpbjogYXN5bmMocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBCdXNjYSBhbCB1c3VhcmlvIHBvciBzdSBjb3JyZW8gZWxlY3Ryw7NuaWNvIHkgZXN0YWRvIGFjdGl2b1xyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsLCBzdGF0ZTogMX0pO1xyXG4gICAgICAgICAgICBpZih1c2VyKXtcclxuICAgICAgICAgICAgICAgIC8vIFZlcmlmaWNhIHNpIGxhIGNvbnRyYXNlw7FhIGVzIGNvcnJlY3RhXHJcbiAgICAgICAgICAgICAgICBsZXQgY29tcGFyZSA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHJlcS5ib2R5LnBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTtcclxuICAgICAgICAgICAgICAgIGlmKGNvbXBhcmUpe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEdlbmVyYSB1biB0b2tlbiBwYXJhIGVsIHVzdWFyaW9cclxuICAgICAgICAgICAgICAgICAgICBsZXQgdG9rZW5UID0gYXdhaXQgdG9rZW4uZW5jb2RlKHVzZXIuX2lkLCB1c2VyLnJvbCwgdXNlci5lbWFpbCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFByZXBhcmEgbGEgcmVzcHVlc3RhIGNvbiBlbCB0b2tlbiB5IGxvcyBkYXRvcyBkZWwgdXN1YXJpb1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFVTRVJfRlJPTlRFRCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IHRva2VuVCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdXJuYW1lOiB1c2VyLnN1cm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmF0YXI6IHVzZXIuYXZhdGFyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVzcG9uZGUgY29uIGxvcyBkYXRvcyBkZWwgdXN1YXJpbyB5IGVsIHRva2VuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBVU0VSX0ZST05URUQ6IFVTRVJfRlJPTlRFRCxcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBSZXNwb25kZSBjb24gdW4gbWVuc2FqZSBkZSBlcnJvciBzaSBsYSBjb250cmFzZcOxYSBlcyBpbmNvcnJlY3RhXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkxBIENPTlRSQVNFw5FBIEVTIElOQ09SUkVDVEFcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gUmVzcG9uZGUgY29uIHVuIG1lbnNhamUgZGUgZXJyb3Igc2kgZWwgdXN1YXJpbyBubyBleGlzdGVcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVhJU1RFXCJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgLy8gTWFuZWpvIGRlIGVycm9yZXMsIHJlc3BvbmRlIGNvbiB1biBtZW5zYWplIGRlIGVycm9yXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7IC8vIEltcHJpbWUgZWwgZXJyb3IgZW4gbGEgY29uc29sYVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICAvLyBNw6l0b2RvIHBhcmEgaW5pY2lhciBzZXNpw7NuIGNvbW8gYWRtaW5pc3RyYWRvclxyXG4gICAgbG9naW5fYWRtaW46IGFzeW5jKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gQnVzY2EgYWwgdXN1YXJpbyBwb3Igc3UgY29ycmVvIGVsZWN0csOzbmljbywgZXN0YWRvIGFjdGl2byB5IHJvbCBkZSBhZG1pbmlzdHJhZG9yXHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kT25lKHtlbWFpbDogcmVxLmJvZHkuZW1haWwsIHN0YXRlOiAxLCByb2w6IFwiYWRtaW5cIn0pO1xyXG4gICAgICAgICAgICBpZih1c2VyKXtcclxuICAgICAgICAgICAgICAgIC8vIFZlcmlmaWNhIHNpIGxhIGNvbnRyYXNlw7FhIGVzIGNvcnJlY3RhXHJcbiAgICAgICAgICAgICAgICBsZXQgY29tcGFyZSA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHJlcS5ib2R5LnBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTtcclxuICAgICAgICAgICAgICAgIGlmKGNvbXBhcmUpe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEdlbmVyYSB1biB0b2tlbiBwYXJhIGVsIGFkbWluaXN0cmFkb3JcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdG9rZW5UID0gYXdhaXQgdG9rZW4uZW5jb2RlKHVzZXIuX2lkLCB1c2VyLnJvbCwgdXNlci5lbWFpbCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFByZXBhcmEgbGEgcmVzcHVlc3RhIGNvbiBlbCB0b2tlbiB5IGxvcyBkYXRvcyBkZWwgYWRtaW5pc3RyYWRvclxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFVTRVJfRlJPTlRFRCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IHRva2VuVCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdXJuYW1lOiB1c2VyLnN1cm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmF0YXI6IHVzZXIuYXZhdGFyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sOiB1c2VyLnJvbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlc3BvbmRlIGNvbiBsb3MgZGF0b3MgZGVsIGFkbWluaXN0cmFkb3IgeSBlbCB0b2tlblxyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVVNFUl9GUk9OVEVEOiBVU0VSX0ZST05URUQsXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVzcG9uZGUgY29uIHVuIG1lbnNhamUgZGUgZXJyb3Igc2kgbGEgY29udHJhc2XDsWEgZXMgaW5jb3JyZWN0YVxyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJMQSBDT05UUkFTRcORQSBFUyBJTkNPUlJFQ1RBXCJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIFJlc3BvbmRlIGNvbiB1biBtZW5zYWplIGRlIGVycm9yIHNpIGVsIGFkbWluaXN0cmFkb3Igbm8gZXhpc3RlXHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIC8vIE1hbmVqbyBkZSBlcnJvcmVzLCByZXNwb25kZSBjb24gdW4gbWVuc2FqZSBkZSBlcnJvclxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOyAvLyBJbXByaW1lIGVsIGVycm9yIGVuIGxhIGNvbnNvbGFcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICB1cGRhdGU6IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBWYWxpZGFjacOzbiBkZSBlbnRyYWRhXHJcbiAgICBjb25zdCB7IGVycm9yIH0gPSB2YWxpZGF0ZVVzZXJEYXRhKHJlcS5ib2R5KTtcclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoeyBtZXNzYWdlOiBlcnJvci5kZXRhaWxzWzBdLm1lc3NhZ2UgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2kgaGF5IGFyY2hpdm9zIGVuIGxhIHNvbGljaXR1ZCwgcHJvY2VzYSBsYSBpbWFnZW4gZGUgYXZhdGFyXHJcbiAgICBpZiAocmVxLmZpbGVzKSB7XHJcbiAgICAgIGNvbnN0IGF2YXRhciA9IGF3YWl0IHByb2Nlc3NBdmF0YXIocmVxLmZpbGVzLmF2YXRhcik7XHJcbiAgICAgIGlmICghYXZhdGFyKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFVwbG9hZEF2YXRhckVycm9yKCk7XHJcbiAgICAgIH1cclxuICAgICAgcmVxLmJvZHkuYXZhdGFyID0gYXZhdGFyO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNpIGhheSB1bmEgY29udHJhc2XDsWEgZW4gZWwgY3VlcnBvIGRlIGxhIHNvbGljaXR1ZCwgZW5jcmlwdGEgbGEgbnVldmEgY29udHJhc2XDsWFcclxuICAgIGlmIChyZXEuYm9keS5wYXNzd29yZCkge1xyXG4gICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLCAxMCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWN0dWFsaXphIGVsIHVzdWFyaW8gY29uIGVsIElEIGVzcGVjaWZpY2FkbyBlbiBlbCBjdWVycG8gZGUgbGEgc29saWNpdHVkXHJcbiAgICBhd2FpdCBtb2RlbHMuVXNlci5maW5kQnlJZEFuZFVwZGF0ZSh7IF9pZDogcmVxLmJvZHkuX2lkIH0sIHJlcS5ib2R5KTtcclxuXHJcbiAgICAvLyBPYnRpZW5lIGVsIHVzdWFyaW8gYWN0dWFsaXphZG9cclxuICAgIGNvbnN0IFVzZXJUID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7IF9pZDogcmVxLmJvZHkuX2lkIH0pO1xyXG5cclxuICAgIC8vIFJlc3BvbmRlIGNvbiB1biBtZW5zYWplIHkgZWwgdXN1YXJpbyBhY3R1YWxpemFkb1xyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gU0UgSEEgTU9ESUZJQ0FETyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgIHVzZXI6IHJlc291cmNlLlVzZXIudXNlcl9saXN0KFVzZXJUKSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBzd2l0Y2ggKGVycm9yLmNvbnN0cnVjdG9yKSB7XHJcbiAgICAgIGNhc2UgVXN1YXJpb05vRW5jb250cmFkbzpcclxuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6IFwiRWwgdXN1YXJpbyBubyBleGlzdGUuXCIgfSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgVXBsb2FkQXZhdGFyRXJyb3I6XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiBcIk9jdXJyacOzIHVuIGVycm9yIGFsIGNhcmdhciBlbCBhdmF0YXIuXCIgfSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiBcIk9jdXJyacOzIHVuIHByb2JsZW1hIGluZXNwZXJhZG8uXCIgfSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxufSxcclxuICAgIC8vIE3DqXRvZG8gcGFyYSBsaXN0YXIgbG9zIHVzdWFyaW9zXHJcbiAgICBsaXN0OiBhc3luYyhyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBzZWFyY2ggPSByZXEucXVlcnkuc2VhcmNoOyAvLyBPYnRpZW5lIGVsIHTDqXJtaW5vIGRlIGLDunNxdWVkYSBkZSBsYSBjb25zdWx0YVxyXG4gICAgICAgICAgICAvLyBCdXNjYSB1c3VhcmlvcyBxdWUgY29pbmNpZGFuIGNvbiBlbCB0w6lybWlubyBkZSBiw7pzcXVlZGEgZW4gbm9tYnJlLCBhcGVsbGlkbyBvIGNvcnJlbyBlbGVjdHLDs25pY29cclxuICAgICAgICAgICAgbGV0IFVzZXJzID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZCh7XHJcbiAgICAgICAgICAgICAgICAkb3I6W1xyXG4gICAgICAgICAgICAgICAgICAgIHtcIm5hbWVcIjogbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXHJcbiAgICAgICAgICAgICAgICAgICAge1wic3VybmFtZVwiOiBuZXcgUmVnRXhwKHNlYXJjaCwgXCJpXCIpfSxcclxuICAgICAgICAgICAgICAgICAgICB7XCJlbWFpbFwiOiBuZXcgUmVnRXhwKHNlYXJjaCwgXCJpXCIpfSxcclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSkuc29ydCh7J2NyZWF0ZWRBdCc6IC0xfSk7IC8vIE9yZGVuYSBsb3MgcmVzdWx0YWRvcyBwb3IgZmVjaGEgZGUgY3JlYWNpw7NuIGVuIG9yZGVuIGRlc2NlbmRlbnRlXHJcblxyXG4gICAgICAgICAgICAvLyBNYXBlYSBsb3MgdXN1YXJpb3MgZW5jb250cmFkb3MgYSB1bmEgZm9ybWEgbcOhcyBwcmVzZW50YWJsZVxyXG4gICAgICAgICAgICBVc2VycyA9IFVzZXJzLm1hcCgodXNlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlLlVzZXIudXNlcl9saXN0KHVzZXIpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIFJlc3BvbmRlIGNvbiBsYSBsaXN0YSBkZSB1c3VhcmlvcyBlbmNvbnRyYWRvc1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICB1c2VyczogVXNlcnNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgLy8gTWFuZWpvIGRlIGVycm9yZXMsIHJlc3BvbmRlIGNvbiB1biBtZW5zYWplIGRlIGVycm9yXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7IC8vIEltcHJpbWUgZWwgZXJyb3IgZW4gbGEgY29uc29sYVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICAvLyBNw6l0b2RvIHBhcmEgZWxpbWluYXIgdW4gdXN1YXJpb1xyXG4gICAgcmVtb3ZlOiBhc3luYyhyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIEVsaW1pbmEgZWwgdXN1YXJpbyBjb24gZWwgSUQgZXNwZWNpZmljYWRvIGVuIGxhIGNvbnN1bHRhXHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IHJlcS5xdWVyeS5faWR9KTtcclxuICAgICAgICAgICAgLy8gUmVzcG9uZGUgY29uIHVuIG1lbnNhamUgY29uZmlybWFuZG8gbGEgZWxpbWluYWNpw7NuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBTRSBFTElNSU5PIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgLy8gTWFuZWpvIGRlIGVycm9yZXMsIHJlc3BvbmRlIGNvbiB1biBtZW5zYWplIGRlIGVycm9yXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7IC8vIEltcHJpbWUgZWwgZXJyb3IgZW4gbGEgY29uc29sYVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUNBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLE9BQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLE1BQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFVBQUEsR0FBQUosc0JB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R0FBRztRQUFDLENBQUMsRUFDcEM7VUFBQyxPQUFPLEVBQUUsSUFBSUssTUFBTSxDQUFDTCxNQUFNLEVBQUUsR0FBRztRQUFDLENBQUM7TUFFMUMsQ0FBQyxDQUFDLENBQUNNLElBQUksQ0FBQztRQUFDLFdBQVcsRUFBRSxDQUFDO01BQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzs7TUFFNUI7TUFDQUosS0FBSyxHQUFHQSxLQUFLLENBQUM5QixHQUFHLENBQUV2QixJQUFJLElBQUs7UUFDeEIsT0FBT29CLGtCQUFRLENBQUNsQixJQUFJLENBQUNtQixTQUFTLENBQUNyQixJQUFJLENBQUM7TUFDeEMsQ0FBQyxDQUFDOztNQUVGO01BQ0FSLEdBQUcsQ0FBQ0csTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakI4RCxLQUFLLEVBQUVMO01BQ1gsQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDLE9BQU9qRCxLQUFLLEVBQUU7TUFDWjtNQUNBWixHQUFHLENBQUNHLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ2dCLElBQUksQ0FBQztRQUNqQmQsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO01BQ0ZlLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDVCxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQ3hCO0VBQ0osQ0FBQztFQUNEO0VBQ0F1RCxNQUFNLEVBQUUsTUFBQUEsQ0FBTXBFLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0lBQ3ZCLElBQUk7TUFDQTtNQUNBLE1BQU1TLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDMEQsaUJBQWlCLENBQUM7UUFBQ3hCLEdBQUcsRUFBRTdDLEdBQUcsQ0FBQzZELEtBQUssQ0FBQ2hCO01BQUcsQ0FBQyxDQUFDO01BQ3pEO01BQ0E1QyxHQUFHLENBQUNHLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTixDQUFDLENBQUMsT0FBT08sS0FBSyxFQUFFO01BQ1o7TUFDQVosR0FBRyxDQUFDRyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNnQixJQUFJLENBQUM7UUFDakJkLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztNQUNGZSxPQUFPLENBQUNDLEdBQUcsQ0FBQ1QsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUN4QjtFQUNKO0FBQ0osQ0FBQztBQUFBeUQsT0FBQSxDQUFBekUsT0FBQSxHQUFBQyxRQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_bcryptjs","_interopRequireDefault","require","_models","_token","_resources","obj","__esModule","default","_default","register","req","res","body","password","status","json","message","bcrypt","hash","user","models","User","create","error","errorMessage","name","code","keyPattern","email","includes","send","console","log","register_admin","validateAdminData","details","userV","findOne","rol","resource","user_list","errors","map","err","join","errorId","uuid","v4","logger","login","state","compare","tokenT","token","encode","_id","USER_FRONTED","surname","avatar","login_admin","update","validateUserData","files","processAvatar","UploadAvatarError","findByIdAndUpdate","UserT","constructor","UsuarioNoEncontrado","list","search","query","Users","find","$or","RegExp","sort","users","remove","findByIdAndDelete","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["UserController.js"],"sourcesContent":["// Importa el módulo 'bcryptjs' para encriptar contraseñas\r\nimport bcrypt from 'bcryptjs'\r\nimport models from '../models'\r\nimport token from '../services/token'\r\nimport resource from '../resources'\r\n\r\n// Exporta un objeto con varios métodos para manejar las operaciones CRUD relacionadas con los usuarios\r\nexport default {\r\n    // Método para registrar un nuevo usuario\r\nregister: async (req, res) => {\r\n    try {\r\n        // Verifica si se proporcionó una contraseña en la solicitud\r\n        if (!req.body.password) {\r\n            return res.status(400).json({\r\n                message: \"Falta la contraseña en la solicitud.\"\r\n            });\r\n        }\r\n\r\n        // Encripta la contraseña del usuario\r\n        req.body.password = await bcrypt.hash(req.body.password, 10);\r\n\r\n        // Crea un nuevo usuario con los datos del cuerpo de la solicitud\r\n        const user = await models.User.create(req.body);\r\n\r\n        // Responde con el objeto del usuario creado\r\n        res.status(200).json(user);\r\n    } catch (error) {\r\n        let errorMessage = \"Ocurrió un problema al registrar el usuario.\";\r\n\r\n        // Agrega detalles del error basado en el tipo de error\r\n        if (error.name === 'ValidationError') {\r\n            errorMessage = \"Error de validación de datos. Por favor, verifique los datos enviados.\";\r\n        } else if (error.code === 11000) {\r\n            // Detección específica del error de duplicación de clave\r\n            if (error.keyPattern && error.keyPattern.email) {\r\n                errorMessage = \"El correo electrónico ya está registrado. Por favor, use un correo electrónico diferente.\";\r\n            } else {\r\n                errorMessage = \"Ya existe un registro con el mismo valor único. Por favor, use un valor diferente.\";\r\n            }\r\n        } else if (error.name === 'MongoNetworkError') {\r\n            errorMessage = \"Error de red al conectar con la base de datos. Por favor, intente nuevamente más tarde.\";\r\n        } else if (error.message.includes('ECONNREFUSED')) {\r\n            errorMessage = \"No se pudo conectar a la base de datos. Por favor, verifique que el servidor de base de datos esté en funcionamiento.\";\r\n        }\r\n    // Manejo de errores, responde con un mensaje de error específico\r\n        res.status(500).send({\r\n            message: errorMessage,\r\n            error: error.message // Incluye el mensaje de error para más detalles\r\n        });\r\n        console.log(error); // Imprime el error en la consola\r\n    }\r\n},\r\n// Método para registrar un nuevo administrador\r\nregister_admin: async (req, res) => {\r\n  try {\r\n    // Validación de entrada\r\n    const { error } = validateAdminData(req.body);\r\n    if (error) {\r\n      return res.status(400).send({ message: error.details[0].message });\r\n    }\r\n\r\n    // Verifica si el usuario ya existe por su correo electrónico\r\n    const userV = await models.User.findOne({ email: req.body.email });\r\n    if (userV) {\r\n      return res.status(400).send({ message: \"El correo electrónico ya está en uso.\" });\r\n    }\r\n\r\n    // Establece el rol del usuario como \"admin\" y encripta la contraseña\r\n    req.body.rol = \"admin\";\r\n    req.body.password = await bcrypt.hash(req.body.password, 10);\r\n\r\n    // Crea un nuevo usuario administrador\r\n    let user = await models.User.create(req.body);\r\n\r\n    // Responde con el objeto del usuario creado\r\n    res.status(200).json({ user: resource.User.user_list(user) });\r\n  } catch (error) {\r\n    switch (error.code) {\r\n      case 11000:\r\n        res.status(400).send({ message: \"El correo electrónico ya está en uso.\" });\r\n        break;\r\n      case \"ValidationError\":\r\n        res.status(400).send({ message: error.errors.map(err => err.message).join(\", \") });\r\n        break;\r\n      default:\r\n        const errorId = uuid.v4();\r\n        logger.error(errorId, error);\r\n        res.status(500).send({ message: \"Ocurrió un problema inesperado.\", errorId });\r\n    }\r\n  }\r\n},\r\n    // Método para iniciar sesión\r\n    login: async(req, res) => {\r\n        try {\r\n            // Busca al usuario por su correo electrónico y estado activo\r\n            const user = await models.User.findOne({email: req.body.email, state: 1});\r\n            if(user){\r\n                // Verifica si la contraseña es correcta\r\n                let compare = await bcrypt.compare(req.body.password, user.password);\r\n                if(compare){\r\n                    // Genera un token para el usuario\r\n                    let tokenT = await token.encode(user._id, user.rol, user.email);\r\n\r\n                    // Prepara la respuesta con el token y los datos del usuario\r\n                    const USER_FRONTED = {\r\n                        token: tokenT,\r\n                        user: {\r\n                            name: user.name,\r\n                            email: user.email,\r\n                            surname: user.surname,\r\n                            avatar: user.avatar,\r\n                        },\r\n                    }\r\n\r\n                    // Responde con los datos del usuario y el token\r\n                    res.status(200).json({\r\n                        USER_FRONTED: USER_FRONTED,\r\n                    })\r\n                } else {\r\n                    // Responde con un mensaje de error si la contraseña es incorrecta\r\n                    res.status(500).send({\r\n                        message: \"LA CONTRASEÑA ES INCORRECTA\"\r\n                    });\r\n                }\r\n            } else {\r\n                // Responde con un mensaje de error si el usuario no existe\r\n                res.status(500).send({\r\n                    message: \"EL USUARIO NO EXISTE\"\r\n                });\r\n            }\r\n        } catch (error) {\r\n            // Manejo de errores, responde con un mensaje de error\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error); // Imprime el error en la consola\r\n        }\r\n    },\r\n    // Método para iniciar sesión como administrador\r\n    login_admin: async(req, res) => {\r\n        try {\r\n            // Busca al usuario por su correo electrónico, estado activo y rol de administrador\r\n            const user = await models.User.findOne({email: req.body.email, state: 1, rol: \"admin\"});\r\n            if(user){\r\n                // Verifica si la contraseña es correcta\r\n                let compare = await bcrypt.compare(req.body.password, user.password);\r\n                if(compare){\r\n                    // Genera un token para el administrador\r\n                    let tokenT = await token.encode(user._id, user.rol, user.email);\r\n\r\n                    // Prepara la respuesta con el token y los datos del administrador\r\n                    const USER_FRONTED = {\r\n                        token: tokenT,\r\n                        user: {\r\n                            name: user.name,\r\n                            email: user.email,\r\n                            surname: user.surname,\r\n                            avatar: user.avatar,\r\n                            rol: user.rol,\r\n                        },\r\n                    }\r\n\r\n                    // Responde con los datos del administrador y el token\r\n                    res.status(200).json({\r\n                        USER_FRONTED: USER_FRONTED,\r\n                    })\r\n                } else {\r\n                    // Responde con un mensaje de error si la contraseña es incorrecta\r\n                    res.status(500).send({\r\n                        message: \"LA CONTRASEÑA ES INCORRECTA\"\r\n                    });\r\n                }\r\n            } else {\r\n                // Responde con un mensaje de error si el administrador no existe\r\n                res.status(500).send({\r\n                    message: \"EL USUARIO NO EXISTE\"\r\n                });\r\n            }\r\n        } catch (error) {\r\n            // Manejo de errores, responde con un mensaje de error\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error); // Imprime el error en la consola\r\n        }\r\n    },\r\n   update: async (req, res) => {\r\n  try {\r\n    // Validación de entrada\r\n    const { error } = validateUserData(req.body);\r\n    if (error) {\r\n      return res.status(400).send({ message: error.details[0].message });\r\n    }\r\n\r\n    // Si hay archivos en la solicitud, procesa la imagen de avatar\r\n    if (req.files) {\r\n      const avatar = await processAvatar(req.files.avatar);\r\n      if (!avatar) {\r\n        throw new UploadAvatarError();\r\n      }\r\n      req.body.avatar = avatar;\r\n    }\r\n\r\n    // Si hay una contraseña en el cuerpo de la solicitud, encripta la nueva contraseña\r\n    if (req.body.password) {\r\n      req.body.password = await bcrypt.hash(req.body.password, 10);\r\n    }\r\n\r\n    // Actualiza el usuario con el ID especificado en el cuerpo de la solicitud\r\n    await models.User.findByIdAndUpdate({ _id: req.body._id }, req.body);\r\n\r\n    // Obtiene el usuario actualizado\r\n    const UserT = await models.User.findOne({ _id: req.body._id });\r\n\r\n    // Responde con un mensaje y el usuario actualizado\r\n    res.status(200).json({\r\n      message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\r\n      user: resource.User.user_list(UserT),\r\n    });\r\n  } catch (error) {\r\n    switch (error.constructor) {\r\n      case UsuarioNoEncontrado:\r\n        res.status(404).send({ message: \"El usuario no existe.\" });\r\n        break;\r\n      case UploadAvatarError:\r\n        res.status(500).send({ message: \"Ocurrió un error al cargar el avatar.\" });\r\n        break;\r\n      default:\r\n        res.status(500).send({ message: \"Ocurrió un problema inesperado.\" });\r\n        console.log(error);\r\n    }\r\n  }\r\n},\r\n    // Método para listar los usuarios\r\n    list: async(req, res) => {\r\n        try {\r\n            var search = req.query.search; // Obtiene el término de búsqueda de la consulta\r\n            // Busca usuarios que coincidan con el término de búsqueda en nombre, apellido o correo electrónico\r\n            let Users = await models.User.find({\r\n                $or:[\r\n                    {\"name\": new RegExp(search, \"i\")},\r\n                    {\"surname\": new RegExp(search, \"i\")},\r\n                    {\"email\": new RegExp(search, \"i\")},\r\n                ]\r\n            }).sort({'createdAt': -1}); // Ordena los resultados por fecha de creación en orden descendente\r\n\r\n            // Mapea los usuarios encontrados a una forma más presentable\r\n            Users = Users.map((user) => {\r\n                return resource.User.user_list(user);\r\n            });\r\n\r\n            // Responde con la lista de usuarios encontrados\r\n            res.status(200).json({\r\n                users: Users\r\n            });\r\n        } catch (error) {\r\n            // Manejo de errores, responde con un mensaje de error\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error); // Imprime el error en la consola\r\n        }\r\n    },\r\n    // Método para eliminar un usuario\r\n    remove: async(req, res) => {\r\n        try {\r\n            // Elimina el usuario con el ID especificado en la consulta\r\n            await models.User.findByIdAndDelete({_id: req.query._id});\r\n            // Responde con un mensaje confirmando la eliminación\r\n            res.status(200).json({\r\n                message: \"EL USUARIO SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n        } catch (error) {\r\n            // Manejo de errores, responde con un mensaje de error\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error); // Imprime el error en la consola\r\n        }\r\n    }\r\n}\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1718403844137},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  User: _User.default,\n  Categorie: _Categorie.default\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0NhdGVnb3JpZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJVc2VyIiwiQ2F0ZWdvcmllIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVc2VyIGZyb20gJy4vVXNlcidcclxuaW1wb3J0IENhdGVnb3JpZSBmcm9tICcuL0NhdGVnb3JpZSdcclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgVXNlcixcclxuICAgIENhdGVnb3JpZSxcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsS0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsVUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQW1DLFNBQUFELHVCQUFBRyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUNwQjtFQUNYQyxJQUFJLEVBQUpBLGFBQUk7RUFDSkMsU0FBUyxFQUFUQTtBQUNKLENBQUM7QUFBQUMsT0FBQSxDQUFBSixPQUFBLEdBQUFDLFFBQUEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_User","_interopRequireDefault","require","_Categorie","obj","__esModule","default","_default","User","Categorie","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["index.js"],"sourcesContent":["import User from './User'\r\nimport Categorie from './Categorie'\r\nexport default {\r\n    User,\r\n    Categorie,\r\n}"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAmC,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GACpB;EACXC,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA;AACJ,CAAC;AAAAC,OAAA,CAAAJ,OAAA,GAAAC,QAAA","ignoreList":[]}},"mtime":1676360167160},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst UserSchema = new _mongoose.Schema({\n  rol: {\n    type: String,\n    maxlength: 30,\n    required: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    required: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  avatar: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  state: {\n    type: Number,\n    default: 1\n  },\n  //1 es activo y 2 es des activo\n  phone: {\n    type: String,\n    maxlength: 20,\n    required: false\n  },\n  birthday: {\n    type: String,\n    maxlength: 20,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst User = _mongoose.default.model(\"user\", UserSchema);\nvar _default = User;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiVXNlclNjaGVtYSIsIlNjaGVtYSIsInJvbCIsInR5cGUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJyZXF1aXJlZCIsIm5hbWUiLCJzdXJuYW1lIiwiZW1haWwiLCJ1bmlxdWUiLCJwYXNzd29yZCIsImF2YXRhciIsInN0YXRlIiwiTnVtYmVyIiwicGhvbmUiLCJiaXJ0aGRheSIsInRpbWVzdGFtcHMiLCJVc2VyIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIlVzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3QgVXNlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgcm9sOnt0eXBlOiBTdHJpbmcsbWF4bGVuZ3RoOjMwLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgbmFtZTp7dHlwZTogU3RyaW5nLG1heGxlbmd0aDoyNTAscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBzdXJuYW1lOnt0eXBlOiBTdHJpbmcsbWF4bGVuZ3RoOjI1MCxyZXF1aXJlZDpmYWxzZX0sXHJcbiAgICBlbWFpbDp7dHlwZTogU3RyaW5nLG1heGxlbmd0aDoyNTAscmVxdWlyZWQ6dHJ1ZSx1bmlxdWU6dHJ1ZX0sXHJcbiAgICBwYXNzd29yZDp7dHlwZTogU3RyaW5nLG1heGxlbmd0aDoyNTAscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBhdmF0YXI6e3R5cGU6IFN0cmluZyxtYXhsZW5ndGg6MjUwLHJlcXVpcmVkOmZhbHNlfSxcclxuICAgIHN0YXRlOnt0eXBlOiBOdW1iZXIsZGVmYXVsdDoxfSwvLzEgZXMgYWN0aXZvIHkgMiBlcyBkZXMgYWN0aXZvXHJcbiAgICBwaG9uZTp7dHlwZTogU3RyaW5nLG1heGxlbmd0aDoyMCxyZXF1aXJlZDpmYWxzZX0sXHJcbiAgICBiaXJ0aGRheTp7dHlwZTogU3RyaW5nLG1heGxlbmd0aDoyMCxyZXF1aXJlZDpmYWxzZX0sXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczogdHJ1ZVxyXG59KTtcclxuXHJcbmNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbChcInVzZXJcIixVc2VyU2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgVXNlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBQyx5QkFBQUMsV0FBQSxlQUFBQyxPQUFBLGtDQUFBQyxpQkFBQSxPQUFBRCxPQUFBLFFBQUFFLGdCQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsV0FBQSxXQUFBQSxXQUFBLEdBQUFHLGdCQUFBLEdBQUFELGlCQUFBLEtBQUFGLFdBQUE7QUFBQSxTQUFBSCx3QkFBQU8sR0FBQSxFQUFBSixXQUFBLFNBQUFBLFdBQUEsSUFBQUksR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsV0FBQUQsR0FBQSxRQUFBQSxHQUFBLG9CQUFBQSxHQUFBLHdCQUFBQSxHQUFBLDRCQUFBRSxPQUFBLEVBQUFGLEdBQUEsVUFBQUcsS0FBQSxHQUFBUix3QkFBQSxDQUFBQyxXQUFBLE9BQUFPLEtBQUEsSUFBQUEsS0FBQSxDQUFBQyxHQUFBLENBQUFKLEdBQUEsWUFBQUcsS0FBQSxDQUFBRSxHQUFBLENBQUFMLEdBQUEsU0FBQU0sTUFBQSxXQUFBQyxxQkFBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxHQUFBLElBQUFYLEdBQUEsUUFBQVcsR0FBQSxrQkFBQUgsTUFBQSxDQUFBSSxTQUFBLENBQUFDLGNBQUEsQ0FBQUMsSUFBQSxDQUFBZCxHQUFBLEVBQUFXLEdBQUEsU0FBQUksSUFBQSxHQUFBUixxQkFBQSxHQUFBQyxNQUFBLENBQUFFLHdCQUFBLENBQUFWLEdBQUEsRUFBQVcsR0FBQSxjQUFBSSxJQUFBLEtBQUFBLElBQUEsQ0FBQVYsR0FBQSxJQUFBVSxJQUFBLENBQUFDLEdBQUEsS0FBQVIsTUFBQSxDQUFBQyxjQUFBLENBQUFILE1BQUEsRUFBQUssR0FBQSxFQUFBSSxJQUFBLFlBQUFULE1BQUEsQ0FBQUssR0FBQSxJQUFBWCxHQUFBLENBQUFXLEdBQUEsU0FBQUwsTUFBQSxDQUFBSixPQUFBLEdBQUFGLEdBQUEsTUFBQUcsS0FBQSxJQUFBQSxLQUFBLENBQUFhLEdBQUEsQ0FBQWhCLEdBQUEsRUFBQU0sTUFBQSxZQUFBQSxNQUFBO0FBRXpDLE1BQU1XLFVBQVUsR0FBRyxJQUFJQyxnQkFBTSxDQUFDO0VBQzFCQyxHQUFHLEVBQUM7SUFBQ0MsSUFBSSxFQUFFQyxNQUFNO0lBQUNDLFNBQVMsRUFBQyxFQUFFO0lBQUNDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDN0NDLElBQUksRUFBQztJQUFDSixJQUFJLEVBQUVDLE1BQU07SUFBQ0MsU0FBUyxFQUFDLEdBQUc7SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUMvQ0UsT0FBTyxFQUFDO0lBQUNMLElBQUksRUFBRUMsTUFBTTtJQUFDQyxTQUFTLEVBQUMsR0FBRztJQUFDQyxRQUFRLEVBQUM7RUFBSyxDQUFDO0VBQ25ERyxLQUFLLEVBQUM7SUFBQ04sSUFBSSxFQUFFQyxNQUFNO0lBQUNDLFNBQVMsRUFBQyxHQUFHO0lBQUNDLFFBQVEsRUFBQyxJQUFJO0lBQUNJLE1BQU0sRUFBQztFQUFJLENBQUM7RUFDNURDLFFBQVEsRUFBQztJQUFDUixJQUFJLEVBQUVDLE1BQU07SUFBQ0MsU0FBUyxFQUFDLEdBQUc7SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNuRE0sTUFBTSxFQUFDO0lBQUNULElBQUksRUFBRUMsTUFBTTtJQUFDQyxTQUFTLEVBQUMsR0FBRztJQUFDQyxRQUFRLEVBQUM7RUFBSyxDQUFDO0VBQ2xETyxLQUFLLEVBQUM7SUFBQ1YsSUFBSSxFQUFFVyxNQUFNO0lBQUM3QixPQUFPLEVBQUM7RUFBQyxDQUFDO0VBQUM7RUFDL0I4QixLQUFLLEVBQUM7SUFBQ1osSUFBSSxFQUFFQyxNQUFNO0lBQUNDLFNBQVMsRUFBQyxFQUFFO0lBQUNDLFFBQVEsRUFBQztFQUFLLENBQUM7RUFDaERVLFFBQVEsRUFBQztJQUFDYixJQUFJLEVBQUVDLE1BQU07SUFBQ0MsU0FBUyxFQUFDLEVBQUU7SUFBQ0MsUUFBUSxFQUFDO0VBQUs7QUFDdEQsQ0FBQyxFQUFDO0VBQ0VXLFVBQVUsRUFBRTtBQUNoQixDQUFDLENBQUM7QUFFRixNQUFNQyxJQUFJLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxNQUFNLEVBQUNwQixVQUFVLENBQUM7QUFBQyxJQUFBcUIsUUFBQSxHQUNoQ0gsSUFBSTtBQUFBSSxPQUFBLENBQUFyQyxPQUFBLEdBQUFvQyxRQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","UserSchema","Schema","rol","type","String","maxlength","required","name","surname","email","unique","password","avatar","state","Number","phone","birthday","timestamps","User","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["User.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst UserSchema = new Schema({\r\n    rol:{type: String,maxlength:30,required:true},\r\n    name:{type: String,maxlength:250,required:true},\r\n    surname:{type: String,maxlength:250,required:false},\r\n    email:{type: String,maxlength:250,required:true,unique:true},\r\n    password:{type: String,maxlength:250,required:true},\r\n    avatar:{type: String,maxlength:250,required:false},\r\n    state:{type: Number,default:1},//1 es activo y 2 es des activo\r\n    phone:{type: String,maxlength:20,required:false},\r\n    birthday:{type: String,maxlength:20,required:false},\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst User = mongoose.model(\"user\",UserSchema);\r\nexport default User;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAH,wBAAAO,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,CAAAJ,OAAA,GAAAF,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAEzC,MAAMW,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC1BC,GAAG,EAAC;IAACC,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC7CC,IAAI,EAAC;IAACJ,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC/CE,OAAO,EAAC;IAACL,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAK,CAAC;EACnDG,KAAK,EAAC;IAACN,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC,IAAI;IAACI,MAAM,EAAC;EAAI,CAAC;EAC5DC,QAAQ,EAAC;IAACR,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EACnDM,MAAM,EAAC;IAACT,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAK,CAAC;EAClDO,KAAK,EAAC;IAACV,IAAI,EAAEW,MAAM;IAAC7B,OAAO,EAAC;EAAC,CAAC;EAAC;EAC/B8B,KAAK,EAAC;IAACZ,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAK,CAAC;EAChDU,QAAQ,EAAC;IAACb,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAK;AACtD,CAAC,EAAC;EACEW,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAACpB,UAAU,CAAC;AAAC,IAAAqB,QAAA,GAChCH,IAAI;AAAAI,OAAA,CAAArC,OAAA,GAAAoC,QAAA","ignoreList":[]}},"mtime":1676098831866},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\services\\\\token.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  encode: async (_id, rol, email) => {\n    const token = _jsonwebtoken.default.sign({\n      _id: _id,\n      rol: rol,\n      email: email\n    }, 'ecommerce_udemy', {\n      expiresIn: '1d'\n    });\n    return token;\n  },\n  decode: async token => {\n    try {\n      const {\n        _id\n      } = await _jsonwebtoken.default.verify(token, 'ecommerce_udemy');\n      const user = _models.default.User.findOne({\n        _id: _id,\n        state: 1\n      });\n      if (user) {\n        return user;\n      }\n      return false;\n    } catch (error) {\n      console.log(error);\n      return false;\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfbW9kZWxzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImVuY29kZSIsIl9pZCIsInJvbCIsImVtYWlsIiwidG9rZW4iLCJqd3QiLCJzaWduIiwiZXhwaXJlc0luIiwiZGVjb2RlIiwidmVyaWZ5IiwidXNlciIsIm1vZGVscyIsIlVzZXIiLCJmaW5kT25lIiwic3RhdGUiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxzZXJ2aWNlc1xcIiwic291cmNlcyI6WyJ0b2tlbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbidcclxuaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICBlbmNvZGU6IGFzeW5jKF9pZCxyb2wsZW1haWwpID0+e1xyXG4gICAgICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oe19pZDogX2lkLHJvbDogcm9sLGVtYWlsOiBlbWFpbH0sJ2Vjb21tZXJjZV91ZGVteScse2V4cGlyZXNJbjogJzFkJ30pO1xyXG4gICAgICAgIHJldHVybiB0b2tlbjtcclxuICAgIH0sXHJcbiAgICBkZWNvZGU6IGFzeW5jKHRva2VuKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3Qge19pZH0gPSBhd2FpdCBqd3QudmVyaWZ5KHRva2VuLCdlY29tbWVyY2VfdWRlbXknKTtcclxuICAgICAgICAgICAgY29uc3QgdXNlciA9IG1vZGVscy5Vc2VyLmZpbmRPbmUoe19pZDogX2lkLHN0YXRlOiAxfSk7XHJcbiAgICAgICAgICAgIGlmKHVzZXIpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsYUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQThCLFNBQUFELHVCQUFBRyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUVmO0VBQ1hDLE1BQU0sRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsRUFBQ0MsS0FBSyxLQUFJO0lBQzNCLE1BQU1DLEtBQUssR0FBR0MscUJBQUcsQ0FBQ0MsSUFBSSxDQUFDO01BQUNMLEdBQUcsRUFBRUEsR0FBRztNQUFDQyxHQUFHLEVBQUVBLEdBQUc7TUFBQ0MsS0FBSyxFQUFFQTtJQUFLLENBQUMsRUFBQyxpQkFBaUIsRUFBQztNQUFDSSxTQUFTLEVBQUU7SUFBSSxDQUFDLENBQUM7SUFDNUYsT0FBT0gsS0FBSztFQUNoQixDQUFDO0VBQ0RJLE1BQU0sRUFBRSxNQUFNSixLQUFLLElBQUs7SUFDcEIsSUFBSTtNQUNBLE1BQU07UUFBQ0g7TUFBRyxDQUFDLEdBQUcsTUFBTUkscUJBQUcsQ0FBQ0ksTUFBTSxDQUFDTCxLQUFLLEVBQUMsaUJBQWlCLENBQUM7TUFDdkQsTUFBTU0sSUFBSSxHQUFHQyxlQUFNLENBQUNDLElBQUksQ0FBQ0MsT0FBTyxDQUFDO1FBQUNaLEdBQUcsRUFBRUEsR0FBRztRQUFDYSxLQUFLLEVBQUU7TUFBQyxDQUFDLENBQUM7TUFDckQsSUFBR0osSUFBSSxFQUFDO1FBQ0osT0FBT0EsSUFBSTtNQUNmO01BQ0EsT0FBTyxLQUFLO0lBQ2hCLENBQUMsQ0FBQyxPQUFPSyxLQUFLLEVBQUU7TUFDWkMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEtBQUssQ0FBQztNQUNsQixPQUFPLEtBQUs7SUFDaEI7RUFDSjtBQUNKLENBQUM7QUFBQUcsT0FBQSxDQUFBcEIsT0FBQSxHQUFBQyxRQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_models","obj","__esModule","default","_default","encode","_id","rol","email","token","jwt","sign","expiresIn","decode","verify","user","models","User","findOne","state","error","console","log","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\services\\","sources":["token.js"],"sourcesContent":["import jwt from 'jsonwebtoken'\r\nimport models from '../models'\r\n\r\nexport default {\r\n    encode: async(_id,rol,email) =>{\r\n        const token = jwt.sign({_id: _id,rol: rol,email: email},'ecommerce_udemy',{expiresIn: '1d'});\r\n        return token;\r\n    },\r\n    decode: async(token) => {\r\n        try {\r\n            const {_id} = await jwt.verify(token,'ecommerce_udemy');\r\n            const user = models.User.findOne({_id: _id,state: 1});\r\n            if(user){\r\n                return user;\r\n            }\r\n            return false;\r\n        } catch (error) {\r\n            console.log(error);\r\n            return false;\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA8B,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAEf;EACXC,MAAM,EAAE,MAAAA,CAAMC,GAAG,EAACC,GAAG,EAACC,KAAK,KAAI;IAC3B,MAAMC,KAAK,GAAGC,qBAAG,CAACC,IAAI,CAAC;MAACL,GAAG,EAAEA,GAAG;MAACC,GAAG,EAAEA,GAAG;MAACC,KAAK,EAAEA;IAAK,CAAC,EAAC,iBAAiB,EAAC;MAACI,SAAS,EAAE;IAAI,CAAC,CAAC;IAC5F,OAAOH,KAAK;EAChB,CAAC;EACDI,MAAM,EAAE,MAAMJ,KAAK,IAAK;IACpB,IAAI;MACA,MAAM;QAACH;MAAG,CAAC,GAAG,MAAMI,qBAAG,CAACI,MAAM,CAACL,KAAK,EAAC,iBAAiB,CAAC;MACvD,MAAMM,IAAI,GAAGC,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAACZ,GAAG,EAAEA,GAAG;QAACa,KAAK,EAAE;MAAC,CAAC,CAAC;MACrD,IAAGJ,IAAI,EAAC;QACJ,OAAOA,IAAI;MACf;MACA,OAAO,KAAK;IAChB,CAAC,CAAC,OAAOK,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClB,OAAO,KAAK;IAChB;EACJ;AACJ,CAAC;AAAAG,OAAA,CAAApB,OAAA,GAAAC,QAAA","ignoreList":[]}},"mtime":1676101734781},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\middlewares\\\\auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  verifyEcommerce: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(404).send({\n        message: 'NO SE ENVIO EL TOKEN'\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"cliente\" || response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(403).send({\n          message: 'NO ESTA PERMITIDO VISITAR ESTA RUTA'\n        });\n      }\n    } else {\n      res.status(403).send({\n        message: 'EL TOKEN NO ES VALIDO'\n      });\n    }\n  },\n  verifyAdmin: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(404).send({\n        message: 'NO SE ENVIO EL TOKEN'\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(403).send({\n          message: 'NO ESTA PERMITIDO VISITAR ESTA RUTA'\n        });\n      }\n    } else {\n      res.status(403).send({\n        message: 'EL TOKEN NO ES VALIDO'\n      });\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdG9rZW4iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJ2ZXJpZnlFY29tbWVyY2UiLCJyZXEiLCJyZXMiLCJuZXh0IiwiaGVhZGVycyIsInRva2VuIiwic3RhdHVzIiwic2VuZCIsIm1lc3NhZ2UiLCJyZXNwb25zZSIsImRlY29kZSIsInJvbCIsInZlcmlmeUFkbWluIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcbWlkZGxld2FyZXNcXCIsInNvdXJjZXMiOlsiYXV0aC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdG9rZW4gZnJvbSAnLi4vc2VydmljZXMvdG9rZW4nO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgdmVyaWZ5RWNvbW1lcmNlOiBhc3luYyhyZXEscmVzLG5leHQpID0+IHtcclxuICAgICAgICBpZighcmVxLmhlYWRlcnMudG9rZW4pe1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTk8gU0UgRU5WSU8gRUwgVE9LRU4nXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRva2VuLmRlY29kZShyZXEuaGVhZGVycy50b2tlbik7XHJcbiAgICAgICAgaWYocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICBpZihyZXNwb25zZS5yb2wgPT0gXCJjbGllbnRlXCIgfHwgcmVzcG9uc2Uucm9sID09IFwiYWRtaW5cIil7XHJcbiAgICAgICAgICAgICAgICBuZXh0KCk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDMpLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdOTyBFU1RBIFBFUk1JVElETyBWSVNJVEFSIEVTVEEgUlVUQSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdFTCBUT0tFTiBOTyBFUyBWQUxJRE8nXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB2ZXJpZnlBZG1pbjogYXN5bmMocmVxLHJlcyxuZXh0KSA9PiB7XHJcbiAgICAgICAgaWYoIXJlcS5oZWFkZXJzLnRva2VuKXtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ05PIFNFIEVOVklPIEVMIFRPS0VOJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0b2tlbi5kZWNvZGUocmVxLmhlYWRlcnMudG9rZW4pO1xyXG4gICAgICAgIGlmKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgaWYocmVzcG9uc2Uucm9sID09IFwiYWRtaW5cIil7XHJcbiAgICAgICAgICAgICAgICBuZXh0KCk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDMpLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdOTyBFU1RBIFBFUk1JVElETyBWSVNJVEFSIEVTVEEgUlVUQSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdFTCBUT0tFTiBOTyBFUyBWQUxJRE8nXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUV2QjtFQUNYQyxlQUFlLEVBQUUsTUFBQUEsQ0FBTUMsR0FBRyxFQUFDQyxHQUFHLEVBQUNDLElBQUksS0FBSztJQUNwQyxJQUFHLENBQUNGLEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLEVBQUM7TUFDbEJILEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztJQUNOO0lBQ0EsTUFBTUMsUUFBUSxHQUFHLE1BQU1KLGNBQUssQ0FBQ0ssTUFBTSxDQUFDVCxHQUFHLENBQUNHLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDO0lBQ3RELElBQUdJLFFBQVEsRUFBQztNQUNSLElBQUdBLFFBQVEsQ0FBQ0UsR0FBRyxJQUFJLFNBQVMsSUFBSUYsUUFBUSxDQUFDRSxHQUFHLElBQUksT0FBTyxFQUFDO1FBQ3BEUixJQUFJLENBQUMsQ0FBQztNQUNWLENBQUMsTUFBSTtRQUNERCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQ2pCQyxPQUFPLEVBQUU7UUFDYixDQUFDLENBQUM7TUFDTjtJQUNKLENBQUMsTUFBSTtNQUNETixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtFQUNKLENBQUM7RUFDREksV0FBVyxFQUFFLE1BQUFBLENBQU1YLEdBQUcsRUFBQ0MsR0FBRyxFQUFDQyxJQUFJLEtBQUs7SUFDaEMsSUFBRyxDQUFDRixHQUFHLENBQUNHLE9BQU8sQ0FBQ0MsS0FBSyxFQUFDO01BQ2xCSCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtJQUNBLE1BQU1DLFFBQVEsR0FBRyxNQUFNSixjQUFLLENBQUNLLE1BQU0sQ0FBQ1QsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssQ0FBQztJQUN0RCxJQUFHSSxRQUFRLEVBQUM7TUFDUixJQUFHQSxRQUFRLENBQUNFLEdBQUcsSUFBSSxPQUFPLEVBQUM7UUFDdkJSLElBQUksQ0FBQyxDQUFDO01BQ1YsQ0FBQyxNQUFJO1FBQ0RELEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7VUFDakJDLE9BQU8sRUFBRTtRQUNiLENBQUMsQ0FBQztNQUNOO0lBQ0osQ0FBQyxNQUFJO01BQ0ROLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztJQUNOO0VBQ0o7QUFDSixDQUFDO0FBQUFLLE9BQUEsQ0FBQWYsT0FBQSxHQUFBQyxRQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_token","_interopRequireDefault","require","obj","__esModule","default","_default","verifyEcommerce","req","res","next","headers","token","status","send","message","response","decode","rol","verifyAdmin","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\middlewares\\","sources":["auth.js"],"sourcesContent":["import token from '../services/token';\r\n\r\nexport default {\r\n    verifyEcommerce: async(req,res,next) => {\r\n        if(!req.headers.token){\r\n            res.status(404).send({\r\n                message: 'NO SE ENVIO EL TOKEN'\r\n            });\r\n        }\r\n        const response = await token.decode(req.headers.token);\r\n        if(response){\r\n            if(response.rol == \"cliente\" || response.rol == \"admin\"){\r\n                next();\r\n            }else{\r\n                res.status(403).send({\r\n                    message: 'NO ESTA PERMITIDO VISITAR ESTA RUTA'\r\n                });\r\n            }\r\n        }else{\r\n            res.status(403).send({\r\n                message: 'EL TOKEN NO ES VALIDO'\r\n            });\r\n        }\r\n    },\r\n    verifyAdmin: async(req,res,next) => {\r\n        if(!req.headers.token){\r\n            res.status(404).send({\r\n                message: 'NO SE ENVIO EL TOKEN'\r\n            });\r\n        }\r\n        const response = await token.decode(req.headers.token);\r\n        if(response){\r\n            if(response.rol == \"admin\"){\r\n                next();\r\n            }else{\r\n                res.status(403).send({\r\n                    message: 'NO ESTA PERMITIDO VISITAR ESTA RUTA'\r\n                });\r\n            }\r\n        }else{\r\n            res.status(403).send({\r\n                message: 'EL TOKEN NO ES VALIDO'\r\n            });\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAEvB;EACXC,eAAe,EAAE,MAAAA,CAAMC,GAAG,EAACC,GAAG,EAACC,IAAI,KAAK;IACpC,IAAG,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAC;MAClBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAGI,QAAQ,EAAC;MACR,IAAGA,QAAQ,CAACE,GAAG,IAAI,SAAS,IAAIF,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAC;QACpDR,IAAI,CAAC,CAAC;MACV,CAAC,MAAI;QACDD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,MAAI;MACDN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ,CAAC;EACDI,WAAW,EAAE,MAAAA,CAAMX,GAAG,EAACC,GAAG,EAACC,IAAI,KAAK;IAChC,IAAG,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAC;MAClBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAGI,QAAQ,EAAC;MACR,IAAGA,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAC;QACvBR,IAAI,CAAC,CAAC;MACV,CAAC,MAAI;QACDD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,MAAI;MACDN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ;AACJ,CAAC;AAAAK,OAAA,CAAAf,OAAA,GAAAC,QAAA","ignoreList":[]}},"mtime":1714439172058},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _Cart = _interopRequireDefault(require(\"./Cart\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  User: _User.default,\n  Categorie: _Categorie.default,\n  Product: _Product.default,\n  Slider: _Slider.default,\n  Cart: _Cart.default\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0NhdGVnb3JpZSIsIl9Qcm9kdWN0IiwiX1NsaWRlciIsIl9DYXJ0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsIlVzZXIiLCJDYXRlZ29yaWUiLCJQcm9kdWN0IiwiU2xpZGVyIiwiQ2FydCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJlc291cmNlc1xcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXNlciBmcm9tICcuL1VzZXInXHJcblxyXG5pbXBvcnQgQ2F0ZWdvcmllIGZyb20gJy4vQ2F0ZWdvcmllJ1xyXG5pbXBvcnQgUHJvZHVjdCBmcm9tICcuL1Byb2R1Y3QnXHJcbmltcG9ydCBTbGlkZXIgZnJvbSAnLi9TbGlkZXInXHJcbmltcG9ydCBDYXJ0IGZyb20gJy4vQ2FydCdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIFVzZXIsXHJcbiAgICBDYXRlZ29yaWUsXHJcbiAgICBQcm9kdWN0LFxyXG4gICAgU2xpZGVyLFxyXG4gICAgQ2FydCxcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsS0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBQUMsVUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsUUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsT0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksS0FBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQXlCLFNBQUFELHVCQUFBTSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUVWO0VBQ1hDLElBQUksRUFBSkEsYUFBSTtFQUNKQyxTQUFTLEVBQVRBLGtCQUFTO0VBQ1RDLE9BQU8sRUFBUEEsZ0JBQU87RUFDUEMsTUFBTSxFQUFOQSxlQUFNO0VBQ05DLElBQUksRUFBSkE7QUFDSixDQUFDO0FBQUFDLE9BQUEsQ0FBQVAsT0FBQSxHQUFBQyxRQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_User","_interopRequireDefault","require","_Categorie","_Product","_Slider","_Cart","obj","__esModule","default","_default","User","Categorie","Product","Slider","Cart","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\resources\\","sources":["index.js"],"sourcesContent":["import User from './User'\r\n\r\nimport Categorie from './Categorie'\r\nimport Product from './Product'\r\nimport Slider from './Slider'\r\nimport Cart from './Cart'\r\n\r\nexport default {\r\n    User,\r\n    Categorie,\r\n    Product,\r\n    Slider,\r\n    Cart,\r\n}"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,QAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,OAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,KAAA,GAAAL,sBAAA,CAAAC,OAAA;AAAyB,SAAAD,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAEV;EACXC,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA,kBAAS;EACTC,OAAO,EAAPA,gBAAO;EACPC,MAAM,EAANA,eAAM;EACNC,IAAI,EAAJA;AACJ,CAAC;AAAAC,OAAA,CAAAP,OAAA,GAAAC,QAAA","ignoreList":[]}},"mtime":1678744277277},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  user_list: user => {\n    return {\n      _id: user._id,\n      name: user.name,\n      surname: user.surname,\n      email: user.email,\n      avatar: user.avatar\n    };\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyX2xpc3QiLCJ1c2VyIiwiX2lkIiwibmFtZSIsInN1cm5hbWUiLCJlbWFpbCIsImF2YXRhciIsImV4cG9ydHMiLCJkZWZhdWx0IiwiX2RlZmF1bHQiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJlc291cmNlc1xcIiwic291cmNlcyI6WyJVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHVzZXJfbGlzdDogKHVzZXIpID0+IHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBfaWQ6IHVzZXIuX2lkLFxyXG4gICAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXHJcbiAgICAgICAgICAgIHN1cm5hbWU6IHVzZXIuc3VybmFtZSxcclxuICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgIGF2YXRhcjogdXNlci5hdmF0YXIsXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7ZUFBZTtFQUNYQSxTQUFTLEVBQUdDLElBQUksSUFBSztJQUNqQixPQUFPO01BQ0hDLEdBQUcsRUFBRUQsSUFBSSxDQUFDQyxHQUFHO01BQ2JDLElBQUksRUFBRUYsSUFBSSxDQUFDRSxJQUFJO01BQ2ZDLE9BQU8sRUFBRUgsSUFBSSxDQUFDRyxPQUFPO01BQ3JCQyxLQUFLLEVBQUVKLElBQUksQ0FBQ0ksS0FBSztNQUNqQkMsTUFBTSxFQUFFTCxJQUFJLENBQUNLO0lBQ2pCLENBQUM7RUFDTDtBQUNKLENBQUM7QUFBQUMsT0FBQSxDQUFBQyxPQUFBLEdBQUFDLFFBQUEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["user_list","user","_id","name","surname","email","avatar","exports","default","_default"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\resources\\","sources":["User.js"],"sourcesContent":["export default {\r\n    user_list: (user) => {\r\n        return {\r\n            _id: user._id,\r\n            name: user.name,\r\n            surname: user.surname,\r\n            email: user.email,\r\n            avatar: user.avatar,\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;eAAe;EACXA,SAAS,EAAGC,IAAI,IAAK;IACjB,OAAO;MACHC,GAAG,EAAED,IAAI,CAACC,GAAG;MACbC,IAAI,EAAEF,IAAI,CAACE,IAAI;MACfC,OAAO,EAAEH,IAAI,CAACG,OAAO;MACrBC,KAAK,EAAEJ,IAAI,CAACI,KAAK;MACjBC,MAAM,EAAEL,IAAI,CAACK;IACjB,CAAC;EACL;AACJ,CAAC;AAAAC,OAAA,CAAAC,OAAA,GAAAC,QAAA","ignoreList":[]}},"mtime":1676275953604},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _User = _interopRequireDefault(require(\"./User\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  User: _User.default\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsIlVzZXIiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxyZXNvdXJjZXNcXCIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVzZXIgZnJvbSAnLi9Vc2VyJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBVc2VyLFxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxLQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBMEIsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFBQSxJQUFBRyxRQUFBLEdBRVg7RUFDYkMsSUFBSSxFQUFKQTtBQUNGLENBQUM7QUFBQUMsT0FBQSxDQUFBSCxPQUFBLEdBQUFDLFFBQUEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_User","_interopRequireDefault","require","obj","__esModule","default","_default","User","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\resources\\","sources":["index.js"],"sourcesContent":["import User from './User';\r\n\r\nexport default {\r\n  User,\r\n}"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA0B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAEX;EACbC,IAAI,EAAJA;AACF,CAAC;AAAAC,OAAA,CAAAH,OAAA,GAAAC,QAAA","ignoreList":[]}},"mtime":1715817604069},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  user_list: user => {\n    return {\n      _id: user.id,\n      name: user.name,\n      surname: user.surname,\n      email: user.email,\n      avatar: user.avatar\n    };\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyX2xpc3QiLCJ1c2VyIiwiX2lkIiwiaWQiLCJuYW1lIiwic3VybmFtZSIsImVtYWlsIiwiYXZhdGFyIiwiZXhwb3J0cyIsImRlZmF1bHQiLCJfZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxccmVzb3VyY2VzXFwiLCJzb3VyY2VzIjpbIlVzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQge1xyXG4gIHVzZXJfbGlzdDogKHVzZXIpID0+IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIF9pZDp1c2VyLmlkLFxyXG4gICAgICBuYW1lOiB1c2VyLm5hbWUsXHJcbiAgICAgIHN1cm5hbWU6dXNlci5zdXJuYW1lLFxyXG4gICAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhcixcclxuICAgIH1cclxuICB9XHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztlQUFlO0VBQ2JBLFNBQVMsRUFBR0MsSUFBSSxJQUFLO0lBQ25CLE9BQU87TUFDTEMsR0FBRyxFQUFDRCxJQUFJLENBQUNFLEVBQUU7TUFDWEMsSUFBSSxFQUFFSCxJQUFJLENBQUNHLElBQUk7TUFDZkMsT0FBTyxFQUFDSixJQUFJLENBQUNJLE9BQU87TUFDcEJDLEtBQUssRUFBRUwsSUFBSSxDQUFDSyxLQUFLO01BQ2pCQyxNQUFNLEVBQUVOLElBQUksQ0FBQ007SUFDZixDQUFDO0VBQ0g7QUFDRixDQUFDO0FBQUFDLE9BQUEsQ0FBQUMsT0FBQSxHQUFBQyxRQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["user_list","user","_id","id","name","surname","email","avatar","exports","default","_default"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\resources\\","sources":["User.js"],"sourcesContent":["export default {\r\n  user_list: (user) => {\r\n    return {\r\n      _id:user.id,\r\n      name: user.name,\r\n      surname:user.surname,\r\n      email: user.email,\r\n      avatar: user.avatar,\r\n    }\r\n  }\r\n}"],"mappings":";;;;;;eAAe;EACbA,SAAS,EAAGC,IAAI,IAAK;IACnB,OAAO;MACLC,GAAG,EAACD,IAAI,CAACE,EAAE;MACXC,IAAI,EAAEH,IAAI,CAACG,IAAI;MACfC,OAAO,EAACJ,IAAI,CAACI,OAAO;MACpBC,KAAK,EAAEL,IAAI,CAACK,KAAK;MACjBC,MAAM,EAAEN,IAAI,CAACM;IACf,CAAC;EACH;AACF,CAAC;AAAAC,OAAA,CAAAC,OAAA,GAAAC,QAAA","ignoreList":[]}},"mtime":1715817712501},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst CategorieSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  imagen: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  state: {\n    type: Number,\n    maxlength: 2,\n    default: 1\n  }\n}, {\n  timestamps: true\n});\nconst Categorie = _mongoose.default.model(\"categorie\", CategorieSchema);\nvar _default = Categorie;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiQ2F0ZWdvcmllU2NoZW1hIiwiU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwibWF4bGVuZ3RoIiwicmVxdWlyZWQiLCJpbWFnZW4iLCJzdGF0ZSIsIk51bWJlciIsInRpbWVzdGFtcHMiLCJDYXRlZ29yaWUiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiQ2F0ZWdvcmllLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IENhdGVnb3JpZVNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgdGl0bGU6e3R5cGU6U3RyaW5nLG1heGxlbmd0aCA6IDI1MCxyZXF1aXJlZDp0cnVlfSxcclxuICAgIGltYWdlbjp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgc3RhdGU6e3R5cGU6TnVtYmVyLG1heGxlbmd0aDoyLGRlZmF1bHQ6MX0sXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczogdHJ1ZVxyXG59KTtcclxuXHJcbmNvbnN0IENhdGVnb3JpZSA9IG1vbmdvb3NlLm1vZGVsKFwiY2F0ZWdvcmllXCIsQ2F0ZWdvcmllU2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgQ2F0ZWdvcmllOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQXlDLFNBQUFDLHlCQUFBQyxXQUFBLGVBQUFDLE9BQUEsa0NBQUFDLGlCQUFBLE9BQUFELE9BQUEsUUFBQUUsZ0JBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxXQUFBLFdBQUFBLFdBQUEsR0FBQUcsZ0JBQUEsR0FBQUQsaUJBQUEsS0FBQUYsV0FBQTtBQUFBLFNBQUFILHdCQUFBTyxHQUFBLEVBQUFKLFdBQUEsU0FBQUEsV0FBQSxJQUFBSSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxXQUFBRCxHQUFBLFFBQUFBLEdBQUEsb0JBQUFBLEdBQUEsd0JBQUFBLEdBQUEsNEJBQUFFLE9BQUEsRUFBQUYsR0FBQSxVQUFBRyxLQUFBLEdBQUFSLHdCQUFBLENBQUFDLFdBQUEsT0FBQU8sS0FBQSxJQUFBQSxLQUFBLENBQUFDLEdBQUEsQ0FBQUosR0FBQSxZQUFBRyxLQUFBLENBQUFFLEdBQUEsQ0FBQUwsR0FBQSxTQUFBTSxNQUFBLFdBQUFDLHFCQUFBLEdBQUFDLE1BQUEsQ0FBQUMsY0FBQSxJQUFBRCxNQUFBLENBQUFFLHdCQUFBLFdBQUFDLEdBQUEsSUFBQVgsR0FBQSxRQUFBVyxHQUFBLGtCQUFBSCxNQUFBLENBQUFJLFNBQUEsQ0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFkLEdBQUEsRUFBQVcsR0FBQSxTQUFBSSxJQUFBLEdBQUFSLHFCQUFBLEdBQUFDLE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQVYsR0FBQSxFQUFBVyxHQUFBLGNBQUFJLElBQUEsS0FBQUEsSUFBQSxDQUFBVixHQUFBLElBQUFVLElBQUEsQ0FBQUMsR0FBQSxLQUFBUixNQUFBLENBQUFDLGNBQUEsQ0FBQUgsTUFBQSxFQUFBSyxHQUFBLEVBQUFJLElBQUEsWUFBQVQsTUFBQSxDQUFBSyxHQUFBLElBQUFYLEdBQUEsQ0FBQVcsR0FBQSxTQUFBTCxNQUFBLENBQUFKLE9BQUEsR0FBQUYsR0FBQSxNQUFBRyxLQUFBLElBQUFBLEtBQUEsQ0FBQWEsR0FBQSxDQUFBaEIsR0FBQSxFQUFBTSxNQUFBLFlBQUFBLE1BQUE7QUFFekMsTUFBTVcsZUFBZSxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDL0JDLEtBQUssRUFBQztJQUFDQyxJQUFJLEVBQUNDLE1BQU07SUFBQ0MsU0FBUyxFQUFHLEdBQUc7SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNqREMsTUFBTSxFQUFDO0lBQUNKLElBQUksRUFBQ0MsTUFBTTtJQUFDQyxTQUFTLEVBQUUsR0FBRztJQUFFQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2xERSxLQUFLLEVBQUM7SUFBQ0wsSUFBSSxFQUFDTSxNQUFNO0lBQUNKLFNBQVMsRUFBQyxDQUFDO0lBQUNwQixPQUFPLEVBQUM7RUFBQztBQUM1QyxDQUFDLEVBQUM7RUFDRXlCLFVBQVUsRUFBRTtBQUNoQixDQUFDLENBQUM7QUFFRixNQUFNQyxTQUFTLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxXQUFXLEVBQUNiLGVBQWUsQ0FBQztBQUFDLElBQUFjLFFBQUEsR0FDL0NILFNBQVM7QUFBQUksT0FBQSxDQUFBOUIsT0FBQSxHQUFBNkIsUUFBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","CategorieSchema","Schema","title","type","String","maxlength","required","imagen","state","Number","timestamps","Categorie","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Categorie.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst CategorieSchema = new Schema({\r\n    title:{type:String,maxlength : 250,required:true},\r\n    imagen:{type:String,maxlength: 250, required:true},\r\n    state:{type:Number,maxlength:2,default:1},\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst Categorie = mongoose.model(\"categorie\",CategorieSchema);\r\nexport default Categorie;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAH,wBAAAO,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,CAAAJ,OAAA,GAAAF,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAEzC,MAAMW,eAAe,GAAG,IAAIC,gBAAM,CAAC;EAC/BC,KAAK,EAAC;IAACC,IAAI,EAACC,MAAM;IAACC,SAAS,EAAG,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EACjDC,MAAM,EAAC;IAACJ,IAAI,EAACC,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EAClDE,KAAK,EAAC;IAACL,IAAI,EAACM,MAAM;IAACJ,SAAS,EAAC,CAAC;IAACpB,OAAO,EAAC;EAAC;AAC5C,CAAC,EAAC;EACEyB,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,SAAS,GAAGC,iBAAQ,CAACC,KAAK,CAAC,WAAW,EAACb,eAAe,CAAC;AAAC,IAAAc,QAAA,GAC/CH,SAAS;AAAAI,OAAA,CAAA9B,OAAA,GAAA6B,QAAA","ignoreList":[]}},"mtime":1676360021242},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CategorieController = _interopRequireDefault(require(\"../controllers/CategorieController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/categorie'\n});\nconst router = (0, _expressPromiseRouter.default)();\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _CategorieController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _CategorieController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _CategorieController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _CategorieController.default.remove);\nrouter.get(\"/uploads/categorie/:img\", _CategorieController.default.obtener_imagen);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DYXRlZ29yaWVDb250cm9sbGVyIiwiX2F1dGgiLCJfY29ubmVjdE11bHRpcGFydHkiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInBhdGgiLCJtdWx0aXBhcnR5IiwidXBsb2FkRGlyIiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJjYXRlZ29yaWVjb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJsaXN0IiwiZGVsZXRlIiwicmVtb3ZlIiwib2J0ZW5lcl9pbWFnZW4iLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJDYXRlZ29yaWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IGNhdGVnb3JpZWNvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvQ2F0ZWdvcmllQ29udHJvbGxlcidcclxuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCdcclxuXHJcbmltcG9ydCBtdWx0aXBhcnR5IGZyb20gJ2Nvbm5lY3QtbXVsdGlwYXJ0eSdcclxudmFyIHBhdGggPSBtdWx0aXBhcnR5KHt1cGxvYWREaXI6ICcuL3VwbG9hZHMvY2F0ZWdvcmllJ30pXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuLy8gaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2Vycy9yZWdpc3RlclxyXG5cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSxjYXRlZ29yaWVjb250cm9sbGVyLnJlZ2lzdGVyKTtcclxucm91dGVyLnB1dChcIi91cGRhdGVcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSxjYXRlZ29yaWVjb250cm9sbGVyLnVwZGF0ZSk7XHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4sY2F0ZWdvcmllY29udHJvbGxlci5saXN0KTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIixhdXRoLnZlcmlmeUFkbWluLGNhdGVnb3JpZWNvbnRyb2xsZXIucmVtb3ZlKTtcclxuXHJcbnJvdXRlci5nZXQoXCIvdXBsb2Fkcy9jYXRlZ29yaWUvOmltZ1wiLGNhdGVnb3JpZWNvbnRyb2xsZXIub2J0ZW5lcl9pbWFnZW4pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLG9CQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFBRyxrQkFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQTJDLFNBQUFELHVCQUFBSyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQzNDLElBQUlHLElBQUksR0FBRyxJQUFBQywwQkFBVSxFQUFDO0VBQUNDLFNBQVMsRUFBRTtBQUFxQixDQUFDLENBQUM7QUFDekQsTUFBTUMsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUN4Qjs7QUFFQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFDLENBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFDUCxJQUFJLENBQUMsRUFBQ1EsNEJBQW1CLENBQUNDLFFBQVEsQ0FBQztBQUM3RU4sTUFBTSxDQUFDTyxHQUFHLENBQUMsU0FBUyxFQUFDLENBQUNKLGFBQUksQ0FBQ0MsV0FBVyxFQUFDUCxJQUFJLENBQUMsRUFBQ1EsNEJBQW1CLENBQUNHLE1BQU0sQ0FBQztBQUN4RVIsTUFBTSxDQUFDUyxHQUFHLENBQUMsT0FBTyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsNEJBQW1CLENBQUNLLElBQUksQ0FBQztBQUM3RFYsTUFBTSxDQUFDVyxNQUFNLENBQUMsU0FBUyxFQUFDUixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsNEJBQW1CLENBQUNPLE1BQU0sQ0FBQztBQUVwRVosTUFBTSxDQUFDUyxHQUFHLENBQUMseUJBQXlCLEVBQUNKLDRCQUFtQixDQUFDUSxjQUFjLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBRTFEZCxNQUFNO0FBQUFlLE9BQUEsQ0FBQW5CLE9BQUEsR0FBQWtCLFFBQUEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CategorieController","_auth","_connectMultiparty","obj","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","categoriecontroller","register","put","update","get","list","delete","remove","obtener_imagen","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["Categorie.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport categoriecontroller from '../controllers/CategorieController'\r\nimport auth from '../middlewares/auth'\r\n\r\nimport multiparty from 'connect-multiparty'\r\nvar path = multiparty({uploadDir: './uploads/categorie'})\r\nconst router = routerx();\r\n// http://localhost:3000/api/users/register\r\n\r\nrouter.post(\"/register\",[auth.verifyAdmin,path],categoriecontroller.register);\r\nrouter.put(\"/update\",[auth.verifyAdmin,path],categoriecontroller.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,categoriecontroller.list);\r\nrouter.delete(\"/delete\",auth.verifyAdmin,categoriecontroller.remove);\r\n\r\nrouter.get(\"/uploads/categorie/:img\",categoriecontroller.obtener_imagen);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,oBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAEA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA2C,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAC3C,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAE;AAAqB,CAAC,CAAC;AACzD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAC,CAACC,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,4BAAmB,CAACC,QAAQ,CAAC;AAC7EN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAC,CAACJ,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,4BAAmB,CAACG,MAAM,CAAC;AACxER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,4BAAmB,CAACK,IAAI,CAAC;AAC7DV,MAAM,CAACW,MAAM,CAAC,SAAS,EAACR,aAAI,CAACC,WAAW,EAACC,4BAAmB,CAACO,MAAM,CAAC;AAEpEZ,MAAM,CAACS,GAAG,CAAC,yBAAyB,EAACJ,4BAAmB,CAACQ,cAAc,CAAC;AAAC,IAAAC,QAAA,GAE1Dd,MAAM;AAAAe,OAAA,CAAAnB,OAAA,GAAAkB,QAAA","ignoreList":[]}},"mtime":1676448878888},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\CategorieController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  register: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        // console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      const categorie = await _models.default.Categorie.create(req.body);\n      res.status(200).json(categorie);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files && req.files.portada) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        // console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      await _models.default.Categorie.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let CategorieT = await _models.default.Categorie.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"LA CATEGORIA SE HA MODIFICADO CORRECTAMENTE\",\n        categorie: _resources.default.Categorie.categorie_list(CategorieT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Categories = await _models.default.Categorie.find({\n        $or: [{\n          \"title\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Categories = Categories.map(user => {\n        return _resources.default.Categorie.categorie_list(user);\n      });\n      res.status(200).json({\n        categories: Categories\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/categorie/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/categorie/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.Categorie.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"LA CATEGORIA SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwiX2ZzIiwiX3BhdGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwicmVnaXN0ZXIiLCJyZXEiLCJyZXMiLCJmaWxlcyIsImltZ19wYXRoIiwicG9ydGFkYSIsInBhdGgiLCJuYW1lIiwic3BsaXQiLCJwb3J0YWRhX25hbWUiLCJib2R5IiwiaW1hZ2VuIiwiY2F0ZWdvcmllIiwibW9kZWxzIiwiQ2F0ZWdvcmllIiwiY3JlYXRlIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwic2VuZCIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwidXBkYXRlIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJfaWQiLCJDYXRlZ29yaWVUIiwiZmluZE9uZSIsInJlc291cmNlIiwiY2F0ZWdvcmllX2xpc3QiLCJsaXN0Iiwic2VhcmNoIiwicXVlcnkiLCJDYXRlZ29yaWVzIiwiZmluZCIsIiRvciIsIlJlZ0V4cCIsInNvcnQiLCJtYXAiLCJ1c2VyIiwiY2F0ZWdvcmllcyIsIm9idGVuZXJfaW1hZ2VuIiwiaW1nIiwicGFyYW1zIiwiZnMiLCJzdGF0IiwiZXJyIiwicGF0aF9pbWciLCJzZW5kRmlsZSIsInJlc29sdmUiLCJyZW1vdmUiLCJmaW5kQnlJZEFuZERlbGV0ZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIkNhdGVnb3JpZUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnXHJcbmltcG9ydCByZXNvdXJjZSBmcm9tICcuLi9yZXNvdXJjZXMnXHJcbmltcG9ydCBmcyBmcm9tICdmcydcclxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZihyZXEuZmlsZXMpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLnBvcnRhZGEucGF0aDtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJ1xcXFwnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocG9ydGFkYV9uYW1lKVxyXG4gICAgICAgICAgICAgICAgcmVxLmJvZHkuaW1hZ2VuID0gcG9ydGFkYV9uYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGNhdGVnb3JpZSA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuY3JlYXRlKHJlcS5ib2R5KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oY2F0ZWdvcmllKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB1cGRhdGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZihyZXEuZmlsZXMgJiYgcmVxLmZpbGVzLnBvcnRhZGEpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLnBvcnRhZGEucGF0aDtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJ1xcXFwnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocG9ydGFkYV9uYW1lKVxyXG4gICAgICAgICAgICAgICAgcmVxLmJvZHkuaW1hZ2VuID0gcG9ydGFkYV9uYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogcmVxLmJvZHkuX2lkfSxyZXEuYm9keSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgQ2F0ZWdvcmllVCA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZE9uZSh7X2lkOiByZXEuYm9keS5faWR9KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJMQSBDQVRFR09SSUEgU0UgSEEgTU9ESUZJQ0FETyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWU6IHJlc291cmNlLkNhdGVnb3JpZS5jYXRlZ29yaWVfbGlzdChDYXRlZ29yaWVUKSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbGlzdDogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBzZWFyY2ggPSByZXEucXVlcnkuc2VhcmNoO1xyXG4gICAgICAgICAgICBsZXQgQ2F0ZWdvcmllcyA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZCh7XHJcbiAgICAgICAgICAgICAgICAkb3I6W1xyXG4gICAgICAgICAgICAgICAgICAgIHtcInRpdGxlXCI6IG5ldyBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9KS5zb3J0KHsnY3JlYXRlZEF0JzogLTF9KTtcclxuXHJcbiAgICAgICAgICAgIENhdGVnb3JpZXMgPSBDYXRlZ29yaWVzLm1hcCgodXNlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlLkNhdGVnb3JpZS5jYXRlZ29yaWVfbGlzdCh1c2VyKTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIGNhdGVnb3JpZXM6IENhdGVnb3JpZXNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgb2J0ZW5lcl9pbWFnZW46IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgaW1nID0gcmVxLnBhcmFtc1snaW1nJ107XHJcblxyXG4gICAgICAgICAgICBmcy5zdGF0KCcuL3VwbG9hZHMvY2F0ZWdvcmllLycraW1nLCBmdW5jdGlvbihlcnIpe1xyXG4gICAgICAgICAgICAgICAgaWYoIWVycil7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9jYXRlZ29yaWUvJytpbWc7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKHBhdGgucmVzb2x2ZShwYXRoX2ltZykpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9kZWZhdWx0LmpwZyc7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKHBhdGgucmVzb2x2ZShwYXRoX2ltZykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgIFxyXG4gICAgcmVtb3ZlOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLkNhdGVnb3JpZS5maW5kQnlJZEFuZERlbGV0ZSh7X2lkOiByZXEucXVlcnkuX2lkfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTEEgQ0FURUdPUklBIFNFIEVMSU1JTk8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3Ip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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","_fs","_path","obj","__esModule","default","_default","register","req","res","files","img_path","portada","path","name","split","portada_name","body","imagen","categorie","models","Categorie","create","status","json","error","send","message","console","log","update","findByIdAndUpdate","_id","CategorieT","findOne","resource","categorie_list","list","search","query","Categories","find","$or","RegExp","sort","map","user","categories","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","remove","findByIdAndDelete","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["CategorieController.js"],"sourcesContent":["import models from '../models'\r\nimport resource from '../resources'\r\nimport fs from 'fs'\r\nimport path from 'path'\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            if(req.files){\r\n                var img_path = req.files.portada.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                // console.log(portada_name)\r\n                req.body.imagen = portada_name;\r\n            }\r\n            const categorie = await models.Categorie.create(req.body);\r\n            res.status(200).json(categorie);\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    update: async(req,res) => {\r\n        try {\r\n            if(req.files && req.files.portada){\r\n                var img_path = req.files.portada.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                // console.log(portada_name)\r\n                req.body.imagen = portada_name;\r\n            }\r\n            await models.Categorie.findByIdAndUpdate({_id: req.body._id},req.body);\r\n\r\n            let CategorieT = await models.Categorie.findOne({_id: req.body._id});\r\n            res.status(200).json({\r\n                message: \"LA CATEGORIA SE HA MODIFICADO CORRECTAMENTE\",\r\n                categorie: resource.Categorie.categorie_list(CategorieT),\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    list: async(req,res) => {\r\n        try {\r\n            var search = req.query.search;\r\n            let Categories = await models.Categorie.find({\r\n                $or:[\r\n                    {\"title\": new RegExp(search, \"i\")},\r\n                ]\r\n            }).sort({'createdAt': -1});\r\n\r\n            Categories = Categories.map((user) => {\r\n                return resource.Categorie.categorie_list(user);\r\n            })\r\n\r\n            res.status(200).json({\r\n                categories: Categories\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    obtener_imagen: async(req,res) => {\r\n        try {\r\n            var img = req.params['img'];\r\n\r\n            fs.stat('./uploads/categorie/'+img, function(err){\r\n                if(!err){\r\n                    let path_img = './uploads/categorie/'+img;\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }else{\r\n                    let path_img = './uploads/default.jpg';\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },  \r\n    remove: async(req,res) => {\r\n        try {\r\n            await models.Categorie.findByIdAndDelete({_id: req.query._id});\r\n            res.status(200).json({\r\n                message: \"LA CATEGORIA SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    }\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1676450129490},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst CategorieSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  imagen: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  state: {\n    type: Number,\n    maxlength: 2,\n    default: 1\n  }\n}, {\n  timestamps: true\n});\nconst Categorie = _mongoose.default.model(\"categorie\", CategorieSchema);\nvar _default = Categorie;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiQ2F0ZWdvcmllU2NoZW1hIiwiU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwibWF4bGVuZ3RoIiwicmVxdWlyZWQiLCJpbWFnZW4iLCJzdGF0ZSIsIk51bWJlciIsInRpbWVzdGFtcHMiLCJDYXRlZ29yaWUiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiQ2F0ZWdvcmllLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IENhdGVnb3JpZVNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgdGl0bGU6e3R5cGU6U3RyaW5nLG1heGxlbmd0aCA6IDI1MCxyZXF1aXJlZDp0cnVlfSxcclxuICAgIGltYWdlbjp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgc3RhdGU6e3R5cGU6TnVtYmVyLG1heGxlbmd0aDoyLGRlZmF1bHQ6MX0sXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczogdHJ1ZVxyXG59KTtcclxuXHJcbmNvbnN0IENhdGVnb3JpZSA9IG1vbmdvb3NlLm1vZGVsKFwiY2F0ZWdvcmllXCIsQ2F0ZWdvcmllU2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgQ2F0ZWdvcmllOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQXlDLFNBQUFDLHlCQUFBQyxXQUFBLGVBQUFDLE9BQUEsa0NBQUFDLGlCQUFBLE9BQUFELE9BQUEsUUFBQUUsZ0JBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxXQUFBLFdBQUFBLFdBQUEsR0FBQUcsZ0JBQUEsR0FBQUQsaUJBQUEsS0FBQUYsV0FBQTtBQUFBLFNBQUFILHdCQUFBTyxHQUFBLEVBQUFKLFdBQUEsU0FBQUEsV0FBQSxJQUFBSSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxXQUFBRCxHQUFBLFFBQUFBLEdBQUEsb0JBQUFBLEdBQUEsd0JBQUFBLEdBQUEsNEJBQUFFLE9BQUEsRUFBQUYsR0FBQSxVQUFBRyxLQUFBLEdBQUFSLHdCQUFBLENBQUFDLFdBQUEsT0FBQU8sS0FBQSxJQUFBQSxLQUFBLENBQUFDLEdBQUEsQ0FBQUosR0FBQSxZQUFBRyxLQUFBLENBQUFFLEdBQUEsQ0FBQUwsR0FBQSxTQUFBTSxNQUFBLFdBQUFDLHFCQUFBLEdBQUFDLE1BQUEsQ0FBQUMsY0FBQSxJQUFBRCxNQUFBLENBQUFFLHdCQUFBLFdBQUFDLEdBQUEsSUFBQVgsR0FBQSxRQUFBVyxHQUFBLGtCQUFBSCxNQUFBLENBQUFJLFNBQUEsQ0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFkLEdBQUEsRUFBQVcsR0FBQSxTQUFBSSxJQUFBLEdBQUFSLHFCQUFBLEdBQUFDLE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQVYsR0FBQSxFQUFBVyxHQUFBLGNBQUFJLElBQUEsS0FBQUEsSUFBQSxDQUFBVixHQUFBLElBQUFVLElBQUEsQ0FBQUMsR0FBQSxLQUFBUixNQUFBLENBQUFDLGNBQUEsQ0FBQUgsTUFBQSxFQUFBSyxHQUFBLEVBQUFJLElBQUEsWUFBQVQsTUFBQSxDQUFBSyxHQUFBLElBQUFYLEdBQUEsQ0FBQVcsR0FBQSxTQUFBTCxNQUFBLENBQUFKLE9BQUEsR0FBQUYsR0FBQSxNQUFBRyxLQUFBLElBQUFBLEtBQUEsQ0FBQWEsR0FBQSxDQUFBaEIsR0FBQSxFQUFBTSxNQUFBLFlBQUFBLE1BQUE7QUFFekMsTUFBTVcsZUFBZSxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDL0JDLEtBQUssRUFBQztJQUFDQyxJQUFJLEVBQUNDLE1BQU07SUFBQ0MsU0FBUyxFQUFHLEdBQUc7SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNqREMsTUFBTSxFQUFDO0lBQUNKLElBQUksRUFBQ0MsTUFBTTtJQUFDQyxTQUFTLEVBQUUsR0FBRztJQUFFQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2xERSxLQUFLLEVBQUM7SUFBQ0wsSUFBSSxFQUFDTSxNQUFNO0lBQUNKLFNBQVMsRUFBQyxDQUFDO0lBQUNwQixPQUFPLEVBQUM7RUFBQztBQUM1QyxDQUFDLEVBQUM7RUFDRXlCLFVBQVUsRUFBRTtBQUNoQixDQUFDLENBQUM7QUFFRixNQUFNQyxTQUFTLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxXQUFXLEVBQUNiLGVBQWUsQ0FBQztBQUFDLElBQUFjLFFBQUEsR0FDL0NILFNBQVM7QUFBQUksT0FBQSxDQUFBOUIsT0FBQSxHQUFBNkIsUUFBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","CategorieSchema","Schema","title","type","String","maxlength","required","imagen","state","Number","timestamps","Categorie","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Categorie.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst CategorieSchema = new Schema({\r\n    title:{type:String,maxlength : 250,required:true},\r\n    imagen:{type:String,maxlength: 250, required:true},\r\n    state:{type:Number,maxlength:2,default:1},\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst Categorie = mongoose.model(\"categorie\",CategorieSchema);\r\nexport default Categorie;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAH,wBAAAO,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,CAAAJ,OAAA,GAAAF,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAEzC,MAAMW,eAAe,GAAG,IAAIC,gBAAM,CAAC;EAC/BC,KAAK,EAAC;IAACC,IAAI,EAACC,MAAM;IAACC,SAAS,EAAG,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EACjDC,MAAM,EAAC;IAACJ,IAAI,EAACC,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EAClDE,KAAK,EAAC;IAACL,IAAI,EAACM,MAAM;IAACJ,SAAS,EAAC,CAAC;IAACpB,OAAO,EAAC;EAAC;AAC5C,CAAC,EAAC;EACEyB,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,SAAS,GAAGC,iBAAQ,CAACC,KAAK,CAAC,WAAW,EAACb,eAAe,CAAC;AAAC,IAAAc,QAAA,GAC/CH,SAAS;AAAAI,OAAA,CAAA9B,OAAA,GAAA6B,QAAA","ignoreList":[]}},"mtime":1676360021242},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CategorieController = _interopRequireDefault(require(\"../controllers/CategorieController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/categorie'\n});\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _CategorieController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _CategorieController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _CategorieController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _CategorieController.default.remove);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DYXRlZ29yaWVDb250cm9sbGVyIiwiX2F1dGgiLCJfY29ubmVjdE11bHRpcGFydHkiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInBhdGgiLCJtdWx0aXBhcnR5IiwidXBsb2FkRGlyIiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJjYXRlZ29yaWVjb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJsaXN0IiwiZGVsZXRlIiwicmVtb3ZlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiQ2F0ZWdvcmllLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gJ2V4cHJlc3MtcHJvbWlzZS1yb3V0ZXInXHJcbmltcG9ydCBjYXRlZ29yaWVjb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL0NhdGVnb3JpZUNvbnRyb2xsZXInXHJcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXHJcbmltcG9ydCBtdWx0aXBhcnR5IGZyb20gJ2Nvbm5lY3QtbXVsdGlwYXJ0eSdcclxuXHJcbnZhciBwYXRoPW11bHRpcGFydHkoe3VwbG9hZERpcjonLi91cGxvYWRzL2NhdGVnb3JpZSd9KVxyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLFthdXRoLnZlcmlmeUFkbWluLHBhdGhdLGNhdGVnb3JpZWNvbnRyb2xsZXIucmVnaXN0ZXIpO1xyXG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLFthdXRoLnZlcmlmeUFkbWluLHBhdGhdLGNhdGVnb3JpZWNvbnRyb2xsZXIudXBkYXRlKTtcclxucm91dGVyLmdldChcIi9saXN0XCIsYXV0aC52ZXJpZnlBZG1pbixjYXRlZ29yaWVjb250cm9sbGVyLmxpc3QpO1xyXG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZVwiLGF1dGgudmVyaWZ5QWRtaW4sY2F0ZWdvcmllY29udHJvbGxlci5yZW1vdmUpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLG9CQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxrQkFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQTJDLFNBQUFELHVCQUFBSyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRTNDLElBQUlHLElBQUksR0FBQyxJQUFBQywwQkFBVSxFQUFDO0VBQUNDLFNBQVMsRUFBQztBQUFxQixDQUFDLENBQUM7QUFDdEQsTUFBTUMsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUV4QkQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFDLENBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFDUCxJQUFJLENBQUMsRUFBQ1EsNEJBQW1CLENBQUNDLFFBQVEsQ0FBQztBQUM3RU4sTUFBTSxDQUFDTyxHQUFHLENBQUMsU0FBUyxFQUFDLENBQUNKLGFBQUksQ0FBQ0MsV0FBVyxFQUFDUCxJQUFJLENBQUMsRUFBQ1EsNEJBQW1CLENBQUNHLE1BQU0sQ0FBQztBQUN4RVIsTUFBTSxDQUFDUyxHQUFHLENBQUMsT0FBTyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsNEJBQW1CLENBQUNLLElBQUksQ0FBQztBQUM3RFYsTUFBTSxDQUFDVyxNQUFNLENBQUMsU0FBUyxFQUFDUixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsNEJBQW1CLENBQUNPLE1BQU0sQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FFdERiLE1BQU07QUFBQWMsT0FBQSxDQUFBbEIsT0FBQSxHQUFBaUIsUUFBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CategorieController","_auth","_connectMultiparty","obj","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","categoriecontroller","register","put","update","get","list","delete","remove","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["Categorie.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport categoriecontroller from '../controllers/CategorieController'\r\nimport auth from '../middlewares/auth'\r\nimport multiparty from 'connect-multiparty'\r\n\r\nvar path=multiparty({uploadDir:'./uploads/categorie'})\r\nconst router = routerx();\r\n\r\nrouter.post(\"/register\",[auth.verifyAdmin,path],categoriecontroller.register);\r\nrouter.put(\"/update\",[auth.verifyAdmin,path],categoriecontroller.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,categoriecontroller.list);\r\nrouter.delete(\"/delete\",auth.verifyAdmin,categoriecontroller.remove);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,oBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA2C,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE3C,IAAIG,IAAI,GAAC,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAC;AAAqB,CAAC,CAAC;AACtD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAC,CAACC,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,4BAAmB,CAACC,QAAQ,CAAC;AAC7EN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAC,CAACJ,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,4BAAmB,CAACG,MAAM,CAAC;AACxER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,4BAAmB,CAACK,IAAI,CAAC;AAC7DV,MAAM,CAACW,MAAM,CAAC,SAAS,EAACR,aAAI,CAACC,WAAW,EAACC,4BAAmB,CAACO,MAAM,CAAC;AAAC,IAAAC,QAAA,GAEtDb,MAAM;AAAAc,OAAA,CAAAlB,OAAA,GAAAiB,QAAA","ignoreList":[]}},"mtime":1716857210319},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\CategorieController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  register: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      const categorie = await _models.default.Categorie.create(req.body);\n      res.status(200).json(user);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      await _models.default.Categorie.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let CategorieT = await _models.default.Categorie.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"LA CATEGORIA SE HA MODIFICADO CORRECTAMENTE\",\n        categorie: resource.Categorie.categorie_list(CategorieT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Categories = await _models.default.Categorie.find({\n        $or: [{\n          \"tittle\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Categories = Categories.map(user => {\n        return _resources.default.Categorie.categorie_list(user);\n      });\n      res.status(200).json({\n        Categories: Categories\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.Categorie.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"LA CATEGORIA SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiZmlsZXMiLCJpbWdfcGF0aCIsInBvcnRhZGEiLCJwYXRoIiwibmFtZSIsInNwbGl0IiwicG9ydGFkYV9uYW1lIiwiYm9keSIsImltYWdlbiIsImNhdGVnb3JpZSIsIm1vZGVscyIsIkNhdGVnb3JpZSIsImNyZWF0ZSIsInN0YXR1cyIsImpzb24iLCJ1c2VyIiwiZXJyb3IiLCJzZW5kIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJ1cGRhdGUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIl9pZCIsIkNhdGVnb3JpZVQiLCJmaW5kT25lIiwicmVzb3VyY2UiLCJjYXRlZ29yaWVfbGlzdCIsImxpc3QiLCJzZWFyY2giLCJxdWVyeSIsIkNhdGVnb3JpZXMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwic29ydCIsIm1hcCIsInJlc291cmNlcyIsInJlbW92ZSIsImZpbmRCeUlkQW5kRGVsZXRlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiQ2F0ZWdvcmllQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gJy4uL21vZGVscydcclxuaW1wb3J0IHJlc291cmNlcyBmcm9tICcuLi9yZXNvdXJjZXMnXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHJlZ2lzdGVyOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYocmVxLmZpbGVzKXtcclxuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5wb3J0YWRhLnBhdGg7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9ydGFkYV9uYW1lID0gbmFtZVsyXTtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2cocG9ydGFkYV9uYW1lKVxyXG4gICAgICAgICAgICAgICAgcmVxLmJvZHkuaW1hZ2VuID0gcG9ydGFkYV9uYW1lO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBjYXRlZ29yaWUgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmNyZWF0ZShyZXEuYm9keSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHVzZXIpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHVwZGF0ZTogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmKHJlcS5maWxlcyl7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMucG9ydGFkYS5wYXRoO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnXFxcXCcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBvcnRhZGFfbmFtZSA9IG5hbWVbMl07XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHBvcnRhZGFfbmFtZSlcclxuICAgICAgICAgICAgICByZXEuYm9keS5pbWFnZW4gPSBwb3J0YWRhX25hbWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLkNhdGVnb3JpZS5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiByZXEuYm9keS5faWR9LCByZXEuYm9keSk7XHJcbiAgICAgICAgICAgIGxldCBDYXRlZ29yaWVUID0gYXdhaXQgbW9kZWxzLkNhdGVnb3JpZS5maW5kT25lKHtfaWQ6IHJlcS5ib2R5Ll9pZH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkxBIENBVEVHT1JJQSBTRSBIQSBNT0RJRklDQURPIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgICAgIGNhdGVnb3JpZTogcmVzb3VyY2UuQ2F0ZWdvcmllLmNhdGVnb3JpZV9saXN0KENhdGVnb3JpZVQpLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBsaXN0OiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIHNlYXJjaCA9IHJlcS5xdWVyeS5zZWFyY2g7XHJcbiAgICAgICAgICAgIGxldCBDYXRlZ29yaWVzID0gYXdhaXQgbW9kZWxzLkNhdGVnb3JpZS5maW5kKHtcclxuICAgICAgICAgICAgICAgICRvcjpbXHJcbiAgICAgICAgICAgICAgICAgICAge1widGl0dGxlXCI6IG5ldyBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9KS5zb3J0KHsnY3JlYXRlZEF0JzogLTF9KTtcclxuICAgICAgICAgICAgQ2F0ZWdvcmllcz0gQ2F0ZWdvcmllcy5tYXAgKCh1c2VyKT0+e1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlcy5DYXRlZ29yaWUuY2F0ZWdvcmllX2xpc3QodXNlcik7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBDYXRlZ29yaWVzOiBDYXRlZ29yaWVzXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHJlbW92ZTogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZEJ5SWRBbmREZWxldGUoe19pZDogcmVxLnF1ZXJ5Ll9pZH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkxBIENBVEVHT1JJQSBTRSBFTElNSU5PIENPUlJFQ1RBTUVOVEVcIixcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAg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LENBQUNnQyxLQUFLLENBQUNELE1BQU07TUFDN0IsSUFBSUUsVUFBVSxHQUFHLE1BQU1yQixlQUFNLENBQUNDLFNBQVMsQ0FBQ3FCLElBQUksQ0FBQztRQUN6Q0MsR0FBRyxFQUFDLENBQ0E7VUFBQyxRQUFRLEVBQUUsSUFBSUMsTUFBTSxDQUFDTCxNQUFNLEVBQUUsR0FBRztRQUFDLENBQUM7TUFFM0MsQ0FBQyxDQUFDLENBQUNNLElBQUksQ0FBQztRQUFDLFdBQVcsRUFBRSxDQUFDO01BQUMsQ0FBQyxDQUFDO01BQzFCSixVQUFVLEdBQUVBLFVBQVUsQ0FBQ0ssR0FBRyxDQUFHckIsSUFBSSxJQUFHO1FBQ2hDLE9BQU9zQixrQkFBUyxDQUFDMUIsU0FBUyxDQUFDZ0IsY0FBYyxDQUFDWixJQUFJLENBQUM7TUFDbkQsQ0FBQyxDQUFDO01BRUZoQixHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCaUIsVUFBVSxFQUFFQTtNQUNoQixDQUFDLENBQUM7SUFDTixDQUFDLENBQUMsT0FBT2YsS0FBSyxFQUFFO01BQ1pqQixHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0ksSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7TUFDRkMsT0FBTyxDQUFDQyxHQUFHLENBQUNKLEtBQUssQ0FBQztJQUN0QjtFQUNKLENBQUM7RUFDRHNCLE1BQU0sRUFBRSxNQUFBQSxDQUFNeEMsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDdEIsSUFBSTtNQUNBLE1BQU1XLGVBQU0sQ0FBQ0MsU0FBUyxDQUFDNEIsaUJBQWlCLENBQUM7UUFBQ2hCLEdBQUcsRUFBRXpCLEdBQUcsQ0FBQ2dDLEtBQUssQ0FBQ1A7TUFBRyxDQUFDLENBQUM7TUFDOUR4QixHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCSSxPQUFPLEVBQUU7TUFFYixDQUFDLENBQUM7SUFDTixDQUFDLENBQUMsT0FBT0YsS0FBSyxFQUFFO01BQ1pqQixHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0ksSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7TUFDRkMsT0FBTyxDQUFDQyxHQUFHLENBQUNKLEtBQUssQ0FBQztJQUN0QjtFQUNKO0FBQ0osQ0FBQztBQUFBd0IsT0FBQSxDQUFBN0MsT0FBQSxHQUFBQyxRQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","obj","__esModule","default","_default","register","req","res","files","img_path","portada","path","name","split","portada_name","body","imagen","categorie","models","Categorie","create","status","json","user","error","send","message","console","log","update","findByIdAndUpdate","_id","CategorieT","findOne","resource","categorie_list","list","search","query","Categories","find","$or","RegExp","sort","map","resources","remove","findByIdAndDelete","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["CategorieController.js"],"sourcesContent":["import models from '../models'\r\nimport resources from '../resources'\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            if(req.files){\r\n                var img_path = req.files.portada.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                //console.log(portada_name)\r\n                req.body.imagen = portada_name;\r\n          }\r\n            const categorie = await models.Categorie.create(req.body);\r\n            res.status(200).json(user);\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    update: async(req,res) => {\r\n        try {\r\n            if(req.files){\r\n                var img_path = req.files.portada.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                //console.log(portada_name)\r\n              req.body.imagen = portada_name;\r\n            }\r\n            await models.Categorie.findByIdAndUpdate({_id: req.body._id}, req.body);\r\n            let CategorieT = await models.Categorie.findOne({_id: req.body._id});\r\n            res.status(200).json({\r\n                message: \"LA CATEGORIA SE HA MODIFICADO CORRECTAMENTE\",\r\n                categorie: resource.Categorie.categorie_list(CategorieT),\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    list: async(req,res) => {\r\n        try {\r\n            var search = req.query.search;\r\n            let Categories = await models.Categorie.find({\r\n                $or:[\r\n                    {\"tittle\": new RegExp(search, \"i\")},\r\n                ]\r\n            }).sort({'createdAt': -1});\r\n            Categories= Categories.map ((user)=>{\r\n                return resources.Categorie.categorie_list(user);\r\n            })\r\n\r\n            res.status(200).json({\r\n                Categories: Categories\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    remove: async(req,res) => {\r\n        try {\r\n            await models.Categorie.findByIdAndDelete({_id: req.query._id});\r\n            res.status(200).json({\r\n                message: \"LA CATEGORIA SE ELIMINO CORRECTAMENTE\",\r\n\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    }\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1717861103250},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  categorie_list: categorie => {\n    return {\n      _id: categorie._id,\n      title: categorie.title,\n      imagen: categorie.imagen,\n      imagen_home: process.env.URL_BACKEND + '/api/categories/uploads/categorie/' + categorie.imagen,\n      state: categorie.state\n    };\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXRlZ29yaWVfbGlzdCIsImNhdGVnb3JpZSIsIl9pZCIsInRpdGxlIiwiaW1hZ2VuIiwiaW1hZ2VuX2hvbWUiLCJwcm9jZXNzIiwiZW52IiwiVVJMX0JBQ0tFTkQiLCJzdGF0ZSIsImV4cG9ydHMiLCJkZWZhdWx0IiwiX2RlZmF1bHQiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJlc291cmNlc1xcIiwic291cmNlcyI6WyJDYXRlZ29yaWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgY2F0ZWdvcmllX2xpc3Q6IChjYXRlZ29yaWUpID0+IHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBfaWQ6IGNhdGVnb3JpZS5faWQsXHJcbiAgICAgICAgICAgIHRpdGxlOiBjYXRlZ29yaWUudGl0bGUsXHJcbiAgICAgICAgICAgIGltYWdlbjogY2F0ZWdvcmllLmltYWdlbixcclxuICAgICAgICAgICAgaW1hZ2VuX2hvbWU6IHByb2Nlc3MuZW52LlVSTF9CQUNLRU5EKycvYXBpL2NhdGVnb3JpZXMvdXBsb2Fkcy9jYXRlZ29yaWUvJytjYXRlZ29yaWUuaW1hZ2VuLFxyXG4gICAgICAgICAgICBzdGF0ZTogY2F0ZWdvcmllLnN0YXRlLFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2VBQWU7RUFDWEEsY0FBYyxFQUFHQyxTQUFTLElBQUs7SUFDM0IsT0FBTztNQUNIQyxHQUFHLEVBQUVELFNBQVMsQ0FBQ0MsR0FBRztNQUNsQkMsS0FBSyxFQUFFRixTQUFTLENBQUNFLEtBQUs7TUFDdEJDLE1BQU0sRUFBRUgsU0FBUyxDQUFDRyxNQUFNO01BQ3hCQyxXQUFXLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxXQUFXLEdBQUMsb0NBQW9DLEdBQUNQLFNBQVMsQ0FBQ0csTUFBTTtNQUMxRkssS0FBSyxFQUFFUixTQUFTLENBQUNRO0lBQ3JCLENBQUM7RUFDTDtBQUNKLENBQUM7QUFBQUMsT0FBQSxDQUFBQyxPQUFBLEdBQUFDLFFBQUEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["categorie_list","categorie","_id","title","imagen","imagen_home","process","env","URL_BACKEND","state","exports","default","_default"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\resources\\","sources":["Categorie.js"],"sourcesContent":["export default {\r\n    categorie_list: (categorie) => {\r\n        return {\r\n            _id: categorie._id,\r\n            title: categorie.title,\r\n            imagen: categorie.imagen,\r\n            imagen_home: process.env.URL_BACKEND+'/api/categories/uploads/categorie/'+categorie.imagen,\r\n            state: categorie.state,\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;eAAe;EACXA,cAAc,EAAGC,SAAS,IAAK;IAC3B,OAAO;MACHC,GAAG,EAAED,SAAS,CAACC,GAAG;MAClBC,KAAK,EAAEF,SAAS,CAACE,KAAK;MACtBC,MAAM,EAAEH,SAAS,CAACG,MAAM;MACxBC,WAAW,EAAEC,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,oCAAoC,GAACP,SAAS,CAACG,MAAM;MAC1FK,KAAK,EAAER,SAAS,CAACQ;IACrB,CAAC;EACL;AACJ,CAAC;AAAAC,OAAA,CAAAC,OAAA,GAAAC,QAAA","ignoreList":[]}},"mtime":1681165458498},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst ProductSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  slug: {\n    type: String,\n    required: true,\n    maxlength: 1000\n  },\n  sku: {\n    type: String,\n    required: true\n  },\n  categorie: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'categorie',\n    required: true\n  },\n  price_pesos: {\n    type: Number,\n    required: true\n  },\n  price_usd: {\n    type: Number,\n    required: true\n  },\n  portada: {\n    type: String,\n    required: true\n  },\n  galerias: [{\n    type: Object,\n    required: false\n  }],\n  state: {\n    type: Number,\n    default: 1\n  },\n  //1 es en prueba o desarrollo , 2 va ser publico y 3 va ser anulado\n  stock: {\n    type: Number,\n    default: 0\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  resumen: {\n    type: String,\n    required: true\n  },\n  tags: {\n    type: String,\n    required: true\n  },\n  type_inventario: {\n    type: Number,\n    default: 1\n  }\n}, {\n  timestamps: true\n});\nconst Product = _mongoose.default.model('product', ProductSchema);\nvar _default = Product;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiUHJvZHVjdFNjaGVtYSIsIlNjaGVtYSIsInRpdGxlIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwibWF4bGVuZ3RoIiwic2x1ZyIsInNrdSIsImNhdGVnb3JpZSIsIk9iamVjdElkIiwicmVmIiwicHJpY2VfcGVzb3MiLCJOdW1iZXIiLCJwcmljZV91c2QiLCJwb3J0YWRhIiwiZ2FsZXJpYXMiLCJzdGF0ZSIsInN0b2NrIiwiZGVzY3JpcHRpb24iLCJyZXN1bWVuIiwidGFncyIsInR5cGVfaW52ZW50YXJpbyIsInRpbWVzdGFtcHMiLCJQcm9kdWN0IiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIlByb2R1Y3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3QgUHJvZHVjdFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgdGl0bGU6e3R5cGU6U3RyaW5nLHJlcXVpcmVkOnRydWUsbWF4bGVuZ3RoOjI1MH0sXHJcbiAgICBzbHVnOnt0eXBlOlN0cmluZyxyZXF1aXJlZDp0cnVlLG1heGxlbmd0aDoxMDAwfSxcclxuICAgIHNrdTp7dHlwZTpTdHJpbmcscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBjYXRlZ29yaWU6e3R5cGU6U2NoZW1hLk9iamVjdElkLHJlZjonY2F0ZWdvcmllJyxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHByaWNlX3Blc29zOnt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSxcclxuICAgIHByaWNlX3VzZDp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBwb3J0YWRhOnt0eXBlOlN0cmluZyxyZXF1aXJlZDp0cnVlfSxcclxuICAgIGdhbGVyaWFzOlt7dHlwZTpPYmplY3QscmVxdWlyZWQ6ZmFsc2V9XSxcclxuICAgIHN0YXRlOnt0eXBlOk51bWJlcixkZWZhdWx0OjF9LC8vMSBlcyBlbiBwcnVlYmEgbyBkZXNhcnJvbGxvICwgMiB2YSBzZXIgcHVibGljbyB5IDMgdmEgc2VyIGFudWxhZG9cclxuICAgIHN0b2NrOnt0eXBlOk51bWJlcixkZWZhdWx0OiAwfSxcclxuICAgIGRlc2NyaXB0aW9uOnt0eXBlOlN0cmluZyxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHJlc3VtZW46e3R5cGU6U3RyaW5nLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgdGFnczp7dHlwZTpTdHJpbmcscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICB0eXBlX2ludmVudGFyaW86e3R5cGU6TnVtYmVyLGRlZmF1bHQ6IDF9LFxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6dHJ1ZSxcclxufSk7XHJcblxyXG5jb25zdCBQcm9kdWN0ID0gbW9uZ29vc2UubW9kZWwoJ3Byb2R1Y3QnLFByb2R1Y3RTY2hlbWEpO1xyXG5leHBvcnQgZGVmYXVsdCBQcm9kdWN0OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ProductSchema","Schema","title","type","String","required","maxlength","slug","sku","categorie","ObjectId","ref","price_pesos","Number","price_usd","portada","galerias","state","stock","description","resumen","tags","type_inventario","timestamps","Product","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Product.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst ProductSchema = new Schema({\r\n    title:{type:String,required:true,maxlength:250},\r\n    slug:{type:String,required:true,maxlength:1000},\r\n    sku:{type:String,required:true},\r\n    categorie:{type:Schema.ObjectId,ref:'categorie',required:true},\r\n    price_pesos:{type:Number,required:true},\r\n    price_usd:{type:Number,required:true},\r\n    portada:{type:String,required:true},\r\n    galerias:[{type:Object,required:false}],\r\n    state:{type:Number,default:1},//1 es en prueba o desarrollo , 2 va ser publico y 3 va ser anulado\r\n    stock:{type:Number,default: 0},\r\n    description:{type:String,required:true},\r\n    resumen:{type:String,required:true},\r\n    tags:{type:String,required:true},\r\n    type_inventario:{type:Number,default: 1},\r\n},{\r\n    timestamps:true,\r\n});\r\n\r\nconst Product = mongoose.model('product',ProductSchema);\r\nexport default Product;"],"mappings":"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","ignoreList":[]}},"mtime":1725972130411},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Variedad.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst VariedadSchema = new _mongoose.Schema({\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  valor: {\n    type: String,\n    required: true\n  },\n  stock: {\n    type: Number,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst Variedad = _mongoose.default.model('variedad', VariedadSchema);\nvar _default = Variedad;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiVmFyaWVkYWRTY2hlbWEiLCJTY2hlbWEiLCJwcm9kdWN0IiwidHlwZSIsIk9iamVjdElkIiwicmVmIiwicmVxdWlyZWQiLCJ2YWxvciIsIlN0cmluZyIsInN0b2NrIiwiTnVtYmVyIiwidGltZXN0YW1wcyIsIlZhcmllZGFkIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIlZhcmllZGFkLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IFZhcmllZGFkU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICBwcm9kdWN0Ont0eXBlOlNjaGVtYS5PYmplY3RJZCxyZWY6J3Byb2R1Y3QnLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgdmFsb3I6e3R5cGU6U3RyaW5nLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgc3RvY2s6e3R5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWV9LFxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6dHJ1ZSxcclxufSk7XHJcblxyXG5jb25zdCBWYXJpZWRhZCA9IG1vbmdvb3NlLm1vZGVsKCd2YXJpZWRhZCcsVmFyaWVkYWRTY2hlbWEpO1xyXG5leHBvcnQgZGVmYXVsdCBWYXJpZWRhZDsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBQyx5QkFBQUMsV0FBQSxlQUFBQyxPQUFBLGtDQUFBQyxpQkFBQSxPQUFBRCxPQUFBLFFBQUFFLGdCQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsV0FBQSxXQUFBQSxXQUFBLEdBQUFHLGdCQUFBLEdBQUFELGlCQUFBLEtBQUFGLFdBQUE7QUFBQSxTQUFBSCx3QkFBQU8sR0FBQSxFQUFBSixXQUFBLFNBQUFBLFdBQUEsSUFBQUksR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsV0FBQUQsR0FBQSxRQUFBQSxHQUFBLG9CQUFBQSxHQUFBLHdCQUFBQSxHQUFBLDRCQUFBRSxPQUFBLEVBQUFGLEdBQUEsVUFBQUcsS0FBQSxHQUFBUix3QkFBQSxDQUFBQyxXQUFBLE9BQUFPLEtBQUEsSUFBQUEsS0FBQSxDQUFBQyxHQUFBLENBQUFKLEdBQUEsWUFBQUcsS0FBQSxDQUFBRSxHQUFBLENBQUFMLEdBQUEsU0FBQU0sTUFBQSxXQUFBQyxxQkFBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxHQUFBLElBQUFYLEdBQUEsUUFBQVcsR0FBQSxrQkFBQUgsTUFBQSxDQUFBSSxTQUFBLENBQUFDLGNBQUEsQ0FBQUMsSUFBQSxDQUFBZCxHQUFBLEVBQUFXLEdBQUEsU0FBQUksSUFBQSxHQUFBUixxQkFBQSxHQUFBQyxNQUFBLENBQUFFLHdCQUFBLENBQUFWLEdBQUEsRUFBQVcsR0FBQSxjQUFBSSxJQUFBLEtBQUFBLElBQUEsQ0FBQVYsR0FBQSxJQUFBVSxJQUFBLENBQUFDLEdBQUEsS0FBQVIsTUFBQSxDQUFBQyxjQUFBLENBQUFILE1BQUEsRUFBQUssR0FBQSxFQUFBSSxJQUFBLFlBQUFULE1BQUEsQ0FBQUssR0FBQSxJQUFBWCxHQUFBLENBQUFXLEdBQUEsU0FBQUwsTUFBQSxDQUFBSixPQUFBLEdBQUFGLEdBQUEsTUFBQUcsS0FBQSxJQUFBQSxLQUFBLENBQUFhLEdBQUEsQ0FBQWhCLEdBQUEsRUFBQU0sTUFBQSxZQUFBQSxNQUFBO0FBRXpDLE1BQU1XLGNBQWMsR0FBRyxJQUFJQyxnQkFBTSxDQUFDO0VBQzlCQyxPQUFPLEVBQUM7SUFBQ0MsSUFBSSxFQUFDRixnQkFBTSxDQUFDRyxRQUFRO0lBQUNDLEdBQUcsRUFBQyxTQUFTO0lBQUNDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDMURDLEtBQUssRUFBQztJQUFDSixJQUFJLEVBQUNLLE1BQU07SUFBQ0YsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNqQ0csS0FBSyxFQUFDO0lBQUNOLElBQUksRUFBQ08sTUFBTTtJQUFDSixRQUFRLEVBQUM7RUFBSTtBQUNwQyxDQUFDLEVBQUM7RUFDRUssVUFBVSxFQUFDO0FBQ2YsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsUUFBUSxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsVUFBVSxFQUFDZCxjQUFjLENBQUM7QUFBQyxJQUFBZSxRQUFBLEdBQzVDSCxRQUFRO0FBQUFJLE9BQUEsQ0FBQS9CLE9BQUEsR0FBQThCLFFBQUEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","VariedadSchema","Schema","product","type","ObjectId","ref","required","valor","String","stock","Number","timestamps","Variedad","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Variedad.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst VariedadSchema = new Schema({\r\n    product:{type:Schema.ObjectId,ref:'product',required:true},\r\n    valor:{type:String,required:true},\r\n    stock:{type:Number,required:true},\r\n},{\r\n    timestamps:true,\r\n});\r\n\r\nconst Variedad = mongoose.model('variedad',VariedadSchema);\r\nexport default Variedad;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAH,wBAAAO,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,CAAAJ,OAAA,GAAAF,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAEzC,MAAMW,cAAc,GAAG,IAAIC,gBAAM,CAAC;EAC9BC,OAAO,EAAC;IAACC,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,SAAS;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC1DC,KAAK,EAAC;IAACJ,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC;EAAI,CAAC;EACjCG,KAAK,EAAC;IAACN,IAAI,EAACO,MAAM;IAACJ,QAAQ,EAAC;EAAI;AACpC,CAAC,EAAC;EACEK,UAAU,EAAC;AACf,CAAC,CAAC;AAEF,MAAMC,QAAQ,GAAGC,iBAAQ,CAACC,KAAK,CAAC,UAAU,EAACd,cAAc,CAAC;AAAC,IAAAe,QAAA,GAC5CH,QAAQ;AAAAI,OAAA,CAAA/B,OAAA,GAAA8B,QAAA","ignoreList":[]}},"mtime":1676530728228},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  product_list: (product, variedades = [], avg_review = 0, count_review = 0, CampaingDiscount = null) => {\n    var IMAGEN_TWO = \"\";\n    let GALERIAS = product.galerias.map(galeria => {\n      galeria.imagen = process.env.URL_BACKEND + '/api/products/uploads/product/' + galeria.imagen; //*\n      return galeria;\n    });\n    var VAL = Math.floor(Math.random() * 3); //0,1,2\n    IMAGEN_TWO = GALERIAS[VAL].imagen;\n    return {\n      _id: product._id,\n      title: product.title,\n      sku: product.sku,\n      slug: product.slug,\n      imagen: process.env.URL_BACKEND + '/api/products/uploads/product/' + product.portada,\n      //*\n      categorie: product.categorie,\n      price_pesos: product.price_pesos,\n      price_usd: product.price_usd,\n      stock: product.stock,\n      description: product.description,\n      resumen: product.resumen,\n      tags: product.tags ? JSON.parse(product.tags) : [],\n      type_inventario: product.type_inventario,\n      state: product.state,\n      variedades: variedades,\n      imagen_two: IMAGEN_TWO,\n      galerias: GALERIAS,\n      avg_review: avg_review,\n      count_review: count_review,\n      campaing_discount: CampaingDiscount\n    };\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9kdWN0X2xpc3QiLCJwcm9kdWN0IiwidmFyaWVkYWRlcyIsImF2Z19yZXZpZXciLCJjb3VudF9yZXZpZXciLCJDYW1wYWluZ0Rpc2NvdW50IiwiSU1BR0VOX1RXTyIsIkdBTEVSSUFTIiwiZ2FsZXJpYXMiLCJtYXAiLCJnYWxlcmlhIiwiaW1hZ2VuIiwicHJvY2VzcyIsImVudiIsIlVSTF9CQUNLRU5EIiwiVkFMIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiX2lkIiwidGl0bGUiLCJza3UiLCJzbHVnIiwicG9ydGFkYSIsImNhdGVnb3JpZSIsInByaWNlX3Blc29zIiwicHJpY2VfdXNkIiwic3RvY2siLCJkZXNjcmlwdGlvbiIsInJlc3VtZW4iLCJ0YWdzIiwiSlNPTiIsInBhcnNlIiwidHlwZV9pbnZlbnRhcmlvIiwic3RhdGUiLCJpbWFnZW5fdHdvIiwiY2FtcGFpbmdfZGlzY291bnQiLCJleHBvcnRzIiwiZGVmYXVsdCIsIl9kZWZhdWx0Il0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxyZXNvdXJjZXNcXCIsInNvdXJjZXMiOlsiUHJvZHVjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XHJcbiAgICBwcm9kdWN0X2xpc3Q6IChwcm9kdWN0LHZhcmllZGFkZXMgPSBbXSxhdmdfcmV2aWV3ID0gMCxjb3VudF9yZXZpZXcgPSAwLENhbXBhaW5nRGlzY291bnQgPSBudWxsKSA9PiB7XHJcbiAgICAgICAgdmFyIElNQUdFTl9UV08gPSBcIlwiO1xyXG4gICAgICAgIGxldCBHQUxFUklBUyA9IHByb2R1Y3QuZ2FsZXJpYXMubWFwKChnYWxlcmlhKSA9PiB7XHJcbiAgICAgICAgICAgIGdhbGVyaWEuaW1hZ2VuID0gcHJvY2Vzcy5lbnYuVVJMX0JBQ0tFTkQrJy9hcGkvcHJvZHVjdHMvdXBsb2Fkcy9wcm9kdWN0LycrZ2FsZXJpYS5pbWFnZW47Ly8qXHJcbiAgICAgICAgICAgIHJldHVybiBnYWxlcmlhO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBWQUwgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAzKTsvLzAsMSwyXHJcbiAgICAgICAgSU1BR0VOX1RXTyA9IEdBTEVSSUFTW1ZBTF0uaW1hZ2VuO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIF9pZDogcHJvZHVjdC5faWQsXHJcbiAgICAgICAgICAgIHRpdGxlOiBwcm9kdWN0LnRpdGxlLFxyXG4gICAgICAgICAgICBza3U6IHByb2R1Y3Quc2t1LFxyXG4gICAgICAgICAgICBzbHVnOiBwcm9kdWN0LnNsdWcsXHJcbiAgICAgICAgICAgIGltYWdlbjogcHJvY2Vzcy5lbnYuVVJMX0JBQ0tFTkQrJy9hcGkvcHJvZHVjdHMvdXBsb2Fkcy9wcm9kdWN0LycrcHJvZHVjdC5wb3J0YWRhLC8vKlxyXG4gICAgICAgICAgICBjYXRlZ29yaWU6IHByb2R1Y3QuY2F0ZWdvcmllLFxyXG4gICAgICAgICAgICBwcmljZV9wZXNvczogcHJvZHVjdC5wcmljZV9wZXNvcyxcclxuICAgICAgICAgICAgcHJpY2VfdXNkOiBwcm9kdWN0LnByaWNlX3VzZCxcclxuICAgICAgICAgICAgc3RvY2s6IHByb2R1Y3Quc3RvY2ssXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBwcm9kdWN0LmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICByZXN1bWVuOiBwcm9kdWN0LnJlc3VtZW4sXHJcbiAgICAgICAgICAgIHRhZ3M6IHByb2R1Y3QudGFncyA/IEpTT04ucGFyc2UocHJvZHVjdC50YWdzKSA6IFtdLFxyXG4gICAgICAgICAgICB0eXBlX2ludmVudGFyaW86IHByb2R1Y3QudHlwZV9pbnZlbnRhcmlvLFxyXG4gICAgICAgICAgICBzdGF0ZTogcHJvZHVjdC5zdGF0ZSxcclxuICAgICAgICAgICAgdmFyaWVkYWRlczogdmFyaWVkYWRlcyxcclxuICAgICAgICAgICAgaW1hZ2VuX3R3bzogSU1BR0VOX1RXTyxcclxuICAgICAgICAgICAgZ2FsZXJpYXM6R0FMRVJJQVMsXHJcbiAgICAgICAgICAgIGF2Z19yZXZpZXc6IGF2Z19yZXZpZXcsXHJcbiAgICAgICAgICAgIGNvdW50X3JldmlldzogY291bnRfcmV2aWV3LFxyXG4gICAgICAgICAgICBjYW1wYWluZ19kaXNjb3VudDogQ2FtcGFpbmdEaXNjb3VudCxcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztlQUFlO0VBQ1hBLFlBQVksRUFBRUEsQ0FBQ0MsT0FBTyxFQUFDQyxVQUFVLEdBQUcsRUFBRSxFQUFDQyxVQUFVLEdBQUcsQ0FBQyxFQUFDQyxZQUFZLEdBQUcsQ0FBQyxFQUFDQyxnQkFBZ0IsR0FBRyxJQUFJLEtBQUs7SUFDL0YsSUFBSUMsVUFBVSxHQUFHLEVBQUU7SUFDbkIsSUFBSUMsUUFBUSxHQUFHTixPQUFPLENBQUNPLFFBQVEsQ0FBQ0MsR0FBRyxDQUFFQyxPQUFPLElBQUs7TUFDN0NBLE9BQU8sQ0FBQ0MsTUFBTSxHQUFHQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsV0FBVyxHQUFDLGdDQUFnQyxHQUFDSixPQUFPLENBQUNDLE1BQU0sQ0FBQztNQUN6RixPQUFPRCxPQUFPO0lBQ2xCLENBQUMsQ0FBQztJQUNGLElBQUlLLEdBQUcsR0FBR0MsSUFBSSxDQUFDQyxLQUFLLENBQUNELElBQUksQ0FBQ0UsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUN4Q1osVUFBVSxHQUFHQyxRQUFRLENBQUNRLEdBQUcsQ0FBQyxDQUFDSixNQUFNO0lBQ2pDLE9BQU87TUFDSFEsR0FBRyxFQUFFbEIsT0FBTyxDQUFDa0IsR0FBRztNQUNoQkMsS0FBSyxFQUFFbkIsT0FBTyxDQUFDbUIsS0FBSztNQUNwQkMsR0FBRyxFQUFFcEIsT0FBTyxDQUFDb0IsR0FBRztNQUNoQkMsSUFBSSxFQUFFckIsT0FBTyxDQUFDcUIsSUFBSTtNQUNsQlgsTUFBTSxFQUFFQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsV0FBVyxHQUFDLGdDQUFnQyxHQUFDYixPQUFPLENBQUNzQixPQUFPO01BQUM7TUFDakZDLFNBQVMsRUFBRXZCLE9BQU8sQ0FBQ3VCLFNBQVM7TUFDNUJDLFdBQVcsRUFBRXhCLE9BQU8sQ0FBQ3dCLFdBQVc7TUFDaENDLFNBQVMsRUFBRXpCLE9BQU8sQ0FBQ3lCLFNBQVM7TUFDNUJDLEtBQUssRUFBRTFCLE9BQU8sQ0FBQzBCLEtBQUs7TUFDcEJDLFdBQVcsRUFBRTNCLE9BQU8sQ0FBQzJCLFdBQVc7TUFDaENDLE9BQU8sRUFBRTVCLE9BQU8sQ0FBQzRCLE9BQU87TUFDeEJDLElBQUksRUFBRTdCLE9BQU8sQ0FBQzZCLElBQUksR0FBR0MsSUFBSSxDQUFDQyxLQUFLLENBQUMvQixPQUFPLENBQUM2QixJQUFJLENBQUMsR0FBRyxFQUFFO01BQ2xERyxlQUFlLEVBQUVoQyxPQUFPLENBQUNnQyxlQUFlO01BQ3hDQyxLQUFLLEVBQUVqQyxPQUFPLENBQUNpQyxLQUFLO01BQ3BCaEMsVUFBVSxFQUFFQSxVQUFVO01BQ3RCaUMsVUFBVSxFQUFFN0IsVUFBVTtNQUN0QkUsUUFBUSxFQUFDRCxRQUFRO01BQ2pCSixVQUFVLEVBQUVBLFVBQVU7TUFDdEJDLFlBQVksRUFBRUEsWUFBWTtNQUMxQmdDLGlCQUFpQixFQUFFL0I7SUFDdkIsQ0FBQztFQUNMO0FBQ0osQ0FBQztBQUFBZ0MsT0FBQSxDQUFBQyxPQUFBLEdBQUFDLFFBQUEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["product_list","product","variedades","avg_review","count_review","CampaingDiscount","IMAGEN_TWO","GALERIAS","galerias","map","galeria","imagen","process","env","URL_BACKEND","VAL","Math","floor","random","_id","title","sku","slug","portada","categorie","price_pesos","price_usd","stock","description","resumen","tags","JSON","parse","type_inventario","state","imagen_two","campaing_discount","exports","default","_default"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\resources\\","sources":["Product.js"],"sourcesContent":["export default {\r\n    product_list: (product,variedades = [],avg_review = 0,count_review = 0,CampaingDiscount = null) => {\r\n        var IMAGEN_TWO = \"\";\r\n        let GALERIAS = product.galerias.map((galeria) => {\r\n            galeria.imagen = process.env.URL_BACKEND+'/api/products/uploads/product/'+galeria.imagen;//*\r\n            return galeria;\r\n        });\r\n        var VAL = Math.floor(Math.random() * 3);//0,1,2\r\n        IMAGEN_TWO = GALERIAS[VAL].imagen;\r\n        return {\r\n            _id: product._id,\r\n            title: product.title,\r\n            sku: product.sku,\r\n            slug: product.slug,\r\n            imagen: process.env.URL_BACKEND+'/api/products/uploads/product/'+product.portada,//*\r\n            categorie: product.categorie,\r\n            price_pesos: product.price_pesos,\r\n            price_usd: product.price_usd,\r\n            stock: product.stock,\r\n            description: product.description,\r\n            resumen: product.resumen,\r\n            tags: product.tags ? JSON.parse(product.tags) : [],\r\n            type_inventario: product.type_inventario,\r\n            state: product.state,\r\n            variedades: variedades,\r\n            imagen_two: IMAGEN_TWO,\r\n            galerias:GALERIAS,\r\n            avg_review: avg_review,\r\n            count_review: count_review,\r\n            campaing_discount: CampaingDiscount,\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;eAAe;EACXA,YAAY,EAAEA,CAACC,OAAO,EAACC,UAAU,GAAG,EAAE,EAACC,UAAU,GAAG,CAAC,EAACC,YAAY,GAAG,CAAC,EAACC,gBAAgB,GAAG,IAAI,KAAK;IAC/F,IAAIC,UAAU,GAAG,EAAE;IACnB,IAAIC,QAAQ,GAAGN,OAAO,CAACO,QAAQ,CAACC,GAAG,CAAEC,OAAO,IAAK;MAC7CA,OAAO,CAACC,MAAM,GAAGC,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,gCAAgC,GAACJ,OAAO,CAACC,MAAM,CAAC;MACzF,OAAOD,OAAO;IAClB,CAAC,CAAC;IACF,IAAIK,GAAG,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IACxCZ,UAAU,GAAGC,QAAQ,CAACQ,GAAG,CAAC,CAACJ,MAAM;IACjC,OAAO;MACHQ,GAAG,EAAElB,OAAO,CAACkB,GAAG;MAChBC,KAAK,EAAEnB,OAAO,CAACmB,KAAK;MACpBC,GAAG,EAAEpB,OAAO,CAACoB,GAAG;MAChBC,IAAI,EAAErB,OAAO,CAACqB,IAAI;MAClBX,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,gCAAgC,GAACb,OAAO,CAACsB,OAAO;MAAC;MACjFC,SAAS,EAAEvB,OAAO,CAACuB,SAAS;MAC5BC,WAAW,EAAExB,OAAO,CAACwB,WAAW;MAChCC,SAAS,EAAEzB,OAAO,CAACyB,SAAS;MAC5BC,KAAK,EAAE1B,OAAO,CAAC0B,KAAK;MACpBC,WAAW,EAAE3B,OAAO,CAAC2B,WAAW;MAChCC,OAAO,EAAE5B,OAAO,CAAC4B,OAAO;MACxBC,IAAI,EAAE7B,OAAO,CAAC6B,IAAI,GAAGC,IAAI,CAACC,KAAK,CAAC/B,OAAO,CAAC6B,IAAI,CAAC,GAAG,EAAE;MAClDG,eAAe,EAAEhC,OAAO,CAACgC,eAAe;MACxCC,KAAK,EAAEjC,OAAO,CAACiC,KAAK;MACpBhC,UAAU,EAAEA,UAAU;MACtBiC,UAAU,EAAE7B,UAAU;MACtBE,QAAQ,EAACD,QAAQ;MACjBJ,UAAU,EAAEA,UAAU;MACtBC,YAAY,EAAEA,YAAY;MAC1BgC,iBAAiB,EAAE/B;IACvB,CAAC;EACL;AACJ,CAAC;AAAAgC,OAAA,CAAAC,OAAA,GAAAC,QAAA","ignoreList":[]}},"mtime":1725972130412},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _ProductController = _interopRequireDefault(require(\"../controllers/ProductController\"));\nvar _VariedadController = _interopRequireDefault(require(\"../controllers/VariedadController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/product'\n});\nconst router = (0, _expressPromiseRouter.default)();\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _ProductController.default.register);\nrouter.post(\"/register_imagen\", [_auth.default.verifyAdmin, path], _ProductController.default.register_imagen);\nrouter.post(\"/remove_imagen\", [_auth.default.verifyAdmin, path], _ProductController.default.remove_imagen);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _ProductController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _ProductController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _ProductController.default.remove);\nrouter.get(\"/uploads/product/:img\", _ProductController.default.obtener_imagen);\nrouter.get(\"/show/:id\", _ProductController.default.show);\n\n// VARIEDAD\n\nrouter.post(\"/register-variedad\", [_auth.default.verifyAdmin, path], _VariedadController.default.register);\nrouter.put(\"/update-variedad\", [_auth.default.verifyAdmin, path], _VariedadController.default.update);\nrouter.delete(\"/delete-variedad/:id\", [_auth.default.verifyAdmin, path], _VariedadController.default.delete);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Qcm9kdWN0Q29udHJvbGxlciIsIl9WYXJpZWRhZENvbnRyb2xsZXIiLCJfYXV0aCIsIl9jb25uZWN0TXVsdGlwYXJ0eSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwicGF0aCIsIm11bHRpcGFydHkiLCJ1cGxvYWREaXIiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlBZG1pbiIsInByb2R1Y3RDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJyZWdpc3Rlcl9pbWFnZW4iLCJyZW1vdmVfaW1hZ2VuIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImRlbGV0ZSIsInJlbW92ZSIsIm9idGVuZXJfaW1hZ2VuIiwic2hvdyIsInZhcmllZGFkQ29udHJvbGxlciIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxccm91dGVyXFwiLCJzb3VyY2VzIjpbIlByb2R1Y3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IHByb2R1Y3RDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL1Byb2R1Y3RDb250cm9sbGVyJ1xyXG5pbXBvcnQgdmFyaWVkYWRDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL1ZhcmllZGFkQ29udHJvbGxlcidcclxuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCdcclxuXHJcbmltcG9ydCBtdWx0aXBhcnR5IGZyb20gJ2Nvbm5lY3QtbXVsdGlwYXJ0eSdcclxudmFyIHBhdGggPSBtdWx0aXBhcnR5KHt1cGxvYWREaXI6ICcuL3VwbG9hZHMvcHJvZHVjdCd9KVxyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcbi8vIGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcnMvcmVnaXN0ZXJcclxuXHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsW2F1dGgudmVyaWZ5QWRtaW4scGF0aF0scHJvZHVjdENvbnRyb2xsZXIucmVnaXN0ZXIpO1xyXG5cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJfaW1hZ2VuXCIsW2F1dGgudmVyaWZ5QWRtaW4scGF0aF0scHJvZHVjdENvbnRyb2xsZXIucmVnaXN0ZXJfaW1hZ2VuKTtcclxucm91dGVyLnBvc3QoXCIvcmVtb3ZlX2ltYWdlblwiLFthdXRoLnZlcmlmeUFkbWluLHBhdGhdLHByb2R1Y3RDb250cm9sbGVyLnJlbW92ZV9pbWFnZW4pO1xyXG5cclxucm91dGVyLnB1dChcIi91cGRhdGVcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSxwcm9kdWN0Q29udHJvbGxlci51cGRhdGUpO1xyXG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIixhdXRoLnZlcmlmeUFkbWluLHByb2R1Y3RDb250cm9sbGVyLmxpc3QpO1xyXG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZVwiLGF1dGgudmVyaWZ5QWRtaW4scHJvZHVjdENvbnRyb2xsZXIucmVtb3ZlKTtcclxuXHJcbnJvdXRlci5nZXQoXCIvdXBsb2Fkcy9wcm9kdWN0LzppbWdcIixwcm9kdWN0Q29udHJvbGxlci5vYnRlbmVyX2ltYWdlbik7XHJcblxyXG5yb3V0ZXIuZ2V0KFwiL3Nob3cvOmlkXCIscHJvZHVjdENvbnRyb2xsZXIuc2hvdyk7XHJcblxyXG4vLyBWQVJJRURBRFxyXG5cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXItdmFyaWVkYWRcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSx2YXJpZWRhZENvbnRyb2xsZXIucmVnaXN0ZXIpO1xyXG5yb3V0ZXIucHV0KFwiL3VwZGF0ZS12YXJpZWRhZFwiLFthdXRoLnZlcmlmeUFkbWluLHBhdGhdLHZhcmllZGFkQ29udHJvbGxlci51cGRhdGUpO1xyXG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZS12YXJpZWRhZC86aWRcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSx2YXJpZWRhZENvbnRyb2xsZXIuZGVsZXRlKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxrQkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsbUJBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLEtBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUVBLElBQUFJLGtCQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFBMkMsU0FBQUQsdUJBQUFNLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFDM0MsSUFBSUcsSUFBSSxHQUFHLElBQUFDLDBCQUFVLEVBQUM7RUFBQ0MsU0FBUyxFQUFFO0FBQW1CLENBQUMsQ0FBQztBQUN2RCxNQUFNQyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBQ3hCOztBQUVBRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUMsQ0FBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUNQLElBQUksQ0FBQyxFQUFDUSwwQkFBaUIsQ0FBQ0MsUUFBUSxDQUFDO0FBRTNFTixNQUFNLENBQUNFLElBQUksQ0FBQyxrQkFBa0IsRUFBQyxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNRLDBCQUFpQixDQUFDRSxlQUFlLENBQUM7QUFDekZQLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLGdCQUFnQixFQUFDLENBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFDUCxJQUFJLENBQUMsRUFBQ1EsMEJBQWlCLENBQUNHLGFBQWEsQ0FBQztBQUVyRlIsTUFBTSxDQUFDUyxHQUFHLENBQUMsU0FBUyxFQUFDLENBQUNOLGFBQUksQ0FBQ0MsV0FBVyxFQUFDUCxJQUFJLENBQUMsRUFBQ1EsMEJBQWlCLENBQUNLLE1BQU0sQ0FBQztBQUN0RVYsTUFBTSxDQUFDVyxHQUFHLENBQUMsT0FBTyxFQUFDUixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMEJBQWlCLENBQUNPLElBQUksQ0FBQztBQUMzRFosTUFBTSxDQUFDYSxNQUFNLENBQUMsU0FBUyxFQUFDVixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMEJBQWlCLENBQUNTLE1BQU0sQ0FBQztBQUVsRWQsTUFBTSxDQUFDVyxHQUFHLENBQUMsdUJBQXVCLEVBQUNOLDBCQUFpQixDQUFDVSxjQUFjLENBQUM7QUFFcEVmLE1BQU0sQ0FBQ1csR0FBRyxDQUFDLFdBQVcsRUFBQ04sMEJBQWlCLENBQUNXLElBQUksQ0FBQzs7QUFFOUM7O0FBRUFoQixNQUFNLENBQUNFLElBQUksQ0FBQyxvQkFBb0IsRUFBQyxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNvQiwyQkFBa0IsQ0FBQ1gsUUFBUSxDQUFDO0FBQ3JGTixNQUFNLENBQUNTLEdBQUcsQ0FBQyxrQkFBa0IsRUFBQyxDQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNvQiwyQkFBa0IsQ0FBQ1AsTUFBTSxDQUFDO0FBQ2hGVixNQUFNLENBQUNhLE1BQU0sQ0FBQyxzQkFBc0IsRUFBQyxDQUFDVixhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNvQiwyQkFBa0IsQ0FBQ0osTUFBTSxDQUFDO0FBQUMsSUFBQUssUUFBQSxHQUV6RWxCLE1BQU07QUFBQW1CLE9BQUEsQ0FBQXZCLE9BQUEsR0FBQXNCLFFBQUEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_ProductController","_VariedadController","_auth","_connectMultiparty","obj","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","productController","register","register_imagen","remove_imagen","put","update","get","list","delete","remove","obtener_imagen","show","variedadController","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["Product.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport productController from '../controllers/ProductController'\r\nimport variedadController from '../controllers/VariedadController'\r\nimport auth from '../middlewares/auth'\r\n\r\nimport multiparty from 'connect-multiparty'\r\nvar path = multiparty({uploadDir: './uploads/product'})\r\nconst router = routerx();\r\n// http://localhost:3000/api/users/register\r\n\r\nrouter.post(\"/register\",[auth.verifyAdmin,path],productController.register);\r\n\r\nrouter.post(\"/register_imagen\",[auth.verifyAdmin,path],productController.register_imagen);\r\nrouter.post(\"/remove_imagen\",[auth.verifyAdmin,path],productController.remove_imagen);\r\n\r\nrouter.put(\"/update\",[auth.verifyAdmin,path],productController.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,productController.list);\r\nrouter.delete(\"/delete\",auth.verifyAdmin,productController.remove);\r\n\r\nrouter.get(\"/uploads/product/:img\",productController.obtener_imagen);\r\n\r\nrouter.get(\"/show/:id\",productController.show);\r\n\r\n// VARIEDAD\r\n\r\nrouter.post(\"/register-variedad\",[auth.verifyAdmin,path],variedadController.register);\r\nrouter.put(\"/update-variedad\",[auth.verifyAdmin,path],variedadController.update);\r\nrouter.delete(\"/delete-variedad/:id\",[auth.verifyAdmin,path],variedadController.delete);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,kBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,mBAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,KAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAEA,IAAAI,kBAAA,GAAAL,sBAAA,CAAAC,OAAA;AAA2C,SAAAD,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAC3C,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAE;AAAmB,CAAC,CAAC;AACvD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAC,CAACC,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,0BAAiB,CAACC,QAAQ,CAAC;AAE3EN,MAAM,CAACE,IAAI,CAAC,kBAAkB,EAAC,CAACC,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,0BAAiB,CAACE,eAAe,CAAC;AACzFP,MAAM,CAACE,IAAI,CAAC,gBAAgB,EAAC,CAACC,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,0BAAiB,CAACG,aAAa,CAAC;AAErFR,MAAM,CAACS,GAAG,CAAC,SAAS,EAAC,CAACN,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,0BAAiB,CAACK,MAAM,CAAC;AACtEV,MAAM,CAACW,GAAG,CAAC,OAAO,EAACR,aAAI,CAACC,WAAW,EAACC,0BAAiB,CAACO,IAAI,CAAC;AAC3DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAACV,aAAI,CAACC,WAAW,EAACC,0BAAiB,CAACS,MAAM,CAAC;AAElEd,MAAM,CAACW,GAAG,CAAC,uBAAuB,EAACN,0BAAiB,CAACU,cAAc,CAAC;AAEpEf,MAAM,CAACW,GAAG,CAAC,WAAW,EAACN,0BAAiB,CAACW,IAAI,CAAC;;AAE9C;;AAEAhB,MAAM,CAACE,IAAI,CAAC,oBAAoB,EAAC,CAACC,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACoB,2BAAkB,CAACX,QAAQ,CAAC;AACrFN,MAAM,CAACS,GAAG,CAAC,kBAAkB,EAAC,CAACN,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACoB,2BAAkB,CAACP,MAAM,CAAC;AAChFV,MAAM,CAACa,MAAM,CAAC,sBAAsB,EAAC,CAACV,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACoB,2BAAkB,CAACJ,MAAM,CAAC;AAAC,IAAAK,QAAA,GAEzElB,MAAM;AAAAmB,OAAA,CAAAvB,OAAA,GAAAsB,QAAA","ignoreList":[]}},"mtime":1677538217364},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\ProductController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let valid_Product = await _models.default.Product.findOne({\n        title: data.title\n      });\n      if (valid_Product) {\n        res.status(200).json({\n          code: 403,\n          message: 'EL PRODUCTO YA EXISTE'\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g, '-').replace(/[^\\w-]+/g, '');\n      if (req.files) {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        data.portada = portada_name;\n      }\n      let product = await _models.default.Product.create(data);\n      res.status(200).json({\n        message: \"EL PRODUCTO SE REGISTRO CON EXITO\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"COURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      let valid_Product = await _models.default.Product.findOne({\n        title: data.title,\n        _id: {\n          $ne: data._id\n        }\n      });\n      if (valid_Product) {\n        res.status(200).json({\n          code: 403,\n          message: 'EL PRODUCTO YA EXISTE'\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g, '-').replace(/[^\\w-]+/g, '');\n      if (req.files && req.files.imagen) {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        data.portada = portada_name;\n      }\n      await _models.default.Product.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      res.status(200).json({\n        message: \"EL PRODUCTO SE REGISTRO SE ACTUALIZO CON EXITO\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"COURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var filter = [];\n      if (req.query.search) {\n        filter.push({\n          \"title\": new RegExp(req.query.search, 'i')\n        });\n      }\n      if (req.query.categorie) {\n        filter.push({\n          \"categorie\": req.query.categorie\n        });\n      }\n      let products = await _models.default.Product.find({\n        $and: filter\n      }).populate('categorie');\n      products = products.map(product => {\n        return _resources.default.Product.product_list(product);\n      });\n      res.status(200).json({\n        products: products\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"COURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Product.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: \"EL PRODUCTO SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"COURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/product/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/product/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  show: async (req, res) => {\n    try {\n      var product_id = req.params.id;\n      let PRODUCT = await _models.default.Product.findById({\n        _id: product_id\n      }).populate(\"categorie\");\n      let VARIEDADES = await _models.default.Variedad.find({\n        product: product_id\n      });\n      res.status(200).json({\n        product: _resources.default.Product.product_list(PRODUCT, VARIEDADES)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_imagen: async (req, res) => {\n    try {\n      var img_path = req.files.imagen.path;\n      var name = img_path.split('\\\\');\n      var imagen_name = name[2];\n      let product = await _models.default.Product.findByIdAndUpdate({\n        _id: req.body._id\n      }, {\n        $push: {\n          galerias: {\n            imagen: imagen_name,\n            _id: req.body.__id\n          }\n        }\n      });\n      res.status(200).json({\n        message: \"LA IMAGEN SE SUBIO PERFECTAMENTE\",\n        imagen: {\n          imagen: process.env.URL_BACKEND + '/api/products/uploads/product/' + imagen_name,\n          _id: req.body.__id\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  remove_imagen: async (req, res) => {\n    try {\n      await _models.default.Product.findByIdAndUpdate({\n        _id: req.body._id\n      }, {\n        $pull: {\n          galerias: {\n            _id: req.body.__id\n          }\n        }\n      });\n      res.status(200).json({\n        message: \"LA IMAGEN SE ELIMINO PERFECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwiX2ZzIiwiX3BhdGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwicmVnaXN0ZXIiLCJyZXEiLCJyZXMiLCJkYXRhIiwiYm9keSIsInZhbGlkX1Byb2R1Y3QiLCJtb2RlbHMiLCJQcm9kdWN0IiwiZmluZE9uZSIsInRpdGxlIiwic3RhdHVzIiwianNvbiIsImNvZGUiLCJtZXNzYWdlIiwic2x1ZyIsInRvTG93ZXJDYXNlIiwicmVwbGFjZSIsImZpbGVzIiwiaW1nX3BhdGgiLCJpbWFnZW4iLCJwYXRoIiwibmFtZSIsInNwbGl0IiwicG9ydGFkYV9uYW1lIiwicG9ydGFkYSIsInByb2R1Y3QiLCJjcmVhdGUiLCJlcnJvciIsInNlbmQiLCJ1cGRhdGUiLCJfaWQiLCIkbmUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsImxpc3QiLCJmaWx0ZXIiLCJxdWVyeSIsInNlYXJjaCIsInB1c2giLCJSZWdFeHAiLCJjYXRlZ29yaWUiLCJwcm9kdWN0cyIsImZpbmQiLCIkYW5kIiwicG9wdWxhdGUiLCJtYXAiLCJyZXNvdXJjZXMiLCJwcm9kdWN0X2xpc3QiLCJyZW1vdmUiLCJmaW5kQnlJZEFuZERlbGV0ZSIsIm9idGVuZXJfaW1hZ2VuIiwiaW1nIiwicGFyYW1zIiwiZnMiLCJzdGF0IiwiZXJyIiwicGF0aF9pbWciLCJzZW5kRmlsZSIsInJlc29sdmUiLCJjb25zb2xlIiwibG9nIiwic2hvdyIsInByb2R1Y3RfaWQiLCJpZCIsIlBST0RVQ1QiLCJmaW5kQnlJZCIsIlZBUklFREFERVMiLCJWYXJpZWRhZCIsInJlZ2lzdGVyX2ltYWdlbiIsImltYWdlbl9uYW1lIiwiJHB1c2giLCJnYWxlcmlhcyIsIl9faWQiLCJwcm9jZXNzIiwiZW52IiwiVVJMX0JBQ0tFTkQiLCJyZW1vdmVfaW1hZ2VuIiwiJHB1bGwiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJQcm9kdWN0Q29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gJy4uL21vZGVscydcclxuaW1wb3J0IHJlc291cmNlcyBmcm9tICcuLi9yZXNvdXJjZXMnO1xyXG5pbXBvcnQgZnMgZnJvbSAnZnMnXHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICByZWdpc3RlcjogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgdmFsaWRfUHJvZHVjdCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRPbmUoe3RpdGxlOiBkYXRhLnRpdGxlfSk7XHJcblxyXG4gICAgICAgICAgICBpZih2YWxpZF9Qcm9kdWN0KXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBjb2RlOiA0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0VMIFBST0RVQ1RPIFlBIEVYSVNURSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBkYXRhLnNsdWcgPSBkYXRhLnRpdGxlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvIC9nLCctJykucmVwbGFjZSgvW15cXHctXSsvZywnJyk7XHJcbiAgICAgICAgICAgIGlmKHJlcS5maWxlcyl7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMuaW1hZ2VuLnBhdGg7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9ydGFkYV9uYW1lID0gbmFtZVsyXTtcclxuICAgICAgICAgICAgICAgIGRhdGEucG9ydGFkYSA9IHBvcnRhZGFfbmFtZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IHByb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5jcmVhdGUoZGF0YSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFBST0RVQ1RPIFNFIFJFR0lTVFJPIENPTiBFWElUT1wiXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNPVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlOmFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbGV0IHZhbGlkX1Byb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kT25lKHt0aXRsZTogZGF0YS50aXRsZSwgX2lkOiB7JG5lIDogZGF0YS5faWR9fSk7XHJcblxyXG4gICAgICAgICAgICBpZih2YWxpZF9Qcm9kdWN0KXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBjb2RlOiA0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0VMIFBST0RVQ1RPIFlBIEVYSVNURSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBkYXRhLnNsdWcgPSBkYXRhLnRpdGxlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvIC9nLCctJykucmVwbGFjZSgvW15cXHctXSsvZywnJyk7XHJcbiAgICAgICAgICAgIGlmKHJlcS5maWxlcyAmJiByZXEuZmlsZXMuaW1hZ2VuKXtcclxuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5pbWFnZW4ucGF0aDtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJ1xcXFwnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xyXG4gICAgICAgICAgICAgICAgZGF0YS5wb3J0YWRhID0gcG9ydGFkYV9uYW1lO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOmRhdGEuX2lkfSxkYXRhKTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgUFJPRFVDVE8gU0UgUkVHSVNUUk8gU0UgQUNUVUFMSVpPIENPTiBFWElUT1wiXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNPVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbGlzdDphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIGZpbHRlciA9IFtdO1xyXG4gICAgICAgICAgICBpZihyZXEucXVlcnkuc2VhcmNoKXtcclxuICAgICAgICAgICAgICAgIGZpbHRlci5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgIHtcInRpdGxlXCI6IG5ldyBSZWdFeHAocmVxLnF1ZXJ5LnNlYXJjaCwnaScpfSxcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYocmVxLnF1ZXJ5LmNhdGVnb3JpZSl7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXIucHVzaChcclxuICAgICAgICAgICAgICAgICAgICB7XCJjYXRlZ29yaWVcIjogcmVxLnF1ZXJ5LmNhdGVnb3JpZX1cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IHByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7XHJcbiAgICAgICAgICAgICAgICAkYW5kOmZpbHRlcixcclxuICAgICAgICAgICAgfSkucG9wdWxhdGUoJ2NhdGVnb3JpZScpXHJcbiAgICAgICAgICAgIHByb2R1Y3RzID0gcHJvZHVjdHMubWFwKHByb2R1Y3QgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlcy5Qcm9kdWN0LnByb2R1Y3RfbGlzdChwcm9kdWN0KTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIHByb2R1Y3RzOiBwcm9kdWN0cyxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNPVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgcmVtb3ZlOmFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgX2lkID0gcmVxLnF1ZXJ5Ll9pZDtcclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWRBbmREZWxldGUoe19pZDogX2lkfSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFBST0RVQ1RPIFNFIEVMSU1JTk8gQ09SUkVDVEFNRU5URVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQ09VUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBvYnRlbmVyX2ltYWdlbjphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIGltZyA9IHJlcS5wYXJhbXNbJ2ltZyddO1xyXG5cclxuICAgICAgICAgICAgZnMuc3RhdCgnLi91cGxvYWRzL3Byb2R1Y3QvJytpbWcsIGZ1bmN0aW9uKGVycil7XHJcbiAgICAgICAgICAgICAgICBpZighZXJyKXtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcGF0aF9pbWcgPSAnLi91cGxvYWRzL3Byb2R1Y3QvJytpbWc7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKHBhdGgucmVzb2x2ZShwYXRoX2ltZykpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9kZWZhdWx0LmpwZyc7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKHBhdGgucmVzb2x2ZShwYXRoX2ltZykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHNob3c6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgcHJvZHVjdF9pZCA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgICAgICAgICAgIGxldCBQUk9EVUNUID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWQoe19pZDogcHJvZHVjdF9pZH0pLnBvcHVsYXRlKFwiY2F0ZWdvcmllXCIpO1xyXG5cclxuICAgICAgICAgICAgbGV0IFZBUklFREFERVMgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZCh7cHJvZHVjdDogcHJvZHVjdF9pZH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBwcm9kdWN0OiByZXNvdXJjZXMuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUFJPRFVDVCxWQVJJRURBREVTKSxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICByZWdpc3Rlcl9pbWFnZW46YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5pbWFnZW4ucGF0aDtcclxuICAgICAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnXFxcXCcpO1xyXG4gICAgICAgICAgICB2YXIgaW1hZ2VuX25hbWUgPSBuYW1lWzJdO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbGV0IHByb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiByZXEuYm9keS5faWR9LHtcclxuICAgICAgICAgICAgICAgICRwdXNoOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2FsZXJpYXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VuOiBpbWFnZW5fbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2lkOiByZXEuYm9keS5fX2lkXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkxBIElNQUdFTiBTRSBTVUJJTyBQRVJGRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICBpbWFnZW46IHtcclxuICAgICAgICAgICAgICAgICAgICBpbWFnZW46IHByb2Nlc3MuZW52LlVSTF9CQUNLRU5EKycvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC8nK2ltYWdlbl9uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIF9pZDogcmVxLmJvZHkuX19pZFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICByZW1vdmVfaW1hZ2VuOmFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiByZXEuYm9keS5faWR9LHtcclxuICAgICAgICAgICAgICAgICRwdWxsOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2FsZXJpYXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2lkOiByZXEuYm9keS5fX2lkXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkxBIElNQUdFTiBTRSBFTElNSU5PIFBFUkZFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxHQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxLQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBdUIsU0FBQUQsdUJBQUFLLEdB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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","_fs","_path","obj","__esModule","default","_default","register","req","res","data","body","valid_Product","models","Product","findOne","title","status","json","code","message","slug","toLowerCase","replace","files","img_path","imagen","path","name","split","portada_name","portada","product","create","error","send","update","_id","$ne","findByIdAndUpdate","list","filter","query","search","push","RegExp","categorie","products","find","$and","populate","map","resources","product_list","remove","findByIdAndDelete","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","console","log","show","product_id","id","PRODUCT","findById","VARIEDADES","Variedad","register_imagen","imagen_name","$push","galerias","__id","process","env","URL_BACKEND","remove_imagen","$pull","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["ProductController.js"],"sourcesContent":["import models from '../models'\r\nimport resources from '../resources';\r\nimport fs from 'fs'\r\nimport path from 'path'\r\n\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            \r\n            let valid_Product = await models.Product.findOne({title: data.title});\r\n\r\n            if(valid_Product){\r\n                res.status(200).json({\r\n                    code: 403,\r\n                    message: 'EL PRODUCTO YA EXISTE'\r\n                });\r\n                return;\r\n            }\r\n\r\n            data.slug = data.title.toLowerCase().replace(/ /g,'-').replace(/[^\\w-]+/g,'');\r\n            if(req.files){\r\n                var img_path = req.files.imagen.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                data.portada = portada_name;\r\n            }\r\n\r\n            let product = await models.Product.create(data);\r\n\r\n            res.status(200).json({\r\n                message: \"EL PRODUCTO SE REGISTRO CON EXITO\"\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"COURRIO UN PROBLEMA\"\r\n            });\r\n        }\r\n    },\r\n    update:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            \r\n            let valid_Product = await models.Product.findOne({title: data.title, _id: {$ne : data._id}});\r\n\r\n            if(valid_Product){\r\n                res.status(200).json({\r\n                    code: 403,\r\n                    message: 'EL PRODUCTO YA EXISTE'\r\n                });\r\n                return;\r\n            }\r\n\r\n            data.slug = data.title.toLowerCase().replace(/ /g,'-').replace(/[^\\w-]+/g,'');\r\n            if(req.files && req.files.imagen){\r\n                var img_path = req.files.imagen.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                data.portada = portada_name;\r\n            }\r\n\r\n            await models.Product.findByIdAndUpdate({_id:data._id},data);\r\n\r\n            res.status(200).json({\r\n                message: \"EL PRODUCTO SE REGISTRO SE ACTUALIZO CON EXITO\"\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"COURRIO UN PROBLEMA\"\r\n            });\r\n        }\r\n    },\r\n    list:async(req,res) => {\r\n        try {\r\n            var filter = [];\r\n            if(req.query.search){\r\n                filter.push(\r\n                    {\"title\": new RegExp(req.query.search,'i')},\r\n                );\r\n            }\r\n            if(req.query.categorie){\r\n                filter.push(\r\n                    {\"categorie\": req.query.categorie}\r\n                );\r\n            }\r\n            let products = await models.Product.find({\r\n                $and:filter,\r\n            }).populate('categorie')\r\n            products = products.map(product => {\r\n                return resources.Product.product_list(product);\r\n            })\r\n\r\n            res.status(200).json({\r\n                products: products,\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"COURRIO UN PROBLEMA\"\r\n            });\r\n        }\r\n    },\r\n    remove:async(req,res) => {\r\n        try {\r\n            let _id = req.query._id;\r\n            await models.Product.findByIdAndDelete({_id: _id});\r\n\r\n            res.status(200).json({\r\n                message: \"EL PRODUCTO SE ELIMINO CORRECTAMENTE\"\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"COURRIO UN PROBLEMA\"\r\n            });\r\n        }\r\n    },\r\n    obtener_imagen:async(req,res) => {\r\n        try {\r\n            var img = req.params['img'];\r\n\r\n            fs.stat('./uploads/product/'+img, function(err){\r\n                if(!err){\r\n                    let path_img = './uploads/product/'+img;\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }else{\r\n                    let path_img = './uploads/default.jpg';\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    show: async(req,res) => {\r\n        try {\r\n            var product_id = req.params.id;\r\n            let PRODUCT = await models.Product.findById({_id: product_id}).populate(\"categorie\");\r\n\r\n            let VARIEDADES = await models.Variedad.find({product: product_id});\r\n            res.status(200).json({\r\n                product: resources.Product.product_list(PRODUCT,VARIEDADES),\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    register_imagen:async(req,res) => {\r\n        try {\r\n            var img_path = req.files.imagen.path;\r\n            var name = img_path.split('\\\\');\r\n            var imagen_name = name[2];\r\n            \r\n            let product = await models.Product.findByIdAndUpdate({_id: req.body._id},{\r\n                $push: {\r\n                    galerias: {\r\n                        imagen: imagen_name,\r\n                        _id: req.body.__id\r\n                    }\r\n                }\r\n            })\r\n            res.status(200).json({\r\n                message: \"LA IMAGEN SE SUBIO PERFECTAMENTE\",\r\n                imagen: {\r\n                    imagen: process.env.URL_BACKEND+'/api/products/uploads/product/'+imagen_name,\r\n                    _id: req.body.__id\r\n                }\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n        }\r\n    },\r\n    remove_imagen:async(req,res) => {\r\n        try {\r\n            await models.Product.findByIdAndUpdate({_id: req.body._id},{\r\n                $pull: {\r\n                    galerias: {\r\n                        _id: req.body.__id\r\n                    }\r\n                }\r\n            })\r\n            res.status(200).json({\r\n                message: \"LA IMAGEN SE ELIMINO PERFECTAMENTE\",\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1681165449978},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\VariedadController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let variedad_exits = await _models.default.Variedad.findOne({\n        valor: data.valor,\n        product: data.product\n      });\n      var variedad = null;\n      if (variedad_exits) {\n        data.stock = variedad_exits.stock + data.stock;\n        await _models.default.Variedad.findByIdAndUpdate({\n          _id: variedad_exits._id\n        }, data);\n        variedad = await _models.default.Variedad.findById({\n          _id: variedad_exits._id\n        });\n      } else {\n        variedad = await _models.default.Variedad.create(data);\n      }\n      res.status(200).json({\n        variedad: variedad\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      await _models.default.Variedad.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let variedad = await _models.default.Variedad.findById({\n        _id: data._id\n      });\n      res.status(200).json({\n        variedad: variedad\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.params.id;\n      await _models.default.Variedad.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: \"SE ELIMINO LA VARIEDAD\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwicmVnaXN0ZXIiLCJyZXEiLCJyZXMiLCJkYXRhIiwiYm9keSIsInZhcmllZGFkX2V4aXRzIiwibW9kZWxzIiwiVmFyaWVkYWQiLCJmaW5kT25lIiwidmFsb3IiLCJwcm9kdWN0IiwidmFyaWVkYWQiLCJzdG9jayIsImZpbmRCeUlkQW5kVXBkYXRlIiwiX2lkIiwiZmluZEJ5SWQiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJzZW5kIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJ1cGRhdGUiLCJkZWxldGUiLCJwYXJhbXMiLCJpZCIsImZpbmRCeUlkQW5kRGVsZXRlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiVmFyaWVkYWRDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSAnLi4vbW9kZWxzJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcmVnaXN0ZXI6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XHJcblxyXG4gICAgICAgICAgICBsZXQgdmFyaWVkYWRfZXhpdHMgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZE9uZSh7dmFsb3I6IGRhdGEudmFsb3IsIHByb2R1Y3Q6IGRhdGEucHJvZHVjdH0pO1xyXG4gICAgICAgICAgICB2YXIgdmFyaWVkYWQgPSBudWxsO1xyXG4gICAgICAgICAgICBpZih2YXJpZWRhZF9leGl0cyl7XHJcbiAgICAgICAgICAgICAgICBkYXRhLnN0b2NrID0gdmFyaWVkYWRfZXhpdHMuc3RvY2sgKyBkYXRhLnN0b2NrO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHZhcmllZGFkX2V4aXRzLl9pZH0sZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB2YXJpZWRhZCA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kQnlJZCh7X2lkOiB2YXJpZWRhZF9leGl0cy5faWR9KTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICB2YXJpZWRhZCA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5jcmVhdGUoZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIHZhcmllZGFkOiB2YXJpZWRhZFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB1cGRhdGU6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XHJcblxyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDpkYXRhLl9pZH0sZGF0YSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgdmFyaWVkYWQgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZEJ5SWQoe19pZDogZGF0YS5faWR9KTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIHZhcmllZGFkOiB2YXJpZWRhZFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBkZWxldGU6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBfaWQgPSByZXEucGFyYW1zLmlkO1xyXG5cclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6X2lkfSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlNFIEVMSU1JTk8gTEEgVkFSSUVEQURcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUE4QixTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEsR0FFZjtFQUNYQyxRQUFRLEVBQUMsTUFBQUEsQ0FBTUMsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDdkIsSUFBSTtNQUNBLElBQUlDLElBQUksR0FBR0YsR0FBRyxDQUFDRyxJQUFJO01BRW5CLElBQUlDLGNBQWMsR0FBRyxNQUFNQyxlQUFNLENBQUNDLFFBQVEsQ0FBQ0MsT0FBTyxDQUFDO1FBQUNDLEtBQUssRUFBRU4sSUFBSSxDQUFDTSxLQUFLO1FBQUVDLE9BQU8sRUFBRVAsSUFBSSxDQUFDTztNQUFPLENBQUMsQ0FBQztNQUM5RixJQUFJQyxRQUFRLEdBQUcsSUFBSTtNQUNuQixJQUFHTixjQUFjLEVBQUM7UUFDZEYsSUFBSSxDQUFDUyxLQUFLLEdBQUdQLGNBQWMsQ0FBQ08sS0FBSyxHQUFHVCxJQUFJLENBQUNTLEtBQUs7UUFDOUMsTUFBTU4sZUFBTSxDQUFDQyxRQUFRLENBQUNNLGlCQUFpQixDQUFDO1VBQUNDLEdBQUcsRUFBRVQsY0FBYyxDQUFDUztRQUFHLENBQUMsRUFBQ1gsSUFBSSxDQUFDO1FBQ3ZFUSxRQUFRLEdBQUcsTUFBTUwsZUFBTSxDQUFDQyxRQUFRLENBQUNRLFFBQVEsQ0FBQztVQUFDRCxHQUFHLEVBQUVULGNBQWMsQ0FBQ1M7UUFBRyxDQUFDLENBQUM7TUFDeEUsQ0FBQyxNQUFJO1FBQ0RILFFBQVEsR0FBRyxNQUFNTCxlQUFNLENBQUNDLFFBQVEsQ0FBQ1MsTUFBTSxDQUFDYixJQUFJLENBQUM7TUFDakQ7TUFFQUQsR0FBRyxDQUFDZSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQlAsUUFBUSxFQUFFQTtNQUNkLENBQUMsQ0FBQztJQUNOLENBQUMsQ0FBQyxPQUFPUSxLQUFLLEVBQUU7TUFDWmpCLEdBQUcsQ0FBQ2UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztNQUNGQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0osS0FBSyxDQUFDO0lBQ3RCO0VBQ0osQ0FBQztFQUNESyxNQUFNLEVBQUMsTUFBQUEsQ0FBTXZCLEdBQUcsRUFBQ0MsR0FBRyxLQUFLO0lBQ3JCLElBQUk7TUFDQSxJQUFJQyxJQUFJLEdBQUdGLEdBQUcsQ0FBQ0csSUFBSTtNQUVuQixNQUFNRSxlQUFNLENBQUNDLFFBQVEsQ0FBQ00saUJBQWlCLENBQUM7UUFBQ0MsR0FBRyxFQUFDWCxJQUFJLENBQUNXO01BQUcsQ0FBQyxFQUFDWCxJQUFJLENBQUM7TUFFNUQsSUFBSVEsUUFBUSxHQUFHLE1BQU1MLGVBQU0sQ0FBQ0MsUUFBUSxDQUFDUSxRQUFRLENBQUM7UUFBQ0QsR0FBRyxFQUFFWCxJQUFJLENBQUNXO01BQUcsQ0FBQyxDQUFDO01BRTlEWixHQUFHLENBQUNlLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCUCxRQUFRLEVBQUVBO01BQ2QsQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDLE9BQU9RLEtBQUssRUFBRTtNQUNaakIsR0FBRyxDQUFDZSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNHLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO01BQ0ZDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSixLQUFLLENBQUM7SUFDdEI7RUFDSixDQUFDO0VBQ0RNLE1BQU0sRUFBQyxNQUFBQSxDQUFNeEIsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDckIsSUFBSTtNQUNBLElBQUlZLEdBQUcsR0FBR2IsR0FBRyxDQUFDeUIsTUFBTSxDQUFDQyxFQUFFO01BRXZCLE1BQU1yQixlQUFNLENBQUNDLFFBQVEsQ0FBQ3FCLGlCQUFpQixDQUFDO1FBQUNkLEdBQUcsRUFBQ0E7TUFBRyxDQUFDLENBQUM7TUFFbERaLEdBQUcsQ0FBQ2UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJHLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztJQUNOLENBQUMsQ0FBQyxPQUFPRixLQUFLLEVBQUU7TUFDWmpCLEdBQUcsQ0FBQ2UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztNQUNGQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0osS0FBSyxDQUFDO0lBQ3RCO0VBQ0o7QUFDSixDQUFDO0FBQUFVLE9BQUEsQ0FBQS9CLE9BQUEsR0FBQUMsUUFBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_models","_interopRequireDefault","require","obj","__esModule","default","_default","register","req","res","data","body","variedad_exits","models","Variedad","findOne","valor","product","variedad","stock","findByIdAndUpdate","_id","findById","create","status","json","error","send","message","console","log","update","delete","params","id","findByIdAndDelete","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["VariedadController.js"],"sourcesContent":["import models from '../models'\r\n\r\nexport default {\r\n    register:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n\r\n            let variedad_exits = await models.Variedad.findOne({valor: data.valor, product: data.product});\r\n            var variedad = null;\r\n            if(variedad_exits){\r\n                data.stock = variedad_exits.stock + data.stock;\r\n                await models.Variedad.findByIdAndUpdate({_id: variedad_exits._id},data);\r\n                variedad = await models.Variedad.findById({_id: variedad_exits._id});\r\n            }else{\r\n                variedad = await models.Variedad.create(data);\r\n            }\r\n\r\n            res.status(200).json({\r\n                variedad: variedad\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    update:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n\r\n            await models.Variedad.findByIdAndUpdate({_id:data._id},data);\r\n\r\n            let variedad = await models.Variedad.findById({_id: data._id});\r\n\r\n            res.status(200).json({\r\n                variedad: variedad\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    delete:async(req,res) => {\r\n        try {\r\n            let _id = req.params.id;\r\n\r\n            await models.Variedad.findByIdAndDelete({_id:_id});\r\n\r\n            res.status(200).json({\r\n                message: \"SE ELIMINO LA VARIEDAD\"\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1677537925822},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst SliderSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  link: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  imagen: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  state: {\n    type: Number,\n    maxlength: 2,\n    default: 1\n  }\n}, {\n  timestamps: true\n});\nconst Slider = _mongoose.default.model(\"sliders\", SliderSchema);\nvar _default = Slider;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiU2xpZGVyU2NoZW1hIiwiU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwibWF4bGVuZ3RoIiwicmVxdWlyZWQiLCJsaW5rIiwiaW1hZ2VuIiwic3RhdGUiLCJOdW1iZXIiLCJ0aW1lc3RhbXBzIiwiU2xpZGVyIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIlNsaWRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2Use1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCBTbGlkZXJTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIHRpdGxlOnt0eXBlOlN0cmluZyxtYXhsZW5ndGggOiAyNTAscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBsaW5rOnt0eXBlOlN0cmluZyxtYXhsZW5ndGggOiAyNTAscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBpbWFnZW46e3R5cGU6U3RyaW5nLG1heGxlbmd0aDogMjUwLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIHN0YXRlOnt0eXBlOk51bWJlcixtYXhsZW5ndGg6MixkZWZhdWx0OjF9LFxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6IHRydWVcclxufSk7XHJcblxyXG5jb25zdCBTbGlkZXIgPSBtb25nb29zZS5tb2RlbChcInNsaWRlcnNcIixTbGlkZXJTY2hlbWEpO1xyXG5leHBvcnQgZGVmYXVsdCBTbGlkZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBeUMsU0FBQUMseUJBQUFDLFdBQUEsZUFBQUMsT0FBQSxrQ0FBQUMsaUJBQUEsT0FBQUQsT0FBQSxRQUFBRSxnQkFBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLFdBQUEsV0FBQUEsV0FBQSxHQUFBRyxnQkFBQSxHQUFBRCxpQkFBQSxLQUFBRixXQUFBO0FBQUEsU0FBQUgsd0JBQUFPLEdBQUEsRUFBQUosV0FBQSxTQUFBQSxXQUFBLElBQUFJLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLFdBQUFELEdBQUEsUUFBQUEsR0FBQSxvQkFBQUEsR0FBQSx3QkFBQUEsR0FBQSw0QkFBQUUsT0FBQSxFQUFBRixHQUFBLFVBQUFHLEtBQUEsR0FBQVIsd0JBQUEsQ0FBQUMsV0FBQSxPQUFBTyxLQUFBLElBQUFBLEtBQUEsQ0FBQUMsR0FBQSxDQUFBSixHQUFBLFlBQUFHLEtBQUEsQ0FBQUUsR0FBQSxDQUFBTCxHQUFBLFNBQUFNLE1BQUEsV0FBQUMscUJBQUEsR0FBQUMsTUFBQSxDQUFBQyxjQUFBLElBQUFELE1BQUEsQ0FBQUUsd0JBQUEsV0FBQUMsR0FBQSxJQUFBWCxHQUFBLFFBQUFXLEdBQUEsa0JBQUFILE1BQUEsQ0FBQUksU0FBQSxDQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQWQsR0FBQSxFQUFBVyxHQUFBLFNBQUFJLElBQUEsR0FBQVIscUJBQUEsR0FBQUMsTUFBQSxDQUFBRSx3QkFBQSxDQUFBVixHQUFBLEVBQUFXLEdBQUEsY0FBQUksSUFBQSxLQUFBQSxJQUFBLENBQUFWLEdBQUEsSUFBQVUsSUFBQSxDQUFBQyxHQUFBLEtBQUFSLE1BQUEsQ0FBQUMsY0FBQSxDQUFBSCxNQUFBLEVBQUFLLEdBQUEsRUFBQUksSUFBQSxZQUFBVCxNQUFBLENBQUFLLEdBQUEsSUFBQVgsR0FBQSxDQUFBVyxHQUFBLFNBQUFMLE1BQUEsQ0FBQUosT0FBQSxHQUFBRixHQUFBLE1BQUFHLEtBQUEsSUFBQUEsS0FBQSxDQUFBYSxHQUFBLENBQUFoQixHQUFBLEVBQUFNLE1BQUEsWUFBQUEsTUFBQTtBQUV6QyxNQUFNVyxZQUFZLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUM1QkMsS0FBSyxFQUFDO0lBQUNDLElBQUksRUFBQ0MsTUFBTTtJQUFDQyxTQUFTLEVBQUcsR0FBRztJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2pEQyxJQUFJLEVBQUM7SUFBQ0osSUFBSSxFQUFDQyxNQUFNO0lBQUNDLFNBQVMsRUFBRyxHQUFHO0lBQUNDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDaERFLE1BQU0sRUFBQztJQUFDTCxJQUFJLEVBQUNDLE1BQU07SUFBQ0MsU0FBUyxFQUFFLEdBQUc7SUFBRUMsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNsREcsS0FBSyxFQUFDO0lBQUNOLElBQUksRUFBQ08sTUFBTTtJQUFDTCxTQUFTLEVBQUMsQ0FBQztJQUFDcEIsT0FBTyxFQUFDO0VBQUM7QUFDNUMsQ0FBQyxFQUFDO0VBQ0UwQixVQUFVLEVBQUU7QUFDaEIsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsTUFBTSxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsU0FBUyxFQUFDZCxZQUFZLENBQUM7QUFBQyxJQUFBZSxRQUFBLEdBQ3ZDSCxNQUFNO0FBQUFJLE9BQUEsQ0FBQS9CLE9BQUEsR0FBQThCLFFBQUEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","SliderSchema","Schema","title","type","String","maxlength","required","link","imagen","state","Number","timestamps","Slider","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Slider.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst SliderSchema = new Schema({\r\n    title:{type:String,maxlength : 250,required:true},\r\n    link:{type:String,maxlength : 250,required:true},\r\n    imagen:{type:String,maxlength: 250, required:true},\r\n    state:{type:Number,maxlength:2,default:1},\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst Slider = mongoose.model(\"sliders\",SliderSchema);\r\nexport default Slider;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAH,wBAAAO,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,CAAAJ,OAAA,GAAAF,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAEzC,MAAMW,YAAY,GAAG,IAAIC,gBAAM,CAAC;EAC5BC,KAAK,EAAC;IAACC,IAAI,EAACC,MAAM;IAACC,SAAS,EAAG,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EACjDC,IAAI,EAAC;IAACJ,IAAI,EAACC,MAAM;IAACC,SAAS,EAAG,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAChDE,MAAM,EAAC;IAACL,IAAI,EAACC,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EAClDG,KAAK,EAAC;IAACN,IAAI,EAACO,MAAM;IAACL,SAAS,EAAC,CAAC;IAACpB,OAAO,EAAC;EAAC;AAC5C,CAAC,EAAC;EACE0B,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAGC,iBAAQ,CAACC,KAAK,CAAC,SAAS,EAACd,YAAY,CAAC;AAAC,IAAAe,QAAA,GACvCH,MAAM;AAAAI,OAAA,CAAA/B,OAAA,GAAA8B,QAAA","ignoreList":[]}},"mtime":1677624834052},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Cupone.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst CuponeSchema = new _mongoose.Schema({\n  code: {\n    type: String,\n    maxlength: 50,\n    required: true\n  },\n  type_discount: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  //por porcentaje 1  o por moneda 2\n  discount: {\n    type: Number,\n    required: true\n  },\n  //por moneda o por porcentaje\n  type_count: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  //ilimitado 1 o limitado 2\n  num_use: {\n    type: Number,\n    required: false\n  },\n  type_segment: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es cupon por producto y 2 seria por categoria\n  state: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es activo\n  products: [{\n    type: Object\n  }],\n  //[{_id: asdasdas },{_id: dsdsds}]\n  categories: [{\n    type: Object\n  }]\n}, {\n  timestamps: true\n});\nconst Cupone = _mongoose.default.model(\"cupones\", CuponeSchema);\nvar _default = Cupone;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiQ3Vwb25lU2NoZW1hIiwiU2NoZW1hIiwiY29kZSIsInR5cGUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJyZXF1aXJlZCIsInR5cGVfZGlzY291bnQiLCJOdW1iZXIiLCJkaXNjb3VudCIsInR5cGVfY291bnQiLCJudW1fdXNlIiwidHlwZV9zZWdtZW50Iiwic3RhdGUiLCJwcm9kdWN0cyIsImNhdGVnb3JpZXMiLCJ0aW1lc3RhbXBzIiwiQ3Vwb25lIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIkN1cG9uZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2Use1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCBDdXBvbmVTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIGNvZGU6e3R5cGU6U3RyaW5nLG1heGxlbmd0aDo1MCxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHR5cGVfZGlzY291bnQ6e3R5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWUsZGVmYXVsdDogMX0sLy9wb3IgcG9yY2VudGFqZSAxICBvIHBvciBtb25lZGEgMlxyXG4gICAgZGlzY291bnQ6e3R5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWV9LC8vcG9yIG1vbmVkYSBvIHBvciBwb3JjZW50YWplXHJcbiAgICB0eXBlX2NvdW50Ont0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlLGRlZmF1bHQ6MX0sLy9pbGltaXRhZG8gMSBvIGxpbWl0YWRvIDJcclxuICAgIG51bV91c2U6e3R5cGU6TnVtYmVyLHJlcXVpcmVkOmZhbHNlfSxcclxuICAgIHR5cGVfc2VnbWVudDoge3R5cGU6TnVtYmVyLHJlcXVpcmVkOmZhbHNlLGRlZmF1bHQ6MX0sLy8xIGVzIGN1cG9uIHBvciBwcm9kdWN0byB5IDIgc2VyaWEgcG9yIGNhdGVnb3JpYVxyXG4gICAgc3RhdGU6e3R5cGU6TnVtYmVyLHJlcXVpcmVkOmZhbHNlLGRlZmF1bHQ6IDF9LC8vMSBlcyBhY3Rpdm9cclxuICAgIHByb2R1Y3RzOlt7dHlwZTpPYmplY3R9XSwvL1t7X2lkOiBhc2Rhc2RhcyB9LHtfaWQ6IGRzZHNkc31dXHJcbiAgICBjYXRlZ29yaWVzOlt7dHlwZTpPYmplY3R9XVxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6dHJ1ZVxyXG59KVxyXG5cclxuY29uc3QgQ3Vwb25lID0gbW9uZ29vc2UubW9kZWwoXCJjdXBvbmVzXCIsQ3Vwb25lU2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgQ3Vwb25lOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQXlDLFNBQUFDLHlCQUFBQyxXQUFBLGVBQUFDLE9BQUEsa0NBQUFDLGlCQUFBLE9BQUFELE9BQUEsUUFBQUUsZ0JBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxXQUFBLFdBQUFBLFdBQUEsR0FBQUcsZ0JBQUEsR0FBQUQsaUJBQUEsS0FBQUYsV0FBQTtBQUFBLFNBQUFILHdC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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","CuponeSchema","Schema","code","type","String","maxlength","required","type_discount","Number","discount","type_count","num_use","type_segment","state","products","categories","timestamps","Cupone","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Cupone.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst CuponeSchema = new Schema({\r\n    code:{type:String,maxlength:50,required:true},\r\n    type_discount:{type:Number,required:true,default: 1},//por porcentaje 1  o por moneda 2\r\n    discount:{type:Number,required:true},//por moneda o por porcentaje\r\n    type_count:{type:Number,required:true,default:1},//ilimitado 1 o limitado 2\r\n    num_use:{type:Number,required:false},\r\n    type_segment: {type:Number,required:false,default:1},//1 es cupon por producto y 2 seria por categoria\r\n    state:{type:Number,required:false,default: 1},//1 es activo\r\n    products:[{type:Object}],//[{_id: asdasdas },{_id: dsdsds}]\r\n    categories:[{type:Object}]\r\n},{\r\n    timestamps:true\r\n})\r\n\r\nconst Cupone = mongoose.model(\"cupones\",CuponeSchema);\r\nexport default Cupone;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAH,wBAAAO,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,CAAAJ,OAAA,GAAAF,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAEzC,MAAMW,YAAY,GAAG,IAAIC,gBAAM,CAAC;EAC5BC,IAAI,EAAC;IAACC,IAAI,EAACC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC7CC,aAAa,EAAC;IAACJ,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,IAAI;IAACrB,OAAO,EAAE;EAAC,CAAC;EAAC;EACrDwB,QAAQ,EAAC;IAACN,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC;EAAI,CAAC;EAAC;EACrCI,UAAU,EAAC;IAACP,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,IAAI;IAACrB,OAAO,EAAC;EAAC,CAAC;EAAC;EACjD0B,OAAO,EAAC;IAACR,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC;EAAK,CAAC;EACpCM,YAAY,EAAE;IAACT,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,KAAK;IAACrB,OAAO,EAAC;EAAC,CAAC;EAAC;EACrD4B,KAAK,EAAC;IAACV,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,KAAK;IAACrB,OAAO,EAAE;EAAC,CAAC;EAAC;EAC9C6B,QAAQ,EAAC,CAAC;IAACX,IAAI,EAACZ;EAAM,CAAC,CAAC;EAAC;EACzBwB,UAAU,EAAC,CAAC;IAACZ,IAAI,EAACZ;EAAM,CAAC;AAC7B,CAAC,EAAC;EACEyB,UAAU,EAAC;AACf,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAGC,iBAAQ,CAACC,KAAK,CAAC,SAAS,EAACnB,YAAY,CAAC;AAAC,IAAAoB,QAAA,GACvCH,MAAM;AAAAI,OAAA,CAAApC,OAAA,GAAAmC,QAAA","ignoreList":[]}},"mtime":1677795746073},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Discount.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst DiscountSchema = new _mongoose.Schema({\n  type_campaign: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1 es campaña norma y 2 es venta flash\n  type_discount: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1 es porcentaje y 2 es moneda\n  discount: {\n    type: Number,\n    required: true\n  },\n  start_date: {\n    type: Date,\n    required: true\n  },\n  end_date: {\n    type: Date,\n    required: true\n  },\n  start_date_num: {\n    type: Number,\n    required: true\n  },\n  end_date_num: {\n    type: Number,\n    required: true\n  },\n  state: {\n    type: Number,\n    default: 1\n  },\n  //1 es activo y 2 es desactivo\n  type_segment: {\n    type: Number,\n    default: 1\n  },\n  //1 es por producto y 2 es por categoria\n  products: [{\n    type: Object,\n    required: false\n  }],\n  categories: [{\n    type: Object,\n    required: false\n  }]\n}, {\n  timestamps: true\n});\nconst Discount = _mongoose.default.model(\"discounts\", DiscountSchema);\nvar _default = Discount;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiRGlzY291bnRTY2hlbWEiLCJTY2hlbWEiLCJ0eXBlX2NhbXBhaWduIiwidHlwZSIsIk51bWJlciIsInJlcXVpcmVkIiwidHlwZV9kaXNjb3VudCIsImRpc2NvdW50Iiwic3RhcnRfZGF0ZSIsIkRhdGUiLCJlbmRfZGF0ZSIsInN0YXJ0X2RhdGVfbnVtIiwiZW5kX2RhdGVfbnVtIiwic3RhdGUiLCJ0eXBlX3NlZ21lbnQiLCJwcm9kdWN0cyIsImNhdGVnb3JpZXMiLCJ0aW1lc3RhbXBzIiwiRGlzY291bnQiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiRGlzY291bnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLCB7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IERpc2NvdW50U2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICB0eXBlX2NhbXBhaWduOiB7dHlwZTpOdW1iZXIsIHJlcXVpcmVkOnRydWUsIGRlZmF1bHQ6IDF9LCAvLyAxIGVzIGNhbXBhw7FhIG5vcm1hIHkgMiBlcyB2ZW50YSBmbGFzaFxyXG4gICAgdHlwZV9kaXNjb3VudDoge3R5cGU6TnVtYmVyLCByZXF1aXJlZDp0cnVlLCBkZWZhdWx0OiAxfSwgLy8gMSBlcyBwb3JjZW50YWplIHkgMiBlcyBtb25lZGFcclxuICAgIGRpc2NvdW50OiB7dHlwZTogTnVtYmVyLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIHN0YXJ0X2RhdGU6IHt0eXBlOkRhdGUscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBlbmRfZGF0ZTp7IHR5cGU6RGF0ZSxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHN0YXJ0X2RhdGVfbnVtOiB7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBlbmRfZGF0ZV9udW06eyB0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSxcclxuICAgIHN0YXRlOnt0eXBlOk51bWJlcixkZWZhdWx0OiAxfSwgLy8xIGVzIGFjdGl2byB5IDIgZXMgZGVzYWN0aXZvXHJcbiAgICB0eXBlX3NlZ21lbnQ6e3R5cGU6TnVtYmVyLGRlZmF1bHQ6IDF9LC8vMSBlcyBwb3IgcHJvZHVjdG8geSAyIGVzIHBvciBjYXRlZ29yaWFcclxuICAgIHByb2R1Y3RzOlt7dHlwZTpPYmplY3QsIHJlcXVpcmVkOmZhbHNlfV0sXHJcbiAgICBjYXRlZ29yaWVzOlt7dHlwZTpPYmplY3QsIHJlcXVpcmVkOmZhbHNlfV0sXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczp0cnVlLFxyXG59KTtcclxuXHJcbmNvbnN0IERpc2NvdW50ID0gbW9uZ29vc2UubW9kZWwoXCJkaXNjb3VudHNcIixEaXNjb3VudFNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IERpc2NvdW50OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQTBDLFNBQUFDLHlCQUFBQyxXQUFBLGVBQUFDLE9BQUEsa0NBQUFDLGlCQUFBLE9BQUFE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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","DiscountSchema","Schema","type_campaign","type","Number","required","type_discount","discount","start_date","Date","end_date","start_date_num","end_date_num","state","type_segment","products","categories","timestamps","Discount","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Discount.js"],"sourcesContent":["import mongoose, {Schema} from \"mongoose\";\r\n\r\nconst DiscountSchema = new Schema({\r\n    type_campaign: {type:Number, required:true, default: 1}, // 1 es campaña norma y 2 es venta flash\r\n    type_discount: {type:Number, required:true, default: 1}, // 1 es porcentaje y 2 es moneda\r\n    discount: {type: Number, required:true},\r\n    start_date: {type:Date,required:true},\r\n    end_date:{ type:Date,required:true},\r\n    start_date_num: {type:Number,required:true},\r\n    end_date_num:{ type:Number,required:true},\r\n    state:{type:Number,default: 1}, //1 es activo y 2 es desactivo\r\n    type_segment:{type:Number,default: 1},//1 es por producto y 2 es por categoria\r\n    products:[{type:Object, required:false}],\r\n    categories:[{type:Object, required:false}],\r\n},{\r\n    timestamps:true,\r\n});\r\n\r\nconst Discount = mongoose.model(\"discounts\",DiscountSchema);\r\nexport default Discount;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAH,wBAAAO,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,CAAAJ,OAAA,GAAAF,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAE1C,MAAMW,cAAc,GAAG,IAAIC,gBAAM,CAAC;EAC9BC,aAAa,EAAE;IAACC,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC,IAAI;IAAEpB,OAAO,EAAE;EAAC,CAAC;EAAE;EACzDqB,aAAa,EAAE;IAACH,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC,IAAI;IAAEpB,OAAO,EAAE;EAAC,CAAC;EAAE;EACzDsB,QAAQ,EAAE;IAACJ,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACvCG,UAAU,EAAE;IAACL,IAAI,EAACM,IAAI;IAACJ,QAAQ,EAAC;EAAI,CAAC;EACrCK,QAAQ,EAAC;IAAEP,IAAI,EAACM,IAAI;IAACJ,QAAQ,EAAC;EAAI,CAAC;EACnCM,cAAc,EAAE;IAACR,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC3CO,YAAY,EAAC;IAAET,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EACzCQ,KAAK,EAAC;IAACV,IAAI,EAACC,MAAM;IAACnB,OAAO,EAAE;EAAC,CAAC;EAAE;EAChC6B,YAAY,EAAC;IAACX,IAAI,EAACC,MAAM;IAACnB,OAAO,EAAE;EAAC,CAAC;EAAC;EACtC8B,QAAQ,EAAC,CAAC;IAACZ,IAAI,EAACZ,MAAM;IAAEc,QAAQ,EAAC;EAAK,CAAC,CAAC;EACxCW,UAAU,EAAC,CAAC;IAACb,IAAI,EAACZ,MAAM;IAAEc,QAAQ,EAAC;EAAK,CAAC;AAC7C,CAAC,EAAC;EACEY,UAAU,EAAC;AACf,CAAC,CAAC;AAEF,MAAMC,QAAQ,GAAGC,iBAAQ,CAACC,KAAK,CAAC,WAAW,EAACpB,cAAc,CAAC;AAAC,IAAAqB,QAAA,GAC7CH,QAAQ;AAAAI,OAAA,CAAArC,OAAA,GAAAoC,QAAA","ignoreList":[]}},"mtime":1678545410605},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Cart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst CartSchema = new _mongoose.Schema({\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  type_discount: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es por porcentaje y 2 es por moneda\n  discount: {\n    type: Number,\n    default: 0\n  },\n  //50%\n  cantidad: {\n    type: Number,\n    required: true\n  },\n  //2\n  variedad: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'variedad',\n    required: false\n  },\n  code_cupon: {\n    type: String,\n    required: false\n  },\n  code_discount: {\n    type: String,\n    required: false\n  },\n  price_unitario: {\n    type: Number,\n    required: true\n  },\n  //60\n  subtotal: {\n    type: Number,\n    required: true\n  },\n  //30\n  total: {\n    type: Number,\n    required: true\n  } //60\n}, {\n  timestamps: true\n});\nconst Cart = _mongoose.default.model(\"cart\", CartSchema);\nvar _default = Cart;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiQ2FydFNjaGVtYSIsIlNjaGVtYSIsInVzZXIiLCJ0eXBlIiwiT2JqZWN0SWQiLCJyZWYiLCJyZXF1aXJlZCIsInByb2R1Y3QiLCJ0eXBlX2Rpc2NvdW50IiwiTnVtYmVyIiwiZGlzY291bnQiLCJjYW50aWRhZCIsInZhcmllZGFkIiwiY29kZV9jdXBvbiIsIlN0cmluZyIsImNvZGVfZGlzY291bnQiLCJwcmljZV91bml0YXJpbyIsInN1YnRvdGFsIiwidG90YWwiLCJ0aW1lc3RhbXBzIiwiQ2FydCIsIm1vbmdvb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXG1vZGVsc1xcIiwic291cmNlcyI6WyJDYXJ0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSwge1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCBDYXJ0U2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICB1c2VyOiB7dHlwZTogU2NoZW1hLk9iamVjdElkLHJlZjogJ3VzZXInLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgcHJvZHVjdDoge3R5cGU6IFNjaGVtYS5PYmplY3RJZCwgcmVmOiAncHJvZHVjdCcscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICB0eXBlX2Rpc2NvdW50OiB7dHlwZTpOdW1iZXIscmVxdWlyZWQ6ZmFsc2UsZGVmYXVsdDogMX0sLy8xIGVzIHBvciBwb3JjZW50YWplIHkgMiBlcyBwb3IgbW9uZWRhXHJcbiAgICBkaXNjb3VudDp7dHlwZTpOdW1iZXIsZGVmYXVsdDogMH0sLy81MCVcclxuICAgIGNhbnRpZGFkOiB7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sLy8yXHJcbiAgICB2YXJpZWRhZDoge3R5cGU6U2NoZW1hLk9iamVjdElkLCByZWY6ICd2YXJpZWRhZCcsIHJlcXVpcmVkOiBmYWxzZX0sXHJcbiAgICBjb2RlX2N1cG9uOiB7dHlwZTpTdHJpbmcscmVxdWlyZWQ6ZmFsc2V9LFxyXG4gICAgY29kZV9kaXNjb3VudDoge3R5cGU6U3RyaW5nLHJlcXVpcmVkOmZhbHNlfSxcclxuICAgIHByaWNlX3VuaXRhcmlvOiB7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sLy82MFxyXG4gICAgc3VidG90YWw6IHt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSwvLzMwXHJcbiAgICB0b3RhbDoge3R5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWV9LC8vNjBcclxufSx7XHJcbiAgICB0aW1lc3RhbXBzOnRydWVcclxufSk7XHJcblxyXG5jb25zdCBDYXJ0ID0gbW9uZ29vc2UubW9kZWwoXCJjYXJ0XCIsQ2FydFNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IENhcnQ7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBMEMsU0FBQUMseUJBQUFDLFdBQUEsZUFBQUMsT0FBQSxrQ0FBQUMsaUJBQUEsT0FBQUQsT0FBQSxRQUFBRSxnQkFBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLFdBQUEsV0FBQUEsV0FBQSxHQUFBRyxnQkFBQSxHQUFBRCxpQkFBQSxLQUFBRixXQUFBO0FBQUEsU0FBQUgsd0JBQUFPLEdBQUEsRUFBQUosV0FBQSxTQUFBQSxXQUFBLElBQUFJLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLFdBQUFELEdBQUEsUUFBQUEsR0FBQSxvQkFBQUEsR0FBQSx3QkFBQUEsR0FBQSw0QkFBQUUsT0FBQSxFQUFBRixHQUFBLFVBQUFHLEtBQUEsR0FBQVIsd0JBQUEsQ0FBQUMsV0FBQSxPQUFBTyxLQUFBLElBQUFBLEtBQUEsQ0FBQUMsR0FBQSxDQUFBSixHQUFBLFlBQUFHLEtBQUEsQ0FBQUUsR0FBQSxDQUFBTCxHQUFBLFNBQUFNLE1BQUEsV0FBQUMscUJBQUEsR0FBQUMsTUFBQSxDQUFBQyxjQUFBLElBQUFELE1BQUEsQ0FBQUUsd0JBQUEsV0FBQUMsR0FBQSxJQUFBWCxHQUFBLFFBQUFXLEdBQUEsa0JBQUFILE1BQUEsQ0FBQUksU0FBQSxDQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQWQsR0FBQSxFQUFBVyxHQUFBLFNBQUFJLElBQUEsR0FBQVIscUJBQUEsR0FBQUMsTUFBQSxDQUFBRSx3QkFBQSxDQUFBVixHQUFBLEVBQUFXLEdBQUEsY0FBQUksSUFBQSxLQUFBQSxJQUFBLENBQUFWLEdBQUEsSUFBQVUsSUFBQSxDQUFBQyxHQUFBLEtBQUFSLE1BQUEsQ0FBQUMsY0FBQSxDQUFBSCxNQUFBLEVBQUFLLEdBQUEsRUFBQUksSUFBQSxZQUFBVCxNQUFBLENBQUFLLEdBQUEsSUFBQVgsR0FBQSxDQUFBVyxHQUFBLFNBQUFMLE1BQUEsQ0FBQUosT0FBQSxHQUFBRixHQUFBLE1BQUFHLEtBQUEsSUFBQUEsS0FBQSxDQUFBYSxHQUFBLENBQUFoQixHQUFBLEVBQUFNLE1BQUEsWUFBQUEsTUFBQTtBQUUxQyxNQUFNVyxVQUFVLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUMxQkMsSUFBSSxFQUFFO0lBQUNDLElBQUksRUFBRUYsZ0JBQU0sQ0FBQ0csUUFBUTtJQUFDQyxHQUFHLEVBQUUsTUFBTTtJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ3ZEQyxPQUFPLEVBQUU7SUFBQ0osSUFBSSxFQUFFRixnQkFBTSxDQUFDRyxRQUFRO0lBQUVDLEdBQUcsRUFBRSxTQUFTO0lBQUNDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDOURFLGFBQWEsRUFBRTtJQUFDTCxJQUFJLEVBQUNNLE1BQU07SUFBQ0gsUUFBUSxFQUFDLEtBQUs7SUFBQ3JCLE9BQU8sRUFBRTtFQUFDLENBQUM7RUFBQztFQUN2RHlCLFFBQVEsRUFBQztJQUFDUCxJQUFJLEVBQUNNLE1BQU07SUFBQ3hCLE9BQU8sRUFBRTtFQUFDLENBQUM7RUFBQztFQUNsQzBCLFFBQVEsRUFBRTtJQUFDUixJQUFJLEVBQUNNLE1BQU07SUFBQ0gsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUFDO0VBQ3RDTSxRQUFRLEVBQUU7SUFBQ1QsSUFBSSxFQUFDRixnQkFBTSxDQUFDRyxRQUFRO0lBQUVDLEdBQUcsRUFBRSxVQUFVO0lBQUVDLFFBQVEsRUFBRTtFQUFLLENBQUM7RUFDbEVPLFVBQVUsRUFBRTtJQUFDVixJQUFJLEVBQUNXLE1BQU07SUFBQ1IsUUFBUSxFQUFDO0VBQUssQ0FBQztFQUN4Q1MsYUFBYSxFQUFFO0lBQUNaLElBQUksRUFBQ1csTUFBTTtJQUFDUixRQUFRLEVBQUM7RUFBSyxDQUFDO0VBQzNDVSxjQUFjLEVBQUU7SUFBQ2IsSUFBSSxFQUFDTSxNQUFNO0lBQUNILFFBQVEsRUFBQztFQUFJLENBQUM7RUFBQztFQUM1Q1csUUFBUSxFQUFFO0lBQUNkLElBQUksRUFBQ00sTUFBTTtJQUFDSCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQUM7RUFDdENZLEtBQUssRUFBRTtJQUFDZixJQUFJLEVBQUNNLE1BQU07SUFBQ0gsUUFBUSxFQUFDO0VBQUksQ0FBQyxDQUFDO0FBQ3ZDLENBQUMsRUFBQztFQUNFYSxVQUFVLEVBQUM7QUFDZixDQUFDLENBQUM7QUFFRixNQUFNQyxJQUFJLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxNQUFNLEVBQUN0QixVQUFVLENBQUM7QUFBQyxJQUFBdUIsUUFBQSxHQUNoQ0gsSUFBSTtBQUFBSSxPQUFBLENBQUF2QyxPQUFBLEdBQUFzQyxRQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","CartSchema","Schema","user","type","ObjectId","ref","required","product","type_discount","Number","discount","cantidad","variedad","code_cupon","String","code_discount","price_unitario","subtotal","total","timestamps","Cart","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Cart.js"],"sourcesContent":["import mongoose, {Schema} from \"mongoose\";\r\n\r\nconst CartSchema = new Schema({\r\n    user: {type: Schema.ObjectId,ref: 'user',required:true},\r\n    product: {type: Schema.ObjectId, ref: 'product',required:true},\r\n    type_discount: {type:Number,required:false,default: 1},//1 es por porcentaje y 2 es por moneda\r\n    discount:{type:Number,default: 0},//50%\r\n    cantidad: {type:Number,required:true},//2\r\n    variedad: {type:Schema.ObjectId, ref: 'variedad', required: false},\r\n    code_cupon: {type:String,required:false},\r\n    code_discount: {type:String,required:false},\r\n    price_unitario: {type:Number,required:true},//60\r\n    subtotal: {type:Number,required:true},//30\r\n    total: {type:Number,required:true},//60\r\n},{\r\n    timestamps:true\r\n});\r\n\r\nconst Cart = mongoose.model(\"cart\",CartSchema);\r\nexport default Cart;"],"mappings":"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","ignoreList":[]}},"mtime":1679240384767},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\AddressClient.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst AddressClientSchema = new _mongoose.Schema({\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  pais: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  address: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  referencia: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  ciudad: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  region: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  telefono: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  nota: {\n    type: String,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst AddressClient = _mongoose.default.model(\"address_client\", AddressClientSchema);\nvar _default = AddressClient;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiQWRkcmVzc0NsaWVudFNjaGVtYSIsIlNjaGVtYSIsInVzZXIiLCJ0eXBlIiwiT2JqZWN0SWQiLCJyZWYiLCJyZXF1aXJlZCIsIm5hbWUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJzdXJuYW1lIiwicGFpcyIsImFkZHJlc3MiLCJyZWZlcmVuY2lhIiwiY2l1ZGFkIiwicmVnaW9uIiwidGVsZWZvbm8iLCJlbWFpbCIsIm5vdGEiLCJ0aW1lc3RhbXBzIiwiQWRkcmVzc0NsaWVudCIsIm1vbmdvb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXG1vZGVsc1xcIiwic291cmNlcyI6WyJBZGRyZXNzQ2xpZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IEFkZHJlc3NDbGllbnRTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIHVzZXI6e3R5cGU6U2NoZW1hLk9iamVjdElkLHJlZjogJ3VzZXInLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgbmFtZTp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoIDogMjUwLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgc3VybmFtZTp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoIDogMjUwLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgcGFpczp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgYWRkcmVzczp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgcmVmZXJlbmNpYTp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOmZhbHNlfSxcclxuICAgIGNpdWRhZDp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgcmVnaW9uOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICB0ZWxlZm9ubzp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgZW1haWw6e3R5cGU6U3RyaW5nLG1heGxlbmd0aDogMjUwLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIG5vdGE6e3R5cGU6U3RyaW5nLCByZXF1aXJlZDpmYWxzZX0sXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczogdHJ1ZVxyXG59KTtcclxuXHJcbmNvbnN0IEFkZHJlc3NDbGllbnQgPSBtb25nb29zZS5tb2RlbChcImFkZHJlc3NfY2xpZW50XCIsQWRkcmVzc0NsaWVudFNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IEFkZHJlc3NDbGllbnQ7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBeUMsU0FBQUMseUJBQUFDLFdBQUEsZUFBQUMsT0FBQSxrQ0FBQUMsaUJBQUEsT0FBQUQsT0FBQSxRQUFBRSxnQkFBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLFdBQUEsV0FBQUEsV0FBQSxHQUFBRyxnQkFBQSxHQUFBRCxpQkFBQSxLQUFBRixXQUFBO0FBQUEsU0FBQUgsd0JBQUFPLEdBQUEsRUFBQUosV0FBQSxTQUFBQSxXQUFBLElBQUFJLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLFdBQUFELEdBQUEsUUFBQUEsR0FBQSxvQkFBQUEsR0FBQSx3QkFBQUEsR0FBQSw0QkFBQUUsT0FBQSxFQUFBRixHQUFBLFVBQUFHLEtBQUEsR0FBQVIsd0JBQUEsQ0FBQUMsV0FBQSxPQUFBTyxLQUFBLElBQUFBLEtBQUEsQ0FBQUMsR0FBQSxDQUFBSixHQUFBLFlBQUFHLEtBQUEsQ0FBQUUsR0FBQSxDQUFBTCxHQUFBLFNBQUFNLE1BQUEsV0FBQUMscUJBQUEsR0FBQUMsTUFBQSxDQUFBQyxjQUFBLElBQUFELE1BQUEsQ0FBQUUsd0JBQUEsV0FBQUMsR0FBQSxJQUFBWCxHQUFBLFFBQUFXLEdBQUEsa0JBQUFILE1BQUEsQ0FBQUksU0FBQSxDQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQWQsR0FBQSxFQUFBVyxHQUFBLFNBQUFJLElBQUEsR0FBQVIscUJBQUEsR0FBQUMsTUFBQSxDQUFBRSx3QkFBQSxDQUFBVixHQUFBLEVBQUFXLEdBQUEsY0FBQUksSUFBQSxLQUFBQSxJQUFBLENBQUFWLEdBQUEsSUFBQVUsSUFBQSxDQUFBQyxHQUFBLEtBQUFSLE1BQUEsQ0FBQUMsY0FBQSxDQUFBSCxNQUFBLEVBQUFLLEdBQUEsRUFBQUksSUFBQSxZQUFBVCxNQUFBLENBQUFLLEdBQUEsSUFBQVgsR0FBQSxDQUFBVyxHQUFBLFNBQUFMLE1BQUEsQ0FBQUosT0FBQSxHQUFBRixHQUFBLE1BQUFHLEtBQUEsSUFBQUEsS0FBQSxDQUFBYSxHQUFBLENBQUFoQixHQUFBLEVBQUFNLE1BQUEsWUFBQUEsTUFBQTtBQUV6QyxNQUFNVyxtQkFBbUIsR0FBRyxJQUFJQyxnQkFBTSxDQUFDO0VBQ25DQyxJQUFJLEVBQUM7SUFBQ0MsSUFBSSxFQUFDRixnQkFBTSxDQUFDRyxRQUFRO0lBQUNDLEdBQUcsRUFBRSxNQUFNO0lBQUNDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDckRDLElBQUksRUFBQztJQUFDSixJQUFJLEVBQUNLLE1BQU07SUFBQ0MsU0FBUyxFQUFHLEdBQUc7SUFBQ0gsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNoREksT0FBTyxFQUFDO0lBQUNQLElBQUksRUFBQ0ssTUFBTTtJQUFDQyxTQUFTLEVBQUcsR0FBRztJQUFDSCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ25ESyxJQUFJLEVBQUM7SUFBQ1IsSUFBSSxFQUFDSyxNQUFNO0lBQUNDLFNBQVMsRUFBRSxHQUFHO0lBQUVILFFBQVEsRUFBQztFQUFJLENBQUM7RUFDaERNLE9BQU8sRUFBQztJQUFDVCxJQUFJLEVBQUNLLE1BQU07SUFBQ0MsU0FBUyxFQUFFLEdBQUc7SUFBRUgsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNuRE8sVUFBVSxFQUFDO0lBQUNWLElBQUksRUFBQ0ssTUFBTTtJQUFDQyxTQUFTLEVBQUUsR0FBRztJQUFFSCxRQUFRLEVBQUM7RUFBSyxDQUFDO0VBQ3ZEUSxNQUFNLEVBQUM7SUFBQ1gsSUFBSSxFQUFDSyxNQUFNO0lBQUNDLFNBQVMsRUFBRSxHQUFHO0lBQUVILFFBQVEsRUFBQztFQUFJLENBQUM7RUFDbERTLE1BQU0sRUFBQztJQUFDWixJQUFJLEVBQUNLLE1BQU07SUFBQ0MsU0FBUyxFQUFFLEdBQUc7SUFBRUgsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNsRFUsUUFBUSxFQUFDO0lBQUNiLElBQUksRUFBQ0ssTUFBTTtJQUFDQyxTQUFTLEVBQUUsR0FBRztJQUFFSCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ3BEVyxLQUFLLEVBQUM7SUFBQ2QsSUFBSSxFQUFDSyxNQUFNO0lBQUNDLFNBQVMsRUFBRSxHQUFHO0lBQUVILFFBQVEsRUFBQztFQUFJLENBQUM7RUFDakRZLElBQUksRUFBQztJQUFDZixJQUFJLEVBQUNLLE1BQU07SUFBRUYsUUFBUSxFQUFDO0VBQUs7QUFDckMsQ0FBQyxFQUFDO0VBQ0VhLFVBQVUsRUFBRTtBQUNoQixDQUFDLENBQUM7QUFFRixNQUFNQyxhQUFhLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxnQkFBZ0IsRUFBQ3RCLG1CQUFtQixDQUFDO0FBQUMsSUFBQXVCLFFBQUEsR0FDNURILGFBQWE7QUFBQUksT0FBQSxDQUFBdkMsT0FBQSxHQUFBc0MsUUFBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","AddressClientSchema","Schema","user","type","ObjectId","ref","required","name","String","maxlength","surname","pais","address","referencia","ciudad","region","telefono","email","nota","timestamps","AddressClient","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["AddressClient.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst AddressClientSchema = new Schema({\r\n    user:{type:Schema.ObjectId,ref: 'user',required:true},\r\n    name:{type:String,maxlength : 250,required:true},\r\n    surname:{type:String,maxlength : 250,required:true},\r\n    pais:{type:String,maxlength: 250, required:true},\r\n    address:{type:String,maxlength: 250, required:true},\r\n    referencia:{type:String,maxlength: 250, required:false},\r\n    ciudad:{type:String,maxlength: 250, required:true},\r\n    region:{type:String,maxlength: 250, required:true},\r\n    telefono:{type:String,maxlength: 250, required:true},\r\n    email:{type:String,maxlength: 250, required:true},\r\n    nota:{type:String, required:false},\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst AddressClient = mongoose.model(\"address_client\",AddressClientSchema);\r\nexport default AddressClient;"],"mappings":"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","ignoreList":[]}},"mtime":1679756615219},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Sale.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst SaleSchema = new _mongoose.Schema({\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  currency_payment: {\n    type: String,\n    default: 'USD'\n  },\n  method_payment: {\n    type: String,\n    maxlength: 50,\n    required: true\n  },\n  n_transacccion: {\n    type: String,\n    maxlength: 200,\n    required: true\n  },\n  total: {\n    type: Number,\n    required: true\n  },\n  // \n  currency_total: {\n    type: String,\n    maxlength: 50,\n    default: 'USD'\n  },\n  price_dolar: {\n    type: Number,\n    default: 0\n  }\n}, {\n  timestamps: true\n});\nconst Sale = _mongoose.default.model(\"sale\", SaleSchema);\nvar _default = Sale;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiU2FsZVNjaGVtYSIsIlNjaGVtYSIsInVzZXIiLCJ0eXBlIiwiT2JqZWN0SWQiLCJyZWYiLCJyZXF1aXJlZCIsImN1cnJlbmN5X3BheW1lbnQiLCJTdHJpbmciLCJtZXRob2RfcGF5bWVudCIsIm1heGxlbmd0aCIsIm5fdHJhbnNhY2NjaW9uIiwidG90YWwiLCJOdW1iZXIiLCJjdXJyZW5jeV90b3RhbCIsInByaWNlX2RvbGFyIiwidGltZXN0YW1wcyIsIlNhbGUiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiU2FsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2Use1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCBTYWxlU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICB1c2VyOnt0eXBlOiBTY2hlbWEuT2JqZWN0SWQscmVmOid1c2VyJyxyZXF1aXJlZDp0cnVlfSxcclxuICAgIGN1cnJlbmN5X3BheW1lbnQ6e3R5cGU6IFN0cmluZyxkZWZhdWx0OiAnVVNEJ30sXHJcbiAgICBtZXRob2RfcGF5bWVudDp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiA1MCxyZXF1aXJlZDp0cnVlfSxcclxuICAgIG5fdHJhbnNhY2NjaW9uOiB7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyMDAscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICB0b3RhbDp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICAvLyBcclxuICAgIGN1cnJlbmN5X3RvdGFsOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6IDUwLCBkZWZhdWx0OiAnVVNEJ30sXHJcbiAgICBwcmljZV9kb2xhcjp7dHlwZTpOdW1iZXIsZGVmYXVsdDogMH0sXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczogdHJ1ZSxcclxufSk7XHJcblxyXG5jb25zdCBTYWxlID0gbW9uZ29vc2UubW9kZWwoXCJzYWxlXCIsU2FsZVNjaGVtYSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTYWxlOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQXlDLFNBQUFDLHlCQUFBQyxXQUFBLGVBQUFDLE9BQUEsa0NBQUFDLGlCQUFBLE9BQUFELE9BQUEsUUFBQUUsZ0JBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxXQUFBLFdBQUFBLFdBQUEsR0FBQUcsZ0JBQUEsR0FBQUQsaUJBQUEsS0FBQUYsV0FBQTtBQUFBLFNBQUFILHdCQUFBTyxHQUFBLEVBQUFKLFdBQUEsU0FBQUEsV0FBQSxJQUFBSSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxXQUFBRCxHQUFBLFFBQUFBLEdBQUEsb0JBQUFBLEdBQUEsd0JBQUFBLEdBQUEsNEJBQUFFLE9BQUEsRUFBQUYsR0FBQSxVQUFBRyxLQUFBLEdBQUFSLHdCQUFBLENBQUFDLFdBQUEsT0FBQU8sS0FBQSxJQUFBQSxLQUFBLENBQUFDLEdBQUEsQ0FBQUosR0FBQSxZQUFBRyxLQUFBLENBQUFFLEdBQUEsQ0FBQUwsR0FBQSxTQUFBTSxNQUFBLFdBQUFDLHFCQUFBLEdBQUFDLE1BQUEsQ0FBQUMsY0FBQSxJQUFBRCxNQUFBLENBQUFFLHdCQUFBLFdBQUFDLEdBQUEsSUFBQVgsR0FBQSxRQUFBVyxHQUFBLGtCQUFBSCxNQUFBLENBQUFJLFNBQUEsQ0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFkLEdBQUEsRUFBQVcsR0FBQSxTQUFBSSxJQUFBLEdBQUFSLHFCQUFBLEdBQUFDLE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQVYsR0FBQSxFQUFBVyxHQUFBLGNBQUFJLElBQUEsS0FBQUEsSUFBQSxDQUFBVixHQUFBLElBQUFVLElBQUEsQ0FBQUMsR0FBQSxLQUFBUixNQUFBLENBQUFDLGNBQUEsQ0FBQUgsTUFBQSxFQUFBSyxHQUFBLEVBQUFJLElBQUEsWUFBQVQsTUFBQSxDQUFBSyxHQUFBLElBQUFYLEdBQUEsQ0FBQVcsR0FBQSxTQUFBTCxNQUFBLENBQUFKLE9BQUEsR0FBQUYsR0FBQSxNQUFBRyxLQUFBLElBQUFBLEtBQUEsQ0FBQWEsR0FBQSxDQUFBaEIsR0FBQSxFQUFBTSxNQUFBLFlBQUFBLE1BQUE7QUFFekMsTUFBTVcsVUFBVSxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDMUJDLElBQUksRUFBQztJQUFDQyxJQUFJLEVBQUVGLGdCQUFNLENBQUNHLFFBQVE7SUFBQ0MsR0FBRyxFQUFDLE1BQU07SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNyREMsZ0JBQWdCLEVBQUM7SUFBQ0osSUFBSSxFQUFFSyxNQUFNO0lBQUN2QixPQUFPLEVBQUU7RUFBSyxDQUFDO0VBQzlDd0IsY0FBYyxFQUFDO0lBQUNOLElBQUksRUFBQ0ssTUFBTTtJQUFDRSxTQUFTLEVBQUUsRUFBRTtJQUFDSixRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ3hESyxjQUFjLEVBQUU7SUFBQ1IsSUFBSSxFQUFDSyxNQUFNO0lBQUNFLFNBQVMsRUFBRSxHQUFHO0lBQUNKLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDMURNLEtBQUssRUFBQztJQUFDVCxJQUFJLEVBQUNVLE1BQU07SUFBQ1AsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNqQztFQUNBUSxjQUFjLEVBQUU7SUFBQ1gsSUFBSSxFQUFFSyxNQUFNO0lBQUVFLFNBQVMsRUFBRSxFQUFFO0lBQUV6QixPQUFPLEVBQUU7RUFBSyxDQUFDO0VBQzdEOEIsV0FBVyxFQUFDO0lBQUNaLElBQUksRUFBQ1UsTUFBTTtJQUFDNUIsT0FBTyxFQUFFO0VBQUM7QUFDdkMsQ0FBQyxFQUFDO0VBQ0UrQixVQUFVLEVBQUU7QUFDaEIsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsSUFBSSxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsTUFBTSxFQUFDbkIsVUFBVSxDQUFDO0FBQUMsSUFBQW9CLFFBQUEsR0FFaENILElBQUk7QUFBQUksT0FBQSxDQUFBcEMsT0FBQSxHQUFBbUMsUUFBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","SaleSchema","Schema","user","type","ObjectId","ref","required","currency_payment","String","method_payment","maxlength","n_transacccion","total","Number","currency_total","price_dolar","timestamps","Sale","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Sale.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst SaleSchema = new Schema({\r\n    user:{type: Schema.ObjectId,ref:'user',required:true},\r\n    currency_payment:{type: String,default: 'USD'},\r\n    method_payment:{type:String,maxlength: 50,required:true},\r\n    n_transacccion: {type:String,maxlength: 200,required:true},\r\n    total:{type:Number,required:true},\r\n    // \r\n    currency_total: {type: String, maxlength: 50, default: 'USD'},\r\n    price_dolar:{type:Number,default: 0},\r\n},{\r\n    timestamps: true,\r\n});\r\n\r\nconst Sale = mongoose.model(\"sale\",SaleSchema);\r\n\r\nexport default Sale;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAH,wBAAAO,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,CAAAJ,OAAA,GAAAF,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAEzC,MAAMW,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC1BC,IAAI,EAAC;IAACC,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EACrDC,gBAAgB,EAAC;IAACJ,IAAI,EAAEK,MAAM;IAACvB,OAAO,EAAE;EAAK,CAAC;EAC9CwB,cAAc,EAAC;IAACN,IAAI,EAACK,MAAM;IAACE,SAAS,EAAE,EAAE;IAACJ,QAAQ,EAAC;EAAI,CAAC;EACxDK,cAAc,EAAE;IAACR,IAAI,EAACK,MAAM;IAACE,SAAS,EAAE,GAAG;IAACJ,QAAQ,EAAC;EAAI,CAAC;EAC1DM,KAAK,EAAC;IAACT,IAAI,EAACU,MAAM;IAACP,QAAQ,EAAC;EAAI,CAAC;EACjC;EACAQ,cAAc,EAAE;IAACX,IAAI,EAAEK,MAAM;IAAEE,SAAS,EAAE,EAAE;IAAEzB,OAAO,EAAE;EAAK,CAAC;EAC7D8B,WAAW,EAAC;IAACZ,IAAI,EAACU,MAAM;IAAC5B,OAAO,EAAE;EAAC;AACvC,CAAC,EAAC;EACE+B,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAACnB,UAAU,CAAC;AAAC,IAAAoB,QAAA,GAEhCH,IAAI;AAAAI,OAAA,CAAApC,OAAA,GAAAmC,QAAA","ignoreList":[]}},"mtime":1679842300790},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\SaleDetail.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst SaleDetailSchema = new _mongoose.Schema({\n  sale: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'sale',\n    required: true\n  },\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  type_discount: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es por porcentaje y 2 es por moneda\n  discount: {\n    type: Number,\n    default: 0\n  },\n  //50%\n  cantidad: {\n    type: Number,\n    required: true\n  },\n  //2\n  variedad: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'variedad',\n    required: false\n  },\n  code_cupon: {\n    type: String,\n    required: false\n  },\n  code_discount: {\n    type: String,\n    required: false\n  },\n  price_unitario: {\n    type: Number,\n    required: true\n  },\n  //60\n  subtotal: {\n    type: Number,\n    required: true\n  },\n  //30\n  total: {\n    type: Number,\n    required: true\n  } //60\n}, {\n  timestamps: true\n});\nconst SaleDetail = _mongoose.default.model(\"sale_detail\", SaleDetailSchema);\nvar _default = SaleDetail;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiU2FsZURldGFpbFNjaGVtYSIsIlNjaGVtYSIsInNhbGUiLCJ0eXBlIiwiT2JqZWN0SWQiLCJyZWYiLCJyZXF1aXJlZCIsInByb2R1Y3QiLCJ0eXBlX2Rpc2NvdW50IiwiTnVtYmVyIiwiZGlzY291bnQiLCJjYW50aWRhZCIsInZhcmllZGFkIiwiY29kZV9jdXBvbiIsIlN0cmluZyIsImNvZGVfZGlzY291bnQiLCJwcmljZV91bml0YXJpbyIsInN1YnRvdGFsIiwidG90YWwiLCJ0aW1lc3RhbXBzIiwiU2FsZURldGFpbCIsIm1vbmdvb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXG1vZGVsc1xcIiwic291cmNlcyI6WyJTYWxlRGV0YWlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IFNhbGVEZXRhaWxTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIHNhbGU6IHt0eXBlOiBTY2hlbWEuT2JqZWN0SWQscmVmOiAnc2FsZScscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBwcm9kdWN0OiB7dHlwZTogU2NoZW1hLk9iamVjdElkLCByZWY6ICdwcm9kdWN0JyxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHR5cGVfZGlzY291bnQ6IHt0eXBlOk51bWJlcixyZXF1aXJlZDpmYWxzZSxkZWZhdWx0OiAxfSwvLzEgZXMgcG9yIHBvcmNlbnRhamUgeSAyIGVzIHBvciBtb25lZGFcclxuICAgIGRpc2NvdW50Ont0eXBlOk51bWJlcixkZWZhdWx0OiAwfSwvLzUwJVxyXG4gICAgY2FudGlkYWQ6IHt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSwvLzJcclxuICAgIHZhcmllZGFkOiB7dHlwZTpTY2hlbWEuT2JqZWN0SWQsIHJlZjogJ3ZhcmllZGFkJywgcmVxdWlyZWQ6IGZhbHNlfSxcclxuICAgIGNvZGVfY3Vwb246IHt0eXBlOlN0cmluZyxyZXF1aXJlZDpmYWxzZX0sXHJcbiAgICBjb2RlX2Rpc2NvdW50OiB7dHlwZTpTdHJpbmcscmVxdWlyZWQ6ZmFsc2V9LFxyXG4gICAgcHJpY2VfdW5pdGFyaW86IHt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSwvLzYwXHJcbiAgICBzdWJ0b3RhbDoge3R5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWV9LC8vMzBcclxuICAgIHRvdGFsOiB7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sLy82MFxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6dHJ1ZSxcclxufSk7XHJcblxyXG5jb25zdCBTYWxlRGV0YWlsID0gbW9uZ29vc2UubW9kZWwoXCJzYWxlX2RldGFpbFwiLFNhbGVEZXRhaWxTY2hlbWEpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2FsZURldGFpbDsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBQyx5QkFBQUMsV0FBQSxlQUFBQyxPQUFBLGtDQUFBQyxpQkFBQSxPQUFBRCxPQUFBLFFBQUFFLGdC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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","SaleDetailSchema","Schema","sale","type","ObjectId","ref","required","product","type_discount","Number","discount","cantidad","variedad","code_cupon","String","code_discount","price_unitario","subtotal","total","timestamps","SaleDetail","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["SaleDetail.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst SaleDetailSchema = new Schema({\r\n    sale: {type: Schema.ObjectId,ref: 'sale',required:true},\r\n    product: {type: Schema.ObjectId, ref: 'product',required:true},\r\n    type_discount: {type:Number,required:false,default: 1},//1 es por porcentaje y 2 es por moneda\r\n    discount:{type:Number,default: 0},//50%\r\n    cantidad: {type:Number,required:true},//2\r\n    variedad: {type:Schema.ObjectId, ref: 'variedad', required: false},\r\n    code_cupon: {type:String,required:false},\r\n    code_discount: {type:String,required:false},\r\n    price_unitario: {type:Number,required:true},//60\r\n    subtotal: {type:Number,required:true},//30\r\n    total: {type:Number,required:true},//60\r\n},{\r\n    timestamps:true,\r\n});\r\n\r\nconst SaleDetail = mongoose.model(\"sale_detail\",SaleDetailSchema);\r\n\r\nexport default SaleDetail;"],"mappings":"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","ignoreList":[]}},"mtime":1679842349406},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\SaleAddress.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst SaleAddressSchema = new _mongoose.Schema({\n  sale: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'sale',\n    required: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  pais: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  address: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  referencia: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  ciudad: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  region: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  telefono: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  nota: {\n    type: String,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst SaleAddress = _mongoose.default.model(\"sale_address\", SaleAddressSchema);\nvar _default = SaleAddress;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiU2FsZUFkZHJlc3NTY2hlbWEiLCJTY2hlbWEiLCJzYWxlIiwidHlwZSIsIk9iamVjdElkIiwicmVmIiwicmVxdWlyZWQiLCJuYW1lIiwiU3RyaW5nIiwibWF4bGVuZ3RoIiwic3VybmFtZSIsInBhaXMiLCJhZGRyZXNzIiwicmVmZXJlbmNpYSIsImNpdWRhZCIsInJlZ2lvbiIsInRlbGVmb25vIiwiZW1haWwiLCJub3RhIiwidGltZXN0YW1wcyIsIlNhbGVBZGRyZXNzIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIlNhbGVBZGRyZXNzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IFNhbGVBZGRyZXNzU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICBzYWxlOnt0eXBlOlNjaGVtYS5PYmplY3RJZCxyZWY6ICdzYWxlJyxyZXF1aXJlZDp0cnVlfSxcclxuICAgIG5hbWU6e3R5cGU6U3RyaW5nLG1heGxlbmd0aCA6IDI1MCxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHN1cm5hbWU6e3R5cGU6U3RyaW5nLG1heGxlbmd0aCA6IDI1MCxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHBhaXM6e3R5cGU6U3RyaW5nLG1heGxlbmd0aDogMjUwLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIGFkZHJlc3M6e3R5cGU6U3RyaW5nLG1heGxlbmd0aDogMjUwLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIHJlZmVyZW5jaWE6e3R5cGU6U3RyaW5nLG1heGxlbmd0aDogMjUwLCByZXF1aXJlZDpmYWxzZX0sXHJcbiAgICBjaXVkYWQ6e3R5cGU6U3RyaW5nLG1heGxlbmd0aDogMjUwLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIHJlZ2lvbjp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgdGVsZWZvbm86e3R5cGU6U3RyaW5nLG1heGxlbmd0aDogMjUwLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIGVtYWlsOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBub3RhOnt0eXBlOlN0cmluZywgcmVxdWlyZWQ6ZmFsc2V9LFxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6IHRydWVcclxufSk7XHJcblxyXG5jb25zdCBTYWxlQWRkcmVzcyA9IG1vbmdvb3NlLm1vZGVsKFwic2FsZV9hZGRyZXNzXCIsU2FsZUFkZHJlc3NTY2hlbWEpO1xyXG5leHBvcnQgZGVmYXVsdCBTYWxlQWRkcmVzczsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBQyx5QkFBQUMsV0FBQSxlQUFBQyxPQUFBLGtDQUFBQyxpQkFBQSxPQUFBRCxPQUFBLFFBQUFFLGdCQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsV0FBQSxXQUFBQSxXQUFBLEdBQUFHLGdCQUFBLEdBQUFELGlCQUFBLEtBQUFGLFdBQUE7QUFBQSxTQUFBSCx3QkFBQU8sR0FBQSxFQUFBSixXQUFBLFNBQUFBLFdBQUEsSUFBQUksR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsV0FBQUQsR0FBQSxRQUFBQSxHQUFBLG9CQUFBQSxHQUFBLHdCQUFBQSxHQUFBLDRCQUFBRSxPQUFBLEVBQUFGLEdBQUEsVUFBQUcsS0FBQSxHQUFBUix3QkFBQSxDQUFBQyxXQUFBLE9BQUFPLEtBQUEsSUFBQUEsS0FBQSxDQUFBQyxHQUFBLENBQUFKLEdBQUEsWUFBQUcsS0FBQSxDQUFBRSxHQUFBLENBQUFMLEdBQUEsU0FBQU0sTUFBQSxXQUFBQyxxQkFBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxHQUFBLElBQUFYLEdBQUEsUUFBQVcsR0FBQSxrQkFBQUgsTUFBQSxDQUFBSSxTQUFBLENBQUFDLGNBQUEsQ0FBQUMsSUFBQSxDQUFBZCxHQUFBLEVBQUFXLEdBQUEsU0FBQUksSUFBQSxHQUFBUixxQkFBQSxHQUFBQyxNQUFBLENBQUFFLHdCQUFBLENBQUFWLEdBQUEsRUFBQVcsR0FBQSxjQUFBSSxJQUFBLEtBQUFBLElBQUEsQ0FBQVYsR0FBQSxJQUFBVSxJQUFBLENBQUFDLEdBQUEsS0FBQVIsTUFBQSxDQUFBQyxjQUFBLENBQUFILE1BQUEsRUFBQUssR0FBQSxFQUFBSSxJQUFBLFlBQUFULE1BQUEsQ0FBQUssR0FBQSxJQUFBWCxHQUFBLENBQUFXLEdBQUEsU0FBQUwsTUFBQSxDQUFBSixPQUFBLEdBQUFGLEdBQUEsTUFBQUcsS0FBQSxJQUFBQSxLQUFBLENBQUFhLEdBQUEsQ0FBQWhCLEdBQUEsRUFBQU0sTUFBQSxZQUFBQSxNQUFBO0FBRXpDLE1BQU1XLGlCQUFpQixHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDakNDLElBQUksRUFBQztJQUFDQyxJQUFJLEVBQUNGLGdCQUFNLENBQUNHLFFBQVE7SUFBQ0MsR0FBRyxFQUFFLE1BQU07SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNyREMsSUFBSSxFQUFDO0lBQUNKLElBQUksRUFBQ0ssTUFBTTtJQUFDQyxTQUFTLEVBQUcsR0FBRztJQUFDSCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2hESSxPQUFPLEVBQUM7SUFBQ1AsSUFBSSxFQUFDSyxNQUFNO0lBQUNDLFNBQVMsRUFBRyxHQUFHO0lBQUNILFFBQVEsRUFBQztFQUFJLENBQUM7RUFDbkRLLElBQUksRUFBQztJQUFDUixJQUFJLEVBQUNLLE1BQU07SUFBQ0MsU0FBUyxFQUFFLEdBQUc7SUFBRUgsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNoRE0sT0FBTyxFQUFDO0lBQUNULElBQUksRUFBQ0ssTUFBTTtJQUFDQyxTQUFTLEVBQUUsR0FBRztJQUFFSCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ25ETyxVQUFVLEVBQUM7SUFBQ1YsSUFBSSxFQUFDSyxNQUFNO0lBQUNDLFNBQVMsRUFBRSxHQUFHO0lBQUVILFFBQVEsRUFBQztFQUFLLENBQUM7RUFDdkRRLE1BQU0sRUFBQztJQUFDWCxJQUFJLEVBQUNLLE1BQU07SUFBQ0MsU0FBUyxFQUFFLEdBQUc7SUFBRUgsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNsRFMsTUFBTSxFQUFDO0lBQUNaLElBQUksRUFBQ0ssTUFBTTtJQUFDQyxTQUFTLEVBQUUsR0FBRztJQUFFSCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2xEVSxRQUFRLEVBQUM7SUFBQ2IsSUFBSSxFQUFDSyxNQUFNO0lBQUNDLFNBQVMsRUFBRSxHQUFHO0lBQUVILFFBQVEsRUFBQztFQUFJLENBQUM7RUFDcERXLEtBQUssRUFBQztJQUFDZCxJQUFJLEVBQUNLLE1BQU07SUFBQ0MsU0FBUyxFQUFFLEdBQUc7SUFBRUgsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNqRFksSUFBSSxFQUFDO0lBQUNmLElBQUksRUFBQ0ssTUFBTTtJQUFFRixRQUFRLEVBQUM7RUFBSztBQUNyQyxDQUFDLEVBQUM7RUFDRWEsVUFBVSxFQUFFO0FBQ2hCLENBQUMsQ0FBQztBQUVGLE1BQU1DLFdBQVcsR0FBR0MsaUJBQVEsQ0FBQ0MsS0FBSyxDQUFDLGNBQWMsRUFBQ3RCLGlCQUFpQixDQUFDO0FBQUMsSUFBQXVCLFFBQUEsR0FDdERILFdBQVc7QUFBQUksT0FBQSxDQUFBdkMsT0FBQSxHQUFBc0MsUUFBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","SaleAddressSchema","Schema","sale","type","ObjectId","ref","required","name","String","maxlength","surname","pais","address","referencia","ciudad","region","telefono","email","nota","timestamps","SaleAddress","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["SaleAddress.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst SaleAddressSchema = new Schema({\r\n    sale:{type:Schema.ObjectId,ref: 'sale',required:true},\r\n    name:{type:String,maxlength : 250,required:true},\r\n    surname:{type:String,maxlength : 250,required:true},\r\n    pais:{type:String,maxlength: 250, required:true},\r\n    address:{type:String,maxlength: 250, required:true},\r\n    referencia:{type:String,maxlength: 250, required:false},\r\n    ciudad:{type:String,maxlength: 250, required:true},\r\n    region:{type:String,maxlength: 250, required:true},\r\n    telefono:{type:String,maxlength: 250, required:true},\r\n    email:{type:String,maxlength: 250, required:true},\r\n    nota:{type:String, required:false},\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst SaleAddress = mongoose.model(\"sale_address\",SaleAddressSchema);\r\nexport default SaleAddress;"],"mappings":"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","ignoreList":[]}},"mtime":1679842388462},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Review.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst ReviewSchema = new _mongoose.Schema({\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  sale_detail: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'sale_detail',\n    required: true\n  },\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  cantidad: {\n    type: Number,\n    maxlength: 2,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst Review = _mongoose.default.model(\"review\", ReviewSchema);\nvar _default = Review;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiUmV2aWV3U2NoZW1hIiwiU2NoZW1hIiwicHJvZHVjdCIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwic2FsZV9kZXRhaWwiLCJ1c2VyIiwiY2FudGlkYWQiLCJOdW1iZXIiLCJtYXhsZW5ndGgiLCJkZXNjcmlwdGlvbiIsIlN0cmluZyIsInRpbWVzdGFtcHMiLCJSZXZpZXciLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiUmV2aWV3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IFJldmlld1NjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgcHJvZHVjdDp7dHlwZTpTY2hlbWEuT2JqZWN0SWQscmVmOidwcm9kdWN0JyxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHNhbGVfZGV0YWlsOnt0eXBlOlNjaGVtYS5PYmplY3RJZCxyZWY6J3NhbGVfZGV0YWlsJywgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICB1c2VyOnt0eXBlOlNjaGVtYS5PYmplY3RJZCxyZWY6J3VzZXInLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIGNhbnRpZGFkOnt0eXBlOk51bWJlcixtYXhsZW5ndGg6MixyZXF1aXJlZDp0cnVlfSxcclxuICAgIGRlc2NyaXB0aW9uOnt0eXBlOlN0cmluZyxyZXF1aXJlZDp0cnVlfSxcclxufSx7XHJcbiAgICB0aW1lc3RhbXBzOiB0cnVlXHJcbn0pO1xyXG5cclxuY29uc3QgUmV2aWV3ID0gbW9uZ29vc2UubW9kZWwoXCJyZXZpZXdcIixSZXZpZXdTY2hlbWEpO1xyXG5leHBvcnQgZGVmYXVsdCBSZXZpZXc7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBeUMsU0FBQUMseUJBQUFDLFdBQUEsZUFBQUMsT0FBQSxrQ0FBQUMsaUJBQUEsT0FBQUQsT0FBQSxRQUFBRSxnQkFBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLFdBQUEsV0FBQUEsV0FBQSxHQUFBRyxnQkFBQSxHQUFBRCxpQkFBQSxLQUFBRixXQUFBO0FBQUEsU0FBQUgsd0JBQUFPLEdBQUEsRUFBQUosV0FBQSxTQUFBQSxXQUFBLElBQUFJLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLFdBQUFELEdBQUEsUUFBQUEsR0FBQSxvQkFBQUEsR0FBQSx3QkFBQUEsR0FBQSw0QkFBQUUsT0FBQSxFQUFBRixHQUFBLFVBQUFHLEtBQUEsR0FBQVIsd0JBQUEsQ0FBQUMsV0FBQSxPQUFBTyxLQUFBLElBQUFBLEtBQUEsQ0FBQUMsR0FBQSxDQUFBSixHQUFBLFlBQUFHLEtBQUEsQ0FBQUUsR0FBQSxDQUFBTCxHQUFBLFNBQUFNLE1BQUEsV0FBQUMscUJBQUEsR0FBQUMsTUFBQSxDQUFBQyxjQUFBLElBQUFELE1BQUEsQ0FBQUUsd0JBQUEsV0FBQUMsR0FBQSxJQUFBWCxHQUFBLFFBQUFXLEdBQUEsa0JBQUFILE1BQUEsQ0FBQUksU0FBQSxDQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQWQsR0FBQSxFQUFBVyxHQUFBLFNBQUFJLElBQUEsR0FBQVIscUJBQUEsR0FBQUMsTUFBQSxDQUFBRSx3QkFBQSxDQUFBVixHQUFBLEVBQUFXLEdBQUEsY0FBQUksSUFBQSxLQUFBQSxJQUFBLENBQUFWLEdBQUEsSUFBQVUsSUFBQSxDQUFBQyxHQUFBLEtBQUFSLE1BQUEsQ0FBQUMsY0FBQSxDQUFBSCxNQUFBLEVBQUFLLEdBQUEsRUFBQUksSUFBQSxZQUFBVCxNQUFBLENBQUFLLEdBQUEsSUFBQVgsR0FBQSxDQUFBVyxHQUFBLFNBQUFMLE1BQUEsQ0FBQUosT0FBQSxHQUFBRixHQUFBLE1BQUFHLEtBQUEsSUFBQUEsS0FBQSxDQUFBYSxHQUFBLENBQUFoQixHQUFBLEVBQUFNLE1BQUEsWUFBQUEsTUFBQTtBQUV6QyxNQUFNVyxZQUFZLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUM1QkMsT0FBTyxFQUFDO0lBQUNDLElBQUksRUFBQ0YsZ0JBQU0sQ0FBQ0csUUFBUTtJQUFDQyxHQUFHLEVBQUMsU0FBUztJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQzFEQyxXQUFXLEVBQUM7SUFBQ0osSUFBSSxFQUFDRixnQkFBTSxDQUFDRyxRQUFRO0lBQUNDLEdBQUcsRUFBQyxhQUFhO0lBQUVDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDbkVFLElBQUksRUFBQztJQUFDTCxJQUFJLEVBQUNGLGdCQUFNLENBQUNHLFFBQVE7SUFBQ0MsR0FBRyxFQUFDLE1BQU07SUFBRUMsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNyREcsUUFBUSxFQUFDO0lBQUNOLElBQUksRUFBQ08sTUFBTTtJQUFDQyxTQUFTLEVBQUMsQ0FBQztJQUFDTCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2hETSxXQUFXLEVBQUM7SUFBQ1QsSUFBSSxFQUFDVSxNQUFNO0lBQUNQLFFBQVEsRUFBQztFQUFJO0FBQzFDLENBQUMsRUFBQztFQUNFUSxVQUFVLEVBQUU7QUFDaEIsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsTUFBTSxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsUUFBUSxFQUFDakIsWUFBWSxDQUFDO0FBQUMsSUFBQWtCLFFBQUEsR0FDdENILE1BQU07QUFBQUksT0FBQSxDQUFBbEMsT0FBQSxHQUFBaUMsUUFBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ReviewSchema","Schema","product","type","ObjectId","ref","required","sale_detail","user","cantidad","Number","maxlength","description","String","timestamps","Review","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Review.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst ReviewSchema = new Schema({\r\n    product:{type:Schema.ObjectId,ref:'product',required:true},\r\n    sale_detail:{type:Schema.ObjectId,ref:'sale_detail', required:true},\r\n    user:{type:Schema.ObjectId,ref:'user', required:true},\r\n    cantidad:{type:Number,maxlength:2,required:true},\r\n    description:{type:String,required:true},\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst Review = mongoose.model(\"review\",ReviewSchema);\r\nexport default Review;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAH,wBAAAO,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,CAAAJ,OAAA,GAAAF,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAEzC,MAAMW,YAAY,GAAG,IAAIC,gBAAM,CAAC;EAC5BC,OAAO,EAAC;IAACC,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,SAAS;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC1DC,WAAW,EAAC;IAACJ,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,aAAa;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACnEE,IAAI,EAAC;IAACL,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,MAAM;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACrDG,QAAQ,EAAC;IAACN,IAAI,EAACO,MAAM;IAACC,SAAS,EAAC,CAAC;IAACL,QAAQ,EAAC;EAAI,CAAC;EAChDM,WAAW,EAAC;IAACT,IAAI,EAACU,MAAM;IAACP,QAAQ,EAAC;EAAI;AAC1C,CAAC,EAAC;EACEQ,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAGC,iBAAQ,CAACC,KAAK,CAAC,QAAQ,EAACjB,YAAY,CAAC;AAAC,IAAAkB,QAAA,GACtCH,MAAM;AAAAI,OAAA,CAAAlC,OAAA,GAAAiC,QAAA","ignoreList":[]}},"mtime":1680709802540},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  slider_list: slider => {\n    return {\n      _id: slider._id,\n      title: slider.title,\n      link: slider.link,\n      imagen: slider.imagen,\n      imagen_home: process.env.URL_BACKEND + '/api/sliders/uploads/slider/' + slider.imagen,\n      state: slider.state\n    };\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzbGlkZXJfbGlzdCIsInNsaWRlciIsIl9pZCIsInRpdGxlIiwibGluayIsImltYWdlbiIsImltYWdlbl9ob21lIiwicHJvY2VzcyIsImVudiIsIlVSTF9CQUNLRU5EIiwic3RhdGUiLCJleHBvcnRzIiwiZGVmYXVsdCIsIl9kZWZhdWx0Il0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxyZXNvdXJjZXNcXCIsInNvdXJjZXMiOlsiU2xpZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHNsaWRlcl9saXN0OiAoc2xpZGVyKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgX2lkOiBzbGlkZXIuX2lkLFxyXG4gICAgICAgICAgICB0aXRsZTogc2xpZGVyLnRpdGxlLFxyXG4gICAgICAgICAgICBsaW5rOiBzbGlkZXIubGluayxcclxuICAgICAgICAgICAgaW1hZ2VuOiBzbGlkZXIuaW1hZ2VuLFxyXG4gICAgICAgICAgICBpbWFnZW5faG9tZTogcHJvY2Vzcy5lbnYuVVJMX0JBQ0tFTkQrJy9hcGkvc2xpZGVycy91cGxvYWRzL3NsaWRlci8nK3NsaWRlci5pbWFnZW4sXHJcbiAgICAgICAgICAgIHN0YXRlOiBzbGlkZXIuc3RhdGUsXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7ZUFBZTtFQUNYQSxXQUFXLEVBQUdDLE1BQU0sSUFBSztJQUNyQixPQUFPO01BQ0hDLEdBQUcsRUFBRUQsTUFBTSxDQUFDQyxHQUFHO01BQ2ZDLEtBQUssRUFBRUYsTUFBTSxDQUFDRSxLQUFLO01BQ25CQyxJQUFJLEVBQUVILE1BQU0sQ0FBQ0csSUFBSTtNQUNqQkMsTUFBTSxFQUFFSixNQUFNLENBQUNJLE1BQU07TUFDckJDLFdBQVcsRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFdBQVcsR0FBQyw4QkFBOEIsR0FBQ1IsTUFBTSxDQUFDSSxNQUFNO01BQ2pGSyxLQUFLLEVBQUVULE1BQU0sQ0FBQ1M7SUFDbEIsQ0FBQztFQUNMO0FBQ0osQ0FBQztBQUFBQyxPQUFBLENBQUFDLE9BQUEsR0FBQUMsUUFBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["slider_list","slider","_id","title","link","imagen","imagen_home","process","env","URL_BACKEND","state","exports","default","_default"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\resources\\","sources":["Slider.js"],"sourcesContent":["export default {\r\n    slider_list: (slider) => {\r\n        return {\r\n            _id: slider._id,\r\n            title: slider.title,\r\n            link: slider.link,\r\n            imagen: slider.imagen,\r\n            imagen_home: process.env.URL_BACKEND+'/api/sliders/uploads/slider/'+slider.imagen,\r\n            state: slider.state,\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;eAAe;EACXA,WAAW,EAAGC,MAAM,IAAK;IACrB,OAAO;MACHC,GAAG,EAAED,MAAM,CAACC,GAAG;MACfC,KAAK,EAAEF,MAAM,CAACE,KAAK;MACnBC,IAAI,EAAEH,MAAM,CAACG,IAAI;MACjBC,MAAM,EAAEJ,MAAM,CAACI,MAAM;MACrBC,WAAW,EAAEC,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,8BAA8B,GAACR,MAAM,CAACI,MAAM;MACjFK,KAAK,EAAET,MAAM,CAACS;IAClB,CAAC;EACL;AACJ,CAAC;AAAAC,OAAA,CAAAC,OAAA,GAAAC,QAAA","ignoreList":[]}},"mtime":1681165462286},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\Cart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  cart_list: cart => {\n    return {\n      _id: cart._id,\n      user: cart.user,\n      product: {\n        _id: cart.product._id,\n        title: cart.product.title,\n        sku: cart.product.sku,\n        slug: cart.product.slug,\n        imagen: process.env.URL_BACKEND + '/api/products/uploads/product/' + cart.product.portada,\n        //*\n        categorie: cart.product.categorie,\n        price_pesos: cart.product.price_pesos,\n        price_usd: cart.product.price_usd\n      },\n      type_discount: cart.type_discount,\n      discount: cart.discount,\n      cantidad: cart.cantidad,\n      variedad: cart.variedad,\n      code_cupon: cart.code_cupon,\n      code_discount: cart.code_discount,\n      price_unitario: cart.price_unitario,\n      subtotal: cart.subtotal,\n      total: cart.total\n    };\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXJ0X2xpc3QiLCJjYXJ0IiwiX2lkIiwidXNlciIsInByb2R1Y3QiLCJ0aXRsZSIsInNrdSIsInNsdWciLCJpbWFnZW4iLCJwcm9jZXNzIiwiZW52IiwiVVJMX0JBQ0tFTkQiLCJwb3J0YWRhIiwiY2F0ZWdvcmllIiwicHJpY2VfcGVzb3MiLCJwcmljZV91c2QiLCJ0eXBlX2Rpc2NvdW50IiwiZGlzY291bnQiLCJjYW50aWRhZCIsInZhcmllZGFkIiwiY29kZV9jdXBvbiIsImNvZGVfZGlzY291bnQiLCJwcmljZV91bml0YXJpbyIsInN1YnRvdGFsIiwidG90YWwiLCJleHBvcnRzIiwiZGVmYXVsdCIsIl9kZWZhdWx0Il0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxyZXNvdXJjZXNcXCIsInNvdXJjZXMiOlsiQ2FydC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XHJcbiAgICBjYXJ0X2xpc3Q6IChjYXJ0KSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgX2lkOiBjYXJ0Ll9pZCxcclxuICAgICAgICAgICAgdXNlcjogY2FydC51c2VyLFxyXG4gICAgICAgICAgICBwcm9kdWN0OiB7XHJcbiAgICAgICAgICAgICAgICBfaWQ6IGNhcnQucHJvZHVjdC5faWQsXHJcbiAgICAgICAgICAgICAgICB0aXRsZTogY2FydC5wcm9kdWN0LnRpdGxlLFxyXG4gICAgICAgICAgICAgICAgc2t1OiBjYXJ0LnByb2R1Y3Quc2t1LFxyXG4gICAgICAgICAgICAgICAgc2x1ZzogY2FydC5wcm9kdWN0LnNsdWcsXHJcbiAgICAgICAgICAgICAgICBpbWFnZW46IHByb2Nlc3MuZW52LlVSTF9CQUNLRU5EKycvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC8nK2NhcnQucHJvZHVjdC5wb3J0YWRhLC8vKlxyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllOiBjYXJ0LnByb2R1Y3QuY2F0ZWdvcmllLFxyXG4gICAgICAgICAgICAgICAgcHJpY2VfcGVzb3M6IGNhcnQucHJvZHVjdC5wcmljZV9wZXNvcyxcclxuICAgICAgICAgICAgICAgIHByaWNlX3VzZDogY2FydC5wcm9kdWN0LnByaWNlX3VzZCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdHlwZV9kaXNjb3VudDogY2FydC50eXBlX2Rpc2NvdW50LFxyXG4gICAgICAgICAgICBkaXNjb3VudDogY2FydC5kaXNjb3VudCxcclxuICAgICAgICAgICAgY2FudGlkYWQ6IGNhcnQuY2FudGlkYWQsXHJcbiAgICAgICAgICAgIHZhcmllZGFkOiBjYXJ0LnZhcmllZGFkLFxyXG4gICAgICAgICAgICBjb2RlX2N1cG9uOiBjYXJ0LmNvZGVfY3Vwb24sXHJcbiAgICAgICAgICAgIGNvZGVfZGlzY291bnQ6IGNhcnQuY29kZV9kaXNjb3VudCxcclxuICAgICAgICAgICAgcHJpY2VfdW5pdGFyaW86IGNhcnQucHJpY2VfdW5pdGFyaW8sXHJcbiAgICAgICAgICAgIHN1YnRvdGFsOiBjYXJ0LnN1YnRvdGFsLFxyXG4gICAgICAgICAgICB0b3RhbDogY2FydC50b3RhbCxcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztlQUFlO0VBQ1hBLFNBQVMsRUFBR0MsSUFBSSxJQUFLO0lBQ2pCLE9BQU87TUFDSEMsR0FBRyxFQUFFRCxJQUFJLENBQUNDLEdBQUc7TUFDYkMsSUFBSSxFQUFFRixJQUFJLENBQUNFLElBQUk7TUFDZkMsT0FBTyxFQUFFO1FBQ0xGLEdBQUcsRUFBRUQsSUFBSSxDQUFDRyxPQUFPLENBQUNGLEdBQUc7UUFDckJHLEtBQUssRUFBRUosSUFBSSxDQUFDRyxPQUFPLENBQUNDLEtBQUs7UUFDekJDLEdBQUcsRUFBRUwsSUFBSSxDQUFDRyxPQUFPLENBQUNFLEdBQUc7UUFDckJDLElBQUksRUFBRU4sSUFBSSxDQUFDRyxPQUFPLENBQUNHLElBQUk7UUFDdkJDLE1BQU0sRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFdBQVcsR0FBQyxnQ0FBZ0MsR0FBQ1YsSUFBSSxDQUFDRyxPQUFPLENBQUNRLE9BQU87UUFBQztRQUN0RkMsU0FBUyxFQUFFWixJQUFJLENBQUNHLE9BQU8sQ0FBQ1MsU0FBUztRQUNqQ0MsV0FBVyxFQUFFYixJQUFJLENBQUNHLE9BQU8sQ0FBQ1UsV0FBVztRQUNyQ0MsU0FBUyxFQUFFZCxJQUFJLENBQUNHLE9BQU8sQ0FBQ1c7TUFDNUIsQ0FBQztNQUNEQyxhQUFhLEVBQUVmLElBQUksQ0FBQ2UsYUFBYTtNQUNqQ0MsUUFBUSxFQUFFaEIsSUFBSSxDQUFDZ0IsUUFBUTtNQUN2QkMsUUFBUSxFQUFFakIsSUFBSSxDQUFDaUIsUUFBUTtNQUN2QkMsUUFBUSxFQUFFbEIsSUFBSSxDQUFDa0IsUUFBUTtNQUN2QkMsVUFBVSxFQUFFbkIsSUFBSSxDQUFDbUIsVUFBVTtNQUMzQkMsYUFBYSxFQUFFcEIsSUFBSSxDQUFDb0IsYUFBYTtNQUNqQ0MsY0FBYyxFQUFFckIsSUFBSSxDQUFDcUIsY0FBYztNQUNuQ0MsUUFBUSxFQUFFdEIsSUFBSSxDQUFDc0IsUUFBUTtNQUN2QkMsS0FBSyxFQUFFdkIsSUFBSSxDQUFDdUI7SUFDaEIsQ0FBQztFQUNMO0FBQ0osQ0FBQztBQUFBQyxPQUFBLENBQUFDLE9BQUEsR0FBQUMsUUFBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["cart_list","cart","_id","user","product","title","sku","slug","imagen","process","env","URL_BACKEND","portada","categorie","price_pesos","price_usd","type_discount","discount","cantidad","variedad","code_cupon","code_discount","price_unitario","subtotal","total","exports","default","_default"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\resources\\","sources":["Cart.js"],"sourcesContent":["export default {\r\n    cart_list: (cart) => {\r\n        return {\r\n            _id: cart._id,\r\n            user: cart.user,\r\n            product: {\r\n                _id: cart.product._id,\r\n                title: cart.product.title,\r\n                sku: cart.product.sku,\r\n                slug: cart.product.slug,\r\n                imagen: process.env.URL_BACKEND+'/api/products/uploads/product/'+cart.product.portada,//*\r\n                categorie: cart.product.categorie,\r\n                price_pesos: cart.product.price_pesos,\r\n                price_usd: cart.product.price_usd,\r\n            },\r\n            type_discount: cart.type_discount,\r\n            discount: cart.discount,\r\n            cantidad: cart.cantidad,\r\n            variedad: cart.variedad,\r\n            code_cupon: cart.code_cupon,\r\n            code_discount: cart.code_discount,\r\n            price_unitario: cart.price_unitario,\r\n            subtotal: cart.subtotal,\r\n            total: cart.total,\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;eAAe;EACXA,SAAS,EAAGC,IAAI,IAAK;IACjB,OAAO;MACHC,GAAG,EAAED,IAAI,CAACC,GAAG;MACbC,IAAI,EAAEF,IAAI,CAACE,IAAI;MACfC,OAAO,EAAE;QACLF,GAAG,EAAED,IAAI,CAACG,OAAO,CAACF,GAAG;QACrBG,KAAK,EAAEJ,IAAI,CAACG,OAAO,CAACC,KAAK;QACzBC,GAAG,EAAEL,IAAI,CAACG,OAAO,CAACE,GAAG;QACrBC,IAAI,EAAEN,IAAI,CAACG,OAAO,CAACG,IAAI;QACvBC,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,gCAAgC,GAACV,IAAI,CAACG,OAAO,CAACQ,OAAO;QAAC;QACtFC,SAAS,EAAEZ,IAAI,CAACG,OAAO,CAACS,SAAS;QACjCC,WAAW,EAAEb,IAAI,CAACG,OAAO,CAACU,WAAW;QACrCC,SAAS,EAAEd,IAAI,CAACG,OAAO,CAACW;MAC5B,CAAC;MACDC,aAAa,EAAEf,IAAI,CAACe,aAAa;MACjCC,QAAQ,EAAEhB,IAAI,CAACgB,QAAQ;MACvBC,QAAQ,EAAEjB,IAAI,CAACiB,QAAQ;MACvBC,QAAQ,EAAElB,IAAI,CAACkB,QAAQ;MACvBC,UAAU,EAAEnB,IAAI,CAACmB,UAAU;MAC3BC,aAAa,EAAEpB,IAAI,CAACoB,aAAa;MACjCC,cAAc,EAAErB,IAAI,CAACqB,cAAc;MACnCC,QAAQ,EAAEtB,IAAI,CAACsB,QAAQ;MACvBC,KAAK,EAAEvB,IAAI,CAACuB;IAChB,CAAC;EACL;AACJ,CAAC;AAAAC,OAAA,CAAAC,OAAA,GAAAC,QAAA","ignoreList":[]}},"mtime":1725972130412},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _SliderController = _interopRequireDefault(require(\"../controllers/SliderController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/slider'\n});\nconst router = (0, _expressPromiseRouter.default)();\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _SliderController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _SliderController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _SliderController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _SliderController.default.remove);\nrouter.get(\"/uploads/slider/:img\", _SliderController.default.obtener_imagen);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9TbGlkZXJDb250cm9sbGVyIiwiX2F1dGgiLCJfY29ubmVjdE11bHRpcGFydHkiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInBhdGgiLCJtdWx0aXBhcnR5IiwidXBsb2FkRGlyIiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJzbGlkZXJDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJsaXN0IiwiZGVsZXRlIiwicmVtb3ZlIiwib2J0ZW5lcl9pbWFnZW4iLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJTbGlkZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IHNsaWRlckNvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvU2xpZGVyQ29udHJvbGxlcidcclxuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCdcclxuXHJcbmltcG9ydCBtdWx0aXBhcnR5IGZyb20gJ2Nvbm5lY3QtbXVsdGlwYXJ0eSdcclxudmFyIHBhdGggPSBtdWx0aXBhcnR5KHt1cGxvYWREaXI6ICcuL3VwbG9hZHMvc2xpZGVyJ30pXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuLy8gaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2Vycy9yZWdpc3RlclxyXG5cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSxzbGlkZXJDb250cm9sbGVyLnJlZ2lzdGVyKTtcclxucm91dGVyLnB1dChcIi91cGRhdGVcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSxzbGlkZXJDb250cm9sbGVyLnVwZGF0ZSk7XHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4sc2xpZGVyQ29udHJvbGxlci5saXN0KTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIixhdXRoLnZlcmlmeUFkbWluLHNsaWRlckNvbnRyb2xsZXIucmVtb3ZlKTtcclxuXHJcbnJvdXRlci5nZXQoXCIvdXBsb2Fkcy9zbGlkZXIvOmltZ1wiLHNsaWRlckNvbnRyb2xsZXIub2J0ZW5lcl9pbWFnZW4pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLGlCQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFBRyxrQkFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQTJDLFNBQUFELHVCQUFBSyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQzNDLElBQUlHLElBQUksR0FBRyxJQUFBQywwQkFBVSxFQUFDO0VBQUNDLFNBQVMsRUFBRTtBQUFrQixDQUFDLENBQUM7QUFDdEQsTUFBTUMsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUN4Qjs7QUFFQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFDLENBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFDUCxJQUFJLENBQUMsRUFBQ1EseUJBQWdCLENBQUNDLFFBQVEsQ0FBQztBQUMxRU4sTUFBTSxDQUFDTyxHQUFHLENBQUMsU0FBUyxFQUFDLENBQUNKLGFBQUksQ0FBQ0MsV0FBVyxFQUFDUCxJQUFJLENBQUMsRUFBQ1EseUJBQWdCLENBQUNHLE1BQU0sQ0FBQztBQUNyRVIsTUFBTSxDQUFDUyxHQUFHLENBQUMsT0FBTyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MseUJBQWdCLENBQUNLLElBQUksQ0FBQztBQUMxRFYsTUFBTSxDQUFDVyxNQUFNLENBQUMsU0FBUyxFQUFDUixhQUFJLENBQUNDLFdBQVcsRUFBQ0MseUJBQWdCLENBQUNPLE1BQU0sQ0FBQztBQUVqRVosTUFBTSxDQUFDUyxHQUFHLENBQUMsc0JBQXNCLEVBQUNKLHlCQUFnQixDQUFDUSxjQUFjLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBRXBEZCxNQUFNO0FBQUFlLE9BQUEsQ0FBQW5CLE9BQUEsR0FBQWtCLFFBQUEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_SliderController","_auth","_connectMultiparty","obj","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","sliderController","register","put","update","get","list","delete","remove","obtener_imagen","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["Slider.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport sliderController from '../controllers/SliderController'\r\nimport auth from '../middlewares/auth'\r\n\r\nimport multiparty from 'connect-multiparty'\r\nvar path = multiparty({uploadDir: './uploads/slider'})\r\nconst router = routerx();\r\n// http://localhost:3000/api/users/register\r\n\r\nrouter.post(\"/register\",[auth.verifyAdmin,path],sliderController.register);\r\nrouter.put(\"/update\",[auth.verifyAdmin,path],sliderController.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,sliderController.list);\r\nrouter.delete(\"/delete\",auth.verifyAdmin,sliderController.remove);\r\n\r\nrouter.get(\"/uploads/slider/:img\",sliderController.obtener_imagen);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,iBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAEA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA2C,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAC3C,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAE;AAAkB,CAAC,CAAC;AACtD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAC,CAACC,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,yBAAgB,CAACC,QAAQ,CAAC;AAC1EN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAC,CAACJ,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,yBAAgB,CAACG,MAAM,CAAC;AACrER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACK,IAAI,CAAC;AAC1DV,MAAM,CAACW,MAAM,CAAC,SAAS,EAACR,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACO,MAAM,CAAC;AAEjEZ,MAAM,CAACS,GAAG,CAAC,sBAAsB,EAACJ,yBAAgB,CAACQ,cAAc,CAAC;AAAC,IAAAC,QAAA,GAEpDd,MAAM;AAAAe,OAAA,CAAAnB,OAAA,GAAAkB,QAAA","ignoreList":[]}},"mtime":1677624959347},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\SliderController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  register: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        // console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      const slider = await _models.default.Slider.create(req.body);\n      res.status(200).json(slider);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files && req.files.portada) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        // console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      await _models.default.Slider.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let SliderT = await _models.default.Slider.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL SLIDER SE HA MODIFICADO CORRECTAMENTE\",\n        slider: _resources.default.Slider.slider_list(SliderT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Sliders = await _models.default.Slider.find({\n        $or: [{\n          \"title\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Sliders = Sliders.map(user => {\n        return _resources.default.Slider.slider_list(user);\n      });\n      res.status(200).json({\n        sliders: Sliders\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/slider/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/slider/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.Slider.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"EL SLIDER SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwiX2ZzIiwiX3BhdGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwicmVnaXN0ZXIiLCJyZXEiLCJyZXMiLCJmaWxlcyIsImltZ19wYXRoIiwicG9ydGFkYSIsInBhdGgiLCJuYW1lIiwic3BsaXQiLCJwb3J0YWRhX25hbWUiLCJib2R5IiwiaW1hZ2VuIiwic2xpZGVyIiwibW9kZWxzIiwiU2xpZGVyIiwiY3JlYXRlIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwic2VuZCIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwidXBkYXRlIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJfaWQiLCJTbGlkZXJUIiwiZmluZE9uZSIsInJlc291cmNlIiwic2xpZGVyX2xpc3QiLCJsaXN0Iiwic2VhcmNoIiwicXVlcnkiLCJTbGlkZXJzIiwiZmluZCIsIiRvciIsIlJlZ0V4cCIsInNvcnQiLCJtYXAiLCJ1c2VyIiwic2xpZGVycyIsIm9idGVuZXJfaW1hZ2VuIiwiaW1nIiwicGFyYW1zIiwiZnMiLCJzdGF0IiwiZXJyIiwicGF0aF9pbWciLCJzZW5kRmlsZSIsInJlc29sdmUiLCJyZW1vdmUiLCJmaW5kQnlJZEFuZERlbGV0ZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIlNsaWRlckNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnXHJcbmltcG9ydCByZXNvdXJjZSBmcm9tICcuLi9yZXNvdXJjZXMnXHJcbmltcG9ydCBmcyBmcm9tICdmcydcclxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZihyZXEuZmlsZXMpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLnBvcnRhZGEucGF0aDtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJ1xcXFwnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocG9ydGFkYV9uYW1lKVxyXG4gICAgICAgICAgICAgICAgcmVxLmJvZHkuaW1hZ2VuID0gcG9ydGFkYV9uYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHNsaWRlciA9IGF3YWl0IG1vZGVscy5TbGlkZXIuY3JlYXRlKHJlcS5ib2R5KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oc2xpZGVyKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB1cGRhdGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZihyZXEuZmlsZXMgJiYgcmVxLmZpbGVzLnBvcnRhZGEpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLnBvcnRhZGEucGF0aDtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJ1xcXFwnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocG9ydGFkYV9uYW1lKVxyXG4gICAgICAgICAgICAgICAgcmVxLmJvZHkuaW1hZ2VuID0gcG9ydGFkYV9uYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5TbGlkZXIuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogcmVxLmJvZHkuX2lkfSxyZXEuYm9keSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgU2xpZGVyVCA9IGF3YWl0IG1vZGVscy5TbGlkZXIuZmluZE9uZSh7X2lkOiByZXEuYm9keS5faWR9KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBTTElERVIgU0UgSEEgTU9ESUZJQ0FETyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICBzbGlkZXI6IHJlc291cmNlLlNsaWRlci5zbGlkZXJfbGlzdChTbGlkZXJUKSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbGlzdDogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBzZWFyY2ggPSByZXEucXVlcnkuc2VhcmNoO1xyXG4gICAgICAgICAgICBsZXQgU2xpZGVycyA9IGF3YWl0IG1vZGVscy5TbGlkZXIuZmluZCh7XHJcbiAgICAgICAgICAgICAgICAkb3I6W1xyXG4gICAgICAgICAgICAgICAgICAgIHtcInRpdGxlXCI6IG5ldyBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9KS5zb3J0KHsnY3JlYXRlZEF0JzogLTF9KTtcclxuXHJcbiAgICAgICAgICAgIFNsaWRlcnMgPSBTbGlkZXJzLm1hcCgodXNlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlLlNsaWRlci5zbGlkZXJfbGlzdCh1c2VyKTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIHNsaWRlcnM6IFNsaWRlcnNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgb2J0ZW5lcl9pbWFnZW46IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgaW1nID0gcmVxLnBhcmFtc1snaW1nJ107XHJcblxyXG4gICAgICAgICAgICBmcy5zdGF0KCcuL3VwbG9hZHMvc2xpZGVyLycraW1nLCBmdW5jdGlvbihlcnIpe1xyXG4gICAgICAgICAgICAgICAgaWYoIWVycil7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9zbGlkZXIvJytpbWc7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKHBhdGgucmVzb2x2ZShwYXRoX2ltZykpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9kZWZhdWx0LmpwZyc7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKHBhdGgucmVzb2x2ZShwYXRoX2ltZykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgIFxyXG4gICAgcmVtb3ZlOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlNsaWRlci5maW5kQnlJZEFuZERlbGV0ZSh7X2lkOiByZXEucXVlcnkuX2lkfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgU0xJREVSIFNFIEVMSU1JTk8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FB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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","_fs","_path","obj","__esModule","default","_default","register","req","res","files","img_path","portada","path","name","split","portada_name","body","imagen","slider","models","Slider","create","status","json","error","send","message","console","log","update","findByIdAndUpdate","_id","SliderT","findOne","resource","slider_list","list","search","query","Sliders","find","$or","RegExp","sort","map","user","sliders","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","remove","findByIdAndDelete","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["SliderController.js"],"sourcesContent":["import models from '../models'\r\nimport resource from '../resources'\r\nimport fs from 'fs'\r\nimport path from 'path'\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            if(req.files){\r\n                var img_path = req.files.portada.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                // console.log(portada_name)\r\n                req.body.imagen = portada_name;\r\n            }\r\n            const slider = await models.Slider.create(req.body);\r\n            res.status(200).json(slider);\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    update: async(req,res) => {\r\n        try {\r\n            if(req.files && req.files.portada){\r\n                var img_path = req.files.portada.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                // console.log(portada_name)\r\n                req.body.imagen = portada_name;\r\n            }\r\n            await models.Slider.findByIdAndUpdate({_id: req.body._id},req.body);\r\n\r\n            let SliderT = await models.Slider.findOne({_id: req.body._id});\r\n            res.status(200).json({\r\n                message: \"EL SLIDER SE HA MODIFICADO CORRECTAMENTE\",\r\n                slider: resource.Slider.slider_list(SliderT),\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    list: async(req,res) => {\r\n        try {\r\n            var search = req.query.search;\r\n            let Sliders = await models.Slider.find({\r\n                $or:[\r\n                    {\"title\": new RegExp(search, \"i\")},\r\n                ]\r\n            }).sort({'createdAt': -1});\r\n\r\n            Sliders = Sliders.map((user) => {\r\n                return resource.Slider.slider_list(user);\r\n            })\r\n\r\n            res.status(200).json({\r\n                sliders: Sliders\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    obtener_imagen: async(req,res) => {\r\n        try {\r\n            var img = req.params['img'];\r\n\r\n            fs.stat('./uploads/slider/'+img, function(err){\r\n                if(!err){\r\n                    let path_img = './uploads/slider/'+img;\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }else{\r\n                    let path_img = './uploads/default.jpg';\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },  \r\n    remove: async(req,res) => {\r\n        try {\r\n            await models.Slider.findByIdAndDelete({_id: req.query._id});\r\n            res.status(200).json({\r\n                message: \"EL SLIDER SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,GAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,KAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAAuB,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GACR;EACXC,QAAQ,EAAE,MAAAA,CAAMC,GAAG,EAACC,GAAG,KAAK;IACxB,IAAI;MACA,IAAGD,GAAG,CAACE,KAAK,EAAC;QACT,IAAIC,QAAQ,GAAGH,GAAG,CAACE,KAAK,CAACE,OAAO,CAACC,IAAI;QACrC,IAAIC,IAAI,GAAGH,QAAQ,CAACI,KAAK,CAAC,IAAI,CAAC;QAC/B,IAAIC,YAAY,GAAGF,IAAI,CAAC,CAAC,CAAC;QAC1B;QACAN,GAAG,CAACS,IAAI,CAACC,MAAM,GAAGF,YAAY;MAClC;MACA,MAAMG,MAAM,GAAG,MAAMC,eAAM,CAACC,MAAM,CAACC,MAAM,CAACd,GAAG,CAACS,IAAI,CAAC;MACnDR,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACL,MAAM,CAAC;IAChC,CAAC,CAAC,OAAOM,KAAK,EAAE;MACZhB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACG,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACtB;EACJ,CAAC;EACDK,MAAM,EAAE,MAAAA,CAAMtB,GAAG,EAACC,GAAG,KAAK;IACtB,IAAI;MACA,IAAGD,GAAG,CAACE,KAAK,IAAIF,GAAG,CAACE,KAAK,CAACE,OAAO,EAAC;QAC9B,IAAID,QAAQ,GAAGH,GAAG,CAACE,KAAK,CAACE,OAAO,CAACC,IAAI;QACrC,IAAIC,IAAI,GAAGH,QAAQ,CAACI,KAAK,CAAC,IAAI,CAAC;QAC/B,IAAIC,YAAY,GAAGF,IAAI,CAAC,CAAC,CAAC;QAC1B;QACAN,GAAG,CAACS,IAAI,CAACC,MAAM,GAAGF,YAAY;MAClC;MACA,MAAMI,eAAM,CAACC,MAAM,CAACU,iBAAiB,CAAC;QAACC,GAAG,EAAExB,GAAG,CAACS,IAAI,CAACe;MAAG,CAAC,EAACxB,GAAG,CAACS,IAAI,CAAC;MAEnE,IAAIgB,OAAO,GAAG,MAAMb,eAAM,CAACC,MAAM,CAACa,OAAO,CAAC;QAACF,GAAG,EAAExB,GAAG,CAACS,IAAI,CAACe;MAAG,CAAC,CAAC;MAC9DvB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBG,OAAO,EAAE,0CAA0C;QACnDR,MAAM,EAAEgB,kBAAQ,CAACd,MAAM,CAACe,WAAW,CAACH,OAAO;MAC/C,CAAC,CAAC;IACN,CAAC,CAAC,OAAOR,KAAK,EAAE;MACZhB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACG,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACtB;EACJ,CAAC;EACDY,IAAI,EAAE,MAAAA,CAAM7B,GAAG,EAACC,GAAG,KAAK;IACpB,IAAI;MACA,IAAI6B,MAAM,GAAG9B,GAAG,CAAC+B,KAAK,CAACD,MAAM;MAC7B,IAAIE,OAAO,GAAG,MAAMpB,eAAM,CAACC,MAAM,CAACoB,IAAI,CAAC;QACnCC,GAAG,EAAC,CACA;UAAC,OAAO,EAAE,IAAIC,MAAM,CAACL,MAAM,EAAE,GAAG;QAAC,CAAC;MAE1C,CAAC,CAAC,CAACM,IAAI,CAAC;QAAC,WAAW,EAAE,CAAC;MAAC,CAAC,CAAC;MAE1BJ,OAAO,GAAGA,OAAO,CAACK,GAAG,CAAEC,IAAI,IAAK;QAC5B,OAAOX,kBAAQ,CAACd,MAAM,CAACe,WAAW,CAACU,IAAI,CAAC;MAC5C,CAAC,CAAC;MAEFrC,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBuB,OAAO,EAAEP;MACb,CAAC,CAAC;IACN,CAAC,CAAC,OAAOf,KAAK,EAAE;MACZhB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACG,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACtB;EACJ,CAAC;EACDuB,cAAc,EAAE,MAAAA,CAAMxC,GAAG,EAACC,GAAG,KAAK;IAC9B,IAAI;MACA,IAAIwC,GAAG,GAAGzC,GAAG,CAAC0C,MAAM,CAAC,KAAK,CAAC;MAE3BC,WAAE,CAACC,IAAI,CAAC,mBAAmB,GAACH,GAAG,EAAE,UAASI,GAAG,EAAC;QAC1C,IAAG,CAACA,GAAG,EAAC;UACJ,IAAIC,QAAQ,GAAG,mBAAmB,GAACL,GAAG;UACtCxC,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACgC,QAAQ,CAAC1C,aAAI,CAAC2C,OAAO,CAACF,QAAQ,CAAC,CAAC;QACpD,CAAC,MAAI;UACD,IAAIA,QAAQ,GAAG,uBAAuB;UACtC7C,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACgC,QAAQ,CAAC1C,aAAI,CAAC2C,OAAO,CAACF,QAAQ,CAAC,CAAC;QACpD;MACJ,CAAC,CAAC;IACN,CAAC,CAAC,OAAO7B,KAAK,EAAE;MACZhB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACG,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACtB;EACJ,CAAC;EACDgC,MAAM,EAAE,MAAAA,CAAMjD,GAAG,EAACC,GAAG,KAAK;IACtB,IAAI;MACA,MAAMW,eAAM,CAACC,MAAM,CAACqC,iBAAiB,CAAC;QAAC1B,GAAG,EAAExB,GAAG,CAAC+B,KAAK,CAACP;MAAG,CAAC,CAAC;MAC3DvB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBG,OAAO,EAAE;MACb,CAAC,CAAC;IACN,CAAC,CAAC,OAAOF,KAAK,EAAE;MACZhB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACG,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACtB;EACJ;AACJ,CAAC;AAAAkC,OAAA,CAAAtD,OAAA,GAAAC,QAAA","ignoreList":[]}},"mtime":1677627512867},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\Cupone.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CuponeController = _interopRequireDefault(require(\"../controllers/CuponeController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", _auth.default.verifyAdmin, _CuponeController.default.register);\nrouter.put(\"/update\", _auth.default.verifyAdmin, _CuponeController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _CuponeController.default.list);\nrouter.get(\"/config\", _auth.default.verifyAdmin, _CuponeController.default.config);\nrouter.get(\"/show\", _auth.default.verifyAdmin, _CuponeController.default.show);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _CuponeController.default.delete);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DdXBvbmVDb250cm9sbGVyIiwiX2F1dGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsInJvdXRlcngiLCJwb3N0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwiY3Vwb25lQ29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImNvbmZpZyIsInNob3ciLCJkZWxldGUiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJDdXBvbmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IGN1cG9uZUNvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvQ3Vwb25lQ29udHJvbGxlcidcclxuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCdcclxuXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuXHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsYXV0aC52ZXJpZnlBZG1pbixjdXBvbmVDb250cm9sbGVyLnJlZ2lzdGVyKTtcclxucm91dGVyLnB1dChcIi91cGRhdGVcIixhdXRoLnZlcmlmeUFkbWluLGN1cG9uZUNvbnRyb2xsZXIudXBkYXRlKTtcclxucm91dGVyLmdldChcIi9saXN0XCIsYXV0aC52ZXJpZnlBZG1pbixjdXBvbmVDb250cm9sbGVyLmxpc3QpO1xyXG5yb3V0ZXIuZ2V0KFwiL2NvbmZpZ1wiLGF1dGgudmVyaWZ5QWRtaW4sY3Vwb25lQ29udHJvbGxlci5jb25maWcpO1xyXG5yb3V0ZXIuZ2V0KFwiL3Nob3dcIixhdXRoLnZlcmlmeUFkbWluLGN1cG9uZUNvbnRyb2xsZXIuc2hvdyk7XHJcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlXCIsYXV0aC52ZXJpZnlBZG1pbixjdXBvbmVDb250cm9sbGVyLmRlbGV0ZSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsaUJBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFzQyxTQUFBRCx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUV0QyxNQUFNRyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBRXhCRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ0MsUUFBUSxDQUFDO0FBQ25FTixNQUFNLENBQUNPLEdBQUcsQ0FBQyxTQUFTLEVBQUNKLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ0csTUFBTSxDQUFDO0FBQzlEUixNQUFNLENBQUNTLEdBQUcsQ0FBQyxPQUFPLEVBQUNOLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ0ssSUFBSSxDQUFDO0FBQzFEVixNQUFNLENBQUNTLEdBQUcsQ0FBQyxTQUFTLEVBQUNOLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ00sTUFBTSxDQUFDO0FBQzlEWCxNQUFNLENBQUNTLEdBQUcsQ0FBQyxPQUFPLEVBQUNOLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ08sSUFBSSxDQUFDO0FBQzFEWixNQUFNLENBQUNhLE1BQU0sQ0FBQyxTQUFTLEVBQUNWLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ1EsTUFBTSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUVuRGQsTUFBTTtBQUFBZSxPQUFBLENBQUFoQixPQUFBLEdBQUFlLFFBQUEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CuponeController","_auth","obj","__esModule","default","router","routerx","post","auth","verifyAdmin","cuponeController","register","put","update","get","list","config","show","delete","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["Cupone.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport cuponeController from '../controllers/CuponeController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n\r\nrouter.post(\"/register\",auth.verifyAdmin,cuponeController.register);\r\nrouter.put(\"/update\",auth.verifyAdmin,cuponeController.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,cuponeController.list);\r\nrouter.get(\"/config\",auth.verifyAdmin,cuponeController.config);\r\nrouter.get(\"/show\",auth.verifyAdmin,cuponeController.show);\r\nrouter.delete(\"/delete\",auth.verifyAdmin,cuponeController.delete);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,iBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACC,QAAQ,CAAC;AACnEN,MAAM,CAACO,GAAG,CAAC,SAAS,EAACJ,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACG,MAAM,CAAC;AAC9DR,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACK,IAAI,CAAC;AAC1DV,MAAM,CAACS,GAAG,CAAC,SAAS,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACM,MAAM,CAAC;AAC9DX,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACO,IAAI,CAAC;AAC1DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAACV,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACQ,MAAM,CAAC;AAAC,IAAAC,QAAA,GAEnDd,MAAM;AAAAe,OAAA,CAAAhB,OAAA,GAAAe,QAAA","ignoreList":[]}},"mtime":1677794861977},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\CuponeController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let exits_cupone = await _models.default.Cupone.findOne({\n        code: data.code\n      });\n      if (exits_cupone) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\n        });\n        return;\n      }\n      let cupone = await _models.default.Cupone.create(data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL CUPON REGISTRO CORRECTAMENTE\",\n        cupone: cupone\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      let exits_cupone = await _models.default.Cupone.findOne({\n        code: data.code,\n        _id: {\n          $ne: data._id\n        }\n      });\n      if (exits_cupone) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\n        });\n        return;\n      }\n      let cupone = await _models.default.Cupone.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let cuponeT = await _models.default.Cupone.findById({\n        _id: data._id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL CUPON SE ACTUALIZO CORRECTAMENTE\",\n        cupone: cuponeT\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Cupone.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL CUPON SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      let search = req.query.search;\n      let cupones = await _models.default.Cupone.find({\n        $or: [{\n          \"code\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        message: 200,\n        cupones: cupones\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  show: async (req, res) => {\n    try {\n      let cupone_id = req.query.cupone_id;\n      let cupon = await _models.default.Cupone.findOne({\n        _id: cupone_id\n      });\n      res.status(200).json({\n        message: 200,\n        cupon: cupon\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  config: async (req, res) => {\n    try {\n      let Products = await _models.default.Product.find({\n        state: 2\n      });\n      let Categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      res.status(200).json({\n        message: 200,\n        products: Products,\n        categories: Categories\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwicmVnaXN0ZXIiLCJyZXEiLCJyZXMiLCJkYXRhIiwiYm9keSIsImV4aXRzX2N1cG9uZSIsIm1vZGVscyIsIkN1cG9uZSIsImZpbmRPbmUiLCJjb2RlIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJtZXNzYWdlX3RleHQiLCJjdXBvbmUiLCJjcmVhdGUiLCJlcnJvciIsInNlbmQiLCJ1cGRhdGUiLCJfaWQiLCIkbmUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsImN1cG9uZVQiLCJmaW5kQnlJZCIsImRlbGV0ZSIsInF1ZXJ5IiwiZmluZEJ5SWRBbmREZWxldGUiLCJsaXN0Iiwic2VhcmNoIiwiY3Vwb25lcyIsImZpbmQiLCIkb3IiLCJSZWdFeHAiLCJzb3J0Iiwic2hvdyIsImN1cG9uZV9pZCIsImN1cG9uIiwiY29uZmlnIiwiUHJvZHVjdHMiLCJQcm9kdWN0Iiwic3RhdGUiLCJDYXRlZ29yaWVzIiwiQ2F0ZWdvcmllIiwicHJvZHVjdHMiLCJjYXRlZ29yaWVzIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiQ3Vwb25lQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xyXG5cclxuICAgICAgICAgICAgbGV0IGV4aXRzX2N1cG9uZSA9IGF3YWl0IG1vZGVscy5DdXBvbmUuZmluZE9uZSh7Y29kZTogZGF0YS5jb2RlfSk7XHJcblxyXG4gICAgICAgICAgICBpZihleGl0c19jdXBvbmUpe1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6NDAzLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBDT0RJR08gREVMIENVUE9OIFlBIEVYSVNURVwiXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGN1cG9uZSA9IGF3YWl0IG1vZGVscy5DdXBvbmUuY3JlYXRlKGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENVUE9OIFJFR0lTVFJPIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgICAgIGN1cG9uZTpjdXBvbmVcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuXHJcbiAgICAgICAgICAgIGxldCBleGl0c19jdXBvbmUgPSBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmRPbmUoe2NvZGU6IGRhdGEuY29kZSxfaWQ6IHskbmU6IGRhdGEuX2lkfX0pO1xyXG5cclxuICAgICAgICAgICAgaWYoZXhpdHNfY3Vwb25lKXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOjQwMyxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgQ09ESUdPIERFTCBDVVBPTiBZQSBFWElTVEVcIlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBjdXBvbmUgPSBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IGRhdGEuX2lkfSxkYXRhKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBjdXBvbmVUID0gYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kQnlJZCh7X2lkOiBkYXRhLl9pZH0pO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENVUE9OIFNFIEFDVFVBTElaTyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICBjdXBvbmU6Y3Vwb25lVCxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgZGVsZXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IF9pZCA9IHJlcS5xdWVyeS5faWQ7XHJcblxyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IF9pZH0pO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENVUE9OIFNFIEVMSU1JTk8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBsaXN0OiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IHNlYXJjaCA9IHJlcS5xdWVyeS5zZWFyY2g7XHJcblxyXG4gICAgICAgICAgICBsZXQgY3Vwb25lcyA9IGF3YWl0IG1vZGVscy5DdXBvbmUuZmluZCh7XHJcbiAgICAgICAgICAgICAgICAkb3I6W1xyXG4gICAgICAgICAgICAgICAgICAgIHtcImNvZGVcIjogbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH0pLnNvcnQoeydjcmVhdGVkQXQnOiAtMX0pO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgY3Vwb25lczogY3Vwb25lcyxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2hvdzogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBjdXBvbmVfaWQgPSByZXEucXVlcnkuY3Vwb25lX2lkO1xyXG5cclxuICAgICAgICAgICAgbGV0IGN1cG9uID0gYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kT25lKHtfaWQ6IGN1cG9uZV9pZH0pO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgY3Vwb246IGN1cG9uLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBjb25maWc6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG5cclxuICAgICAgICAgICAgbGV0IFByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7c3RhdGU6IDJ9KTtcclxuICAgICAgICAgICAgbGV0IENhdGVnb3JpZXMgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmZpbmQoe3N0YXRlOjF9KTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcclxuICAgICAgICAgICAgICAgIHByb2R1Y3RzOiBQcm9kdWN0cyxcclxuICAgICAgICAgICAgICAgIGNhdGVnb3JpZXM6IENhdGVnb3JpZXMsXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQThCLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUVmO0VBQ1hDLFFBQVEsRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUN4QixJQUFJO01BQ0EsSUFBSUMsSUFBSSxHQUFHRixHQUFHLENBQUNHLElBQUk7TUFFbkIsSUFBSUMsWUFBWSxHQUFHLE1BQU1DLGVBQU0sQ0FBQ0MsTUFBTSxDQUFDQyxPQUFPLENBQUM7UUFBQ0MsSUFBSSxFQUFFTixJQUFJLENBQUNNO01BQUksQ0FBQyxDQUFDO01BRWpFLElBQUdKLFlBQVksRUFBQztRQUNaSCxHQUFHLENBQUNRLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQ2pCQyxPQUFPLEVBQUMsR0FBRztVQUNYQyxZQUFZLEVBQUU7UUFDbEIsQ0FBQyxDQUFDO1FBQ0Y7TUFDSjtNQUVBLElBQUlDLE1BQU0sR0FBRyxNQUFNUixlQUFNLENBQUNDLE1BQU0sQ0FBQ1EsTUFBTSxDQUFDWixJQUFJLENBQUM7TUFFN0NELEdBQUcsQ0FBQ1EsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRSxHQUFHO1FBQ1pDLFlBQVksRUFBRSxpQ0FBaUM7UUFD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","map":{"version":3,"names":["_models","_interopRequireDefault","require","obj","__esModule","default","_default","register","req","res","data","body","exits_cupone","models","Cupone","findOne","code","status","json","message","message_text","cupone","create","error","send","update","_id","$ne","findByIdAndUpdate","cuponeT","findById","delete","query","findByIdAndDelete","list","search","cupones","find","$or","RegExp","sort","show","cupone_id","cupon","config","Products","Product","state","Categories","Categorie","products","categories","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["CuponeController.js"],"sourcesContent":["import models from \"../models\"\r\n\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n\r\n            let exits_cupone = await models.Cupone.findOne({code: data.code});\r\n\r\n            if(exits_cupone){\r\n                res.status(200).json({\r\n                    message:403,\r\n                    message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\r\n                });\r\n                return;\r\n            }\r\n\r\n            let cupone = await models.Cupone.create(data);\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL CUPON REGISTRO CORRECTAMENTE\",\r\n                cupone:cupone\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    update: async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n\r\n            let exits_cupone = await models.Cupone.findOne({code: data.code,_id: {$ne: data._id}});\r\n\r\n            if(exits_cupone){\r\n                res.status(200).json({\r\n                    message:403,\r\n                    message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\r\n                });\r\n                return;\r\n            }\r\n\r\n            let cupone = await models.Cupone.findByIdAndUpdate({_id: data._id},data);\r\n            \r\n            let cuponeT = await models.Cupone.findById({_id: data._id});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL CUPON SE ACTUALIZO CORRECTAMENTE\",\r\n                cupone:cuponeT,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    delete: async(req,res) => {\r\n        try {\r\n            let _id = req.query._id;\r\n\r\n            await models.Cupone.findByIdAndDelete({_id: _id});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL CUPON SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    list: async(req,res) => {\r\n        try {\r\n            let search = req.query.search;\r\n\r\n            let cupones = await models.Cupone.find({\r\n                $or:[\r\n                    {\"code\": new RegExp(search, \"i\")},\r\n                ]\r\n            }).sort({'createdAt': -1});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                cupones: cupones,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    show: async(req,res) => {\r\n        try {\r\n            let cupone_id = req.query.cupone_id;\r\n\r\n            let cupon = await models.Cupone.findOne({_id: cupone_id});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                cupon: cupon,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    config: async(req,res) => {\r\n        try {\r\n\r\n            let Products = await models.Product.find({state: 2});\r\n            let Categories = await models.Categorie.find({state:1});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                products: Products,\r\n                categories: Categories,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1677795764816},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\Discount.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _DiscountController = _interopRequireDefault(require(\"../controllers/DiscountController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", _auth.default.verifyAdmin, _DiscountController.default.register);\nrouter.put(\"/update\", _auth.default.verifyAdmin, _DiscountController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _DiscountController.default.list);\nrouter.get(\"/config\", _auth.default.verifyAdmin, _DiscountController.default.config);\nrouter.get(\"/show\", _auth.default.verifyAdmin, _DiscountController.default.show);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _DiscountController.default.delete);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9EaXNjb3VudENvbnRyb2xsZXIiLCJfYXV0aCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJkaXNjb3VudENvbnRyb2xsZXIiLCJyZWdpc3RlciIsInB1dCIsInVwZGF0ZSIsImdldCIsImxpc3QiLCJjb25maWciLCJzaG93IiwiZGVsZXRlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiRGlzY291bnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IGRpc2NvdW50Q29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9EaXNjb3VudENvbnRyb2xsZXInXHJcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXHJcblxyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLGF1dGgudmVyaWZ5QWRtaW4sZGlzY291bnRDb250cm9sbGVyLnJlZ2lzdGVyKTtcclxucm91dGVyLnB1dChcIi91cGRhdGVcIixhdXRoLnZlcmlmeUFkbWluLGRpc2NvdW50Q29udHJvbGxlci51cGRhdGUpO1xyXG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIixhdXRoLnZlcmlmeUFkbWluLGRpc2NvdW50Q29udHJvbGxlci5saXN0KTtcclxucm91dGVyLmdldChcIi9jb25maWdcIixhdXRoLnZlcmlmeUFkbWluLGRpc2NvdW50Q29udHJvbGxlci5jb25maWcpO1xyXG5yb3V0ZXIuZ2V0KFwiL3Nob3dcIixhdXRoLnZlcmlmeUFkbWluLGRpc2NvdW50Q29udHJvbGxlci5zaG93KTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIixhdXRoLnZlcmlmeUFkbWluLGRpc2NvdW50Q29udHJvbGxlci5kZWxldGUpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLG1CQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBc0MsU0FBQUQsdUJBQUFJLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFdEMsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUV4QkQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNDLFFBQVEsQ0FBQztBQUNyRU4sTUFBTSxDQUFDTyxHQUFHLENBQUMsU0FBUyxFQUFDSixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNHLE1BQU0sQ0FBQztBQUNoRVIsTUFBTSxDQUFDUyxHQUFHLENBQUMsT0FBTyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNLLElBQUksQ0FBQztBQUM1RFYsTUFBTSxDQUFDUyxHQUFHLENBQUMsU0FBUyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNNLE1BQU0sQ0FBQztBQUNoRVgsTUFBTSxDQUFDUyxHQUFHLENBQUMsT0FBTyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNPLElBQUksQ0FBQztBQUM1RFosTUFBTSxDQUFDYSxNQUFNLENBQUMsU0FBUyxFQUFDVixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNRLE1BQU0sQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FFckRkLE1BQU07QUFBQWUsT0FBQSxDQUFBaEIsT0FBQSxHQUFBZSxRQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_DiscountController","_auth","obj","__esModule","default","router","routerx","post","auth","verifyAdmin","discountController","register","put","update","get","list","config","show","delete","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["Discount.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport discountController from '../controllers/DiscountController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n\r\nrouter.post(\"/register\",auth.verifyAdmin,discountController.register);\r\nrouter.put(\"/update\",auth.verifyAdmin,discountController.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,discountController.list);\r\nrouter.get(\"/config\",auth.verifyAdmin,discountController.config);\r\nrouter.get(\"/show\",auth.verifyAdmin,discountController.show);\r\nrouter.delete(\"/delete\",auth.verifyAdmin,discountController.delete);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,mBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACC,QAAQ,CAAC;AACrEN,MAAM,CAACO,GAAG,CAAC,SAAS,EAACJ,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACG,MAAM,CAAC;AAChER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACK,IAAI,CAAC;AAC5DV,MAAM,CAACS,GAAG,CAAC,SAAS,EAACN,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACM,MAAM,CAAC;AAChEX,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACO,IAAI,CAAC;AAC5DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAACV,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACQ,MAAM,CAAC;AAAC,IAAAC,QAAA,GAErDd,MAAM;AAAAe,OAAA,CAAAhB,OAAA,GAAAe,QAAA","ignoreList":[]}},"mtime":1677809088332},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\DiscountController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      var filter_a = [];\n      var filter_b = [];\n      //product_s = [\"id\",\"id\"]\n      //categorie_s = [\"id\",\"id\"]\n      if (data.type_segment == 1) {\n        filter_a.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n      } else {\n        filter_a.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n      }\n      // 5 - 8 marzo -> televisor - laptop\n      // 4 - 7 de marzo ->  refrigeradora\n\n      // 5 - 8 marzo -> televisor - laptop\n      // 7 - 9 de marzo -> televisor - refrigeradora\n      filter_a.push({\n        type_campaign: data.type_campaign,\n        start_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      filter_b.push({\n        type_campaign: data.type_campaign,\n        end_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      let exits_start_date = await _models.default.Discount.find({\n        $and: filter_a\n      }); //[]\n\n      let exits_end_date = await _models.default.Discount.find({\n        $and: filter_b\n      });\n      if (exits_start_date.length > 0 || exits_end_date.length > 0) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR ELIMINAR ALGUNAS OPCIONES\"\n        });\n        return;\n      }\n      let discount = await _models.default.Discount.create(data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL DESCUENTO SE REGISTRO CORRECTAMENTE\",\n        discount: discount\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      var filter_a = [];\n      var filter_b = [];\n      //product_s = [\"id\",\"id\"]\n      //categorie_s = [\"id\",\"id\"]\n      if (data.type_segment == 1) {\n        filter_a.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n      } else {\n        filter_a.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n      }\n      // 5 - 8 marzo -> televisor - laptop\n      // 4 - 7 de marzo ->  refrigeradora\n\n      // 5 - 8 marzo -> televisor - laptop\n      // 7 - 9 de marzo -> televisor - refrigeradora\n      filter_a.push({\n        type_campaign: data.type_campaign,\n        _id: {\n          $ne: data._id\n        },\n        start_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      filter_b.push({\n        type_campaign: data.type_campaign,\n        _id: {\n          $ne: data._id\n        },\n        end_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      let exits_start_date = await _models.default.Discount.find({\n        $and: filter_a\n      });\n      let exits_end_date = await _models.default.Discount.find({\n        $and: filter_b\n      });\n      if (exits_start_date.length > 0 || exits_end_date.length > 0) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR ELIMINAR ALGUNAS OPCIONES\"\n        });\n        return;\n      }\n      let discount = await _models.default.Discount.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL DESCUENTO SE REGISTRO CORRECTAMENTE\",\n        discount: discount\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Discount.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL DESCUENTO SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      // let search = req.query.search;\n\n      let discounts = await _models.default.Discount.find().sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        message: 200,\n        discounts: discounts\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  show: async (req, res) => {\n    try {\n      let discount_id = req.query.discount_id;\n      let discount = await _models.default.Discount.findOne({\n        _id: discount_id\n      });\n      res.status(200).json({\n        message: 200,\n        discount: discount\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  config: async (req, res) => {\n    try {\n      let Products = await _models.default.Product.find({\n        state: 2\n      });\n      let Categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      res.status(200).json({\n        message: 200,\n        products: Products,\n        categories: Categories\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwicmVnaXN0ZXIiLCJyZXEiLCJyZXMiLCJkYXRhIiwiYm9keSIsImZpbHRlcl9hIiwiZmlsdGVyX2IiLCJ0eXBlX3NlZ21lbnQiLCJwdXNoIiwiJGVsZW1NYXRjaCIsIl9pZCIsIiRpbiIsInByb2R1Y3RfcyIsImNhdGVnb3JpZV9zIiwidHlwZV9jYW1wYWlnbiIsInN0YXJ0X2RhdGVfbnVtIiwiJGd0ZSIsIiRsdGUiLCJlbmRfZGF0ZV9udW0iLCJleGl0c19zdGFydF9kYXRlIiwibW9kZWxzIiwiRGlzY291bnQiLCJmaW5kIiwiJGFuZCIsImV4aXRzX2VuZF9kYXRlIiwibGVuZ3RoIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJtZXNzYWdlX3RleHQiLCJkaXNjb3VudCIsImNyZWF0ZSIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInNlbmQiLCJ1cGRhdGUiLCIkbmUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsImRlbGV0ZSIsInF1ZXJ5IiwiZmluZEJ5SWRBbmREZWxldGUiLCJsaXN0IiwiZGlzY291bnRzIiwic29ydCIsInNob3ciLCJkaXNjb3VudF9pZCIsImZpbmRPbmUiLCJjb25maWciLCJQcm9kdWN0cyIsIlByb2R1Y3QiLCJzdGF0ZSIsIkNhdGVnb3JpZXMiLCJDYXRlZ29yaWUiLCJwcm9kdWN0cyIsImNhdGVnb3JpZXMiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJEaXNjb3VudENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHJlZ2lzdGVyOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuICAgICAgICAgICAgdmFyIGZpbHRlcl9hID0gW107XHJcbiAgICAgICAgICAgIHZhciBmaWx0ZXJfYiA9IFtdO1xyXG4gICAgICAgICAgICAvL3Byb2R1Y3RfcyA9IFtcImlkXCIsXCJpZFwiXVxyXG4gICAgICAgICAgICAvL2NhdGVnb3JpZV9zID0gW1wiaWRcIixcImlkXCJdXHJcbiAgICAgICAgICAgIGlmKGRhdGEudHlwZV9zZWdtZW50ID09IDEpe1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyX2EucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgXCJwcm9kdWN0c1wiOiB7JGVsZW1NYXRjaDoge19pZDogeyRpbjogZGF0YS5wcm9kdWN0X3N9fX1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyX2IucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwcm9kdWN0c1wiOiB7JGVsZW1NYXRjaDoge19pZDogeyRpbjogZGF0YS5wcm9kdWN0X3N9fX1cclxuICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGZpbHRlcl9hLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIFwiY2F0ZWdvcmllc1wiOiB7JGVsZW1NYXRjaDoge19pZDogeyRpbjogZGF0YS5jYXRlZ29yaWVfc319fVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJfYi5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBcImNhdGVnb3JpZXNcIjogeyRlbGVtTWF0Y2g6IHtfaWQ6IHskaW46IGRhdGEuY2F0ZWdvcmllX3N9fX1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIDUgLSA4IG1hcnpvIC0+IHRlbGV2aXNvciAtIGxhcHRvcFxyXG4gICAgICAgICAgICAvLyA0IC0gNyBkZSBtYXJ6byAtPiAgcmVmcmlnZXJhZG9yYVxyXG5cclxuICAgICAgICAgICAgLy8gNSAtIDggbWFyem8gLT4gdGVsZXZpc29yIC0gbGFwdG9wXHJcbiAgICAgICAgICAgIC8vIDcgLSA5IGRlIG1hcnpvIC0+IHRlbGV2aXNvciAtIHJlZnJpZ2VyYWRvcmFcclxuICAgICAgICAgICAgZmlsdGVyX2EucHVzaCh7XHJcbiAgICAgICAgICAgICAgICB0eXBlX2NhbXBhaWduOiBkYXRhLnR5cGVfY2FtcGFpZ24sXHJcbiAgICAgICAgICAgICAgICBzdGFydF9kYXRlX251bTogeyRndGU6IGRhdGEuc3RhcnRfZGF0ZV9udW0sJGx0ZTogZGF0YS5lbmRfZGF0ZV9udW19XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGZpbHRlcl9iLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjogZGF0YS50eXBlX2NhbXBhaWduLFxyXG4gICAgICAgICAgICAgICAgZW5kX2RhdGVfbnVtOiB7JGd0ZTogZGF0YS5zdGFydF9kYXRlX251bSwkbHRlOiBkYXRhLmVuZF9kYXRlX251bX1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgbGV0IGV4aXRzX3N0YXJ0X2RhdGUgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZCh7JGFuZDogZmlsdGVyX2F9KTsvL1tdXHJcblxyXG4gICAgICAgICAgICBsZXQgZXhpdHNfZW5kX2RhdGUgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZCh7JGFuZDogZmlsdGVyX2J9KTtcclxuXHJcbiAgICAgICAgICAgIGlmKGV4aXRzX3N0YXJ0X2RhdGUubGVuZ3RoID4gMCB8fCBleGl0c19lbmRfZGF0ZS5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOjQwMyxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgREVTQ1VFTlRPIE5PIFNFIFBVRURFIFBST0dSQU1BUiBFTElNSU5BUiBBTEdVTkFTIE9QQ0lPTkVTXCJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgZGlzY291bnQgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuY3JlYXRlKGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIERFU0NVRU5UTyBTRSBSRUdJU1RSTyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICBkaXNjb3VudDpkaXNjb3VudFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHVwZGF0ZTogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XHJcbiAgICAgICAgICAgIHZhciBmaWx0ZXJfYSA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgZmlsdGVyX2IgPSBbXTtcclxuICAgICAgICAgICAgLy9wcm9kdWN0X3MgPSBbXCJpZFwiLFwiaWRcIl1cclxuICAgICAgICAgICAgLy9jYXRlZ29yaWVfcyA9IFtcImlkXCIsXCJpZFwiXVxyXG4gICAgICAgICAgICBpZihkYXRhLnR5cGVfc2VnbWVudCA9PSAxKXtcclxuICAgICAgICAgICAgICAgIGZpbHRlcl9hLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgIFwicHJvZHVjdHNcIjogeyRlbGVtTWF0Y2g6IHtfaWQ6IHskaW46IGRhdGEucHJvZHVjdF9zfX19XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGZpbHRlcl9iLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIFwicHJvZHVjdHNcIjogeyRlbGVtTWF0Y2g6IHtfaWQ6IHskaW46IGRhdGEucHJvZHVjdF9zfX19XHJcbiAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJfYS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBcImNhdGVnb3JpZXNcIjogeyRlbGVtTWF0Y2g6IHtfaWQ6IHskaW46IGRhdGEuY2F0ZWdvcmllX3N9fX1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyX2IucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJjYXRlZ29yaWVzXCI6IHskZWxlbU1hdGNoOiB7X2lkOiB7JGluOiBkYXRhLmNhdGVnb3JpZV9zfX19XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyA1IC0gOCBtYXJ6byAtPiB0ZWxldmlzb3IgLSBsYXB0b3BcclxuICAgICAgICAgICAgLy8gNCAtIDcgZGUgbWFyem8gLT4gIHJlZnJpZ2VyYWRvcmFcclxuXHJcbiAgICAgICAgICAgIC8vIDUgLSA4IG1hcnpvIC0+IHRlbGV2aXNvciAtIGxhcHRvcFxyXG4gICAgICAgICAgICAvLyA3IC0gOSBkZSBtYXJ6byAtPiB0ZWxldmlzb3IgLSByZWZyaWdlcmFkb3JhXHJcbiAgICAgICAgICAgIGZpbHRlcl9hLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjogZGF0YS50eXBlX2NhbXBhaWduLFxyXG4gICAgICAgICAgICAgICAgX2lkOiB7JG5lOiBkYXRhLl9pZH0sXHJcbiAgICAgICAgICAgICAgICBzdGFydF9kYXRlX251bTogeyRndGU6IGRhdGEuc3RhcnRfZGF0ZV9udW0sJGx0ZTogZGF0YS5lbmRfZGF0ZV9udW19XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGZpbHRlcl9iLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjogZGF0YS50eXBlX2NhbXBhaWduLFxyXG4gICAgICAgICAgICAgICAgX2lkOiB7JG5lOiBkYXRhLl9pZH0sXHJcbiAgICAgICAgICAgICAgICBlbmRfZGF0ZV9udW06IHskZ3RlOiBkYXRhLnN0YXJ0X2RhdGVfbnVtLCRsdGU6IGRhdGEuZW5kX2RhdGVfbnVtfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBsZXQgZXhpdHNfc3RhcnRfZGF0ZSA9IGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kKHskYW5kOiBmaWx0ZXJfYX0pO1xyXG5cclxuICAgICAgICAgICAgbGV0IGV4aXRzX2VuZF9kYXRlID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmQoeyRhbmQ6IGZpbHRlcl9ifSk7XHJcblxyXG4gICAgICAgICAgICBpZihleGl0c19zdGFydF9kYXRlLmxlbmd0aCA+IDAgfHwgZXhpdHNfZW5kX2RhdGUubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTo0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIERFU0NVRU5UTyBOTyBTRSBQVUVERSBQUk9HUkFNQVIgRUxJTUlOQVIgQUxHVU5BUyBPUENJT05FU1wiXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGRpc2NvdW50ID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IGRhdGEuX2lkfSxkYXRhKTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBERVNDVUVOVE8gU0UgUkVHSVNUUk8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICAgICAgZGlzY291bnQ6ZGlzY291bnRcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgZGVsZXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IF9pZCA9IHJlcS5xdWVyeS5faWQ7XHJcblxyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZEJ5SWRBbmREZWxldGUoe19pZDogX2lkfSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgREVTQ1VFTlRPIFNFIEVMSU1JTk8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBsaXN0OiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gbGV0IHNlYXJjaCA9IHJlcS5xdWVyeS5zZWFyY2g7XHJcblxyXG4gICAgICAgICAgICBsZXQgZGlzY291bnRzID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmQoKS5zb3J0KHsnY3JlYXRlZEF0JzogLTF9KTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcclxuICAgICAgICAgICAgICAgIGRpc2NvdW50czogZGlzY291bnRzLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzaG93OiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRpc2NvdW50X2lkID0gcmVxLnF1ZXJ5LmRpc2NvdW50X2lkO1xyXG5cclxuICAgICAgICAgICAgbGV0IGRpc2NvdW50ID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRPbmUoe19pZDogZGlzY291bnRfaWR9KTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcclxuICAgICAgICAgICAgICAgIGRpc2NvdW50OiBkaXNjb3VudCxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgY29uZmlnOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuXHJcbiAgICAgICAgICAgIGxldCBQcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoe3N0YXRlOiAyfSk7XHJcbiAgICAgICAgICAgIGxldCBDYXRlZ29yaWVzID0gYXdhaXQgbW9kZWxzLkNhdGVnb3JpZS5maW5kKHtzdGF0ZToxfSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICBwcm9kdWN0czogUHJvZHVjdHMsXHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzOiBDYXRlZ29yaWVzLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUE4QixTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEsR0FFZjtFQUNYQyxRQUFRLEVBQUUsTUFBQUEsQ0FBTUMsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDeEIsSUFBSTtNQUNBLElBQUlDLElBQUksR0FBR0YsR0FBRyxDQUFDRyxJQUFJO01BQ25CLElBQUlDLFFBQVEsR0FBRyxFQUFFO01BQ2pCLElBQUlDLFFBQVEsR0FBRyxFQUFFO01BQ2pCO01BQ0E7TUFDQSxJQUFHSCxJQUFJLENBQUNJLFlBQVksSUFBSSxDQUFDLEVBQUM7UUFDdEJGLFFBQVEsQ0FBQ0csSUFBSSxDQUFDO1VBQ2IsVUFBVSxFQUFFO1lBQUNDLFVBQVUsRUFBRTtjQUFDQyxHQUFHLEVBQUU7Z0JBQUNDLEdBQUcsRUFBRVIsSUFBSSxDQUFDUztjQUFTO1lBQUM7VUFBQztRQUN0RCxDQUFDLENBQUM7UUFDRk4sUUFBUSxDQUFDRSxJQUFJLENBQUM7VUFDVixVQUFVLEVBQUU7WUFBQ0MsVUFBVSxFQUFFO2NBQUNDLEdBQUcsRUFBRTtnQkFBQ0MsR0FBRyxFQUFFUixJQUFJLENBQUNTO2NBQVM7WUFBQztVQUFDO1FBQ3RELENBQUMsQ0FBQztNQUNULENBQUMsTUFBSTtRQUNEUCxRQUFRLENBQUNHLElBQUksQ0FBQztVQUNWLFlBQVksRUFBRTtZQUFDQyxVQUFVLEVBQUU7Y0FBQ0MsR0FBRyxFQUFFO2dCQUFDQyxHQUFHLEVBQUVSLElBQUksQ0FBQ1U7Y0FBVztZQUFDO1VBQUM7UUFDN0QsQ0FBQyxDQUFDO1FBQ0ZQLFFBQVEsQ0FBQ0UsSUFBSSxDQUFDO1VBQ1YsWUFBWSxFQUFFO1lBQUNDLFVBQVUsRUFBRTtjQUFDQyxHQUFHLEVBQUU7Z0JBQUNDLEdBQUcsRUFBRVIsSUFBSSxDQUFDVTtjQUFXO1lBQUM7VUFBQztRQUM3RCxDQUFDLENBQUM7TUFDTjtNQUNBO01BQ0E7O01BRUE7TUFDQTtNQUNBUixRQUFRLENBQUNHLElBQUksQ0FBQztRQUNWTSxhQUFhLEVBQUVYLElBQUksQ0FBQ1csYUFBYTtRQUNqQ0MsY0FBYyxFQUFFO1VBQUNDLElBQUksRUFBRWIsSUFBSSxDQUFDWSxjQUFjO1VBQUNFLElBQUksRUFBRWQsSUFBSSxDQUFDZTtRQUFZO01BQ3RFLENBQUMsQ0FBQztNQUNGWixRQUFRLENBQUNFLElBQUksQ0FBQztRQUNWTSxhQUFhLEVBQUVYLElBQUksQ0FBQ1csYUFBYTtRQUNqQ0ksWUFBWSxFQUFFO1VBQUNGLElBQUksRUFBRWIsSUFBSSxDQUFDWSxjQUFjO1VBQUNFLElBQUksRUFBRWQsSUFBSSxDQUFDZTtRQUFZO01BQ3BFLENBQUMsQ0FBQztNQUNGLElBQUlDLGdCQUFnQixHQUFHLE1BQU1DLGVBQU0sQ0FBQ0MsUUFBUSxDQUFDQyxJQUFJLENBQUM7UUFBQ0MsSUFBSSxFQUFFbEI7TUFBUSxDQUFDLENBQUMsQ0FBQzs7TUFFcEUsSUFBSW1CLGNBQWMsR0FBRyxNQUFNSixlQUFNLENBQUNDLFFBQVEsQ0FBQ0MsSUFBSSxDQUFDO1FBQUNDLElBQUksRUFBRWpCO01BQVEsQ0FBQyxDQUFDO01BRWpFLElBQUdhLGdCQUFnQixDQUFDTSxNQUFNLEdBQUcsQ0FBQyxJQUFJRCxjQUFjLENBQUNDLE1BQU0sR0FBRyxDQUFDLEVBQUM7UUFDeER2QixHQUFHLENBQUN3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztVQUNqQkMsT0FBTyxFQUFDLEdBQUc7VUFDWEMsWUFBWSxFQUFFO1FBQ2xCLENBQUMsQ0FBQztRQUNGO01BQ0o7TUFFQSxJQUFJQyxRQUFRLEdBQUcsTUFBTVYsZUFBTSxDQUFDQyxRQUFRLENBQUNVLE1BQU0sQ0FBQzVCLElBQUksQ0FBQztNQUVqREQsR0FBRyxDQUFDd0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRSxHQUFHO1FBQ1pDLFlBQVksRUFBRSx3Q0FBd0M7UUFDdERDLFFBQVEsRUFBQ0E7TUFDYixDQUFDLENBQUM7SUFFTixDQUFDLENBQUMsT0FBT0UsS0FBSyxFQUFFO01BQ1pDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRixLQUFLLENBQUM7TUFDbEI5QixHQUFHLENBQUN3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNTLElBQUksQ0FBQztRQUNqQlAsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ047RUFDSixDQUFDO0VBQ0RRLE1BQU0sRUFBRSxNQUFBQSxDQUFNbkMsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDdEIsSUFBSTtNQUNBLElBQUlDLElBQUksR0FBR0YsR0FBRyxDQUFDRyxJQUFJO01BQ25CLElBQUlDLFFBQVEsR0FBRyxFQUFFO01BQ2pCLElBQUlDLFFBQVEsR0FBRyxFQUFFO01BQ2pCO01BQ0E7TUFDQSxJQUFHSCxJQUFJLENBQUNJLFlBQVksSUFBSSxDQUFDLEVBQUM7UUFDdEJGLFFBQVEsQ0FBQ0csSUFBSSxDQUFDO1VBQ2IsVUFBVSxFQUFFO1lBQUNDLFVBQVUsRUFBRTtjQUFDQyxHQUFHLEVBQUU7Z0JBQUNDLEdBQUcsRUFBRVIsSUFBSSxDQUFDUztjQUFTO1lBQUM7VUFBQztRQUN0RCxDQUFDLENBQUM7UUFDRk4sUUFBUSxDQUFDRSxJQUFJLENBQUM7VUFDVixVQUFVLEVBQUU7WUFBQ0MsVUFBVSxFQUFFO2NBQUNDLEdBQUcsRUFBRTtnQkFBQ0MsR0FBRyxFQUFFUixJQUFJLENBQUNTO2NBQVM7WUFBQztVQUFDO1FBQ3RELENBQUMsQ0FBQztNQUNULENBQUMsTUFBSTtRQUNEUCxRQUFRLENBQUNHLElBQUksQ0FBQztVQUNWLFlBQVksRUFBRTtZQUFDQyxVQUFVLEVBQUU7Y0FBQ0MsR0FBRyxFQUFFO2dCQUFDQyxHQUFHLEVBQUVSLElBQUksQ0FBQ1U7Y0FBVztZQUFDO1VBQUM7UUFDN0QsQ0FBQyxDQUFDO1FBQ0ZQLFFBQVEsQ0FBQ0UsSUFBSSxDQUFDO1VBQ1YsWUFBWSxFQUFFO1lBQUNDLFVBQVUsRUFBRTtjQUFDQyxHQUFHLEVBQUU7Z0JBQUNDLEdBQUcsRUFBRVIsSUFBSSxDQUFDVTtjQUFXO1lBQUM7VUFBQztRQUM3RCxDQUFDLENBQUM7TUFDTjtNQUNBO01BQ0E7O01BRUE7TUFDQTtNQUNBUixRQUFRLENBQUNHLElBQUksQ0FBQztRQUNWTSxhQUFhLEVBQUVYLElBQUksQ0FBQ1csYUFBYTtRQUNqQ0osR0FBRyxFQUFFO1VBQUMyQixHQUFHLEVBQUVsQyxJQUFJLENBQUNPO1FBQUcsQ0FBQztRQUNwQkssY0FBYyxFQUFFO1VBQUNDLElBQUksRUFBRWIsSUFBSSxDQUFDWSxjQUFjO1VBQUNFLElBQUksRUFBRWQsSUFBSSxDQUFDZTtRQUFZO01BQ3RFLENBQUMsQ0FBQztNQUNGWixRQUFRLENBQUNFLElBQUksQ0FBQztRQUNWTSxhQUFhLEVBQUVYLElBQUksQ0FBQ1csYUFBYTtRQUNqQ0osR0FBRyxFQUFFO1VBQUMyQixHQUFHLEVBQUVsQyxJQUFJLENBQUNPO1FBQUcsQ0FBQztRQUNwQlEsWUFBWSxFQUFFO1VBQUNGLElBQUksRUFBRWIsSUFBSSxDQUFDWSxjQUFjO1VBQUNFLElBQUksRUFBRWQsSUFBSSxDQUFDZTtRQUFZO01BQ3BFLENBQUMsQ0FBQztNQUNGLElBQUlDLGdCQUFnQixHQUFHLE1BQU1DLGVBQU0sQ0FBQ0MsUUFBUSxDQUFDQyxJQUFJLENBQUM7UUFBQ0MsSUFBSSxFQUFFbEI7TUFBUSxDQUFDLENBQUM7TUFFbkUsSUFBSW1CLGNBQWMsR0FBRyxNQUFNSixlQUFNLENBQUNDLFFBQVEsQ0FBQ0MsSUFBSSxDQUFDO1FBQUNDLElBQUksRUFBRWpCO01BQVEsQ0FBQyxDQUFDO01BRWpFLElBQUdhLGdCQUFnQixDQUFDTSxNQUFNLEdBQUcsQ0FBQyxJQUFJRCxjQUFjLENBQUNDLE1BQU0sR0FBRyxDQUFDLEVBQUM7UUFDeER2QixHQUFHLENBQUN3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztVQUNqQkMsT0FBTyxFQUFDLEdBQUc7VUFDWEMsWUFBWSxFQUFFO1FBQ2xCLENBQUMsQ0FBQztRQUNGO01BQ0o7TUFFQSxJQUFJQyxRQUFRLEdBQUcsTUFBTVYsZUFBTSxDQUFDQyxRQUFRLENBQUNpQixpQkFBaUIsQ0FBQztRQUFDNUIsR0FBRyxFQUFFUCxJQUFJLENBQUNPO01BQUcsQ0FBQyxFQUFDUCxJQUFJLENBQUM7TUFFNUVELEdBQUcsQ0FBQ3dCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUUsR0FBRztRQUNaQyxZQUFZLEVBQUUsd0NBQXdDO1FBQ3REQyxRQUFRLEVBQUNBO01BQ2IsQ0FBQyxDQUFDO0lBRU4sQ0FBQyxDQUFDLE9BQU9FLEtBQUssRUFBRTtNQUNaOUIsR0FBRyxDQUFDd0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDUyxJQUFJLENBQUM7UUFDakJQLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztJQUNOO0VBQ0osQ0FBQztFQUNEVyxNQUFNLEVBQUUsTUFBQUEsQ0FBTXRDLEdBQUcsRUFBQ0MsR0FBRyxLQUFLO0lBQ3RCLElBQUk7TUFDQSxJQUFJUSxHQUFHLEdBQUdULEdBQUcsQ0FBQ3VDLEtBQUssQ0FBQzlCLEdBQUc7TUFFdkIsTUFBTVUsZUFBTSxDQUFDQyxRQUFRLENBQUNvQixpQkFBaUIsQ0FBQztRQUFDL0IsR0FBRyxFQUFFQTtNQUFHLENBQUMsQ0FBQztNQUVuRFIsR0FBRyxDQUFDd0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRSxHQUFHO1FBQ1pDLFlBQVksRUFBRTtNQUNsQixDQUFDLENBQUM7SUFFTixDQUFDLENBQUMsT0FBT0csS0FBSyxFQUFFO01BQ1o5QixHQUFHLENBQUN3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNTLElBQUksQ0FBQztRQUNqQlAsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ047RUFDSixDQUFDO0VBQ0RjLElBQUksRUFBRSxNQUFBQSxDQUFNekMsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDcEIsSUFBSTtNQUNBOztNQUVBLElBQUl5QyxTQUFTLEdBQUcsTUFBTXZCLGVBQU0sQ0FBQ0MsUUFBUSxDQUFDQyxJQUFJLENBQUMsQ0FBQyxDQUFDc0IsSUFBSSxDQUFDO1FBQUMsV0FBVyxFQUFFLENBQUM7TUFBQyxDQUFDLENBQUM7TUFFcEUxQyxHQUFHLENBQUN3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFLEdBQUc7UUFDWmUsU0FBUyxFQUFFQTtNQUNmLENBQUMsQ0FBQztJQUVOLENBQUMsQ0FBQyxPQUFPWCxLQUFLLEVBQUU7TUFDWjlCLEdBQUcsQ0FBQ3dCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ1MsSUFBSSxDQUFDO1FBQ2pCUCxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtFQUNKLENBQUM7RUFDRGlCLElBQUksRUFBRSxNQUFBQSxDQUFNNUMsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDcEIsSUFBSTtNQUNBLElBQUk0QyxXQUFXLEdBQUc3QyxHQUFHLENBQUN1QyxLQUFLLENBQUNNLFdBQVc7TUFFdkMsSUFBSWhCLFFBQVEsR0FBRyxNQUFNVixlQUFNLENBQUNDLFFBQVEsQ0FBQzBCLE9BQU8sQ0FBQztRQUFDckMsR0FBRyxFQUFFb0M7TUFBVyxDQUFDLENBQUM7TUFFaEU1QyxHQUFHLENBQUN3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFLEdBQUc7UUFDWkUsUUFBUSxFQUFFQTtNQUNkLENBQUMsQ0FBQztJQUVOLENBQUMsQ0FBQyxPQUFPRSxLQUFLLEVBQUU7TUFDWjlCLEdBQUcsQ0FBQ3dCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ1MsSUFBSSxDQUFDO1FBQ2pCUCxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtFQUNKLENBQUM7RUFDRG9CLE1BQU0sRUFBRSxNQUFBQSxDQUFNL0MsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDdEIsSUFBSTtNQUVBLElBQUkrQyxRQUFRLEdBQUcsTUFBTTdCLGVBQU0sQ0FBQzhCLE9BQU8sQ0FBQzVCLElBQUksQ0FBQztRQUFDNkIsS0FBSyxFQUFFO01BQUMsQ0FBQyxDQUFDO01BQ3BELElBQUlDLFVBQVUsR0FBRyxNQUFNaEMsZUFBTSxDQUFDaUMsU0FBUyxDQUFDL0IsSUFBSSxDQUFDO1FBQUM2QixLQUFLLEVBQUM7TUFBQyxDQUFDLENBQUM7TUFFdkRqRCxHQUFHLENBQUN3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFLEdBQUc7UUFDWjBCLFFBQVEsRUFBRUwsUUFBUTtRQUNsQk0sVUFBVSxFQUFFSDtNQUNoQixDQUFDLENBQUM7SUFFTixDQUFDLENBQUMsT0FBT3BCLEtBQUssRUFBRTtNQUNaOUIsR0FBRyxDQUFDd0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDUyxJQUFJLENBQUM7UUFDakJQLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztJQUNOO0VBQ0o7QUFDSixDQUFDO0FBQUE0QixPQUFBLENBQUExRCxPQUFBLEdBQUFDLFFBQUEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_models","_interopRequireDefault","require","obj","__esModule","default","_default","register","req","res","data","body","filter_a","filter_b","type_segment","push","$elemMatch","_id","$in","product_s","categorie_s","type_campaign","start_date_num","$gte","$lte","end_date_num","exits_start_date","models","Discount","find","$and","exits_end_date","length","status","json","message","message_text","discount","create","error","console","log","send","update","$ne","findByIdAndUpdate","delete","query","findByIdAndDelete","list","discounts","sort","show","discount_id","findOne","config","Products","Product","state","Categories","Categorie","products","categories","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["DiscountController.js"],"sourcesContent":["import models from \"../models\"\r\n\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            var filter_a = [];\r\n            var filter_b = [];\r\n            //product_s = [\"id\",\"id\"]\r\n            //categorie_s = [\"id\",\"id\"]\r\n            if(data.type_segment == 1){\r\n                filter_a.push({\r\n                 \"products\": {$elemMatch: {_id: {$in: data.product_s}}}\r\n                });\r\n                filter_b.push({\r\n                    \"products\": {$elemMatch: {_id: {$in: data.product_s}}}\r\n                   });\r\n            }else{\r\n                filter_a.push({\r\n                    \"categories\": {$elemMatch: {_id: {$in: data.categorie_s}}}\r\n                });\r\n                filter_b.push({\r\n                    \"categories\": {$elemMatch: {_id: {$in: data.categorie_s}}}\r\n                });\r\n            }\r\n            // 5 - 8 marzo -> televisor - laptop\r\n            // 4 - 7 de marzo ->  refrigeradora\r\n\r\n            // 5 - 8 marzo -> televisor - laptop\r\n            // 7 - 9 de marzo -> televisor - refrigeradora\r\n            filter_a.push({\r\n                type_campaign: data.type_campaign,\r\n                start_date_num: {$gte: data.start_date_num,$lte: data.end_date_num}\r\n            })\r\n            filter_b.push({\r\n                type_campaign: data.type_campaign,\r\n                end_date_num: {$gte: data.start_date_num,$lte: data.end_date_num}\r\n            })\r\n            let exits_start_date = await models.Discount.find({$and: filter_a});//[]\r\n\r\n            let exits_end_date = await models.Discount.find({$and: filter_b});\r\n\r\n            if(exits_start_date.length > 0 || exits_end_date.length > 0){\r\n                res.status(200).json({\r\n                    message:403,\r\n                    message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR ELIMINAR ALGUNAS OPCIONES\"\r\n                });\r\n                return;\r\n            }\r\n\r\n            let discount = await models.Discount.create(data);\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL DESCUENTO SE REGISTRO CORRECTAMENTE\",\r\n                discount:discount\r\n            });\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    update: async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            var filter_a = [];\r\n            var filter_b = [];\r\n            //product_s = [\"id\",\"id\"]\r\n            //categorie_s = [\"id\",\"id\"]\r\n            if(data.type_segment == 1){\r\n                filter_a.push({\r\n                 \"products\": {$elemMatch: {_id: {$in: data.product_s}}}\r\n                });\r\n                filter_b.push({\r\n                    \"products\": {$elemMatch: {_id: {$in: data.product_s}}}\r\n                   });\r\n            }else{\r\n                filter_a.push({\r\n                    \"categories\": {$elemMatch: {_id: {$in: data.categorie_s}}}\r\n                });\r\n                filter_b.push({\r\n                    \"categories\": {$elemMatch: {_id: {$in: data.categorie_s}}}\r\n                });\r\n            }\r\n            // 5 - 8 marzo -> televisor - laptop\r\n            // 4 - 7 de marzo ->  refrigeradora\r\n\r\n            // 5 - 8 marzo -> televisor - laptop\r\n            // 7 - 9 de marzo -> televisor - refrigeradora\r\n            filter_a.push({\r\n                type_campaign: data.type_campaign,\r\n                _id: {$ne: data._id},\r\n                start_date_num: {$gte: data.start_date_num,$lte: data.end_date_num}\r\n            })\r\n            filter_b.push({\r\n                type_campaign: data.type_campaign,\r\n                _id: {$ne: data._id},\r\n                end_date_num: {$gte: data.start_date_num,$lte: data.end_date_num}\r\n            })\r\n            let exits_start_date = await models.Discount.find({$and: filter_a});\r\n\r\n            let exits_end_date = await models.Discount.find({$and: filter_b});\r\n\r\n            if(exits_start_date.length > 0 || exits_end_date.length > 0){\r\n                res.status(200).json({\r\n                    message:403,\r\n                    message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR ELIMINAR ALGUNAS OPCIONES\"\r\n                });\r\n                return;\r\n            }\r\n\r\n            let discount = await models.Discount.findByIdAndUpdate({_id: data._id},data);\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL DESCUENTO SE REGISTRO CORRECTAMENTE\",\r\n                discount:discount\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    delete: async(req,res) => {\r\n        try {\r\n            let _id = req.query._id;\r\n\r\n            await models.Discount.findByIdAndDelete({_id: _id});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL DESCUENTO SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    list: async(req,res) => {\r\n        try {\r\n            // let search = req.query.search;\r\n\r\n            let discounts = await models.Discount.find().sort({'createdAt': -1});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                discounts: discounts,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    show: async(req,res) => {\r\n        try {\r\n            let discount_id = req.query.discount_id;\r\n\r\n            let discount = await models.Discount.findOne({_id: discount_id});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                discount: discount,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    config: async(req,res) => {\r\n        try {\r\n\r\n            let Products = await models.Product.find({state: 2});\r\n            let Categories = await models.Categorie.find({state:1});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                products: Products,\r\n                categories: Categories,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1677887742763},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\Home.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _HomeController = _interopRequireDefault(require(\"../controllers/HomeController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.get(\"/list\", _HomeController.default.list);\nrouter.get(\"/landing-product/:slug\", _HomeController.default.show_landing_product);\nrouter.post(\"/search_product\", _HomeController.default.search_product);\nrouter.get(\"/config_initial\", _HomeController.default.config_initial);\nrouter.post(\"/filter_products\", _HomeController.default.filter_products);\nrouter.post(\"/profile_client\", _auth.default.verifyEcommerce, _HomeController.default.profile_client);\nrouter.post(\"/update_client\", _auth.default.verifyEcommerce, _HomeController.default.update_client);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Ib21lQ29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwiZ2V0IiwiaG9tZUNvbnRyb2xsZXIiLCJsaXN0Iiwic2hvd19sYW5kaW5nX3Byb2R1Y3QiLCJwb3N0Iiwic2VhcmNoX3Byb2R1Y3QiLCJjb25maWdfaW5pdGlhbCIsImZpbHRlcl9wcm9kdWN0cyIsImF1dGgiLCJ2ZXJpZnlFY29tbWVyY2UiLCJwcm9maWxlX2NsaWVudCIsInVwZGF0ZV9jbGllbnQiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJIb21lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gJ2V4cHJlc3MtcHJvbWlzZS1yb3V0ZXInXHJcbmltcG9ydCBob21lQ29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9Ib21lQ29udHJvbGxlcidcclxuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCdcclxuXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuXHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGhvbWVDb250cm9sbGVyLmxpc3QpO1xyXG5yb3V0ZXIuZ2V0KFwiL2xhbmRpbmctcHJvZHVjdC86c2x1Z1wiLGhvbWVDb250cm9sbGVyLnNob3dfbGFuZGluZ19wcm9kdWN0KTtcclxucm91dGVyLnBvc3QoXCIvc2VhcmNoX3Byb2R1Y3RcIixob21lQ29udHJvbGxlci5zZWFyY2hfcHJvZHVjdCk7XHJcbnJvdXRlci5nZXQoXCIvY29uZmlnX2luaXRpYWxcIixob21lQ29udHJvbGxlci5jb25maWdfaW5pdGlhbCk7XHJcbnJvdXRlci5wb3N0KFwiL2ZpbHRlcl9wcm9kdWN0c1wiLGhvbWVDb250cm9sbGVyLmZpbHRlcl9wcm9kdWN0cyk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9wcm9maWxlX2NsaWVudFwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLGhvbWVDb250cm9sbGVyLnByb2ZpbGVfY2xpZW50KTtcclxucm91dGVyLnBvc3QoXCIvdXBkYXRlX2NsaWVudFwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLGhvbWVDb250cm9sbGVyLnVwZGF0ZV9jbGllbnQpO1xyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsZUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXRDLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFFeEJELE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLE9BQU8sRUFBQ0MsdUJBQWMsQ0FBQ0MsSUFBSSxDQUFDO0FBQ3ZDSixNQUFNLENBQUNFLEdBQUcsQ0FBQyx3QkFBd0IsRUFBQ0MsdUJBQWMsQ0FBQ0Usb0JBQW9CLENBQUM7QUFDeEVMLE1BQU0sQ0FBQ00sSUFBSSxDQUFDLGlCQUFpQixFQUFDSCx1QkFBYyxDQUFDSSxjQUFjLENBQUM7QUFDNURQLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLGlCQUFpQixFQUFDQyx1QkFBYyxDQUFDSyxjQUFjLENBQUM7QUFDM0RSLE1BQU0sQ0FBQ00sSUFBSSxDQUFDLGtCQUFrQixFQUFDSCx1QkFBYyxDQUFDTSxlQUFlLENBQUM7QUFFOURULE1BQU0sQ0FBQ00sSUFBSSxDQUFDLGlCQUFpQixFQUFDSSxhQUFJLENBQUNDLGVBQWUsRUFBQ1IsdUJBQWMsQ0FBQ1MsY0FBYyxDQUFDO0FBQ2pGWixNQUFNLENBQUNNLElBQUksQ0FBQyxnQkFBZ0IsRUFBQ0ksYUFBSSxDQUFDQyxlQUFlLEVBQUNSLHVCQUFjLENBQUNVLGFBQWEsQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FDakVkLE1BQU07QUFBQWUsT0FBQSxDQUFBaEIsT0FBQSxHQUFBZSxRQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_HomeController","_auth","obj","__esModule","default","router","routerx","get","homeController","list","show_landing_product","post","search_product","config_initial","filter_products","auth","verifyEcommerce","profile_client","update_client","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["Home.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport homeController from '../controllers/HomeController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n\r\nrouter.get(\"/list\",homeController.list);\r\nrouter.get(\"/landing-product/:slug\",homeController.show_landing_product);\r\nrouter.post(\"/search_product\",homeController.search_product);\r\nrouter.get(\"/config_initial\",homeController.config_initial);\r\nrouter.post(\"/filter_products\",homeController.filter_products);\r\n\r\nrouter.post(\"/profile_client\",auth.verifyEcommerce,homeController.profile_client);\r\nrouter.post(\"/update_client\",auth.verifyEcommerce,homeController.update_client);\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,GAAG,CAAC,OAAO,EAACC,uBAAc,CAACC,IAAI,CAAC;AACvCJ,MAAM,CAACE,GAAG,CAAC,wBAAwB,EAACC,uBAAc,CAACE,oBAAoB,CAAC;AACxEL,MAAM,CAACM,IAAI,CAAC,iBAAiB,EAACH,uBAAc,CAACI,cAAc,CAAC;AAC5DP,MAAM,CAACE,GAAG,CAAC,iBAAiB,EAACC,uBAAc,CAACK,cAAc,CAAC;AAC3DR,MAAM,CAACM,IAAI,CAAC,kBAAkB,EAACH,uBAAc,CAACM,eAAe,CAAC;AAE9DT,MAAM,CAACM,IAAI,CAAC,iBAAiB,EAACI,aAAI,CAACC,eAAe,EAACR,uBAAc,CAACS,cAAc,CAAC;AACjFZ,MAAM,CAACM,IAAI,CAAC,gBAAgB,EAACI,aAAI,CAACC,eAAe,EAACR,uBAAc,CAACU,aAAa,CAAC;AAAC,IAAAC,QAAA,GACjEd,MAAM;AAAAe,OAAA,CAAAhB,OAAA,GAAAe,QAAA","ignoreList":[]}},"mtime":1680991869393},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\HomeController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  list: async (req, res) => {\n    try {\n      var TIME_NOW = req.query.TIME_NOW;\n      let Sliders = await _models.default.Slider.find({\n        state: 1\n      });\n      Sliders = Sliders.map(slider => {\n        return _resources.default.Slider.slider_list(slider);\n      });\n      let Categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      Categories = Categories.map(categorie => {\n        return _resources.default.Categorie.categorie_list(categorie);\n      });\n      let CampaingDiscount = await _models.default.Discount.findOne({\n        type_campaign: 1,\n        start_date_num: {\n          $lte: TIME_NOW\n        },\n        // start_date_num >= TIME_NOW\n        end_date_num: {\n          $gte: TIME_NOW\n        } // >=\n      });\n      // console.log(CampaingDiscount);\n      let BestProducts = await _models.default.Product.find({\n        state: 2\n      }).sort({\n        \"createdAt\": -1\n      });\n      var ObjectBestProducts = [];\n      for (const Product of BestProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        let DISCOUNT_EXITS = null;\n        if (CampaingDiscount) {\n          if (CampaingDiscount.type_segment == 1) {\n            //por producto\n            let products_a = [];\n            CampaingDiscount.products.forEach(item => {\n              products_a.push(item._id);\n            });\n            if (products_a.includes(Product._id + \"\")) {\n              DISCOUNT_EXITS = CampaingDiscount;\n            }\n          } else {\n            //por categoria\n            let categories_a = [];\n            CampaingDiscount.categories.forEach(item => {\n              categories_a.push(item._id);\n            });\n            if (categories_a.includes(Product.categorie + \"\")) {\n              DISCOUNT_EXITS = CampaingDiscount;\n            }\n          }\n        }\n        ObjectBestProducts.push(_resources.default.Product.product_list(Product, VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n      }\n      let OursProducts = await _models.default.Product.find({\n        state: 2\n      }).sort({\n        \"createdAt\": 1\n      });\n      var ObjectOursProducts = [];\n      for (const Product of OursProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        let DISCOUNT_EXITS = null;\n        if (CampaingDiscount) {\n          if (CampaingDiscount.type_segment == 1) {\n            //por producto\n            let products_a = [];\n            CampaingDiscount.products.forEach(item => {\n              products_a.push(item._id);\n            });\n            if (products_a.includes(Product._id + \"\")) {\n              DISCOUNT_EXITS = CampaingDiscount;\n            }\n          } else {\n            //por categoria\n            let categories_a = [];\n            CampaingDiscount.categories.forEach(item => {\n              categories_a.push(item._id);\n            });\n            if (categories_a.includes(Product.categorie + \"\")) {\n              DISCOUNT_EXITS = CampaingDiscount;\n            }\n          }\n        }\n        ObjectOursProducts.push(_resources.default.Product.product_list(Product, VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n      }\n      // OursProducts = OursProducts.map(async (product) => {\n      //     let VARIEDADES = await models.Variedad.find({product: product._id});\n      //     return resource.Product.product_list(product,VARIEDADES);\n      // })\n\n      let FlashSale = await _models.default.Discount.findOne({\n        type_campaign: 2,\n        start_date_num: {\n          $lte: TIME_NOW\n        },\n        // start_date_num >= TIME_NOW\n        end_date_num: {\n          $gte: TIME_NOW\n        } // >=\n      });\n      let ProductList = [];\n      if (FlashSale) {\n        for (const product of FlashSale.products) {\n          var ObjecT = await _models.default.Product.findById({\n            _id: product._id\n          });\n          let VARIEDADES = await _models.default.Variedad.find({\n            product: product._id\n          });\n          ProductList.push(_resources.default.Product.product_list(ObjecT, VARIEDADES));\n        }\n      }\n      // console.log(FlashSale);\n      res.status(200).json({\n        sliders: Sliders,\n        categories: Categories,\n        best_products: ObjectBestProducts,\n        our_products: ObjectOursProducts,\n        FlashSale: FlashSale,\n        campaign_products: ProductList\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  show_landing_product: async (req, res) => {\n    try {\n      let SLUG = req.params.slug;\n      let DISCOUNT_ID = req.query._id;\n      console.log(DISCOUNT_ID);\n      let Product = await _models.default.Product.findOne({\n        slug: SLUG,\n        state: 2\n      });\n      let VARIEDADES = await _models.default.Variedad.find({\n        product: Product._id\n      });\n      let REVIEWS = await _models.default.Review.find({\n        product: Product._id\n      }).populate(\"user\");\n      let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n      let COUNT_REVIEW = REVIEWS.length;\n      let RelatedProducts = await _models.default.Product.find({\n        categorie: Product.categorie,\n        state: 2\n      });\n      var ObjectRelatedProducts = [];\n      for (const Product of RelatedProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        ObjectRelatedProducts.push(_resources.default.Product.product_list(Product, VARIEDADES));\n      }\n      let SALE_FLASH = null;\n      if (DISCOUNT_ID) {\n        SALE_FLASH = await _models.default.Discount.findById({\n          _id: DISCOUNT_ID\n        });\n      }\n      res.status(200).json({\n        product: _resources.default.Product.product_list(Product, VARIEDADES),\n        related_products: ObjectRelatedProducts,\n        SALE_FLASH: SALE_FLASH,\n        REVIEWS: REVIEWS,\n        AVG_REVIEW: AVG_REVIEW,\n        COUNT_REVIEW: COUNT_REVIEW\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  search_product: async (req, res) => {\n    try {\n      var TIME_NOW = req.query.TIME_NOW;\n      let search_product = req.body.search_product;\n      let OursProducts = await _models.default.Product.find({\n        state: 2,\n        title: new RegExp(search_product, 'i')\n      }).sort({\n        \"createdAt\": 1\n      });\n      let CampaingDiscount = await _models.default.Discount.findOne({\n        type_campaign: 1,\n        start_date_num: {\n          $lte: TIME_NOW\n        },\n        // start_date_num >= TIME_NOW\n        end_date_num: {\n          $gte: TIME_NOW\n        } // >=\n      });\n      var Products = [];\n      for (const Product of OursProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        let DISCOUNT_EXITS = null;\n        if (CampaingDiscount) {\n          if (CampaingDiscount.type_segment == 1) {\n            //por producto\n            let products_a = [];\n            CampaingDiscount.products.forEach(item => {\n              products_a.push(item._id);\n            });\n            if (products_a.includes(Product._id + \"\")) {\n              DISCOUNT_EXITS = CampaingDiscount;\n            }\n          } else {\n            //por categoria\n            let categories_a = [];\n            CampaingDiscount.categories.forEach(item => {\n              categories_a.push(item._id);\n            });\n            if (categories_a.includes(Product.categorie + \"\")) {\n              DISCOUNT_EXITS = CampaingDiscount;\n            }\n          }\n        }\n        Products.push(_resources.default.Product.product_list(Product, VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n      }\n      res.status(200).json({\n        products: Products\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"Ocurrio un error\"\n      });\n    }\n  },\n  profile_client: async (req, res) => {\n    try {\n      let user_id = req.body.user_id;\n      let Orders = await _models.default.Sale.find({\n        user: user_id\n      });\n      let sale_orders = [];\n      for (const order of Orders) {\n        let detail_orders = await _models.default.SaleDetail.find({\n          sale: order._id\n        }).populate({\n          path: \"product\",\n          populate: {\n            path: \"categorie\"\n          }\n        }).populate(\"variedad\");\n        let sale_address = await _models.default.SaleAddress.find({\n          sale: order._id\n        });\n        let collection_detail_orders = [];\n        for (const detail_order of detail_orders) {\n          let reviewS = await _models.default.Review.findOne({\n            sale_detail: detail_order._id\n          });\n          collection_detail_orders.push({\n            _id: detail_order._id,\n            product: {\n              _id: detail_order.product._id,\n              title: detail_order.product.title,\n              sku: detail_order.product.sku,\n              slug: detail_order.product.slug,\n              imagen: process.env.URL_BACKEND + '/api/products/uploads/product/' + detail_order.product.portada,\n              //*\n              categorie: detail_order.product.categorie,\n              price_pesos: detail_order.product.price_pesos,\n              price_usd: detail_order.product.price_usd\n            },\n            type_discount: detail_order.type_discount,\n            discount: detail_order.discount,\n            cantidad: detail_order.cantidad,\n            variedad: detail_order.variedad,\n            code_cupon: detail_order.code_cupon,\n            code_discount: detail_order.code_discount,\n            price_unitario: detail_order.price_unitario,\n            subtotal: detail_order.subtotal,\n            total: detail_order.total,\n            review: reviewS\n          });\n        }\n        sale_orders.push({\n          sale: order,\n          sale_details: collection_detail_orders,\n          sale_address: sale_address\n        });\n      }\n      let ADDRESS_CLIENT = await _models.default.AddressClient.find({\n        user: user_id\n      }).sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        sale_orders: sale_orders,\n        address_client: ADDRESS_CLIENT\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"Ocurrio un error\"\n      });\n    }\n  },\n  update_client: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('\\\\');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let User = await _models.default.User.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"SE GUARDO SU INFORMACIÓN CORRECTAMENTE\",\n        user: {\n          name: User.name,\n          surname: User.surname,\n          email: User.email,\n          _id: User._id\n        }\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"Ocurrio un error\"\n      });\n    }\n  },\n  config_initial: async (req, res) => {\n    try {\n      let categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      let variedades = await _models.default.Variedad.find({});\n      res.status(200).json({\n        categories: categories,\n        variedades: variedades\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"Ocurrio un error\"\n      });\n    }\n  },\n  filter_products: async (req, res) => {\n    try {\n      var TIME_NOW = req.query.TIME_NOW;\n      let search_product = req.body.search_product;\n      let categories_selecteds = req.body.categories_selecteds;\n      let is_discount = req.body.is_discount;\n      let variedad_selected = req.body.variedad_selected;\n      let price_min = req.body.price_min;\n      let price_max = req.body.price_max;\n      let filter = [{\n        state: 2\n      }];\n      var categories_s = [];\n      var products_s = [];\n      // {state: 2,title: new RegExp(search_product,'i')}\n      if (categories_selecteds.length > 0) {\n        categories_selecteds.forEach(categorie => {\n          categories_s.push(categorie);\n        });\n        // filter.push({\n        //     categorie: {$in: categories_selecteds},\n        // })\n      }\n      let CampaingDiscount = await _models.default.Discount.findOne({\n        type_campaign: 1,\n        start_date_num: {\n          $lte: TIME_NOW\n        },\n        // start_date_num >= TIME_NOW\n        end_date_num: {\n          $gte: TIME_NOW\n        } // >=\n      });\n      if (is_discount == 2) {\n        if (CampaingDiscount.type_segment == 1) {\n          CampaingDiscount.products.forEach(item => {\n            products_s.push(item._id);\n          });\n        } else {\n          CampaingDiscount.categories.forEach(item => {\n            categories_s.push(item._id);\n          });\n        }\n      }\n      if (variedad_selected) {\n        let VAR = await _models.default.Variedad.findById({\n          _id: variedad_selected._id\n        });\n        if (VAR) {\n          products_s.push(VAR.product);\n        }\n      }\n      if (categories_s.length > 0) {\n        filter.push({\n          categorie: {\n            $in: categories_s\n          }\n        });\n      }\n      if (products_s.length > 0) {\n        filter.push({\n          _id: {\n            $in: products_s\n          }\n        });\n      }\n      if (price_min > 0 && price_max > 0) {\n        filter.push({\n          price_usd: {\n            $gte: price_min,\n            $lte: price_max\n          }\n        });\n      }\n      let OursProducts = await _models.default.Product.find({\n        $and: filter\n      }).sort({\n        \"createdAt\": 1\n      });\n      var Products = [];\n      for (const Product of OursProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        let DISCOUNT_EXITS = null;\n        if (CampaingDiscount) {\n          if (CampaingDiscount.type_segment == 1) {\n            //por producto\n            let products_a = [];\n            CampaingDiscount.products.forEach(item => {\n              products_a.push(item._id);\n            });\n            if (products_a.includes(Product._id + \"\")) {\n              DISCOUNT_EXITS = CampaingDiscount;\n            }\n          } else {\n            //por categoria\n            let categories_a = [];\n            CampaingDiscount.categories.forEach(item => {\n              categories_a.push(item._id);\n            });\n            if (categories_a.includes(Product.categorie + \"\")) {\n              DISCOUNT_EXITS = CampaingDiscount;\n            }\n          }\n        }\n        Products.push(_resources.default.Product.product_list(Product, VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n      }\n      res.status(200).json({\n        products: Products\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"Ocurrio un error\"\n      });\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwiX2JjcnlwdGpzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImxpc3QiLCJyZXEiLCJyZXMiLCJUSU1FX05PVyIsInF1ZXJ5IiwiU2xpZGVycyIsIm1vZGVscyIsIlNsaWRlciIsImZpbmQiLCJzdGF0ZSIsIm1hcCIsInNsaWRlciIsInJlc291cmNlIiwic2xpZGVyX2xpc3QiLCJDYXRlZ29yaWVzIiwiQ2F0ZWdvcmllIiwiY2F0ZWdvcmllIiwiY2F0ZWdvcmllX2xpc3QiLCJDYW1wYWluZ0Rpc2NvdW50IiwiRGlzY291bnQiLCJmaW5kT25lIiwidHlwZV9jYW1wYWlnbiIsInN0YXJ0X2RhdGVfbnVtIiwiJGx0ZSIsImVuZF9kYXRlX251bSIsIiRndGUiLCJCZXN0UHJvZHVjdHMiLCJQcm9kdWN0Iiwic29ydCIsIk9iamVjdEJlc3RQcm9kdWN0cyIsIlZBUklFREFERVMiLCJWYXJpZWRhZCIsInByb2R1Y3QiLCJfaWQiLCJSRVZJRVdTIiwiUmV2aWV3IiwiQVZHX1JFVklFVyIsImxlbmd0aCIsIk1hdGgiLCJjZWlsIiwicmVkdWNlIiwic3VtIiwiaXRlbSIsImNhbnRpZGFkIiwiQ09VTlRfUkVWSUVXIiwiRElTQ09VTlRfRVhJVFMiLCJ0eXBlX3NlZ21lbnQiLCJwcm9kdWN0c19hIiwicHJvZHVjdHMiLCJmb3JFYWNoIiwicHVzaCIsImluY2x1ZGVzIiwiY2F0ZWdvcmllc19hIiwiY2F0ZWdvcmllcyIsInByb2R1Y3RfbGlzdCIsIk91cnNQcm9kdWN0cyIsIk9iamVjdE91cnNQcm9kdWN0cyIsIkZsYXNoU2FsZSIsIlByb2R1Y3RMaXN0IiwiT2JqZWNUIiwiZmluZEJ5SWQiLCJzdGF0dXMiLCJqc29uIiwic2xpZGVycyIsImJlc3RfcHJvZHVjdHMiLCJvdXJfcHJvZHVjdHMiLCJjYW1wYWlnbl9wcm9kdWN0cyIsImVycm9yIiwic2VuZCIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwic2hvd19sYW5kaW5nX3Byb2R1Y3QiLCJTTFVHIiwicGFyYW1zIiwic2x1ZyIsIkRJU0NPVU5UX0lEIiwicG9wdWxhdGUiLCJSZWxhdGVkUHJvZHVjdHMiLCJPYmplY3RSZWxhdGVkUHJvZHVjdHMiLCJTQUxFX0ZMQVNIIiwicmVsYXRlZF9wcm9kdWN0cyIsInNlYXJjaF9wcm9kdWN0IiwiYm9keSIsInRpdGxlIiwiUmVnRXhwIiwiUHJvZHVjdHMiLCJwcm9maWxlX2NsaWVudCIsInVzZXJfaWQiLCJPcmRlcnMiLCJTYWxlIiwidXNlciIsInNhbGVfb3JkZXJzIiwib3JkZXIiLCJkZXRhaWxfb3JkZXJzIiwiU2FsZURldGFpbCIsInNhbGUiLCJwYXRoIiwic2FsZV9hZGRyZXNzIiwiU2FsZUFkZHJlc3MiLCJjb2xsZWN0aW9uX2RldGFpbF9vcmRlcnMiLCJkZXRhaWxfb3JkZXIiLCJyZXZpZXdTIiwic2FsZV9kZXRhaWwiLCJza3UiLCJpbWFnZW4iLCJwcm9jZXNzIiwiZW52IiwiVVJMX0JBQ0tFTkQiLCJwb3J0YWRhIiwicHJpY2VfcGVzb3MiLCJwcmljZV91c2QiLCJ0eXBlX2Rpc2NvdW50IiwiZGlzY291bnQiLCJ2YXJpZWRhZCIsImNvZGVfY3Vwb24iLCJjb2RlX2Rpc2NvdW50IiwicHJpY2VfdW5pdGFyaW8iLCJzdWJ0b3RhbCIsInRvdGFsIiwicmV2aWV3Iiwic2FsZV9kZXRhaWxzIiwiQUREUkVTU19DTElFTlQiLCJBZGRyZXNzQ2xpZW50IiwiYWRkcmVzc19jbGllbnQiLCJ1cGRhdGVfY2xpZW50IiwiZmlsZXMiLCJpbWdfcGF0aCIsImF2YXRhciIsIm5hbWUiLCJzcGxpdCIsImF2YXRhcl9uYW1lIiwicGFzc3dvcmQiLCJiY3J5cHQiLCJoYXNoIiwiVXNlciIsImZpbmRCeUlkQW5kVXBkYXRlIiwic3VybmFtZSIsImVtYWlsIiwiY29uZmlnX2luaXRpYWwiLCJ2YXJpZWRhZGVzIiwiZmlsdGVyX3Byb2R1Y3RzIiwiY2F0ZWdvcmllc19zZWxlY3RlZHMiLCJpc19kaXNjb3VudCIsInZhcmllZGFkX3NlbGVjdGVkIiwicHJpY2VfbWluIiwicHJpY2VfbWF4IiwiZmlsdGVyIiwiY2F0ZWdvcmllc19zIiwicHJvZHVjdHNfcyIsIlZBUiIsIiRpbiIsIiRhbmQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJIb21lQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gJy4uL21vZGVscydcclxuaW1wb3J0IHJlc291cmNlIGZyb20gJy4uL3Jlc291cmNlcydcclxuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIGxpc3Q6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgVElNRV9OT1cgID0gcmVxLnF1ZXJ5LlRJTUVfTk9XO1xyXG5cclxuICAgICAgICAgICAgbGV0IFNsaWRlcnMgPSBhd2FpdCBtb2RlbHMuU2xpZGVyLmZpbmQoe3N0YXRlOjF9KTtcclxuXHJcbiAgICAgICAgICAgIFNsaWRlcnMgPSBTbGlkZXJzLm1hcCgoc2xpZGVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb3VyY2UuU2xpZGVyLnNsaWRlcl9saXN0KHNsaWRlcik7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICBsZXQgQ2F0ZWdvcmllcyA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZCh7c3RhdGU6MX0pO1xyXG5cclxuICAgICAgICAgICAgQ2F0ZWdvcmllcyA9IENhdGVnb3JpZXMubWFwKChjYXRlZ29yaWUpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvdXJjZS5DYXRlZ29yaWUuY2F0ZWdvcmllX2xpc3QoY2F0ZWdvcmllKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBDYW1wYWluZ0Rpc2NvdW50ID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjogMSxcclxuICAgICAgICAgICAgICAgIHN0YXJ0X2RhdGVfbnVtOiB7JGx0ZTogVElNRV9OT1d9LC8vIHN0YXJ0X2RhdGVfbnVtID49IFRJTUVfTk9XXHJcbiAgICAgICAgICAgICAgICBlbmRfZGF0ZV9udW06IHskZ3RlOiBUSU1FX05PV30sLy8gPj1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKENhbXBhaW5nRGlzY291bnQpO1xyXG4gICAgICAgICAgICBsZXQgQmVzdFByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7c3RhdGU6IDJ9KS5zb3J0KHtcImNyZWF0ZWRBdFwiOiAtMX0pO1xyXG5cclxuICAgICAgICAgICAgdmFyIE9iamVjdEJlc3RQcm9kdWN0cyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFByb2R1Y3Qgb2YgQmVzdFByb2R1Y3RzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgVkFSSUVEQURFUyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHtwcm9kdWN0OiBQcm9kdWN0Ll9pZH0pO1xyXG4gICAgICAgICAgICAgICAgbGV0IFJFVklFV1MgPSBhd2FpdCBtb2RlbHMuUmV2aWV3LmZpbmQoe3Byb2R1Y3Q6IFByb2R1Y3QuX2lkfSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgQVZHX1JFVklFVyA9IFJFVklFV1MubGVuZ3RoID4gMCA/IE1hdGguY2VpbChSRVZJRVdTLnJlZHVjZSgoc3VtLGl0ZW0pID0+IHN1bSArIGl0ZW0uY2FudGlkYWQsMCkvUkVWSUVXUy5sZW5ndGgpIDogMDtcclxuICAgICAgICAgICAgICAgIGxldCBDT1VOVF9SRVZJRVcgPSBSRVZJRVdTLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIGxldCBESVNDT1VOVF9FWElUUyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBpZihDYW1wYWluZ0Rpc2NvdW50KXtcclxuICAgICAgICAgICAgICAgICAgICBpZihDYW1wYWluZ0Rpc2NvdW50LnR5cGVfc2VnbWVudCA9PSAxKXsvL3BvciBwcm9kdWN0b1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcHJvZHVjdHNfYSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDYW1wYWluZ0Rpc2NvdW50LnByb2R1Y3RzLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c19hLnB1c2goaXRlbS5faWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihwcm9kdWN0c19hLmluY2x1ZGVzKFByb2R1Y3QuX2lkK1wiXCIpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERJU0NPVU5UX0VYSVRTID0gQ2FtcGFpbmdEaXNjb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNley8vcG9yIGNhdGVnb3JpYVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2F0ZWdvcmllc19hID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIENhbXBhaW5nRGlzY291bnQuY2F0ZWdvcmllcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllc19hLnB1c2goaXRlbS5faWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihjYXRlZ29yaWVzX2EuaW5jbHVkZXMoUHJvZHVjdC5jYXRlZ29yaWUrXCJcIikpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRElTQ09VTlRfRVhJVFMgPSBDYW1wYWluZ0Rpc2NvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgT2JqZWN0QmVzdFByb2R1Y3RzLnB1c2gocmVzb3VyY2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUHJvZHVjdCxWQVJJRURBREVTLEFWR19SRVZJRVcsQ09VTlRfUkVWSUVXLERJU0NPVU5UX0VYSVRTKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBPdXJzUHJvZHVjdHMgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kKHtzdGF0ZTogMn0pLnNvcnQoe1wiY3JlYXRlZEF0XCI6IDF9KTtcclxuXHJcbiAgICAgICAgICAgIHZhciBPYmplY3RPdXJzUHJvZHVjdHMgPSBbXTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBQcm9kdWN0IG9mIE91cnNQcm9kdWN0cykge1xyXG4gICAgICAgICAgICAgICAgbGV0IFZBUklFREFERVMgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZCh7cHJvZHVjdDogUHJvZHVjdC5faWR9KTtcclxuICAgICAgICAgICAgICAgIGxldCBSRVZJRVdTID0gYXdhaXQgbW9kZWxzLlJldmlldy5maW5kKHtwcm9kdWN0OiBQcm9kdWN0Ll9pZH0pO1xyXG4gICAgICAgICAgICAgICAgbGV0IEFWR19SRVZJRVcgPSBSRVZJRVdTLmxlbmd0aCA+IDAgPyBNYXRoLmNlaWwoUkVWSUVXUy5yZWR1Y2UoKHN1bSxpdGVtKSA9PiBzdW0gKyBpdGVtLmNhbnRpZGFkLDApL1JFVklFV1MubGVuZ3RoKSA6IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgQ09VTlRfUkVWSUVXID0gUkVWSUVXUy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBsZXQgRElTQ09VTlRfRVhJVFMgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgaWYoQ2FtcGFpbmdEaXNjb3VudCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoQ2FtcGFpbmdEaXNjb3VudC50eXBlX3NlZ21lbnQgPT0gMSl7Ly9wb3IgcHJvZHVjdG9cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RzX2EgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQ2FtcGFpbmdEaXNjb3VudC5wcm9kdWN0cy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHNfYS5wdXNoKGl0ZW0uX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYocHJvZHVjdHNfYS5pbmNsdWRlcyhQcm9kdWN0Ll9pZCtcIlwiKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBESVNDT1VOVF9FWElUUyA9IENhbXBhaW5nRGlzY291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXsvL3BvciBjYXRlZ29yaWFcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNhdGVnb3JpZXNfYSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDYW1wYWluZ0Rpc2NvdW50LmNhdGVnb3JpZXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNfYS5wdXNoKGl0ZW0uX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2F0ZWdvcmllc19hLmluY2x1ZGVzKFByb2R1Y3QuY2F0ZWdvcmllK1wiXCIpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERJU0NPVU5UX0VYSVRTID0gQ2FtcGFpbmdEaXNjb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIE9iamVjdE91cnNQcm9kdWN0cy5wdXNoKHJlc291cmNlLlByb2R1Y3QucHJvZHVjdF9saXN0KFByb2R1Y3QsVkFSSUVEQURFUyxBVkdfUkVWSUVXLENPVU5UX1JFVklFVyxESVNDT1VOVF9FWElUUykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIE91cnNQcm9kdWN0cyA9IE91cnNQcm9kdWN0cy5tYXAoYXN5bmMgKHByb2R1Y3QpID0+IHtcclxuICAgICAgICAgICAgLy8gICAgIGxldCBWQVJJRURBREVTID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoe3Byb2R1Y3Q6IHByb2R1Y3QuX2lkfSk7XHJcbiAgICAgICAgICAgIC8vICAgICByZXR1cm4gcmVzb3VyY2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QocHJvZHVjdCxWQVJJRURBREVTKTtcclxuICAgICAgICAgICAgLy8gfSlcclxuXHJcbiAgICAgICAgICAgIGxldCBGbGFzaFNhbGUgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZE9uZSh7XHJcbiAgICAgICAgICAgICAgICB0eXBlX2NhbXBhaWduOiAyLFxyXG4gICAgICAgICAgICAgICAgc3RhcnRfZGF0ZV9udW06IHskbHRlOiBUSU1FX05PV30sLy8gc3RhcnRfZGF0ZV9udW0gPj0gVElNRV9OT1dcclxuICAgICAgICAgICAgICAgIGVuZF9kYXRlX251bTogeyRndGU6IFRJTUVfTk9XfSwvLyA+PVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBQcm9kdWN0TGlzdCA9IFtdO1xyXG4gICAgICAgICAgICBpZihGbGFzaFNhbGUpe1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwcm9kdWN0IG9mIEZsYXNoU2FsZS5wcm9kdWN0cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBPYmplY1QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kQnlJZCh7X2lkOiBwcm9kdWN0Ll9pZH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBWQVJJRURBREVTID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoe3Byb2R1Y3Q6IHByb2R1Y3QuX2lkfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvZHVjdExpc3QucHVzaChyZXNvdXJjZS5Qcm9kdWN0LnByb2R1Y3RfbGlzdChPYmplY1QsVkFSSUVEQURFUykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKEZsYXNoU2FsZSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIHNsaWRlcnM6IFNsaWRlcnMsXHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzOiBDYXRlZ29yaWVzLFxyXG4gICAgICAgICAgICAgICAgYmVzdF9wcm9kdWN0czogT2JqZWN0QmVzdFByb2R1Y3RzLFxyXG4gICAgICAgICAgICAgICAgb3VyX3Byb2R1Y3RzOiBPYmplY3RPdXJzUHJvZHVjdHMsXHJcbiAgICAgICAgICAgICAgICBGbGFzaFNhbGU6IEZsYXNoU2FsZSxcclxuICAgICAgICAgICAgICAgIGNhbXBhaWduX3Byb2R1Y3RzOiBQcm9kdWN0TGlzdCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTpcIk9DVVJSSU8gRVJST1JcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzaG93X2xhbmRpbmdfcHJvZHVjdDphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IFNMVUcgPSByZXEucGFyYW1zLnNsdWc7XHJcbiAgICAgICAgICAgIGxldCBESVNDT1VOVF9JRCA9IHJlcS5xdWVyeS5faWQ7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKERJU0NPVU5UX0lEKTtcclxuICAgICAgICAgICAgbGV0IFByb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kT25lKHtzbHVnOiBTTFVHLHN0YXRlOiAyfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgVkFSSUVEQURFUyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHtwcm9kdWN0OiBQcm9kdWN0Ll9pZH0pO1xyXG5cclxuICAgICAgICAgICAgbGV0IFJFVklFV1MgPSBhd2FpdCBtb2RlbHMuUmV2aWV3LmZpbmQoe3Byb2R1Y3Q6IFByb2R1Y3QuX2lkfSkucG9wdWxhdGUoXCJ1c2VyXCIpO1xyXG4gICAgICAgICAgICBsZXQgQVZHX1JFVklFVyA9IFJFVklFV1MubGVuZ3RoID4gMCA/IE1hdGguY2VpbChSRVZJRVdTLnJlZHVjZSgoc3VtLGl0ZW0pID0+IHN1bSArIGl0ZW0uY2FudGlkYWQsMCkvUkVWSUVXUy5sZW5ndGgpIDogMDtcclxuICAgICAgICAgICAgbGV0IENPVU5UX1JFVklFVyA9IFJFVklFV1MubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgbGV0IFJlbGF0ZWRQcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoe2NhdGVnb3JpZTogUHJvZHVjdC5jYXRlZ29yaWUsc3RhdGU6IDJ9KTtcclxuICAgICAgICAgICAgdmFyIE9iamVjdFJlbGF0ZWRQcm9kdWN0cyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFByb2R1Y3Qgb2YgUmVsYXRlZFByb2R1Y3RzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgVkFSSUVEQURFUyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHtwcm9kdWN0OiBQcm9kdWN0Ll9pZH0pO1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0UmVsYXRlZFByb2R1Y3RzLnB1c2gocmVzb3VyY2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUHJvZHVjdCxWQVJJRURBREVTKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IFNBTEVfRkxBU0ggPSBudWxsO1xyXG4gICAgICAgICAgICBpZihESVNDT1VOVF9JRCl7XHJcbiAgICAgICAgICAgICAgICBTQUxFX0ZMQVNIID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRCeUlkKHtfaWQ6IERJU0NPVU5UX0lEfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgcHJvZHVjdDogcmVzb3VyY2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUHJvZHVjdCxWQVJJRURBREVTKSxcclxuICAgICAgICAgICAgICAgIHJlbGF0ZWRfcHJvZHVjdHM6IE9iamVjdFJlbGF0ZWRQcm9kdWN0cyxcclxuICAgICAgICAgICAgICAgIFNBTEVfRkxBU0g6IFNBTEVfRkxBU0gsXHJcbiAgICAgICAgICAgICAgICBSRVZJRVdTOiBSRVZJRVdTLFxyXG4gICAgICAgICAgICAgICAgQVZHX1JFVklFVzogQVZHX1JFVklFVyxcclxuICAgICAgICAgICAgICAgIENPVU5UX1JFVklFVzogQ09VTlRfUkVWSUVXLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6XCJPQ1VSUklPIEVSUk9SXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2VhcmNoX3Byb2R1Y3Q6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBUSU1FX05PVyAgPSByZXEucXVlcnkuVElNRV9OT1c7XHJcbiAgICAgICAgICAgIGxldCBzZWFyY2hfcHJvZHVjdCA9IHJlcS5ib2R5LnNlYXJjaF9wcm9kdWN0O1xyXG4gICAgICAgICAgICBsZXQgT3Vyc1Byb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7c3RhdGU6IDIsdGl0bGU6IG5ldyBSZWdFeHAoc2VhcmNoX3Byb2R1Y3QsJ2knKX0pLnNvcnQoe1wiY3JlYXRlZEF0XCI6IDF9KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBDYW1wYWluZ0Rpc2NvdW50ID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjogMSxcclxuICAgICAgICAgICAgICAgIHN0YXJ0X2RhdGVfbnVtOiB7JGx0ZTogVElNRV9OT1d9LC8vIHN0YXJ0X2RhdGVfbnVtID49IFRJTUVfTk9XXHJcbiAgICAgICAgICAgICAgICBlbmRfZGF0ZV9udW06IHskZ3RlOiBUSU1FX05PV30sLy8gPj1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgUHJvZHVjdHMgPSBbXTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBQcm9kdWN0IG9mIE91cnNQcm9kdWN0cykge1xyXG4gICAgICAgICAgICAgICAgbGV0IFZBUklFREFERVMgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZCh7cHJvZHVjdDogUHJvZHVjdC5faWR9KTtcclxuICAgICAgICAgICAgICAgIGxldCBSRVZJRVdTID0gYXdhaXQgbW9kZWxzLlJldmlldy5maW5kKHtwcm9kdWN0OiBQcm9kdWN0Ll9pZH0pO1xyXG4gICAgICAgICAgICAgICAgbGV0IEFWR19SRVZJRVcgPSBSRVZJRVdTLmxlbmd0aCA+IDAgPyBNYXRoLmNlaWwoUkVWSUVXUy5yZWR1Y2UoKHN1bSxpdGVtKSA9PiBzdW0gKyBpdGVtLmNhbnRpZGFkLDApL1JFVklFV1MubGVuZ3RoKSA6IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgQ09VTlRfUkVWSUVXID0gUkVWSUVXUy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBsZXQgRElTQ09VTlRfRVhJVFMgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgaWYoQ2FtcGFpbmdEaXNjb3VudCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoQ2FtcGFpbmdEaXNjb3VudC50eXBlX3NlZ21lbnQgPT0gMSl7Ly9wb3IgcHJvZHVjdG9cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RzX2EgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQ2FtcGFpbmdEaXNjb3VudC5wcm9kdWN0cy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHNfYS5wdXNoKGl0ZW0uX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYocHJvZHVjdHNfYS5pbmNsdWRlcyhQcm9kdWN0Ll9pZCtcIlwiKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBESVNDT1VOVF9FWElUUyA9IENhbXBhaW5nRGlzY291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXsvL3BvciBjYXRlZ29yaWFcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNhdGVnb3JpZXNfYSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDYW1wYWluZ0Rpc2NvdW50LmNhdGVnb3JpZXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNfYS5wdXNoKGl0ZW0uX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2F0ZWdvcmllc19hLmluY2x1ZGVzKFByb2R1Y3QuY2F0ZWdvcmllK1wiXCIpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERJU0NPVU5UX0VYSVRTID0gQ2FtcGFpbmdEaXNjb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFByb2R1Y3RzLnB1c2gocmVzb3VyY2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUHJvZHVjdCxWQVJJRURBREVTLEFWR19SRVZJRVcsQ09VTlRfUkVWSUVXLERJU0NPVU5UX0VYSVRTKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgcHJvZHVjdHM6IFByb2R1Y3RzLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT2N1cnJpbyB1biBlcnJvclwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgcHJvZmlsZV9jbGllbnQ6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgdXNlcl9pZCA9IHJlcS5ib2R5LnVzZXJfaWQ7XHJcblxyXG4gICAgICAgICAgICBsZXQgT3JkZXJzID0gYXdhaXQgbW9kZWxzLlNhbGUuZmluZCh7dXNlcjogdXNlcl9pZH0pO1xyXG5cclxuICAgICAgICAgICAgbGV0IHNhbGVfb3JkZXJzID0gW107XHJcblxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IG9yZGVyIG9mIE9yZGVycykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGRldGFpbF9vcmRlcnMgPSBhd2FpdCBtb2RlbHMuU2FsZURldGFpbC5maW5kKHtzYWxlOiBvcmRlci5faWR9KS5wb3B1bGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogXCJwcm9kdWN0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgcG9wdWxhdGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogXCJjYXRlZ29yaWVcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9KS5wb3B1bGF0ZShcInZhcmllZGFkXCIpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNhbGVfYWRkcmVzcyA9IGF3YWl0IG1vZGVscy5TYWxlQWRkcmVzcy5maW5kKHtzYWxlOiBvcmRlci5faWR9KTtcclxuICAgICAgICAgICAgICAgIGxldCBjb2xsZWN0aW9uX2RldGFpbF9vcmRlcnMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZGV0YWlsX29yZGVyIG9mIGRldGFpbF9vcmRlcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcmV2aWV3UyA9IGF3YWl0IG1vZGVscy5SZXZpZXcuZmluZE9uZSh7c2FsZV9kZXRhaWw6IGRldGFpbF9vcmRlci5faWR9KTtcclxuICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uX2RldGFpbF9vcmRlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZDogZGV0YWlsX29yZGVyLl9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2lkOiBkZXRhaWxfb3JkZXIucHJvZHVjdC5faWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogZGV0YWlsX29yZGVyLnByb2R1Y3QudGl0bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBza3U6IGRldGFpbF9vcmRlci5wcm9kdWN0LnNrdSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsdWc6IGRldGFpbF9vcmRlci5wcm9kdWN0LnNsdWcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZW46IHByb2Nlc3MuZW52LlVSTF9CQUNLRU5EKycvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC8nK2RldGFpbF9vcmRlci5wcm9kdWN0LnBvcnRhZGEsLy8qXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWU6IGRldGFpbF9vcmRlci5wcm9kdWN0LmNhdGVnb3JpZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlX3Blc29zOiBkZXRhaWxfb3JkZXIucHJvZHVjdC5wcmljZV9wZXNvcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlX3VzZDogZGV0YWlsX29yZGVyLnByb2R1Y3QucHJpY2VfdXNkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlX2Rpc2NvdW50OiBkZXRhaWxfb3JkZXIudHlwZV9kaXNjb3VudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzY291bnQ6IGRldGFpbF9vcmRlci5kaXNjb3VudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FudGlkYWQ6IGRldGFpbF9vcmRlci5jYW50aWRhZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWVkYWQ6IGRldGFpbF9vcmRlci52YXJpZWRhZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZV9jdXBvbjogZGV0YWlsX29yZGVyLmNvZGVfY3Vwb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVfZGlzY291bnQ6IGRldGFpbF9vcmRlci5jb2RlX2Rpc2NvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmljZV91bml0YXJpbzogZGV0YWlsX29yZGVyLnByaWNlX3VuaXRhcmlvLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0b3RhbDogZGV0YWlsX29yZGVyLnN1YnRvdGFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbDogZGV0YWlsX29yZGVyLnRvdGFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXZpZXc6IHJldmlld1MsXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNhbGVfb3JkZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIHNhbGU6IG9yZGVyLFxyXG4gICAgICAgICAgICAgICAgICAgIHNhbGVfZGV0YWlsczogY29sbGVjdGlvbl9kZXRhaWxfb3JkZXJzLFxyXG4gICAgICAgICAgICAgICAgICAgIHNhbGVfYWRkcmVzczogc2FsZV9hZGRyZXNzLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IEFERFJFU1NfQ0xJRU5UID0gYXdhaXQgbW9kZWxzLkFkZHJlc3NDbGllbnQuZmluZCh7dXNlcjogdXNlcl9pZH0pLnNvcnQoeydjcmVhdGVkQXQnOiAtMX0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBzYWxlX29yZGVyczogc2FsZV9vcmRlcnMsXHJcbiAgICAgICAgICAgICAgICBhZGRyZXNzX2NsaWVudDogQUREUkVTU19DTElFTlQsXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPY3VycmlvIHVuIGVycm9yXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB1cGRhdGVfY2xpZW50OiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYocmVxLmZpbGVzKXtcclxuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5hdmF0YXIucGF0aDtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJ1xcXFwnKTtcclxuICAgICAgICAgICAgICAgIHZhciBhdmF0YXJfbmFtZSA9IG5hbWVbMl07XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhdmF0YXJfbmFtZSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihyZXEuYm9keS5wYXNzd29yZCl7XHJcbiAgICAgICAgICAgICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLDEwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuVXNlci5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiByZXEuYm9keS5faWR9LHJlcS5ib2R5KTtcclxuICAgICAgICAgICAgbGV0IFVzZXIgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kT25lKHtfaWQ6IHJlcS5ib2R5Ll9pZH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlNFIEdVQVJETyBTVSBJTkZPUk1BQ0nDk04gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICAgICAgdXNlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFVzZXIubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBzdXJuYW1lOiBVc2VyLnN1cm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6VXNlci5lbWFpbCxcclxuICAgICAgICAgICAgICAgICAgICBfaWQ6VXNlci5faWQsXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPY3VycmlvIHVuIGVycm9yXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBjb25maWdfaW5pdGlhbDphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGNhdGVnb3JpZXMgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmZpbmQoe3N0YXRlOiAxfSk7XHJcbiAgICAgICAgICAgIGxldCB2YXJpZWRhZGVzID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoe30pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzOiBjYXRlZ29yaWVzLFxyXG4gICAgICAgICAgICAgICAgdmFyaWVkYWRlczogdmFyaWVkYWRlcyxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9jdXJyaW8gdW4gZXJyb3JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGZpbHRlcl9wcm9kdWN0czphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIFRJTUVfTk9XICA9IHJlcS5xdWVyeS5USU1FX05PVztcclxuICAgICAgICAgICAgbGV0IHNlYXJjaF9wcm9kdWN0ID0gcmVxLmJvZHkuc2VhcmNoX3Byb2R1Y3Q7XHJcblxyXG4gICAgICAgICAgICBsZXQgY2F0ZWdvcmllc19zZWxlY3RlZHMgPSByZXEuYm9keS5jYXRlZ29yaWVzX3NlbGVjdGVkcztcclxuICAgICAgICAgICAgbGV0IGlzX2Rpc2NvdW50ID0gcmVxLmJvZHkuaXNfZGlzY291bnQ7XHJcbiAgICAgICAgICAgIGxldCB2YXJpZWRhZF9zZWxlY3RlZCA9IHJlcS5ib2R5LnZhcmllZGFkX3NlbGVjdGVkO1xyXG4gICAgICAgICAgICBsZXQgcHJpY2VfbWluID0gcmVxLmJvZHkucHJpY2VfbWluO1xyXG4gICAgICAgICAgICBsZXQgcHJpY2VfbWF4ID0gcmVxLmJvZHkucHJpY2VfbWF4O1xyXG5cclxuICAgICAgICAgICAgbGV0IGZpbHRlciA9IFtcclxuICAgICAgICAgICAgICAgIHtzdGF0ZTogMn0sXHJcbiAgICAgICAgICAgIF07XHJcblxyXG4gICAgICAgICAgICB2YXIgY2F0ZWdvcmllc19zID0gW107XHJcbiAgICAgICAgICAgIHZhciBwcm9kdWN0c19zID0gW107XHJcbiAgICAgICAgICAgIC8vIHtzdGF0ZTogMix0aXRsZTogbmV3IFJlZ0V4cChzZWFyY2hfcHJvZHVjdCwnaScpfVxyXG4gICAgICAgICAgICBpZihjYXRlZ29yaWVzX3NlbGVjdGVkcy5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNfc2VsZWN0ZWRzLmZvckVhY2goKGNhdGVnb3JpZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNfcy5wdXNoKGNhdGVnb3JpZSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLy8gZmlsdGVyLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGNhdGVnb3JpZTogeyRpbjogY2F0ZWdvcmllc19zZWxlY3RlZHN9LFxyXG4gICAgICAgICAgICAgICAgLy8gfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgQ2FtcGFpbmdEaXNjb3VudCA9IGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kT25lKHtcclxuICAgICAgICAgICAgICAgIHR5cGVfY2FtcGFpZ246IDEsXHJcbiAgICAgICAgICAgICAgICBzdGFydF9kYXRlX251bTogeyRsdGU6IFRJTUVfTk9XfSwvLyBzdGFydF9kYXRlX251bSA+PSBUSU1FX05PV1xyXG4gICAgICAgICAgICAgICAgZW5kX2RhdGVfbnVtOiB7JGd0ZTogVElNRV9OT1d9LC8vID49XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYoaXNfZGlzY291bnQgPT0gMil7XHJcbiAgICAgICAgICAgICAgICBpZihDYW1wYWluZ0Rpc2NvdW50LnR5cGVfc2VnbWVudCA9PSAxKXtcclxuICAgICAgICAgICAgICAgICAgICBDYW1wYWluZ0Rpc2NvdW50LnByb2R1Y3RzLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzX3MucHVzaChpdGVtLl9pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIENhbXBhaW5nRGlzY291bnQuY2F0ZWdvcmllcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzX3MucHVzaChpdGVtLl9pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZih2YXJpZWRhZF9zZWxlY3RlZCl7XHJcbiAgICAgICAgICAgICAgICBsZXQgVkFSID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkKHtfaWQ6IHZhcmllZGFkX3NlbGVjdGVkLl9pZH0pO1xyXG4gICAgICAgICAgICAgICAgaWYoVkFSKXtcclxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c19zLnB1c2goVkFSLnByb2R1Y3QpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKGNhdGVnb3JpZXNfcy5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgICAgIGZpbHRlci5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWU6IHskaW46IGNhdGVnb3JpZXNfc30sXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihwcm9kdWN0c19zLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIF9pZDogeyRpbjogcHJvZHVjdHNfc31cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHByaWNlX21pbiA+IDAgJiYgcHJpY2VfbWF4ID4gMCl7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXIucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJpY2VfdXNkOiB7JGd0ZTogcHJpY2VfbWluLCAkbHRlOiBwcmljZV9tYXh9LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IE91cnNQcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoeyRhbmQ6IGZpbHRlcn0pLnNvcnQoe1wiY3JlYXRlZEF0XCI6IDF9KTtcclxuXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB2YXIgUHJvZHVjdHMgPSBbXTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBQcm9kdWN0IG9mIE91cnNQcm9kdWN0cykge1xyXG4gICAgICAgICAgICAgICAgbGV0IFZBUklFREFERVMgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZCh7cHJvZHVjdDogUHJvZHVjdC5faWR9KTtcclxuICAgICAgICAgICAgICAgIGxldCBSRVZJRVdTID0gYXdhaXQgbW9kZWxzLlJldmlldy5maW5kKHtwcm9kdWN0OiBQcm9kdWN0Ll9pZH0pO1xyXG4gICAgICAgICAgICAgICAgbGV0IEFWR19SRVZJRVcgPSBSRVZJRVdTLmxlbmd0aCA+IDAgPyBNYXRoLmNlaWwoUkVWSUVXUy5yZWR1Y2UoKHN1bSxpdGVtKSA9PiBzdW0gKyBpdGVtLmNhbnRpZGFkLDApL1JFVklFV1MubGVuZ3RoKSA6IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgQ09VTlRfUkVWSUVXID0gUkVWSUVXUy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBsZXQgRElTQ09VTlRfRVhJVFMgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgaWYoQ2FtcGFpbmdEaXNjb3VudCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoQ2FtcGFpbmdEaXNjb3VudC50eXBlX3NlZ21lbnQgPT0gMSl7Ly9wb3IgcHJvZHVjdG9cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RzX2EgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQ2FtcGFpbmdEaXNjb3VudC5wcm9kdWN0cy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHNfYS5wdXNoKGl0ZW0uX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYocHJvZHVjdHNfYS5pbmNsdWRlcyhQcm9kdWN0Ll9pZCtcIlwiKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBESVNDT1VOVF9FWElUUyA9IENhbXBhaW5nRGlzY291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXsvL3BvciBjYXRlZ29yaWFcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNhdGVnb3JpZXNfYSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDYW1wYWluZ0Rpc2NvdW50LmNhdGVnb3JpZXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNfYS5wdXNoKGl0ZW0uX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2F0ZWdvcmllc19hLmluY2x1ZGVzKFByb2R1Y3QuY2F0ZWdvcmllK1wiXCIpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERJU0NPVU5UX0VYSVRTID0gQ2FtcGFpbmdEaXNjb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFByb2R1Y3RzLnB1c2gocmVzb3VyY2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUHJvZHVjdCxWQVJJRURBREVTLEFWR19SRVZJRVcsQ09VTlRfUkVWSUVXLERJU0NPVU5UX0VYSVRTKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgcHJvZHVjdHM6IFByb2R1Y3RzLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT2N1cnJpbyB1biBlcnJvclwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAg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QUFNO1FBQ2pDLElBQUlRLGNBQWMsR0FBRyxJQUFJO1FBQ3pCLElBQUczQixnQkFBZ0IsRUFBQztVQUNoQixJQUFHQSxnQkFBZ0IsQ0FBQzRCLFlBQVksSUFBSSxDQUFDLEVBQUM7WUFBQztZQUNuQyxJQUFJQyxVQUFVLEdBQUcsRUFBRTtZQUNuQjdCLGdCQUFnQixDQUFDOEIsUUFBUSxDQUFDQyxPQUFPLENBQUNQLElBQUksSUFBSTtjQUN0Q0ssVUFBVSxDQUFDRyxJQUFJLENBQUNSLElBQUksQ0FBQ1QsR0FBRyxDQUFDO1lBQzdCLENBQUMsQ0FBQztZQUNGLElBQUdjLFVBQVUsQ0FBQ0ksUUFBUSxDQUFDeEIsT0FBTyxDQUFDTSxHQUFHLEdBQUMsRUFBRSxDQUFDLEVBQUM7Y0FDbkNZLGNBQWMsR0FBRzNCLGdCQUFnQjtZQUNyQztVQUNKLENBQUMsTUFBSTtZQUFDO1lBQ0YsSUFBSWtDLFlBQVksR0FBRyxFQUFFO1lBQ3JCbEMsZ0JBQWdCLENBQUNtQyxVQUFVLENBQUNKLE9BQU8sQ0FBQ1AsSUFBSSxJQUFJO2NBQ3hDVSxZQUFZLENBQUNGLElBQUksQ0FBQ1IsSUFBSSxDQUFDVCxHQUFHLENBQUM7WUFDL0IsQ0FBQyxDQUFDO1lBQ0YsSUFBR21CLFlBQVksQ0FBQ0QsUUFBUSxDQUFDeEIsT0FBTyxDQUFDWCxTQUFTLEdBQUMsRUFBRSxDQUFDLEVBQUM7Y0FDM0M2QixjQUFjLEdBQUczQixnQkFBZ0I7WUFDckM7VUFDSjtRQUNKO1FBQ0FvRSxRQUFRLENBQUNwQyxJQUFJLENBQUN0QyxrQkFBUSxDQUFDZSxPQUFPLENBQUMyQixZQUFZLENBQUMzQixPQUFPLEVBQUNHLFVBQVUsRUFBQ00sVUFBVSxFQUFDUSxZQUFZLEVBQUNDLGNBQWMsQ0FBQyxDQUFDO01BQzNHO01BQ0EzQyxHQUFHLENBQUMyRCxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQmQsUUFBUSxFQUFFc0M7TUFDZCxDQUFDLENBQUM7SUFDTixDQUFDLENBQUMsT0FBT25CLEtBQUssRUFBRTtNQUNaRyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0osS0FBSyxDQUFDO01BQ2xCakUsR0FBRyxDQUFDMkQsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDTyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztJQUNOO0VBQ0o7QUFDSixDQUFDO0FBQUFvRixPQUFBLENBQUEzSixPQUFBLEdBQUFDLFFBQUEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","_bcryptjs","obj","__esModule","default","_default","list","req","res","TIME_NOW","query","Sliders","models","Slider","find","state","map","slider","resource","slider_list","Categories","Categorie","categorie","categorie_list","CampaingDiscount","Discount","findOne","type_campaign","start_date_num","$lte","end_date_num","$gte","BestProducts","Product","sort","ObjectBestProducts","VARIEDADES","Variedad","product","_id","REVIEWS","Review","AVG_REVIEW","length","Math","ceil","reduce","sum","item","cantidad","COUNT_REVIEW","DISCOUNT_EXITS","type_segment","products_a","products","forEach","push","includes","categories_a","categories","product_list","OursProducts","ObjectOursProducts","FlashSale","ProductList","ObjecT","findById","status","json","sliders","best_products","our_products","campaign_products","error","send","message","console","log","show_landing_product","SLUG","params","slug","DISCOUNT_ID","populate","RelatedProducts","ObjectRelatedProducts","SALE_FLASH","related_products","search_product","body","title","RegExp","Products","profile_client","user_id","Orders","Sale","user","sale_orders","order","detail_orders","SaleDetail","sale","path","sale_address","SaleAddress","collection_detail_orders","detail_order","reviewS","sale_detail","sku","imagen","process","env","URL_BACKEND","portada","price_pesos","price_usd","type_discount","discount","variedad","code_cupon","code_discount","price_unitario","subtotal","total","review","sale_details","ADDRESS_CLIENT","AddressClient","address_client","update_client","files","img_path","avatar","name","split","avatar_name","password","bcrypt","hash","User","findByIdAndUpdate","surname","email","config_initial","variedades","filter_products","categories_selecteds","is_discount","variedad_selected","price_min","price_max","filter","categories_s","products_s","VAR","$in","$and","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["HomeController.js"],"sourcesContent":["import models from '../models'\r\nimport resource from '../resources'\r\nimport bcrypt from 'bcryptjs'\r\n\r\nexport default {\r\n    list:async(req,res) => {\r\n        try {\r\n\r\n            var TIME_NOW  = req.query.TIME_NOW;\r\n\r\n            let Sliders = await models.Slider.find({state:1});\r\n\r\n            Sliders = Sliders.map((slider) => {\r\n                return resource.Slider.slider_list(slider);\r\n            })\r\n\r\n            let Categories = await models.Categorie.find({state:1});\r\n\r\n            Categories = Categories.map((categorie) => {\r\n                return resource.Categorie.categorie_list(categorie);\r\n            })\r\n            \r\n            let CampaingDiscount = await models.Discount.findOne({\r\n                type_campaign: 1,\r\n                start_date_num: {$lte: TIME_NOW},// start_date_num >= TIME_NOW\r\n                end_date_num: {$gte: TIME_NOW},// >=\r\n            });\r\n            // console.log(CampaingDiscount);\r\n            let BestProducts = await models.Product.find({state: 2}).sort({\"createdAt\": -1});\r\n\r\n            var ObjectBestProducts = [];\r\n            for (const Product of BestProducts) {\r\n                let VARIEDADES = await models.Variedad.find({product: Product._id});\r\n                let REVIEWS = await models.Review.find({product: Product._id});\r\n                let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length) : 0;\r\n                let COUNT_REVIEW = REVIEWS.length;\r\n                let DISCOUNT_EXITS = null;\r\n                if(CampaingDiscount){\r\n                    if(CampaingDiscount.type_segment == 1){//por producto\r\n                        let products_a = [];\r\n                        CampaingDiscount.products.forEach(item => {\r\n                            products_a.push(item._id);\r\n                        })\r\n                        if(products_a.includes(Product._id+\"\")){\r\n                            DISCOUNT_EXITS = CampaingDiscount;\r\n                        }\r\n                    }else{//por categoria\r\n                        let categories_a = [];\r\n                        CampaingDiscount.categories.forEach(item => {\r\n                            categories_a.push(item._id);\r\n                        })\r\n                        if(categories_a.includes(Product.categorie+\"\")){\r\n                            DISCOUNT_EXITS = CampaingDiscount;\r\n                        }\r\n                    }\r\n                }\r\n                ObjectBestProducts.push(resource.Product.product_list(Product,VARIEDADES,AVG_REVIEW,COUNT_REVIEW,DISCOUNT_EXITS));\r\n            }\r\n\r\n            let OursProducts = await models.Product.find({state: 2}).sort({\"createdAt\": 1});\r\n\r\n            var ObjectOursProducts = [];\r\n            for (const Product of OursProducts) {\r\n                let VARIEDADES = await models.Variedad.find({product: Product._id});\r\n                let REVIEWS = await models.Review.find({product: Product._id});\r\n                let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length) : 0;\r\n                let COUNT_REVIEW = REVIEWS.length;\r\n                let DISCOUNT_EXITS = null;\r\n                if(CampaingDiscount){\r\n                    if(CampaingDiscount.type_segment == 1){//por producto\r\n                        let products_a = [];\r\n                        CampaingDiscount.products.forEach(item => {\r\n                            products_a.push(item._id);\r\n                        })\r\n                        if(products_a.includes(Product._id+\"\")){\r\n                            DISCOUNT_EXITS = CampaingDiscount;\r\n                        }\r\n                    }else{//por categoria\r\n                        let categories_a = [];\r\n                        CampaingDiscount.categories.forEach(item => {\r\n                            categories_a.push(item._id);\r\n                        })\r\n                        if(categories_a.includes(Product.categorie+\"\")){\r\n                            DISCOUNT_EXITS = CampaingDiscount;\r\n                        }\r\n                    }\r\n                }\r\n                ObjectOursProducts.push(resource.Product.product_list(Product,VARIEDADES,AVG_REVIEW,COUNT_REVIEW,DISCOUNT_EXITS));\r\n            }\r\n            // OursProducts = OursProducts.map(async (product) => {\r\n            //     let VARIEDADES = await models.Variedad.find({product: product._id});\r\n            //     return resource.Product.product_list(product,VARIEDADES);\r\n            // })\r\n\r\n            let FlashSale = await models.Discount.findOne({\r\n                type_campaign: 2,\r\n                start_date_num: {$lte: TIME_NOW},// start_date_num >= TIME_NOW\r\n                end_date_num: {$gte: TIME_NOW},// >=\r\n            });\r\n\r\n            let ProductList = [];\r\n            if(FlashSale){\r\n                for (const product of FlashSale.products) {\r\n                    var ObjecT = await models.Product.findById({_id: product._id});\r\n                    let VARIEDADES = await models.Variedad.find({product: product._id});\r\n                    ProductList.push(resource.Product.product_list(ObjecT,VARIEDADES));\r\n                }\r\n            }\r\n            // console.log(FlashSale);\r\n            res.status(200).json({\r\n                sliders: Sliders,\r\n                categories: Categories,\r\n                best_products: ObjectBestProducts,\r\n                our_products: ObjectOursProducts,\r\n                FlashSale: FlashSale,\r\n                campaign_products: ProductList,\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO ERROR\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    show_landing_product:async(req,res) => {\r\n        try {\r\n            let SLUG = req.params.slug;\r\n            let DISCOUNT_ID = req.query._id;\r\n            console.log(DISCOUNT_ID);\r\n            let Product = await models.Product.findOne({slug: SLUG,state: 2});\r\n            \r\n            let VARIEDADES = await models.Variedad.find({product: Product._id});\r\n\r\n            let REVIEWS = await models.Review.find({product: Product._id}).populate(\"user\");\r\n            let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length) : 0;\r\n            let COUNT_REVIEW = REVIEWS.length;\r\n\r\n            let RelatedProducts = await models.Product.find({categorie: Product.categorie,state: 2});\r\n            var ObjectRelatedProducts = [];\r\n            for (const Product of RelatedProducts) {\r\n                let VARIEDADES = await models.Variedad.find({product: Product._id});\r\n                ObjectRelatedProducts.push(resource.Product.product_list(Product,VARIEDADES));\r\n            }\r\n            let SALE_FLASH = null;\r\n            if(DISCOUNT_ID){\r\n                SALE_FLASH = await models.Discount.findById({_id: DISCOUNT_ID});\r\n            }\r\n            res.status(200).json({\r\n                product: resource.Product.product_list(Product,VARIEDADES),\r\n                related_products: ObjectRelatedProducts,\r\n                SALE_FLASH: SALE_FLASH,\r\n                REVIEWS: REVIEWS,\r\n                AVG_REVIEW: AVG_REVIEW,\r\n                COUNT_REVIEW: COUNT_REVIEW,\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO ERROR\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    search_product:async(req,res) => {\r\n        try {\r\n            var TIME_NOW  = req.query.TIME_NOW;\r\n            let search_product = req.body.search_product;\r\n            let OursProducts = await models.Product.find({state: 2,title: new RegExp(search_product,'i')}).sort({\"createdAt\": 1});\r\n\r\n            let CampaingDiscount = await models.Discount.findOne({\r\n                type_campaign: 1,\r\n                start_date_num: {$lte: TIME_NOW},// start_date_num >= TIME_NOW\r\n                end_date_num: {$gte: TIME_NOW},// >=\r\n            });\r\n\r\n            var Products = [];\r\n            for (const Product of OursProducts) {\r\n                let VARIEDADES = await models.Variedad.find({product: Product._id});\r\n                let REVIEWS = await models.Review.find({product: Product._id});\r\n                let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length) : 0;\r\n                let COUNT_REVIEW = REVIEWS.length;\r\n                let DISCOUNT_EXITS = null;\r\n                if(CampaingDiscount){\r\n                    if(CampaingDiscount.type_segment == 1){//por producto\r\n                        let products_a = [];\r\n                        CampaingDiscount.products.forEach(item => {\r\n                            products_a.push(item._id);\r\n                        })\r\n                        if(products_a.includes(Product._id+\"\")){\r\n                            DISCOUNT_EXITS = CampaingDiscount;\r\n                        }\r\n                    }else{//por categoria\r\n                        let categories_a = [];\r\n                        CampaingDiscount.categories.forEach(item => {\r\n                            categories_a.push(item._id);\r\n                        })\r\n                        if(categories_a.includes(Product.categorie+\"\")){\r\n                            DISCOUNT_EXITS = CampaingDiscount;\r\n                        }\r\n                    }\r\n                }\r\n                Products.push(resource.Product.product_list(Product,VARIEDADES,AVG_REVIEW,COUNT_REVIEW,DISCOUNT_EXITS));\r\n            }\r\n            res.status(200).json({\r\n                products: Products,\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"Ocurrio un error\",\r\n            });\r\n        }\r\n    },\r\n    profile_client:async(req,res) => {\r\n        try {\r\n            \r\n            let user_id = req.body.user_id;\r\n\r\n            let Orders = await models.Sale.find({user: user_id});\r\n\r\n            let sale_orders = [];\r\n\r\n            for (const order of Orders) {\r\n                let detail_orders = await models.SaleDetail.find({sale: order._id}).populate({\r\n                    path: \"product\",\r\n                    populate: {\r\n                        path: \"categorie\"\r\n                    },\r\n                }).populate(\"variedad\");\r\n                let sale_address = await models.SaleAddress.find({sale: order._id});\r\n                let collection_detail_orders = [];\r\n                for (const detail_order of detail_orders) {\r\n                    let reviewS = await models.Review.findOne({sale_detail: detail_order._id});\r\n                    collection_detail_orders.push({\r\n                        _id: detail_order._id,\r\n                        product: {\r\n                            _id: detail_order.product._id,\r\n                            title: detail_order.product.title,\r\n                            sku: detail_order.product.sku,\r\n                            slug: detail_order.product.slug,\r\n                            imagen: process.env.URL_BACKEND+'/api/products/uploads/product/'+detail_order.product.portada,//*\r\n                            categorie: detail_order.product.categorie,\r\n                            price_pesos: detail_order.product.price_pesos,\r\n                            price_usd: detail_order.product.price_usd,\r\n                        },\r\n                        type_discount: detail_order.type_discount,\r\n                        discount: detail_order.discount,\r\n                        cantidad: detail_order.cantidad,\r\n                        variedad: detail_order.variedad,\r\n                        code_cupon: detail_order.code_cupon,\r\n                        code_discount: detail_order.code_discount,\r\n                        price_unitario: detail_order.price_unitario,\r\n                        subtotal: detail_order.subtotal,\r\n                        total: detail_order.total,\r\n                        review: reviewS,\r\n                    })\r\n                }\r\n                sale_orders.push({\r\n                    sale: order,\r\n                    sale_details: collection_detail_orders,\r\n                    sale_address: sale_address,\r\n                });\r\n            }\r\n            let ADDRESS_CLIENT = await models.AddressClient.find({user: user_id}).sort({'createdAt': -1});\r\n            res.status(200).json({\r\n                sale_orders: sale_orders,\r\n                address_client: ADDRESS_CLIENT,\r\n            })\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"Ocurrio un error\",\r\n            });\r\n        }\r\n    },\r\n    update_client: async(req,res) => {\r\n        try {\r\n            if(req.files){\r\n                var img_path = req.files.avatar.path;\r\n                var name = img_path.split('\\\\');\r\n                var avatar_name = name[2];\r\n                console.log(avatar_name)\r\n            }\r\n            if(req.body.password){\r\n                req.body.password = await bcrypt.hash(req.body.password,10);\r\n            }\r\n            await models.User.findByIdAndUpdate({_id: req.body._id},req.body);\r\n            let User = await models.User.findOne({_id: req.body._id});\r\n            res.status(200).json({\r\n                message: \"SE GUARDO SU INFORMACIÓN CORRECTAMENTE\",\r\n                user: {\r\n                    name: User.name,\r\n                    surname: User.surname,\r\n                    email:User.email,\r\n                    _id:User._id,\r\n                }\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"Ocurrio un error\",\r\n            });\r\n        }\r\n    },\r\n    config_initial:async(req,res) => {\r\n        try {\r\n            let categories = await models.Categorie.find({state: 1});\r\n            let variedades = await models.Variedad.find({});\r\n            res.status(200).json({\r\n                categories: categories,\r\n                variedades: variedades,\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"Ocurrio un error\",\r\n            });\r\n        }\r\n    },\r\n    filter_products:async(req,res) => {\r\n        try {\r\n            var TIME_NOW  = req.query.TIME_NOW;\r\n            let search_product = req.body.search_product;\r\n\r\n            let categories_selecteds = req.body.categories_selecteds;\r\n            let is_discount = req.body.is_discount;\r\n            let variedad_selected = req.body.variedad_selected;\r\n            let price_min = req.body.price_min;\r\n            let price_max = req.body.price_max;\r\n\r\n            let filter = [\r\n                {state: 2},\r\n            ];\r\n\r\n            var categories_s = [];\r\n            var products_s = [];\r\n            // {state: 2,title: new RegExp(search_product,'i')}\r\n            if(categories_selecteds.length > 0){\r\n                categories_selecteds.forEach((categorie) => {\r\n                    categories_s.push(categorie);\r\n                })\r\n                // filter.push({\r\n                //     categorie: {$in: categories_selecteds},\r\n                // })\r\n            }\r\n            let CampaingDiscount = await models.Discount.findOne({\r\n                type_campaign: 1,\r\n                start_date_num: {$lte: TIME_NOW},// start_date_num >= TIME_NOW\r\n                end_date_num: {$gte: TIME_NOW},// >=\r\n            });\r\n            \r\n            if(is_discount == 2){\r\n                if(CampaingDiscount.type_segment == 1){\r\n                    CampaingDiscount.products.forEach(item => {\r\n                        products_s.push(item._id);\r\n                    })\r\n                }else{\r\n                    CampaingDiscount.categories.forEach(item => {\r\n                        categories_s.push(item._id);\r\n                    })\r\n                }\r\n            }\r\n            if(variedad_selected){\r\n                let VAR = await models.Variedad.findById({_id: variedad_selected._id});\r\n                if(VAR){\r\n                    products_s.push(VAR.product);\r\n                }\r\n            }\r\n            if(categories_s.length > 0){\r\n                filter.push({\r\n                    categorie: {$in: categories_s},\r\n                });\r\n            }\r\n            if(products_s.length > 0){\r\n                filter.push({\r\n                    _id: {$in: products_s}\r\n                });\r\n            }\r\n            if(price_min > 0 && price_max > 0){\r\n                filter.push({\r\n                    price_usd: {$gte: price_min, $lte: price_max},\r\n                });\r\n            }\r\n            let OursProducts = await models.Product.find({$and: filter}).sort({\"createdAt\": 1});\r\n\r\n            \r\n            var Products = [];\r\n            for (const Product of OursProducts) {\r\n                let VARIEDADES = await models.Variedad.find({product: Product._id});\r\n                let REVIEWS = await models.Review.find({product: Product._id});\r\n                let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length) : 0;\r\n                let COUNT_REVIEW = REVIEWS.length;\r\n                let DISCOUNT_EXITS = null;\r\n                if(CampaingDiscount){\r\n                    if(CampaingDiscount.type_segment == 1){//por producto\r\n                        let products_a = [];\r\n                        CampaingDiscount.products.forEach(item => {\r\n                            products_a.push(item._id);\r\n                        })\r\n                        if(products_a.includes(Product._id+\"\")){\r\n                            DISCOUNT_EXITS = CampaingDiscount;\r\n                        }\r\n                    }else{//por categoria\r\n                        let categories_a = [];\r\n                        CampaingDiscount.categories.forEach(item => {\r\n                            categories_a.push(item._id);\r\n                        })\r\n                        if(categories_a.includes(Product.categorie+\"\")){\r\n                            DISCOUNT_EXITS = CampaingDiscount;\r\n                        }\r\n                    }\r\n                }\r\n                Products.push(resource.Product.product_list(Product,VARIEDADES,AVG_REVIEW,COUNT_REVIEW,DISCOUNT_EXITS));\r\n            }\r\n            res.status(200).json({\r\n                products: Products,\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"Ocurrio un error\",\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1725972130412},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\Cart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CartController = _interopRequireDefault(require(\"../controllers/CartController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.get(\"/list\", _auth.default.verifyEcommerce, _CartController.default.list);\nrouter.post(\"/register\", _auth.default.verifyEcommerce, _CartController.default.register);\nrouter.put(\"/update\", _auth.default.verifyEcommerce, _CartController.default.update);\nrouter.delete(\"/delete/:id\", _auth.default.verifyEcommerce, _CartController.default.delete);\nrouter.post(\"/aplicar_cupon\", _auth.default.verifyEcommerce, _CartController.default.applyCupon);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DYXJ0Q29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwiZ2V0IiwiYXV0aCIsInZlcmlmeUVjb21tZXJjZSIsImNhcnRDb250cm9sbGVyIiwibGlzdCIsInBvc3QiLCJyZWdpc3RlciIsInB1dCIsInVwZGF0ZSIsImRlbGV0ZSIsImFwcGx5Q3Vwb24iLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJDYXJ0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gJ2V4cHJlc3MtcHJvbWlzZS1yb3V0ZXInXHJcbmltcG9ydCBjYXJ0Q29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9DYXJ0Q29udHJvbGxlcidcclxuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCdcclxuXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuXHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLGNhcnRDb250cm9sbGVyLmxpc3QpO1xyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLGNhcnRDb250cm9sbGVyLnJlZ2lzdGVyKTtcclxucm91dGVyLnB1dChcIi91cGRhdGVcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxjYXJ0Q29udHJvbGxlci51cGRhdGUpO1xyXG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZS86aWRcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxjYXJ0Q29udHJvbGxlci5kZWxldGUpO1xyXG5yb3V0ZXIucG9zdChcIi9hcGxpY2FyX2N1cG9uXCIsYXV0aC52ZXJpZnlFY29tbWVyY2UsY2FydENvbnRyb2xsZXIuYXBwbHlDdXBvbik7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsZUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXRDLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFFeEJELE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLE9BQU8sRUFBQ0MsYUFBSSxDQUFDQyxlQUFlLEVBQUNDLHVCQUFjLENBQUNDLElBQUksQ0FBQztBQUM1RE4sTUFBTSxDQUFDTyxJQUFJLENBQUMsV0FBVyxFQUFDSixhQUFJLENBQUNDLGVBQWUsRUFBQ0MsdUJBQWMsQ0FBQ0csUUFBUSxDQUFDO0FBQ3JFUixNQUFNLENBQUNTLEdBQUcsQ0FBQyxTQUFTLEVBQUNOLGFBQUksQ0FBQ0MsZUFBZSxFQUFDQyx1QkFBYyxDQUFDSyxNQUFNLENBQUM7QUFDaEVWLE1BQU0sQ0FBQ1csTUFBTSxDQUFDLGFBQWEsRUFBQ1IsYUFBSSxDQUFDQyxlQUFlLEVBQUNDLHVCQUFjLENBQUNNLE1BQU0sQ0FBQztBQUN2RVgsTUFBTSxDQUFDTyxJQUFJLENBQUMsZ0JBQWdCLEVBQUNKLGFBQUksQ0FBQ0MsZUFBZSxFQUFDQyx1QkFBYyxDQUFDTyxVQUFVLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBRTlEYixNQUFNO0FBQUFjLE9BQUEsQ0FBQWYsT0FBQSxHQUFBYyxRQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CartController","_auth","obj","__esModule","default","router","routerx","get","auth","verifyEcommerce","cartController","list","post","register","put","update","delete","applyCupon","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["Cart.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport cartController from '../controllers/CartController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n\r\nrouter.get(\"/list\",auth.verifyEcommerce,cartController.list);\r\nrouter.post(\"/register\",auth.verifyEcommerce,cartController.register);\r\nrouter.put(\"/update\",auth.verifyEcommerce,cartController.update);\r\nrouter.delete(\"/delete/:id\",auth.verifyEcommerce,cartController.delete);\r\nrouter.post(\"/aplicar_cupon\",auth.verifyEcommerce,cartController.applyCupon);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,GAAG,CAAC,OAAO,EAACC,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACC,IAAI,CAAC;AAC5DN,MAAM,CAACO,IAAI,CAAC,WAAW,EAACJ,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACG,QAAQ,CAAC;AACrER,MAAM,CAACS,GAAG,CAAC,SAAS,EAACN,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACK,MAAM,CAAC;AAChEV,MAAM,CAACW,MAAM,CAAC,aAAa,EAACR,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACM,MAAM,CAAC;AACvEX,MAAM,CAACO,IAAI,CAAC,gBAAgB,EAACJ,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACO,UAAU,CAAC;AAAC,IAAAC,QAAA,GAE9Db,MAAM;AAAAc,OAAA,CAAAf,OAAA,GAAAc,QAAA","ignoreList":[]}},"mtime":1679241548364},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\CartController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  list: async (req, res) => {\n    try {\n      let user_id = req.query.user_id;\n      let CARTS = await _models.default.Cart.find({\n        user: user_id\n      }).populate(\"variedad\").populate({\n        path: \"product\",\n        populate: {\n          path: \"categorie\"\n        }\n      });\n      CARTS = CARTS.map(cart => {\n        return _resources.default.Cart.cart_list(cart);\n      });\n      res.status(200).json({\n        carts: CARTS\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      //PRIMERO VAMOS A VALIDAR SI EL PRODUCTO EXISTE EN EL CARRITO DE COMPRA\n      if (data.variedad) {\n        let valid_cart = await _models.default.Cart.findOne({\n          user: data.user,\n          variedad: data.variedad,\n          product: data.product\n        });\n        if (valid_cart) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL PRODUCTO CON LA VARIEDAD YA EXISTE EN EL CARRITO DE COMPRA\"\n          });\n          return;\n        }\n      } else {\n        let valid_cart = await _models.default.Cart.findOne({\n          user: data.user,\n          product: data.product\n        });\n        if (valid_cart) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL PRODUCTO YA EXISTE EN EL CARRITO DE COMPRA\"\n          });\n          return;\n        }\n      }\n\n      //SEGUNDO VAMOS A VALIDAR SI EL STOCK ESTA DISPONIBLE\n\n      if (data.variedad) {\n        let valid_variedad = await _models.default.Variedad.findOne({\n          id_: data.variedad\n        });\n        if (valid_variedad.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL STOCK NO ESTA DISPONIBLE\"\n          });\n          return;\n        }\n      } else {\n        let valid_product = await _models.default.Product.findOne({\n          _id: data.product\n        });\n        if (valid_product.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL STOCK NO ESTA DISPONIBLE\"\n          });\n          return;\n        }\n      }\n      let CART = await _models.default.Cart.create(data);\n      let NEW_CART = await _models.default.Cart.findById({\n        _id: CART._id\n      }).populate(\"variedad\").populate({\n        path: \"product\",\n        populate: {\n          path: \"categorie\"\n        }\n      });\n      res.status(200).json({\n        cart: _resources.default.Cart.cart_list(NEW_CART),\n        message_text: \"EL CARRITO SE REGISTRO CON EXITO\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n\n      //SEGUNDO VAMOS A VALIDAR SI EL STOCK ESTA DISPONIBLE\n\n      if (data.variedad) {\n        let valid_variedad = await _models.default.Variedad.findOne({\n          id_: data.variedad\n        });\n        if (valid_variedad.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL STOCK NO ESTA DISPONIBLE\"\n          });\n          return;\n        }\n      } else {\n        let valid_product = await _models.default.Product.findOne({\n          _id: data.product\n        });\n        if (valid_product.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL STOCK NO ESTA DISPONIBLE\"\n          });\n          return;\n        }\n      }\n      let CART = await _models.default.Cart.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let NEW_CART = await _models.default.Cart.findById({\n        _id: CART._id\n      }).populate(\"variedad\").populate({\n        path: \"product\",\n        populate: {\n          path: \"categorie\"\n        }\n      });\n      res.status(200).json({\n        cart: _resources.default.Cart.cart_list(NEW_CART),\n        message_text: \"EL CARRITO SE ACTUALIZO CON EXITO\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.params.id;\n      let CART = await _models.default.Cart.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message_text: \"EL CARRITO SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  applyCupon: async (req, res) => {\n    try {\n      let data = req.body;\n      // LA PRIMERA VALIDACIÓN TIENE QUE VER CON LA EXISTENCIA DEL CUPON\n      let CUPON = await _models.default.Cupone.findOne({\n        code: data.code\n      });\n      if (!CUPON) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL CUPON INGRESADO NO EXISTE, DIGITE OTRO NUEVAMENTE\"\n        });\n        return;\n      }\n      // TIENE CON EL USO DEL CUPON -- ESPERA \n\n      //la parte operativa\n\n      let carts = await _models.default.Cart.find({\n        user: data.user_id\n      }).populate(\"product\");\n      console.log(carts);\n      let products = [];\n      let categories = [];\n      CUPON.products.forEach(product => {\n        products.push(product._id);\n      });\n      //[837373.838383]\n      //[{_id: 837373},{_id: 838383}].includes\n      CUPON.categories.forEach(categorie => {\n        categories.push(categorie._id);\n      });\n      console.log(products);\n      console.log(categories);\n      for (const cart of carts) {\n        if (products.length > 0) {\n          if (products.includes(cart.product._id + \"\")) {\n            let subtotal = 0;\n            let total = 0;\n            if (CUPON.type_discount == 1) {\n              //PORCENTAJE\n              subtotal = cart.price_unitario - cart.price_unitario * (CUPON.discount * 0.01);\n            } else {\n              //POR MONEDA\n              subtotal = cart.price_unitario - CUPON.discount;\n            }\n            total = subtotal * cart.cantidad;\n            await _models.default.Cart.findByIdAndUpdate({\n              _id: cart._id\n            }, {\n              subtotal: subtotal,\n              total: total,\n              type_discount: CUPON.type_discount,\n              discount: CUPON.discount,\n              code_cupon: CUPON.code\n            });\n          }\n        }\n        if (categories.length > 0) {\n          if (categories.includes(cart.product.categorie + \"\")) {\n            let subtotal = 0;\n            let total = 0;\n            if (CUPON.type_discount == 1) {\n              //PORCENTAJE\n              subtotal = cart.price_unitario - cart.price_unitario * (CUPON.discount * 0.01);\n            } else {\n              //POR MONEDA\n              subtotal = cart.price_unitario - CUPON.discount;\n            }\n            total = subtotal * cart.cantidad;\n            await _models.default.Cart.findByIdAndUpdate({\n              _id: cart._id\n            }, {\n              subtotal: subtotal,\n              total: total,\n              type_discount: CUPON.type_discount,\n              discount: CUPON.discount,\n              code_cupon: CUPON.code\n            });\n          }\n        }\n      }\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL CUPON SE APLICADO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImxpc3QiLCJyZXEiLCJyZXMiLCJ1c2VyX2lkIiwicXVlcnkiLCJDQVJUUyIsIm1vZGVscyIsIkNhcnQiLCJmaW5kIiwidXNlciIsInBvcHVsYXRlIiwicGF0aCIsIm1hcCIsImNhcnQiLCJyZXNvdXJjZSIsImNhcnRfbGlzdCIsInN0YXR1cyIsImpzb24iLCJjYXJ0cyIsImVycm9yIiwic2VuZCIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwicmVnaXN0ZXIiLCJkYXRhIiwiYm9keSIsInZhcmllZGFkIiwidmFsaWRfY2FydCIsImZpbmRPbmUiLCJwcm9kdWN0IiwibWVzc2FnZV90ZXh0IiwidmFsaWRfdmFyaWVkYWQiLCJWYXJpZWRhZCIsImlkXyIsInN0b2NrIiwiY2FudGlkYWQiLCJ2YWxpZF9wcm9kdWN0IiwiUHJvZHVjdCIsIl9pZCIsIkNBUlQiLCJjcmVhdGUiLCJORVdfQ0FSVCIsImZpbmRCeUlkIiwidXBkYXRlIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJkZWxldGUiLCJwYXJhbXMiLCJpZCIsImZpbmRCeUlkQW5kRGVsZXRlIiwiYXBwbHlDdXBvbiIsIkNVUE9OIiwiQ3Vwb25lIiwiY29kZSIsInByb2R1Y3RzIiwiY2F0ZWdvcmllcyIsImZvckVhY2giLCJwdXNoIiwiY2F0ZWdvcmllIiwibGVuZ3RoIiwiaW5jbHVkZXMiLCJzdWJ0b3RhbCIsInRvdGFsIiwidHlwZV9kaXNjb3VudCIsInByaWNlX3VuaXRhcmlvIiwiZGlzY291bnQiLCJjb2RlX2N1cG9uIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiQ2FydENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnXHJcbmltcG9ydCByZXNvdXJjZSBmcm9tICcuLi9yZXNvdXJjZXMnXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIGxpc3Q6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCB1c2VyX2lkID0gcmVxLnF1ZXJ5LnVzZXJfaWQ7XHJcbiAgICAgICAgICAgIGxldCBDQVJUUyA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmQoe1xyXG4gICAgICAgICAgICAgICAgdXNlcjogdXNlcl9pZCxcclxuICAgICAgICAgICAgfSkucG9wdWxhdGUoXCJ2YXJpZWRhZFwiKS5wb3B1bGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBwYXRoOiBcInByb2R1Y3RcIixcclxuICAgICAgICAgICAgICAgIHBvcHVsYXRlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogXCJjYXRlZ29yaWVcIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBDQVJUUyA9IENBUlRTLm1hcCgoY2FydCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlLkNhcnQuY2FydF9saXN0KGNhcnQpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIGNhcnRzOiBDQVJUUyxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICByZWdpc3Rlcjphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuICAgICAgICAgICAgLy9QUklNRVJPIFZBTU9TIEEgVkFMSURBUiBTSSBFTCBQUk9EVUNUTyBFWElTVEUgRU4gRUwgQ0FSUklUTyBERSBDT01QUkFcclxuICAgICAgICAgICAgaWYoZGF0YS52YXJpZWRhZCl7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsaWRfY2FydCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXI6IGRhdGEudXNlcixcclxuICAgICAgICAgICAgICAgICAgICB2YXJpZWRhZDogZGF0YS52YXJpZWRhZCxcclxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiBkYXRhLnByb2R1Y3QsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlmKHZhbGlkX2NhcnQpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogNDAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgUFJPRFVDVE8gQ09OIExBIFZBUklFREFEIFlBIEVYSVNURSBFTiBFTCBDQVJSSVRPIERFIENPTVBSQVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGxldCB2YWxpZF9jYXJ0ID0gYXdhaXQgbW9kZWxzLkNhcnQuZmluZE9uZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcjogZGF0YS51c2VyLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6IGRhdGEucHJvZHVjdCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYodmFsaWRfY2FydCl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiA0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBQUk9EVUNUTyBZQSBFWElTVEUgRU4gRUwgQ0FSUklUTyBERSBDT01QUkFcIixcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9TRUdVTkRPIFZBTU9TIEEgVkFMSURBUiBTSSBFTCBTVE9DSyBFU1RBIERJU1BPTklCTEVcclxuXHJcbiAgICAgICAgICAgIGlmKGRhdGEudmFyaWVkYWQpe1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbGlkX3ZhcmllZGFkID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIGlkXzogZGF0YS52YXJpZWRhZCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYodmFsaWRfdmFyaWVkYWQuc3RvY2sgPCBkYXRhLmNhbnRpZGFkKXtcclxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDQwMyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIFNUT0NLIE5PIEVTVEEgRElTUE9OSUJMRVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbGlkX3Byb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kT25lKHtcclxuICAgICAgICAgICAgICAgICAgICBfaWQ6IGRhdGEucHJvZHVjdCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYodmFsaWRfcHJvZHVjdC5zdG9jayA8IGRhdGEuY2FudGlkYWQpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogNDAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgU1RPQ0sgTk8gRVNUQSBESVNQT05JQkxFXCJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IENBUlQgPSBhd2FpdCBtb2RlbHMuQ2FydC5jcmVhdGUoZGF0YSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgTkVXX0NBUlQgPSBhd2FpdCBtb2RlbHMuQ2FydC5maW5kQnlJZCh7X2lkOiBDQVJULl9pZH0pLnBvcHVsYXRlKFwidmFyaWVkYWRcIikucG9wdWxhdGUoe1xyXG4gICAgICAgICAgICAgICAgcGF0aDogXCJwcm9kdWN0XCIsXHJcbiAgICAgICAgICAgICAgICBwb3B1bGF0ZToge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IFwiY2F0ZWdvcmllXCJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBjYXJ0OiByZXNvdXJjZS5DYXJ0LmNhcnRfbGlzdChORVdfQ0FSVCksXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgQ0FSUklUTyBTRSBSRUdJU1RSTyBDT04gRVhJVE9cIixcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB1cGRhdGU6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XHJcblxyXG4gICAgICAgICAgICAvL1NFR1VORE8gVkFNT1MgQSBWQUxJREFSIFNJIEVMIFNUT0NLIEVTVEEgRElTUE9OSUJMRVxyXG5cclxuICAgICAgICAgICAgaWYoZGF0YS52YXJpZWRhZCl7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsaWRfdmFyaWVkYWQgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZE9uZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgaWRfOiBkYXRhLnZhcmllZGFkLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZih2YWxpZF92YXJpZWRhZC5zdG9jayA8IGRhdGEuY2FudGlkYWQpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogNDAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgU1RPQ0sgTk8gRVNUQSBESVNQT05JQkxFXCJcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsaWRfcHJvZHVjdCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIF9pZDogZGF0YS5wcm9kdWN0LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZih2YWxpZF9wcm9kdWN0LnN0b2NrIDwgZGF0YS5jYW50aWRhZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiA0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBTVE9DSyBOTyBFU1RBIERJU1BPTklCTEVcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgQ0FSVCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IGRhdGEuX2lkfSxkYXRhKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBORVdfQ0FSVCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkKHtfaWQ6IENBUlQuX2lkfSkucG9wdWxhdGUoXCJ2YXJpZWRhZFwiKS5wb3B1bGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBwYXRoOiBcInByb2R1Y3RcIixcclxuICAgICAgICAgICAgICAgIHBvcHVsYXRlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogXCJjYXRlZ29yaWVcIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIGNhcnQ6IHJlc291cmNlLkNhcnQuY2FydF9saXN0KE5FV19DQVJUKSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBDQVJSSVRPIFNFIEFDVFVBTElaTyBDT04gRVhJVE9cIixcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBkZWxldGU6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBfaWQgPSByZXEucGFyYW1zLmlkO1xyXG4gICAgICAgICAgICBsZXQgQ0FSVCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IF9pZH0pO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENBUlJJVE8gU0UgRUxJTUlOTyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6XCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGFwcGx5Q3Vwb246YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XHJcbiAgICAgICAgICAgIC8vIExBIFBSSU1FUkEgVkFMSURBQ0nDk04gVElFTkUgUVVFIFZFUiBDT04gTEEgRVhJU1RFTkNJQSBERUwgQ1VQT05cclxuICAgICAgICAgICAgbGV0IENVUE9OID0gYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kT25lKHtcclxuICAgICAgICAgICAgICAgIGNvZGU6IGRhdGEuY29kZSxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgaWYoIUNVUE9OKXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiA0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENVUE9OIElOR1JFU0FETyBOTyBFWElTVEUsIERJR0lURSBPVFJPIE5VRVZBTUVOVEVcIlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gVElFTkUgQ09OIEVMIFVTTyBERUwgQ1VQT04gLS0gRVNQRVJBIFxyXG5cclxuICAgICAgICAgICAgLy9sYSBwYXJ0ZSBvcGVyYXRpdmFcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBjYXJ0cyA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmQoe3VzZXI6IGRhdGEudXNlcl9pZH0pLnBvcHVsYXRlKFwicHJvZHVjdFwiKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coY2FydHMpO1xyXG4gICAgICAgICAgICBsZXQgcHJvZHVjdHMgPSBbXTtcclxuICAgICAgICAgICAgbGV0IGNhdGVnb3JpZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIENVUE9OLnByb2R1Y3RzLmZvckVhY2goKHByb2R1Y3QpID0+IHtcclxuICAgICAgICAgICAgICAgIHByb2R1Y3RzLnB1c2gocHJvZHVjdC5faWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy9bODM3MzczLjgzODM4M11cclxuICAgICAgICAgICAgLy9be19pZDogODM3MzczfSx7X2lkOiA4MzgzODN9XS5pbmNsdWRlc1xyXG4gICAgICAgICAgICBDVVBPTi5jYXRlZ29yaWVzLmZvckVhY2goKGNhdGVnb3JpZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllcy5wdXNoKGNhdGVnb3JpZS5faWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocHJvZHVjdHMpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjYXRlZ29yaWVzKTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBjYXJ0IG9mIGNhcnRzKSB7XHJcbiAgICAgICAgICAgICAgICBpZihwcm9kdWN0cy5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihwcm9kdWN0cy5pbmNsdWRlcyhjYXJ0LnByb2R1Y3QuX2lkK1wiXCIpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN1YnRvdGFsID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRvdGFsID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoQ1VQT04udHlwZV9kaXNjb3VudCA9PSAxKXsvL1BPUkNFTlRBSkVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRvdGFsID0gY2FydC5wcmljZV91bml0YXJpbyAtIGNhcnQucHJpY2VfdW5pdGFyaW8qKENVUE9OLmRpc2NvdW50KjAuMDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsvL1BPUiBNT05FREFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRvdGFsID0gY2FydC5wcmljZV91bml0YXJpbyAtIENVUE9OLmRpc2NvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsID0gc3VidG90YWwgKiBjYXJ0LmNhbnRpZGFkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgbW9kZWxzLkNhcnQuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogY2FydC5faWR9LHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRvdGFsOiBzdWJ0b3RhbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsOiB0b3RhbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVfZGlzY291bnQ6IENVUE9OLnR5cGVfZGlzY291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudDogQ1VQT04uZGlzY291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlX2N1cG9uOiBDVVBPTi5jb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZihjYXRlZ29yaWVzLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGNhdGVnb3JpZXMuaW5jbHVkZXMoY2FydC5wcm9kdWN0LmNhdGVnb3JpZStcIlwiKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdWJ0b3RhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0b3RhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKENVUE9OLnR5cGVfZGlzY291bnQgPT0gMSl7Ly9QT1JDRU5UQUpFXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0b3RhbCA9IGNhcnQucHJpY2VfdW5pdGFyaW8gLSBjYXJ0LnByaWNlX3VuaXRhcmlvKihDVVBPTi5kaXNjb3VudCowLjAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7Ly9QT1IgTU9ORURBXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0b3RhbCA9IGNhcnQucHJpY2VfdW5pdGFyaW8gLSBDVVBPTi5kaXNjb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCA9IHN1YnRvdGFsICogY2FydC5jYW50aWRhZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IGNhcnQuX2lkfSx7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0b3RhbDogc3VidG90YWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbDogdG90YWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlX2Rpc2NvdW50OiBDVVBPTi50eXBlX2Rpc2NvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzY291bnQ6IENVUE9OLmRpc2NvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZV9jdXBvbjogQ1VQT04uY29kZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgQ1VQT04gU0UgQVBMSUNBRE8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOyBcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBbUMsU0FBQUQsdUJBQUFHLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQ3BCO0VBQ1hDLElBQUksRUFBQyxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUNuQixJQUFJO01BQ0EsSUFBSUMsT0FBTyxHQUFHRixHQUFHLENBQUNHLEtBQUssQ0FBQ0QsT0FBTztNQUMvQixJQUFJRSxLQUFLLEdBQUcsTUFBTUMsZUFBTSxDQUFDQyxJQUFJLENBQUNDLElBQUksQ0FBQztRQUMvQkMsSUFBSSxFQUFFTjtNQUNWLENBQUMsQ0FBQyxDQUFDTyxRQUFRLENBQUMsVUFBVSxDQUFDLENBQUNBLFFBQVEsQ0FBQztRQUM3QkMsSUFBSSxFQUFFLFNBQVM7UUFDZkQsUUFBUSxFQUFFO1VBQ05DLElBQUksRUFBRTtRQUNWO01BQ0osQ0FBQyxDQUFDO01BRUZOLEtBQUssR0FBR0EsS0FBSyxDQUFDTyxHQUFHLENBQUVDLElBQUksSUFBSztRQUN4QixPQUFPQyxrQkFBUSxDQUFDUCxJQUFJLENBQUNRLFNBQVMsQ0FBQ0YsSUFBSSxDQUFDO01BQ3hDLENBQUMsQ0FBQztNQUVGWCxHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxLQUFLLEVBQUViO01BQ1gsQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDLE9BQU9jLEtBQUssRUFBRTtN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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","obj","__esModule","default","_default","list","req","res","user_id","query","CARTS","models","Cart","find","user","populate","path","map","cart","resource","cart_list","status","json","carts","error","send","message","console","log","register","data","body","variedad","valid_cart","findOne","product","message_text","valid_variedad","Variedad","id_","stock","cantidad","valid_product","Product","_id","CART","create","NEW_CART","findById","update","findByIdAndUpdate","delete","params","id","findByIdAndDelete","applyCupon","CUPON","Cupone","code","products","categories","forEach","push","categorie","length","includes","subtotal","total","type_discount","price_unitario","discount","code_cupon","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["CartController.js"],"sourcesContent":["import models from '../models'\r\nimport resource from '../resources'\r\nexport default {\r\n    list:async(req,res) => {\r\n        try {\r\n            let user_id = req.query.user_id;\r\n            let CARTS = await models.Cart.find({\r\n                user: user_id,\r\n            }).populate(\"variedad\").populate({\r\n                path: \"product\",\r\n                populate: {\r\n                    path: \"categorie\"\r\n                },\r\n            });\r\n\r\n            CARTS = CARTS.map((cart) => {\r\n                return resource.Cart.cart_list(cart);\r\n            });\r\n\r\n            res.status(200).json({\r\n                carts: CARTS,\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    register:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            //PRIMERO VAMOS A VALIDAR SI EL PRODUCTO EXISTE EN EL CARRITO DE COMPRA\r\n            if(data.variedad){\r\n                let valid_cart = await models.Cart.findOne({\r\n                    user: data.user,\r\n                    variedad: data.variedad,\r\n                    product: data.product,\r\n                });\r\n                if(valid_cart){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL PRODUCTO CON LA VARIEDAD YA EXISTE EN EL CARRITO DE COMPRA\",\r\n                    })\r\n                    return;\r\n                }\r\n            }else{\r\n                let valid_cart = await models.Cart.findOne({\r\n                    user: data.user,\r\n                    product: data.product,\r\n                });\r\n                if(valid_cart){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL PRODUCTO YA EXISTE EN EL CARRITO DE COMPRA\",\r\n                    })\r\n                    return;\r\n                }\r\n            }\r\n\r\n            //SEGUNDO VAMOS A VALIDAR SI EL STOCK ESTA DISPONIBLE\r\n\r\n            if(data.variedad){\r\n                let valid_variedad = await models.Variedad.findOne({\r\n                    id_: data.variedad,\r\n                });\r\n                if(valid_variedad.stock < data.cantidad){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL STOCK NO ESTA DISPONIBLE\"\r\n                    })\r\n                    return;\r\n                }\r\n            }else{\r\n                let valid_product = await models.Product.findOne({\r\n                    _id: data.product,\r\n                });\r\n                if(valid_product.stock < data.cantidad){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL STOCK NO ESTA DISPONIBLE\"\r\n                    });\r\n                    return;\r\n                }\r\n            }\r\n            let CART = await models.Cart.create(data);\r\n            \r\n            let NEW_CART = await models.Cart.findById({_id: CART._id}).populate(\"variedad\").populate({\r\n                path: \"product\",\r\n                populate: {\r\n                    path: \"categorie\"\r\n                },\r\n            });\r\n            res.status(200).json({\r\n                cart: resource.Cart.cart_list(NEW_CART),\r\n                message_text: \"EL CARRITO SE REGISTRO CON EXITO\",\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    update:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n\r\n            //SEGUNDO VAMOS A VALIDAR SI EL STOCK ESTA DISPONIBLE\r\n\r\n            if(data.variedad){\r\n                let valid_variedad = await models.Variedad.findOne({\r\n                    id_: data.variedad,\r\n                });\r\n                if(valid_variedad.stock < data.cantidad){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL STOCK NO ESTA DISPONIBLE\"\r\n                    })\r\n                    return;\r\n                }\r\n            }else{\r\n                let valid_product = await models.Product.findOne({\r\n                    _id: data.product,\r\n                });\r\n                if(valid_product.stock < data.cantidad){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL STOCK NO ESTA DISPONIBLE\"\r\n                    });\r\n                    return;\r\n                }\r\n            }\r\n            let CART = await models.Cart.findByIdAndUpdate({_id: data._id},data);\r\n            \r\n            let NEW_CART = await models.Cart.findById({_id: CART._id}).populate(\"variedad\").populate({\r\n                path: \"product\",\r\n                populate: {\r\n                    path: \"categorie\"\r\n                },\r\n            });\r\n            res.status(200).json({\r\n                cart: resource.Cart.cart_list(NEW_CART),\r\n                message_text: \"EL CARRITO SE ACTUALIZO CON EXITO\",\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    delete:async(req,res) => {\r\n        try {\r\n            let _id = req.params.id;\r\n            let CART = await models.Cart.findByIdAndDelete({_id: _id});\r\n\r\n            res.status(200).json({\r\n                message_text: \"EL CARRITO SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    applyCupon:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            // LA PRIMERA VALIDACIÓN TIENE QUE VER CON LA EXISTENCIA DEL CUPON\r\n            let CUPON = await models.Cupone.findOne({\r\n                code: data.code,\r\n            })\r\n            if(!CUPON){\r\n                res.status(200).json({\r\n                    message: 403,\r\n                    message_text: \"EL CUPON INGRESADO NO EXISTE, DIGITE OTRO NUEVAMENTE\"\r\n                });\r\n                return;\r\n            }\r\n            // TIENE CON EL USO DEL CUPON -- ESPERA \r\n\r\n            //la parte operativa\r\n            \r\n            let carts = await models.Cart.find({user: data.user_id}).populate(\"product\");\r\n            console.log(carts);\r\n            let products = [];\r\n            let categories = [];\r\n\r\n            CUPON.products.forEach((product) => {\r\n                products.push(product._id);\r\n            });\r\n            //[837373.838383]\r\n            //[{_id: 837373},{_id: 838383}].includes\r\n            CUPON.categories.forEach((categorie) => {\r\n                categories.push(categorie._id);\r\n            });\r\n            console.log(products);\r\n            console.log(categories);\r\n            for (const cart of carts) {\r\n                if(products.length > 0){\r\n                    if(products.includes(cart.product._id+\"\")){\r\n                        let subtotal = 0;\r\n                        let total = 0;\r\n                        if(CUPON.type_discount == 1){//PORCENTAJE\r\n                            subtotal = cart.price_unitario - cart.price_unitario*(CUPON.discount*0.01);\r\n                        }else{//POR MONEDA\r\n                            subtotal = cart.price_unitario - CUPON.discount;\r\n                        }\r\n                        total = subtotal * cart.cantidad;\r\n\r\n                        await models.Cart.findByIdAndUpdate({_id: cart._id},{\r\n                            subtotal: subtotal,\r\n                            total: total,\r\n                            type_discount: CUPON.type_discount,\r\n                            discount: CUPON.discount,\r\n                            code_cupon: CUPON.code,\r\n                        });\r\n                    }\r\n                }\r\n                if(categories.length > 0){\r\n                    if(categories.includes(cart.product.categorie+\"\")){\r\n                        let subtotal = 0;\r\n                        let total = 0;\r\n                        if(CUPON.type_discount == 1){//PORCENTAJE\r\n                            subtotal = cart.price_unitario - cart.price_unitario*(CUPON.discount*0.01);\r\n                        }else{//POR MONEDA\r\n                            subtotal = cart.price_unitario - CUPON.discount;\r\n                        }\r\n                        total = subtotal * cart.cantidad;\r\n\r\n                        await models.Cart.findByIdAndUpdate({_id: cart._id},{\r\n                            subtotal: subtotal,\r\n                            total: total,\r\n                            type_discount: CUPON.type_discount,\r\n                            discount: CUPON.discount,\r\n                            code_cupon: CUPON.code,\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL CUPON SE APLICADO CORRECTAMENTE\",\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error); \r\n        }\r\n    },\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1679242177694},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\AddressClient.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _AddressClientController = _interopRequireDefault(require(\"../controllers/AddressClientController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", _auth.default.verifyEcommerce, _AddressClientController.default.register);\nrouter.put(\"/update\", _auth.default.verifyEcommerce, _AddressClientController.default.update);\nrouter.get(\"/list\", _auth.default.verifyEcommerce, _AddressClientController.default.list);\nrouter.delete(\"/delete/:id\", _auth.default.verifyEcommerce, _AddressClientController.default.remove);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9BZGRyZXNzQ2xpZW50Q29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlFY29tbWVyY2UiLCJBZGRyZXNzQ2xpZW50Q29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImRlbGV0ZSIsInJlbW92ZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxccm91dGVyXFwiLCJzb3VyY2VzIjpbIkFkZHJlc3NDbGllbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IEFkZHJlc3NDbGllbnRDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL0FkZHJlc3NDbGllbnRDb250cm9sbGVyJ1xyXG5pbXBvcnQgYXV0aCBmcm9tICcuLi9taWRkbGV3YXJlcy9hdXRoJ1xyXG5cclxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xyXG4vLyBodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3VzZXJzL3JlZ2lzdGVyXHJcblxyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLEFkZHJlc3NDbGllbnRDb250cm9sbGVyLnJlZ2lzdGVyKTtcclxucm91dGVyLnB1dChcIi91cGRhdGVcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxBZGRyZXNzQ2xpZW50Q29udHJvbGxlci51cGRhdGUpO1xyXG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxBZGRyZXNzQ2xpZW50Q29udHJvbGxlci5saXN0KTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGUvOmlkXCIsYXV0aC52ZXJpZnlFY29tbWVyY2UsQWRkcmVzc0NsaWVudENvbnRyb2xsZXIucmVtb3ZlKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyx3QkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXRDLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFDeEI7O0FBRUFELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBQ0MsYUFBSSxDQUFDQyxlQUFlLEVBQUNDLGdDQUF1QixDQUFDQyxRQUFRLENBQUM7QUFDOUVOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLFNBQVMsRUFBQ0osYUFBSSxDQUFDQyxlQUFlLEVBQUNDLGdDQUF1QixDQUFDRyxNQUFNLENBQUM7QUFDekVSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBQ04sYUFBSSxDQUFDQyxlQUFlLEVBQUNDLGdDQUF1QixDQUFDSyxJQUFJLENBQUM7QUFDckVWLE1BQU0sQ0FBQ1csTUFBTSxDQUFDLGFBQWEsRUFBQ1IsYUFBSSxDQUFDQyxlQUFlLEVBQUNDLGdDQUF1QixDQUFDTyxNQUFNLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBRWxFYixNQUFNO0FBQUFjLE9BQUEsQ0FBQWYsT0FBQSxHQUFBYyxRQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_AddressClientController","_auth","obj","__esModule","default","router","routerx","post","auth","verifyEcommerce","AddressClientController","register","put","update","get","list","delete","remove","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["AddressClient.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport AddressClientController from '../controllers/AddressClientController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n// http://localhost:3000/api/users/register\r\n\r\nrouter.post(\"/register\",auth.verifyEcommerce,AddressClientController.register);\r\nrouter.put(\"/update\",auth.verifyEcommerce,AddressClientController.update);\r\nrouter.get(\"/list\",auth.verifyEcommerce,AddressClientController.list);\r\nrouter.delete(\"/delete/:id\",auth.verifyEcommerce,AddressClientController.remove);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,wBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,eAAe,EAACC,gCAAuB,CAACC,QAAQ,CAAC;AAC9EN,MAAM,CAACO,GAAG,CAAC,SAAS,EAACJ,aAAI,CAACC,eAAe,EAACC,gCAAuB,CAACG,MAAM,CAAC;AACzER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,eAAe,EAACC,gCAAuB,CAACK,IAAI,CAAC;AACrEV,MAAM,CAACW,MAAM,CAAC,aAAa,EAACR,aAAI,CAACC,eAAe,EAACC,gCAAuB,CAACO,MAAM,CAAC;AAAC,IAAAC,QAAA,GAElEb,MAAM;AAAAc,OAAA,CAAAf,OAAA,GAAAc,QAAA","ignoreList":[]}},"mtime":1679756135320},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\AddressClientController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  register: async (req, res) => {\n    try {\n      const address_client = await _models.default.AddressClient.create(req.body);\n      res.status(200).json({\n        message: \"LA DIRECCIÓN DEL CLIENTE SE REGISTRO CORRECTAMENTE\",\n        address_client: address_client\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"HUBO UN ERROR\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      await _models.default.AddressClient.findByIdAndUpdate({\n        _id: req.body._id\n      }, data);\n      let AddressClient = await _models.default.AddressClient.findById({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"LA DIRECCIÓN DEL CLIENTE SE EDITO CORRECTAMENTE\",\n        address_client: AddressClient\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"HUBO UN ERROR\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      let ADDRESS_CLIENT = await _models.default.AddressClient.find({\n        user: req.query.user_id\n      }).sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        address_client: ADDRESS_CLIENT\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"HUBO UN ERROR\"\n      });\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.AddressClient.findByIdAndDelete({\n        _id: req.params._id\n      });\n      res.status(200).json({\n        message: \"LA DIRECCIÓN DEL CLIENTE SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"HUBO UN ERROR\"\n      });\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwicmVnaXN0ZXIiLCJyZXEiLCJyZXMiLCJhZGRyZXNzX2NsaWVudCIsIm1vZGVscyIsIkFkZHJlc3NDbGllbnQiLCJjcmVhdGUiLCJib2R5Iiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJzZW5kIiwidXBkYXRlIiwiZGF0YSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiX2lkIiwiZmluZEJ5SWQiLCJsaXN0IiwiQUREUkVTU19DTElFTlQiLCJmaW5kIiwidXNlciIsInF1ZXJ5IiwidXNlcl9pZCIsInNvcnQiLCJyZW1vdmUiLCJmaW5kQnlJZEFuZERlbGV0ZSIsInBhcmFtcyIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIkFkZHJlc3NDbGllbnRDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSBcIi4uL21vZGVsc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcmVnaXN0ZXI6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFkZHJlc3NfY2xpZW50ID0gYXdhaXQgbW9kZWxzLkFkZHJlc3NDbGllbnQuY3JlYXRlKHJlcS5ib2R5KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJMQSBESVJFQ0NJw5NOIERFTCBDTElFTlRFIFNFIFJFR0lTVFJPIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgICAgIGFkZHJlc3NfY2xpZW50OiBhZGRyZXNzX2NsaWVudCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkhVQk8gVU4gRVJST1JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHVwZGF0ZTphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLkFkZHJlc3NDbGllbnQuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogcmVxLmJvZHkuX2lkfSxkYXRhKTtcclxuICAgICAgICAgICAgbGV0IEFkZHJlc3NDbGllbnQgPSBhd2FpdCBtb2RlbHMuQWRkcmVzc0NsaWVudC5maW5kQnlJZCh7X2lkOiByZXEuYm9keS5faWR9KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJMQSBESVJFQ0NJw5NOIERFTCBDTElFTlRFIFNFIEVESVRPIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgICAgIGFkZHJlc3NfY2xpZW50OiBBZGRyZXNzQ2xpZW50LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiSFVCTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbGlzdDphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IEFERFJFU1NfQ0xJRU5UID0gYXdhaXQgbW9kZWxzLkFkZHJlc3NDbGllbnQuZmluZCh7dXNlcjogcmVxLnF1ZXJ5LnVzZXJfaWR9KS5zb3J0KHsnY3JlYXRlZEF0JzogLTF9KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgYWRkcmVzc19jbGllbnQ6IEFERFJFU1NfQ0xJRU5UXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJIVUJPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICByZW1vdmU6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5BZGRyZXNzQ2xpZW50LmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IHJlcS5wYXJhbXMuX2lkfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTEEgRElSRUNDScOTTiBERUwgQ0xJRU5URSBTRSBFTElNSU5PIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkhVQk8gVU4gRVJST1JcIixcclxuICAgICAg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","map":{"version":3,"names":["_models","_interopRequireDefault","require","obj","__esModule","default","_default","register","req","res","address_client","models","AddressClient","create","body","status","json","message","error","console","log","send","update","data","findByIdAndUpdate","_id","findById","list","ADDRESS_CLIENT","find","user","query","user_id","sort","remove","findByIdAndDelete","params","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["AddressClientController.js"],"sourcesContent":["import models from \"../models\";\r\n\r\nexport default {\r\n    register:async(req,res) => {\r\n        try {\r\n            const address_client = await models.AddressClient.create(req.body);\r\n            res.status(200).json({\r\n                message: \"LA DIRECCIÓN DEL CLIENTE SE REGISTRO CORRECTAMENTE\",\r\n                address_client: address_client,\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"HUBO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    update:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            await models.AddressClient.findByIdAndUpdate({_id: req.body._id},data);\r\n            let AddressClient = await models.AddressClient.findById({_id: req.body._id});\r\n            res.status(200).json({\r\n                message: \"LA DIRECCIÓN DEL CLIENTE SE EDITO CORRECTAMENTE\",\r\n                address_client: AddressClient,\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"HUBO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    list:async(req,res) => {\r\n        try {\r\n            let ADDRESS_CLIENT = await models.AddressClient.find({user: req.query.user_id}).sort({'createdAt': -1});\r\n            res.status(200).json({\r\n                address_client: ADDRESS_CLIENT\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"HUBO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    remove:async(req,res) => {\r\n        try {\r\n            await models.AddressClient.findByIdAndDelete({_id: req.params._id});\r\n            res.status(200).json({\r\n                message: \"LA DIRECCIÓN DEL CLIENTE SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"HUBO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1679758734010},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\Sale.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _SaleController = _interopRequireDefault(require(\"../controllers/SaleController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", _auth.default.verifyEcommerce, _SaleController.default.register);\n// router.get(\"/send_email/:id\",SaleController.send_email);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9TYWxlQ29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlFY29tbWVyY2UiLCJTYWxlQ29udHJvbGxlciIsInJlZ2lzdGVyIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiU2FsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tICdleHByZXNzLXByb21pc2Utcm91dGVyJ1xyXG5pbXBvcnQgU2FsZUNvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvU2FsZUNvbnRyb2xsZXInXHJcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXHJcblxyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcbi8vIGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcnMvcmVnaXN0ZXJcclxuXHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsYXV0aC52ZXJpZnlFY29tbWVyY2UsU2FsZUNvbnRyb2xsZXIucmVnaXN0ZXIpO1xyXG4vLyByb3V0ZXIuZ2V0KFwiL3NlbmRfZW1haWwvOmlkXCIsU2FsZUNvbnRyb2xsZXIuc2VuZF9lbWFpbCk7XHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxlQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBc0MsU0FBQUQsdUJBQUFJLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFdEMsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUN4Qjs7QUFFQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFDQyxhQUFJLENBQUNDLGVBQWUsRUFBQ0MsdUJBQWMsQ0FBQ0MsUUFBUSxDQUFDO0FBQ3JFO0FBQUEsSUFBQUMsUUFBQSxHQUNlUCxNQUFNO0FBQUFRLE9BQUEsQ0FBQVQsT0FBQSxHQUFBUSxRQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_SaleController","_auth","obj","__esModule","default","router","routerx","post","auth","verifyEcommerce","SaleController","register","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["Sale.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport SaleController from '../controllers/SaleController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n// http://localhost:3000/api/users/register\r\n\r\nrouter.post(\"/register\",auth.verifyEcommerce,SaleController.register);\r\n// router.get(\"/send_email/:id\",SaleController.send_email);\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACC,QAAQ,CAAC;AACrE;AAAA,IAAAC,QAAA,GACeP,MAAM;AAAAQ,OAAA,CAAAT,OAAA,GAAAQ,QAAA","ignoreList":[]}},"mtime":1680307071422},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\SaleController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _handlebars = _interopRequireDefault(require(\"handlebars\"));\nvar _ejs = _interopRequireDefault(require(\"ejs\"));\nvar _nodemailer = _interopRequireDefault(require(\"nodemailer\"));\nvar _nodemailerSmtpTransport = _interopRequireDefault(require(\"nodemailer-smtp-transport\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nasync function send_email(sale_id) {\n  try {\n    var readHTMLFile = function (path, callback) {\n      _fs.default.readFile(path, {\n        encoding: 'utf-8'\n      }, function (err, html) {\n        if (err) {\n          throw err;\n          callback(err);\n        } else {\n          callback(null, html);\n        }\n      });\n    };\n    let Order = await _models.default.Sale.findById({\n      _id: sale_id\n    }).populate(\"user\");\n    let OrderDetail = await _models.default.SaleDetail.find({\n      sale: Order._id\n    }).populate(\"product\").populate(\"variedad\");\n    let AddressSale = await _models.default.SaleAddress.findOne({\n      sale: Order._id\n    });\n    var transporter = _nodemailer.default.createTransport((0, _nodemailerSmtpTransport.default)({\n      service: 'gmail',\n      host: 'smtp.gmail.com',\n      auth: {\n        user: 'demo@gmail.com',\n        pass: 'bilcfvchcrscbseu'\n      }\n    }));\n    readHTMLFile(process.cwd() + '/mails/email_sale.html', (err, html) => {\n      let rest_html = _ejs.default.render(html, {\n        order: Order,\n        address_sale: AddressSale,\n        order_detail: OrderDetail\n      });\n      var template = _handlebars.default.compile(rest_html);\n      var htmlToSend = template({\n        op: true\n      });\n      var mailOptions = {\n        from: 'demo@gmail.com',\n        to: Order.user.email,\n        subject: 'Finaliza tu compra ' + Order._id,\n        html: htmlToSend\n      };\n      transporter.sendMail(mailOptions, function (error, info) {\n        if (!error) {\n          console.log('Email sent: ' + info.response);\n        }\n      });\n    });\n\n    // res.status(200).json({\n    //     message: \"EL CORREO SE ENVIO CORRECTAMENTE\",\n    // });\n  } catch (error) {\n    console.log(error);\n    // res.status(500).send({\n    //     menssage:\"OCURRIO UN ERROR\",\n    // });\n  }\n}\nvar _default = {\n  register: async (req, res) => {\n    try {\n      let sale_data = req.body.sale;\n      let sale_address_data = req.body.sale_address;\n      let SALE = await _models.default.Sale.create(sale_data);\n      sale_address_data.sale = SALE._id;\n      let SALE_ADDRESS = await _models.default.SaleAddress.create(sale_address_data);\n      let CARTS = await _models.default.Cart.find({\n        user: SALE.user\n      });\n      for (let CART of CARTS) {\n        CART = CART.toObject();\n        CART.sale = SALE._id;\n        //EL DESCUENTO DE INVENTARIO\n        if (CART.variedad) {\n          //MULTIPLE INVENTARIO\n          let VARIEDAD = await _models.default.Variedad.findById({\n            _id: CART.variedad\n          });\n          let new_stock = VARIEDAD.stock - CART.cantidad;\n          await _models.default.Variedad.findByIdAndUpdate({\n            _id: CART.variedad\n          }, {\n            stock: new_stock\n          });\n        } else {\n          //UNITARIO INVENTARIO\n          let PRODUCT = await _models.default.Product.findById({\n            _id: CART.product\n          });\n          let new_stock = PRODUCT.stock - CART.cantidad;\n          await _models.default.Product.findByIdAndUpdate({\n            _id: CART.product\n          }, {\n            stock: new_stock\n          });\n        }\n        // \n        await _models.default.SaleDetail.create(CART);\n        await _models.default.Cart.findByIdAndDelete({\n          _id: CART._id\n        });\n      }\n      await send_email(SALE._id);\n      res.status(200).json({\n        message: \"LA ORDEN DE GENERO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"HUBO UN ERROR\"\n      });\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfZnMiLCJfaGFuZGxlYmFycyIsIl9lanMiLCJfbm9kZW1haWxlciIsIl9ub2RlbWFpbGVyU210cFRyYW5zcG9ydCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwic2VuZF9lbWFpbCIsInNhbGVfaWQiLCJyZWFkSFRNTEZpbGUiLCJwYXRoIiwiY2FsbGJhY2siLCJmcyIsInJlYWRGaWxlIiwiZW5jb2RpbmciLCJlcnIiLCJodG1sIiwiT3JkZXIiLCJtb2RlbHMiLCJTYWxlIiwiZmluZEJ5SWQiLCJfaWQiLCJwb3B1bGF0ZSIsIk9yZGVyRGV0YWlsIiwiU2FsZURldGFpbCIsImZpbmQiLCJzYWxlIiwiQWRkcmVzc1NhbGUiLCJTYWxlQWRkcmVzcyIsImZpbmRPbmUiLCJ0cmFuc3BvcnRlciIsIm5vZGVtYWlsZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJzbXRwVHJhbnNwb3J0Iiwic2VydmljZSIsImhvc3QiLCJhdXRoIiwidXNlciIsInBhc3MiLCJwcm9jZXNzIiwiY3dkIiwicmVzdF9odG1sIiwiZWpzIiwicmVuZGVyIiwib3JkZXIiLCJhZGRyZXNzX3NhbGUiLCJvcmRlcl9kZXRhaWwiLCJ0ZW1wbGF0ZSIsImhhbmRsZWJhcnMiLCJjb21waWxlIiwiaHRtbFRvU2VuZCIsIm9wIiwibWFpbE9wdGlvbnMiLCJmcm9tIiwidG8iLCJlbWFpbCIsInN1YmplY3QiLCJzZW5kTWFpbCIsImVycm9yIiwiaW5mbyIsImNvbnNvbGUiLCJsb2ciLCJyZXNwb25zZSIsIl9kZWZhdWx0IiwicmVnaXN0ZXIiLCJyZXEiLCJyZXMiLCJzYWxlX2RhdGEiLCJib2R5Iiwic2FsZV9hZGRyZXNzX2RhdGEiLCJzYWxlX2FkZHJlc3MiLCJTQUxFIiwiY3JlYXRlIiwiU0FMRV9BRERSRVNTIiwiQ0FSVFMiLCJDYXJ0IiwiQ0FSVCIsInRvT2JqZWN0IiwidmFyaWVkYWQiLCJWQVJJRURBRCIsIlZhcmllZGFkIiwibmV3X3N0b2NrIiwic3RvY2siLCJjYW50aWRhZCIsImZpbmRCeUlkQW5kVXBkYXRlIiwiUFJPRFVDVCIsIlByb2R1Y3QiLCJwcm9kdWN0IiwiZmluZEJ5SWRBbmREZWxldGUiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInNlbmQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJTYWxlQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gJy4uL21vZGVscyc7XHJcblxyXG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xyXG5pbXBvcnQgaGFuZGxlYmFycyBmcm9tICdoYW5kbGViYXJzJztcclxuaW1wb3J0IGVqcyBmcm9tICdlanMnO1xyXG5pbXBvcnQgbm9kZW1haWxlciBmcm9tICdub2RlbWFpbGVyJztcclxuaW1wb3J0IHNtdHBUcmFuc3BvcnQgZnJvbSAnbm9kZW1haWxlci1zbXRwLXRyYW5zcG9ydCc7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBzZW5kX2VtYWlsKHNhbGVfaWQpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgdmFyIHJlYWRIVE1MRmlsZSA9IGZ1bmN0aW9uKHBhdGgsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIGZzLnJlYWRGaWxlKHBhdGgsIHtlbmNvZGluZzogJ3V0Zi04J30sIGZ1bmN0aW9uIChlcnIsIGh0bWwpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIGh0bWwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9OyAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IE9yZGVyID0gYXdhaXQgbW9kZWxzLlNhbGUuZmluZEJ5SWQoe19pZDogc2FsZV9pZH0pLnBvcHVsYXRlKFwidXNlclwiKTtcclxuICAgICAgICBsZXQgT3JkZXJEZXRhaWwgPSBhd2FpdCBtb2RlbHMuU2FsZURldGFpbC5maW5kKHtzYWxlOiBPcmRlci5faWR9KS5wb3B1bGF0ZShcInByb2R1Y3RcIikucG9wdWxhdGUoXCJ2YXJpZWRhZFwiKTtcclxuICAgICAgICBsZXQgQWRkcmVzc1NhbGUgPSBhd2FpdCBtb2RlbHMuU2FsZUFkZHJlc3MuZmluZE9uZSh7c2FsZTogT3JkZXIuX2lkfSk7XHJcbiAgICAgICAgdmFyIHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoc210cFRyYW5zcG9ydCh7XHJcbiAgICAgICAgICAgIHNlcnZpY2U6ICdnbWFpbCcsXHJcbiAgICAgICAgICAgIGhvc3Q6ICdzbXRwLmdtYWlsLmNvbScsXHJcbiAgICAgICAgICAgIGF1dGg6IHtcclxuICAgICAgICAgICAgdXNlcjogJ2RlbW9AZ21haWwuY29tJyxcclxuICAgICAgICAgICAgICAgIHBhc3M6ICdiaWxjZnZjaGNyc2Nic2V1J1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkpO1xyXG5cclxuICAgICAgICByZWFkSFRNTEZpbGUocHJvY2Vzcy5jd2QoKSArICcvbWFpbHMvZW1haWxfc2FsZS5odG1sJywgKGVyciwgaHRtbCk9PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgbGV0IHJlc3RfaHRtbCA9IGVqcy5yZW5kZXIoaHRtbCwge29yZGVyOiBPcmRlcixhZGRyZXNzX3NhbGU6IEFkZHJlc3NTYWxlLG9yZGVyX2RldGFpbDogT3JkZXJEZXRhaWx9KTtcclxuICAgIFxyXG4gICAgICAgICAgICB2YXIgdGVtcGxhdGUgPSBoYW5kbGViYXJzLmNvbXBpbGUocmVzdF9odG1sKTtcclxuICAgICAgICAgICAgdmFyIGh0bWxUb1NlbmQgPSB0ZW1wbGF0ZSh7b3A6dHJ1ZX0pO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHZhciBtYWlsT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgIGZyb206ICdkZW1vQGdtYWlsLmNvbScsXHJcbiAgICAgICAgICAgICAgICB0bzogT3JkZXIudXNlci5lbWFpbCxcclxuICAgICAgICAgICAgICAgIHN1YmplY3Q6ICdGaW5hbGl6YSB0dSBjb21wcmEgJyArIE9yZGVyLl9pZCxcclxuICAgICAgICAgICAgICAgIGh0bWw6IGh0bWxUb1NlbmRcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgICB0cmFuc3BvcnRlci5zZW5kTWFpbChtYWlsT3B0aW9ucywgZnVuY3Rpb24oZXJyb3IsIGluZm8pe1xyXG4gICAgICAgICAgICAgICAgaWYgKCFlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFbWFpbCBzZW50OiAnICsgaW5mby5yZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAvLyAgICAgbWVzc2FnZTogXCJFTCBDT1JSRU8gU0UgRU5WSU8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgLy8gcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgIC8vICAgICBtZW5zc2FnZTpcIk9DVVJSSU8gVU4gRVJST1JcIixcclxuICAgICAgICAvLyB9KTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICByZWdpc3RlcjogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBzYWxlX2RhdGEgPSByZXEuYm9keS5zYWxlO1xyXG4gICAgICAgICAgICBsZXQgc2FsZV9hZGRyZXNzX2RhdGEgPSByZXEuYm9keS5zYWxlX2FkZHJlc3M7XHJcblxyXG4gICAgICAgICAgICBsZXQgU0FMRSA9IGF3YWl0IG1vZGVscy5TYWxlLmNyZWF0ZShzYWxlX2RhdGEpO1xyXG5cclxuICAgICAgICAgICAgc2FsZV9hZGRyZXNzX2RhdGEuc2FsZSA9IFNBTEUuX2lkO1xyXG5cclxuICAgICAgICAgICAgbGV0IFNBTEVfQUREUkVTUyA9IGF3YWl0IG1vZGVscy5TYWxlQWRkcmVzcy5jcmVhdGUoc2FsZV9hZGRyZXNzX2RhdGEpO1xyXG5cclxuICAgICAgICAgICAgbGV0IENBUlRTID0gYXdhaXQgbW9kZWxzLkNhcnQuZmluZCh7dXNlcjogU0FMRS51c2VyfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBmb3IgKGxldCBDQVJUIG9mIENBUlRTKSB7XHJcbiAgICAgICAgICAgICAgICBDQVJUID0gQ0FSVC50b09iamVjdCgpO1xyXG4gICAgICAgICAgICAgICAgQ0FSVC5zYWxlID0gU0FMRS5faWQ7XHJcbiAgICAgICAgICAgICAgICAvL0VMIERFU0NVRU5UTyBERSBJTlZFTlRBUklPXHJcbiAgICAgICAgICAgICAgICBpZihDQVJULnZhcmllZGFkKXsvL01VTFRJUExFIElOVkVOVEFSSU9cclxuICAgICAgICAgICAgICAgICAgICBsZXQgVkFSSUVEQUQgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZEJ5SWQoe19pZDogQ0FSVC52YXJpZWRhZH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdfc3RvY2sgPSBWQVJJRURBRC5zdG9jayAtIENBUlQuY2FudGlkYWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiBDQVJULnZhcmllZGFkfSx7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b2NrOiBuZXdfc3RvY2ssXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1lbHNley8vVU5JVEFSSU8gSU5WRU5UQVJJT1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBQUk9EVUNUID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWQoe19pZDogQ0FSVC5wcm9kdWN0fSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld19zdG9jayA9IFBST0RVQ1Quc3RvY2sgLSBDQVJULmNhbnRpZGFkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiBDQVJULnByb2R1Y3R9LHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RvY2s6bmV3X3N0b2NrLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBtb2RlbHMuU2FsZURldGFpbC5jcmVhdGUoQ0FSVCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBtb2RlbHMuQ2FydC5maW5kQnlJZEFuZERlbGV0ZSh7X2lkOiBDQVJULl9pZH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBhd2FpdCBzZW5kX2VtYWlsKFNBTEUuX2lkKTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTEEgT1JERU4gREUgR0VORVJPIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiSFVCTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFBQyxHQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxXQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxJQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxXQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSyx3QkFBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBQXNELFNBQUFELHVCQUFBTyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXRELGVBQWVHLFVBQVVBLENBQUNDLE9BQU8sRUFBRTtFQUMvQixJQUFJO0lBQ0EsSUFBSUMsWUFBWSxHQUFHLFNBQUFBLENBQVNDLElBQUksRUFBRUMsUUFBUSxFQUFFO01BQ3hDQyxXQUFFLENBQUNDLFFBQVEsQ0FBQ0gsSUFBSSxFQUFFO1FBQUNJLFFBQVEsRUFBRTtNQUFPLENBQUMsRUFBRSxVQUFVQyxHQUFHLEVBQUVDLElBQUksRUFBRTtRQUN4RCxJQUFJRCxHQUFHLEVBQUU7VUFDTCxNQUFNQSxHQUFHO1VBQ1RKLFFBQVEsQ0FBQ0ksR0FBRyxDQUFDO1FBQ2pCLENBQUMsTUFDSTtVQUNESixRQUFRLENBQUMsSUFBSSxFQUFFSyxJQUFJLENBQUM7UUFDeEI7TUFDSixDQUFDLENBQUM7SUFDTixDQUFDO0lBRUQsSUFBSUMsS0FBSyxHQUFHLE1BQU1DLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDQyxRQUFRLENBQUM7TUFBQ0MsR0FBRyxFQUFFYjtJQUFPLENBQUMsQ0FBQyxDQUFDYyxRQUFRLENBQUMsTUFBTSxDQUFDO0lBQ3ZFLElBQUlDLFdBQVcsR0FBRyxNQUFNTCxlQUFNLENBQUNNLFVBQVUsQ0FBQ0MsSUFBSSxDQUFDO01BQUNDLElBQUksRUFBRVQsS0FBSyxDQUFDSTtJQUFHLENBQUMsQ0FBQyxDQUFDQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUNBLFFBQVEsQ0FBQyxVQUFVLENBQUM7SUFDMUcsSUFBSUssV0FBVyxHQUFHLE1BQU1ULGVBQU0sQ0FBQ1UsV0FBVyxDQUFDQyxPQUFPLENBQUM7TUFBQ0gsSUFBSSxFQUFFVCxLQUFLLENBQUNJO0lBQUcsQ0FBQyxDQUFDO0lBQ3JFLElBQUlTLFdBQVcsR0FBR0MsbUJBQVUsQ0FBQ0MsZUFBZSxDQUFDLElBQUFDLGdDQUFhLEVBQUM7TUFDdkRDLE9BQU8sRUFBRSxPQUFPO01BQ2hCQyxJQUFJLEVBQUUsZ0JBQWdCO01BQ3RCQyxJQUFJLEVBQUU7UUFDTkMsSUFBSSxFQUFFLGdCQUFnQjtRQUNsQkMsSUFBSSxFQUFFO01BQ1Y7SUFDSixDQUFDLENBQUMsQ0FBQztJQUVIN0IsWUFBWSxDQUFDOEIsT0FBTyxDQUFDQyxHQUFHLENBQUMsQ0FBQyxHQUFHLHdCQUF3QixFQUFFLENBQUN6QixHQUFHLEVBQUVDLElBQUksS0FBRztNQUVoRSxJQUFJeUIsU0FBUyxHQUFHQyxZQUFHLENBQUNDLE1BQU0sQ0FBQzNCLElBQUksRUFBRTtRQUFDNEIsS0FBSyxFQUFFM0IsS0FBSztRQUFDNEIsWUFBWSxFQUFFbEIsV0FBVztRQUFDbUIsWUFBWSxFQUFFdkI7TUFBVyxDQUFDLENBQUM7TUFFcEcsSUFBSXdCLFFBQVEsR0FBR0MsbUJBQVUsQ0FBQ0MsT0FBTyxDQUFDUixTQUFTLENBQUM7TUFDNUMsSUFBSVMsVUFBVSxHQUFHSCxRQUFRLENBQUM7UUFBQ0ksRUFBRSxFQUFDO01BQUksQ0FBQyxDQUFDO01BRXBDLElBQUlDLFdBQVcsR0FBRztRQUNkQyxJQUFJLEVBQUUsZ0JBQWdCO1FBQ3RCQyxFQUFFLEVBQUVyQyxLQUFLLENBQUNvQixJQUFJLENBQUNrQixLQUFLO1FBQ3BCQyxPQUFPLEVBQUUscUJBQXFCLEdBQUd2QyxLQUFLLENBQUNJLEdBQUc7UUFDMUNMLElBQUksRUFBRWtDO01BQ1YsQ0FBQztNQUVEcEIsV0FBVyxDQUFDMkIsUUFBUSxDQUFDTCxXQUFXLEVBQUUsVUFBU00sS0FBSyxFQUFFQyxJQUFJLEVBQUM7UUFDbkQsSUFBSSxDQUFDRCxLQUFLLEVBQUU7VUFDUkUsT0FBTyxDQUFDQyxHQUFHLENBQUMsY0FBYyxHQUFHRixJQUFJLENBQUNHLFFBQVEsQ0FBQztRQUMvQztNQUNKLENBQUMsQ0FBQztJQUVOLENBQUMsQ0FBQzs7SUFFRjtJQUNBO0lBQ0E7RUFDSixDQUFDLENBQUMsT0FBT0osS0FBSyxFQUFFO0lBQ1pFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSCxLQUFLLENBQUM7SUFDbEI7SUFDQTtJQUNBO0VBQ0o7QUFDSjtBQUFDLElBQUFLLFFBQUEsR0FDYztFQUNYQyxRQUFRLEVBQUUsTUFBQUEsQ0FBTUMsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDeEIsSUFBSTtNQUNBLElBQUlDLFNBQVMsR0FBR0YsR0FBRyxDQUFDRyxJQUFJLENBQUMxQyxJQUFJO01BQzdCLElBQUkyQyxpQkFBaUIsR0FBR0osR0FBRyxDQUFDRyxJQUFJLENBQUNFLFlBQVk7TUFFN0MsSUFBSUMsSUFBSSxHQUFHLE1BQU1yRCxlQUFNLENBQUNDLElBQUksQ0FBQ3FELE1BQU0sQ0FBQ0wsU0FBUyxDQUFDO01BRTlDRSxpQkFBaUIsQ0FBQzNDLElBQUksR0FBRzZDLElBQUksQ0FBQ2xELEdBQUc7TUFFakMsSUFBSW9ELFlBQVksR0FBRyxNQUFNdkQsZUFBTSxDQUFDVSxXQUFXLENBQUM0QyxNQUFNLENBQUNILGlCQUFpQixDQUFDO01BRXJFLElBQUlLLEtBQUssR0FBRyxNQUFNeEQsZUFBTSxDQUFDeUQsSUFBSSxDQUFDbEQsSUFBSSxDQUFDO1FBQUNZLElBQUksRUFBRWtDLElBQUksQ0FBQ2xDO01BQUksQ0FBQyxDQUFDO01BRXJELEtBQUssSUFBSXVDLElBQUksSUFBSUYsS0FBSyxFQUFFO1FBQ3BCRSxJQUFJLEdBQUdBLElBQUksQ0FBQ0MsUUFBUSxDQUFDLENBQUM7UUFDdEJELElBQUksQ0FBQ2xELElBQUksR0FBRzZDLElBQUksQ0FBQ2xELEdBQUc7UUFDcEI7UUFDQSxJQUFHdUQsSUFBSSxDQUFDRSxRQUFRLEVBQUM7VUFBQztVQUNkLElBQUlDLFFBQVEsR0FBRyxNQUFNN0QsZUFBTSxDQUFDOEQsUUFBUSxDQUFDNUQsUUFBUSxDQUFDO1lBQUNDLEdBQUcsRUFBRXVELElBQUksQ0FBQ0U7VUFBUSxDQUFDLENBQUM7VUFDbkUsSUFBSUcsU0FBUyxHQUFHRixRQUFRLENBQUNHLEtBQUssR0FBR04sSUFBSSxDQUFDTyxRQUFRO1VBRTlDLE1BQU1qRSxlQUFNLENBQUM4RCxRQUFRLENBQUNJLGlCQUFpQixDQUFDO1lBQUMvRCxHQUFHLEVBQUV1RCxJQUFJLENBQUNFO1VBQVEsQ0FBQyxFQUFDO1lBQ3pESSxLQUFLLEVBQUVEO1VBQ1gsQ0FBQyxDQUFDO1FBQ04sQ0FBQyxNQUFJO1VBQUM7VUFDRixJQUFJSSxPQUFPLEdBQUcsTUFBTW5FLGVBQU0sQ0FBQ29FLE9BQU8sQ0FBQ2xFLFFBQVEsQ0FBQztZQUFDQyxHQUFHLEVBQUV1RCxJQUFJLENBQUNXO1VBQU8sQ0FBQyxDQUFDO1VBQ2hFLElBQUlOLFNBQVMsR0FBR0ksT0FBTyxDQUFDSCxLQUFLLEdBQUdOLElBQUksQ0FBQ08sUUFBUTtVQUU3QyxNQUFNakUsZUFBTSxDQUFDb0UsT0FBTyxDQUFDRixpQkFBaUIsQ0FBQztZQUFDL0QsR0FBRyxFQUFFdUQsSUFBSSxDQUFDVztVQUFPLENBQUMsRUFBQztZQUN2REwsS0FBSyxFQUFDRDtVQUNWLENBQUMsQ0FBQztRQUNOO1FBQ0E7UUFDQSxNQUFNL0QsZUFBTSxDQUFDTSxVQUFVLENBQUNnRCxNQUFNLENBQUNJLElBQUksQ0FBQztRQUNwQyxNQUFNMUQsZUFBTSxDQUFDeUQsSUFBSSxDQUFDYSxpQkFBaUIsQ0FBQztVQUFDbkUsR0FBRyxFQUFFdUQsSUFBSSxDQUFDdkQ7UUFBRyxDQUFDLENBQUM7TUFDeEQ7TUFFQSxNQUFNZCxVQUFVLENBQUNnRSxJQUFJLENBQUNsRCxHQUFHLENBQUM7TUFFMUI2QyxHQUFHLENBQUN1QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDLE9BQU9qQyxLQUFLLEVBQUU7TUFDWkUsT0FBTyxDQUFDQyxHQUFHLENBQUNILEtBQUssQ0FBQztNQUNsQlEsR0FBRyxDQUFDdUIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUM7UUFDakJELE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztJQUNOO0VBQ0o7QUFDSixDQUFDO0FBQUFFLE9BQUEsQ0FBQXZGLE9BQUEsR0FBQXlELFFBQUEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_models","_interopRequireDefault","require","_fs","_handlebars","_ejs","_nodemailer","_nodemailerSmtpTransport","obj","__esModule","default","send_email","sale_id","readHTMLFile","path","callback","fs","readFile","encoding","err","html","Order","models","Sale","findById","_id","populate","OrderDetail","SaleDetail","find","sale","AddressSale","SaleAddress","findOne","transporter","nodemailer","createTransport","smtpTransport","service","host","auth","user","pass","process","cwd","rest_html","ejs","render","order","address_sale","order_detail","template","handlebars","compile","htmlToSend","op","mailOptions","from","to","email","subject","sendMail","error","info","console","log","response","_default","register","req","res","sale_data","body","sale_address_data","sale_address","SALE","create","SALE_ADDRESS","CARTS","Cart","CART","toObject","variedad","VARIEDAD","Variedad","new_stock","stock","cantidad","findByIdAndUpdate","PRODUCT","Product","product","findByIdAndDelete","status","json","message","send","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["SaleController.js"],"sourcesContent":["import models from '../models';\r\n\r\nimport fs from 'fs';\r\nimport handlebars from 'handlebars';\r\nimport ejs from 'ejs';\r\nimport nodemailer from 'nodemailer';\r\nimport smtpTransport from 'nodemailer-smtp-transport';\r\n\r\nasync function send_email(sale_id) {\r\n    try {\r\n        var readHTMLFile = function(path, callback) {\r\n            fs.readFile(path, {encoding: 'utf-8'}, function (err, html) {\r\n                if (err) {\r\n                    throw err;\r\n                    callback(err);\r\n                }\r\n                else {\r\n                    callback(null, html);\r\n                }\r\n            });\r\n        };  \r\n        \r\n        let Order = await models.Sale.findById({_id: sale_id}).populate(\"user\");\r\n        let OrderDetail = await models.SaleDetail.find({sale: Order._id}).populate(\"product\").populate(\"variedad\");\r\n        let AddressSale = await models.SaleAddress.findOne({sale: Order._id});\r\n        var transporter = nodemailer.createTransport(smtpTransport({\r\n            service: 'gmail',\r\n            host: 'smtp.gmail.com',\r\n            auth: {\r\n            user: 'demo@gmail.com',\r\n                pass: 'bilcfvchcrscbseu'\r\n            }\r\n        }));\r\n\r\n        readHTMLFile(process.cwd() + '/mails/email_sale.html', (err, html)=>{\r\n                                \r\n            let rest_html = ejs.render(html, {order: Order,address_sale: AddressSale,order_detail: OrderDetail});\r\n    \r\n            var template = handlebars.compile(rest_html);\r\n            var htmlToSend = template({op:true});\r\n    \r\n            var mailOptions = {\r\n                from: 'demo@gmail.com',\r\n                to: Order.user.email,\r\n                subject: 'Finaliza tu compra ' + Order._id,\r\n                html: htmlToSend\r\n            };\r\n          \r\n            transporter.sendMail(mailOptions, function(error, info){\r\n                if (!error) {\r\n                    console.log('Email sent: ' + info.response);\r\n                }\r\n            });\r\n        \r\n        });\r\n        \r\n        // res.status(200).json({\r\n        //     message: \"EL CORREO SE ENVIO CORRECTAMENTE\",\r\n        // });\r\n    } catch (error) {\r\n        console.log(error);\r\n        // res.status(500).send({\r\n        //     menssage:\"OCURRIO UN ERROR\",\r\n        // });\r\n    }\r\n}\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            let sale_data = req.body.sale;\r\n            let sale_address_data = req.body.sale_address;\r\n\r\n            let SALE = await models.Sale.create(sale_data);\r\n\r\n            sale_address_data.sale = SALE._id;\r\n\r\n            let SALE_ADDRESS = await models.SaleAddress.create(sale_address_data);\r\n\r\n            let CARTS = await models.Cart.find({user: SALE.user});\r\n            \r\n            for (let CART of CARTS) {\r\n                CART = CART.toObject();\r\n                CART.sale = SALE._id;\r\n                //EL DESCUENTO DE INVENTARIO\r\n                if(CART.variedad){//MULTIPLE INVENTARIO\r\n                    let VARIEDAD = await models.Variedad.findById({_id: CART.variedad});\r\n                    let new_stock = VARIEDAD.stock - CART.cantidad;\r\n\r\n                    await models.Variedad.findByIdAndUpdate({_id: CART.variedad},{\r\n                        stock: new_stock,\r\n                    })\r\n                }else{//UNITARIO INVENTARIO\r\n                    let PRODUCT = await models.Product.findById({_id: CART.product});\r\n                    let new_stock = PRODUCT.stock - CART.cantidad;\r\n\r\n                    await models.Product.findByIdAndUpdate({_id: CART.product},{\r\n                        stock:new_stock,\r\n                    });\r\n                }\r\n                // \r\n                await models.SaleDetail.create(CART);\r\n                await models.Cart.findByIdAndDelete({_id: CART._id});\r\n            }\r\n\r\n            await send_email(SALE._id);\r\n\r\n            res.status(200).json({\r\n                message: \"LA ORDEN DE GENERO CORRECTAMENTE\",\r\n            })\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"HUBO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1681620934838},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _router = _interopRequireDefault(require(\"./router\"));\nvar dotenv = _interopRequireWildcard(require(\"dotenv\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// see https://github.com/motdotla/dotenv#how-do-i-use-dotenv-with-import\ndotenv.config();\n//CONEXION A LA BASE DE DATOS\n\n_mongoose.default.Promise = global.Promise;\nconst dbUrL = \"mongodb://localhost:27017/ecommerce_udemy\";\n_mongoose.default.connect(dbUrL, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}).then(mongoose => console.log(\"CONECTADO A LA BD EN EL PUERTO 27017\")).catch(err => console.log(err));\nconst app = (0, _express.default)();\napp.use((0, _cors.default)());\napp.use(_express.default.json());\napp.use(_express.default.urlencoded({\n  extended: true\n}));\napp.use(_express.default.static(_path.default.join(__dirname, 'public')));\napp.use('/api/', _router.default);\napp.set('port', process.env.PORT || 3000);\napp.listen(app.get('port'), () => {\n  console.log(\"EL SERVIDOR SE EJECUTO PERFECTAMENTE EN EL PUERTO 3000\");\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NvcnMiLCJfcGF0aCIsIl9tb25nb29zZSIsIl9yb3V0ZXIiLCJkb3RlbnYiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSIsIm5vZGVJbnRlcm9wIiwiV2Vha01hcCIsImNhY2hlQmFiZWxJbnRlcm9wIiwiY2FjaGVOb2RlSW50ZXJvcCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiY2FjaGUiLCJoYXMiLCJnZXQiLCJuZXdPYmoiLCJoYXNQcm9wZXJ0eURlc2NyaXB0b3IiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImtleSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImRlc2MiLCJzZXQiLCJjb25maWciLCJtb25nb29zZSIsIlByb21pc2UiLCJnbG9iYWwiLCJkYlVyTCIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ0aGVuIiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyIiwiYXBwIiwiZXhwcmVzcyIsInVzZSIsImNvcnMiLCJqc29uIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwic3RhdGljIiwicGF0aCIsImpvaW4iLCJfX2Rpcm5hbWUiLCJyb3V0ZXIiLCJwcm9jZXNzIiwiZW52IiwiUE9SVCIsImxpc3RlbiJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJ1xyXG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJ1xyXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xyXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnXHJcbmltcG9ydCByb3V0ZXIgZnJvbSAnLi9yb3V0ZXInXHJcbmltcG9ydCAqIGFzIGRvdGVudiBmcm9tICdkb3RlbnYnIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbW90ZG90bGEvZG90ZW52I2hvdy1kby1pLXVzZS1kb3RlbnYtd2l0aC1pbXBvcnRcclxuZG90ZW52LmNvbmZpZygpXHJcbi8vQ09ORVhJT04gQSBMQSBCQVNFIERFIERBVE9TXHJcblxyXG5tb25nb29zZS5Qcm9taXNlID0gZ2xvYmFsLlByb21pc2U7XHJcbmNvbnN0IGRiVXJMID0gXCJtb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3L2Vjb21tZXJjZV91ZGVteVwiO1xyXG5tb25nb29zZS5jb25uZWN0KFxyXG4gICAgZGJVckwgLCB7XHJcbiAgICAgICAgdXNlTmV3VXJsUGFyc2VyOiAgdHJ1ZSxcclxuICAgICAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWVcclxuICAgIH1cclxuKS50aGVuKG1vbmdvb3NlID0+IGNvbnNvbGUubG9nKFwiQ09ORUNUQURPIEEgTEEgQkQgRU4gRUwgUFVFUlRPIDI3MDE3XCIpKVxyXG4uY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG5cclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5hcHAudXNlKGNvcnMoKSk7XHJcblxyXG5hcHAudXNlKGV4cHJlc3MuanNvbigpKTtcclxuYXBwLnVzZShleHByZXNzLnVybGVuY29kZWQoe2V4dGVuZGVkOiB0cnVlfSkpO1xyXG5hcHAudXNlKGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsJ3B1YmxpYycpKSlcclxuYXBwLnVzZSgnL2FwaS8nLHJvdXRlcilcclxuXHJcbmFwcC5zZXQoJ3BvcnQnLHByb2Nlc3MuZW52LlBPUlQgfHwgMzAwMCk7XHJcblxyXG5hcHAubGlzdGVuKGFwcC5nZXQoJ3BvcnQnKSwgKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coXCJFTCBTRVJWSURPUiBTRSBFSkVDVVRPIFBFUkZFQ1RBTUVOVEUgRU4gRUwgUFVFUlRPIDMwMDBcIik7XHJcbn0pIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFNBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLE9BQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFLLE1BQUEsR0FBQUMsdUJBQUEsQ0FBQU4sT0FBQTtBQUFnQyxTQUFBTyx5QkFBQUMsV0FBQSxlQUFBQyxPQUFBLGtDQUFBQyxpQkFBQSxPQUFBRCxPQUFBLFFBQUFFLGdCQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsV0FBQSxXQUFBQSxXQUFBLEdBQUFHLGdCQUFBLEdBQUFELGlCQUFBLEtBQUFGLFdBQUE7QUFBQSxTQUFBRix3QkFBQU0sR0FBQSxFQUFBSixXQUFBLFNBQUFBLFdBQUEsSUFBQUksR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsV0FBQUQsR0FBQSxRQUFBQSxHQUFBLG9CQUFBQSxHQUFBLHdCQUFBQSxHQUFBLDRCQUFBRSxPQUFBLEVBQUFGLEdBQUEsVUFBQUcsS0FBQSxHQUFBUix3QkFBQSxDQUFBQyxXQUFBLE9BQUFPLEtBQUEsSUFBQUEsS0FBQSxDQUFBQyxHQUFBLENBQUFKLEdBQUEsWUFBQUcsS0FBQSxDQUFBRSxHQUFBLENBQUFMLEdBQUEsU0FBQU0sTUFBQSxXQUFBQyxxQkFBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxHQUFBLElBQUFYLEdBQUEsUUFBQVcsR0FBQSxrQkFBQUgsTUFBQSxDQUFBSSxTQUFBLENBQUFDLGNBQUEsQ0FBQUMsSUFBQSxDQUFBZCxHQUFBLEVBQUFXLEdBQUEsU0FBQUksSUFBQSxHQUFBUixxQkFBQSxHQUFBQyxNQUFBLENBQUFFLHdCQUFBLENBQUFWLEdBQUEsRUFBQVcsR0FBQSxjQUFBSSxJQUFBLEtBQUFBLElBQUEsQ0FBQVYsR0FBQSxJQUFBVSxJQUFBLENBQUFDLEdBQUEsS0FBQVIsTUFBQSxDQUFBQyxjQUFBLENBQUFILE1BQUEsRUFBQUssR0FBQSxFQUFBSSxJQUFBLFlBQUFULE1BQUEsQ0FBQUssR0FBQSxJQUFBWCxHQUFBLENBQUFXLEdBQUEsU0FBQUwsTUFBQSxDQUFBSixPQUFBLEdBQUFGLEdBQUEsTUFBQUcsS0FBQSxJQUFBQSxLQUFBLENBQUFhLEdBQUEsQ0FBQWhCLEdBQUEsRUFBQU0sTUFBQSxZQUFBQSxNQUFBO0FBQUEsU0FBQW5CLHVCQUFBYSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUM7QUFDakNQLE1BQU0sQ0FBQ3dCLE1BQU0sQ0FBQyxDQUFDO0FBQ2Y7O0FBRUFDLGlCQUFRLENBQUNDLE9BQU8sR0FBR0MsTUFBTSxDQUFDRCxPQUFPO0FBQ2pDLE1BQU1FLEtBQUssR0FBRywyQ0FBMkM7QUFDekRILGlCQUFRLENBQUNJLE9BQU8sQ0FDWkQsS0FBSyxFQUFHO0VBQ0pFLGVBQWUsRUFBRyxJQUFJO0VBQ3RCQyxrQkFBa0IsRUFBRTtBQUN4QixDQUNKLENBQUMsQ0FBQ0MsSUFBSSxDQUFDUCxRQUFRLElBQUlRLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHNDQUFzQyxDQUFDLENBQUMsQ0FDdEVDLEtBQUssQ0FBQ0MsR0FBRyxJQUFJSCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLENBQUM7QUFFL0IsTUFBTUMsR0FBRyxHQUFHLElBQUFDLGdCQUFPLEVBQUMsQ0FBQztBQUNyQkQsR0FBRyxDQUFDRSxHQUFHLENBQUMsSUFBQUMsYUFBSSxFQUFDLENBQUMsQ0FBQztBQUVmSCxHQUFHLENBQUNFLEdBQUcsQ0FBQ0QsZ0JBQU8sQ0FBQ0csSUFBSSxDQUFDLENBQUMsQ0FBQztBQUN2QkosR0FBRyxDQUFDRSxHQUFHLENBQUNELGdCQUFPLENBQUNJLFVBQVUsQ0FBQztFQUFDQyxRQUFRLEVBQUU7QUFBSSxDQUFDLENBQUMsQ0FBQztBQUM3Q04sR0FBRyxDQUFDRSxHQUFHLENBQUNELGdCQUFPLENBQUNNLE1BQU0sQ0FBQ0MsYUFBSSxDQUFDQyxJQUFJLENBQUNDLFNBQVMsRUFBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0FBQ3REVixHQUFHLENBQUNFLEdBQUcsQ0FBQyxPQUFPLEVBQUNTLGVBQU0sQ0FBQztBQUV2QlgsR0FBRyxDQUFDZCxHQUFHLENBQUMsTUFBTSxFQUFDMEIsT0FBTyxDQUFDQyxHQUFHLENBQUNDLElBQUksSUFBSSxJQUFJLENBQUM7QUFFeENkLEdBQUcsQ0FBQ2UsTUFBTSxDQUFDZixHQUFHLENBQUN6QixHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsTUFBTTtFQUM5QnFCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHdEQUF3RCxDQUFDO0FBQ3pFLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_cors","_path","_mongoose","_router","dotenv","_interopRequireWildcard","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","config","mongoose","Promise","global","dbUrL","connect","useNewUrlParser","useUnifiedTopology","then","console","log","catch","err","app","express","use","cors","json","urlencoded","extended","static","path","join","__dirname","router","process","env","PORT","listen"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\","sources":["index.js"],"sourcesContent":["import express from 'express'\r\nimport cors from 'cors'\r\nimport path from 'path'\r\nimport mongoose from 'mongoose'\r\nimport router from './router'\r\nimport * as dotenv from 'dotenv' // see https://github.com/motdotla/dotenv#how-do-i-use-dotenv-with-import\r\ndotenv.config()\r\n//CONEXION A LA BASE DE DATOS\r\n\r\nmongoose.Promise = global.Promise;\r\nconst dbUrL = \"mongodb://localhost:27017/ecommerce_udemy\";\r\nmongoose.connect(\r\n    dbUrL , {\r\n        useNewUrlParser:  true,\r\n        useUnifiedTopology: true\r\n    }\r\n).then(mongoose => console.log(\"CONECTADO A LA BD EN EL PUERTO 27017\"))\r\n.catch(err => console.log(err));\r\n\r\nconst app = express();\r\napp.use(cors());\r\n\r\napp.use(express.json());\r\napp.use(express.urlencoded({extended: true}));\r\napp.use(express.static(path.join(__dirname,'public')))\r\napp.use('/api/',router)\r\n\r\napp.set('port',process.env.PORT || 3000);\r\n\r\napp.listen(app.get('port'), () => {\r\n    console.log(\"EL SERVIDOR SE EJECUTO PERFECTAMENTE EN EL PUERTO 3000\");\r\n})"],"mappings":"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","ignoreList":[]}},"mtime":1681165221636},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _Cupone = _interopRequireDefault(require(\"./Cupone\"));\nvar _Discount = _interopRequireDefault(require(\"./Discount\"));\nvar _Home = _interopRequireDefault(require(\"./Home\"));\nvar _Cart = _interopRequireDefault(require(\"./Cart\"));\nvar _AddressClient = _interopRequireDefault(require(\"./AddressClient\"));\nvar _Sale = _interopRequireDefault(require(\"./Sale\"));\nvar _Review = _interopRequireDefault(require(\"./Review\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.use('/users', _User.default);\nrouter.use('/categories', _Categorie.default);\nrouter.use('/products', _Product.default);\nrouter.use('/sliders', _Slider.default);\nrouter.use('/cupones', _Cupone.default);\nrouter.use('/discount', _Discount.default);\nrouter.use('/home', _Home.default);\nrouter.use('/cart', _Cart.default);\nrouter.use('/address_client', _AddressClient.default);\nrouter.use('/sale', _Sale.default);\nrouter.use('/review', _Review.default);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyIiwiX0NhdGVnb3JpZSIsIl9Qcm9kdWN0IiwiX1NsaWRlciIsIl9DdXBvbmUiLCJfRGlzY291bnQiLCJfSG9tZSIsIl9DYXJ0IiwiX0FkZHJlc3NDbGllbnQiLCJfU2FsZSIsIl9SZXZpZXciLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsInJvdXRlcngiLCJ1c2UiLCJVc2VyIiwiQ2F0ZWdvcmllIiwiUHJvZHVjdCIsIlNsaWRlciIsIkN1cG9uZSIsIkRpc2NvdW50IiwiSG9tZSIsIkNhcnQiLCJBZGRyZXNzQ2xpZW50IiwiU2FsZSIsIlJldmlldyIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxccm91dGVyXFwiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gJ2V4cHJlc3MtcHJvbWlzZS1yb3V0ZXInXHJcbmltcG9ydCBVc2VyIGZyb20gJy4vVXNlcidcclxuaW1wb3J0IENhdGVnb3JpZSBmcm9tICcuL0NhdGVnb3JpZSdcclxuaW1wb3J0IFByb2R1Y3QgZnJvbSAnLi9Qcm9kdWN0J1xyXG5pbXBvcnQgU2xpZGVyIGZyb20gJy4vU2xpZGVyJ1xyXG5pbXBvcnQgQ3Vwb25lIGZyb20gJy4vQ3Vwb25lJ1xyXG5pbXBvcnQgRGlzY291bnQgZnJvbSAnLi9EaXNjb3VudCdcclxuaW1wb3J0IEhvbWUgZnJvbSAnLi9Ib21lJ1xyXG5pbXBvcnQgQ2FydCBmcm9tICcuL0NhcnQnXHJcbmltcG9ydCBBZGRyZXNzQ2xpZW50IGZyb20gJy4vQWRkcmVzc0NsaWVudCdcclxuaW1wb3J0IFNhbGUgZnJvbSAnLi9TYWxlJ1xyXG5pbXBvcnQgUmV2aWV3IGZyb20gJy4vUmV2aWV3J1xyXG5cclxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xyXG5yb3V0ZXIudXNlKCcvdXNlcnMnLCBVc2VyKTtcclxucm91dGVyLnVzZSgnL2NhdGVnb3JpZXMnLCBDYXRlZ29yaWUpO1xyXG5yb3V0ZXIudXNlKCcvcHJvZHVjdHMnLCBQcm9kdWN0KTtcclxucm91dGVyLnVzZSgnL3NsaWRlcnMnLCBTbGlkZXIpO1xyXG5yb3V0ZXIudXNlKCcvY3Vwb25lcycsIEN1cG9uZSk7XHJcbnJvdXRlci51c2UoJy9kaXNjb3VudCcsIERpc2NvdW50KTtcclxucm91dGVyLnVzZSgnL2hvbWUnLCBIb21lKTtcclxucm91dGVyLnVzZSgnL2NhcnQnLCBDYXJ0KTtcclxucm91dGVyLnVzZSgnL2FkZHJlc3NfY2xpZW50JyxBZGRyZXNzQ2xpZW50KTtcclxucm91dGVyLnVzZSgnL3NhbGUnLFNhbGUpO1xyXG5yb3V0ZXIudXNlKCcvcmV2aWV3JyxSZXZpZXcpO1xyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsVUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsUUFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksT0FBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUssT0FBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU0sU0FBQSxHQUFBUCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU8sS0FBQSxHQUFBUixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVEsS0FBQSxHQUFBVCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVMsY0FBQSxHQUFBVixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVUsS0FBQSxHQUFBWCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVcsT0FBQSxHQUFBWixzQkFBQSxDQUFBQyxPQUFBO0FBQTZCLFNBQUFELHVCQUFBYSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRTdCLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFDeEJELE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLFFBQVEsRUFBRUMsYUFBSSxDQUFDO0FBQzFCSCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxhQUFhLEVBQUVFLGtCQUFTLENBQUM7QUFDcENKLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLFdBQVcsRUFBRUcsZ0JBQU8sQ0FBQztBQUNoQ0wsTUFBTSxDQUFDRSxHQUFHLENBQUMsVUFBVSxFQUFFSSxlQUFNLENBQUM7QUFDOUJOLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLFVBQVUsRUFBRUssZUFBTSxDQUFDO0FBQzlCUCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxXQUFXLEVBQUVNLGlCQUFRLENBQUM7QUFDakNSLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLE9BQU8sRUFBRU8sYUFBSSxDQUFDO0FBQ3pCVCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxPQUFPLEVBQUVRLGFBQUksQ0FBQztBQUN6QlYsTUFBTSxDQUFDRSxHQUFHLENBQUMsaUJBQWlCLEVBQUNTLHNCQUFhLENBQUM7QUFDM0NYLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLE9BQU8sRUFBQ1UsYUFBSSxDQUFDO0FBQ3hCWixNQUFNLENBQUNFLEdBQUcsQ0FBQyxTQUFTLEVBQUNXLGVBQU0sQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FDZGQsTUFBTTtBQUFBZSxPQUFBLENBQUFoQixPQUFBLEdBQUFlLFFBQUEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_User","_Categorie","_Product","_Slider","_Cupone","_Discount","_Home","_Cart","_AddressClient","_Sale","_Review","obj","__esModule","default","router","routerx","use","User","Categorie","Product","Slider","Cupone","Discount","Home","Cart","AddressClient","Sale","Review","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["index.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport User from './User'\r\nimport Categorie from './Categorie'\r\nimport Product from './Product'\r\nimport Slider from './Slider'\r\nimport Cupone from './Cupone'\r\nimport Discount from './Discount'\r\nimport Home from './Home'\r\nimport Cart from './Cart'\r\nimport AddressClient from './AddressClient'\r\nimport Sale from './Sale'\r\nimport Review from './Review'\r\n\r\nconst router = routerx();\r\nrouter.use('/users', User);\r\nrouter.use('/categories', Categorie);\r\nrouter.use('/products', Product);\r\nrouter.use('/sliders', Slider);\r\nrouter.use('/cupones', Cupone);\r\nrouter.use('/discount', Discount);\r\nrouter.use('/home', Home);\r\nrouter.use('/cart', Cart);\r\nrouter.use('/address_client',AddressClient);\r\nrouter.use('/sale',Sale);\r\nrouter.use('/review',Review);\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,UAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,QAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,OAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,SAAA,GAAAP,sBAAA,CAAAC,OAAA;AACA,IAAAO,KAAA,GAAAR,sBAAA,CAAAC,OAAA;AACA,IAAAQ,KAAA,GAAAT,sBAAA,CAAAC,OAAA;AACA,IAAAS,cAAA,GAAAV,sBAAA,CAAAC,OAAA;AACA,IAAAU,KAAA,GAAAX,sBAAA,CAAAC,OAAA;AACA,IAAAW,OAAA,GAAAZ,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAa,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE7B,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxBD,MAAM,CAACE,GAAG,CAAC,QAAQ,EAAEC,aAAI,CAAC;AAC1BH,MAAM,CAACE,GAAG,CAAC,aAAa,EAAEE,kBAAS,CAAC;AACpCJ,MAAM,CAACE,GAAG,CAAC,WAAW,EAAEG,gBAAO,CAAC;AAChCL,MAAM,CAACE,GAAG,CAAC,UAAU,EAAEI,eAAM,CAAC;AAC9BN,MAAM,CAACE,GAAG,CAAC,UAAU,EAAEK,eAAM,CAAC;AAC9BP,MAAM,CAACE,GAAG,CAAC,WAAW,EAAEM,iBAAQ,CAAC;AACjCR,MAAM,CAACE,GAAG,CAAC,OAAO,EAAEO,aAAI,CAAC;AACzBT,MAAM,CAACE,GAAG,CAAC,OAAO,EAAEQ,aAAI,CAAC;AACzBV,MAAM,CAACE,GAAG,CAAC,iBAAiB,EAACS,sBAAa,CAAC;AAC3CX,MAAM,CAACE,GAAG,CAAC,OAAO,EAACU,aAAI,CAAC;AACxBZ,MAAM,CAACE,GAAG,CAAC,SAAS,EAACW,eAAM,CAAC;AAAC,IAAAC,QAAA,GACdd,MAAM;AAAAe,OAAA,CAAAhB,OAAA,GAAAe,QAAA","ignoreList":[]}},"mtime":1680709936100},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _UserController = _interopRequireDefault(require(\"../controllers/UserController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", _UserController.default.register);\nrouter.put(\"/update\", _UserController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _UserController.default.list);\nrouter.post(\"/register_admin\", _auth.default.verifyAdmin, _UserController.default.register_admin);\nrouter.post(\"/login\", _UserController.default.login);\nrouter.post(\"/login_admin\", _UserController.default.login_admin);\nrouter.delete(\"/delete\", _UserController.default.remove);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyQ29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsInVzZXJjb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJsaXN0IiwicmVnaXN0ZXJfYWRtaW4iLCJsb2dpbiIsImxvZ2luX2FkbWluIiwiZGVsZXRlIiwicmVtb3ZlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tICdleHByZXNzLXByb21pc2Utcm91dGVyJ1xyXG5pbXBvcnQgdXNlcmNvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvVXNlckNvbnRyb2xsZXInXHJcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXHJcblxyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcbi8vIGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcnMvcmVnaXN0ZXJcclxuXHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsdXNlcmNvbnRyb2xsZXIucmVnaXN0ZXIpO1xyXG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLHVzZXJjb250cm9sbGVyLnVwZGF0ZSk7XHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4sdXNlcmNvbnRyb2xsZXIubGlzdCk7XHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyX2FkbWluXCIsYXV0aC52ZXJpZnlBZG1pbix1c2VyY29udHJvbGxlci5yZWdpc3Rlcl9hZG1pbik7XHJcbnJvdXRlci5wb3N0KFwiL2xvZ2luXCIsdXNlcmNvbnRyb2xsZXIubG9naW4pO1xyXG5yb3V0ZXIucG9zdChcIi9sb2dpbl9hZG1pblwiLHVzZXJjb250cm9sbGVyLmxvZ2luX2FkbWluKTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIix1c2VyY29udHJvbGxlci5yZW1vdmUpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLGVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFzQyxTQUFBRCx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUV0QyxNQUFNRyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBQ3hCOztBQUVBRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUNDLHVCQUFjLENBQUNDLFFBQVEsQ0FBQztBQUNoREosTUFBTSxDQUFDSyxHQUFHLENBQUMsU0FBUyxFQUFDRix1QkFBYyxDQUFDRyxNQUFNLENBQUM7QUFDM0NOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLE9BQU8sRUFBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUNOLHVCQUFjLENBQUNPLElBQUksQ0FBQztBQUN4RFYsTUFBTSxDQUFDRSxJQUFJLENBQUMsaUJBQWlCLEVBQUNNLGFBQUksQ0FBQ0MsV0FBVyxFQUFDTix1QkFBYyxDQUFDUSxjQUFjLENBQUM7QUFDN0VYLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFFBQVEsRUFBQ0MsdUJBQWMsQ0FBQ1MsS0FBSyxDQUFDO0FBQzFDWixNQUFNLENBQUNFLElBQUksQ0FBQyxjQUFjLEVBQUNDLHVCQUFjLENBQUNVLFdBQVcsQ0FBQztBQUN0RGIsTUFBTSxDQUFDYyxNQUFNLENBQUMsU0FBUyxFQUFDWCx1QkFBYyxDQUFDWSxNQUFNLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBRWhDaEIsTUFBTTtBQUFBaUIsT0FBQSxDQUFBbEIsT0FBQSxHQUFBaUIsUUFBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_UserController","_auth","obj","__esModule","default","router","routerx","post","usercontroller","register","put","update","get","auth","verifyAdmin","list","register_admin","login","login_admin","delete","remove","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["User.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport usercontroller from '../controllers/UserController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n// http://localhost:3000/api/users/register\r\n\r\nrouter.post(\"/register\",usercontroller.register);\r\nrouter.put(\"/update\",usercontroller.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,usercontroller.list);\r\nrouter.post(\"/register_admin\",auth.verifyAdmin,usercontroller.register_admin);\r\nrouter.post(\"/login\",usercontroller.login);\r\nrouter.post(\"/login_admin\",usercontroller.login_admin);\r\nrouter.delete(\"/delete\",usercontroller.remove);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,uBAAc,CAACC,QAAQ,CAAC;AAChDJ,MAAM,CAACK,GAAG,CAAC,SAAS,EAACF,uBAAc,CAACG,MAAM,CAAC;AAC3CN,MAAM,CAACO,GAAG,CAAC,OAAO,EAACC,aAAI,CAACC,WAAW,EAACN,uBAAc,CAACO,IAAI,CAAC;AACxDV,MAAM,CAACE,IAAI,CAAC,iBAAiB,EAACM,aAAI,CAACC,WAAW,EAACN,uBAAc,CAACQ,cAAc,CAAC;AAC7EX,MAAM,CAACE,IAAI,CAAC,QAAQ,EAACC,uBAAc,CAACS,KAAK,CAAC;AAC1CZ,MAAM,CAACE,IAAI,CAAC,cAAc,EAACC,uBAAc,CAACU,WAAW,CAAC;AACtDb,MAAM,CAACc,MAAM,CAAC,SAAS,EAACX,uBAAc,CAACY,MAAM,CAAC;AAAC,IAAAC,QAAA,GAEhChB,MAAM;AAAAiB,OAAA,CAAAlB,OAAA,GAAAiB,QAAA","ignoreList":[]}},"mtime":1676271632239},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  register: async (req, res) => {\n    try {\n      // rol\n      // name\n      // surname\n      // email\n      // password\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      const user = await _models.default.User.create(req.body);\n      res.status(200).json(user);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_admin: async (req, res) => {\n    try {\n      // rol\n      // name\n      // surname\n      // email\n      // password\n      const userV = await _models.default.User.findOne({\n        email: req.body.email\n      });\n      if (userV) {\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"admin\";\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      let user = await _models.default.User.create(req.body);\n      res.status(200).json({\n        user: _resources.default.User.user_list(user)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1\n      });\n      if (user) {\n        //SI ESTA RGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              _id: user._id,\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login_admin: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1,\n        rol: \"admin\"\n      });\n      if (user) {\n        //SI ESTA RGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar,\n              rol: user.rol\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('\\\\');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let UserT = await _models.default.User.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n        user: _resources.default.User.user_list(UserT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Users = await _models.default.User.find({\n        $or: [{\n          \"name\": new RegExp(search, \"i\")\n        }, {\n          \"surname\": new RegExp(search, \"i\")\n        }, {\n          \"email\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Users = Users.map(user => {\n        return _resources.default.User.user_list(user);\n      });\n      res.status(200).json({\n        users: Users\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      const User = await _models.default.User.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYmNyeXB0anMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9tb2RlbHMiLCJfdG9rZW4iLCJfcmVzb3VyY2VzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiYm9keSIsInBhc3N3b3JkIiwiYmNyeXB0IiwiaGFzaCIsInVzZXIiLCJtb2RlbHMiLCJVc2VyIiwiY3JlYXRlIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwic2VuZCIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwicmVnaXN0ZXJfYWRtaW4iLCJ1c2VyViIsImZpbmRPbmUiLCJlbWFpbCIsInJvbCIsInJlc291cmNlIiwidXNlcl9saXN0IiwibG9naW4iLCJzdGF0ZSIsImNvbXBhcmUiLCJ0b2tlblQiLCJ0b2tlbiIsImVuY29kZSIsIl9pZCIsIlVTRVJfRlJPTlRFRCIsIm5hbWUiLCJzdXJuYW1lIiwiYXZhdGFyIiwibG9naW5fYWRtaW4iLCJ1cGRhdGUiLCJmaWxlcyIsImltZ19wYXRoIiwicGF0aCIsInNwbGl0IiwiYXZhdGFyX25hbWUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIlVzZXJUIiwibGlzdCIsInNlYXJjaCIsInF1ZXJ5IiwiVXNlcnMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwic29ydCIsIm1hcCIsInVzZXJzIiwicmVtb3ZlIiwiZmluZEJ5SWRBbmREZWxldGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJVc2VyQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJ1xyXG5pbXBvcnQgbW9kZWxzIGZyb20gJy4uL21vZGVscydcclxuaW1wb3J0IHRva2VuIGZyb20gJy4uL3NlcnZpY2VzL3Rva2VuJ1xyXG5pbXBvcnQgcmVzb3VyY2UgZnJvbSAnLi4vcmVzb3VyY2VzJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyByb2xcclxuICAgICAgICAgICAgLy8gbmFtZVxyXG4gICAgICAgICAgICAvLyBzdXJuYW1lXHJcbiAgICAgICAgICAgIC8vIGVtYWlsXHJcbiAgICAgICAgICAgIC8vIHBhc3N3b3JkXHJcbiAgICAgICAgICAgIHJlcS5ib2R5LnBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocmVxLmJvZHkucGFzc3dvcmQsMTApO1xyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuY3JlYXRlKHJlcS5ib2R5KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24odXNlcik7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgcmVnaXN0ZXJfYWRtaW46IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyByb2xcclxuICAgICAgICAgICAgLy8gbmFtZVxyXG4gICAgICAgICAgICAvLyBzdXJuYW1lXHJcbiAgICAgICAgICAgIC8vIGVtYWlsXHJcbiAgICAgICAgICAgIC8vIHBhc3N3b3JkXHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXJWID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsfSk7XHJcbiAgICAgICAgICAgIGlmKHVzZXJWKXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gWUEgRVhJU1RFXCJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlcS5ib2R5LnJvbCA9IFwiYWRtaW5cIjtcclxuICAgICAgICAgICAgcmVxLmJvZHkucGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChyZXEuYm9keS5wYXNzd29yZCwxMCk7XHJcbiAgICAgICAgICAgIGxldCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuY3JlYXRlKHJlcS5ib2R5KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgdXNlcjogcmVzb3VyY2UuVXNlci51c2VyX2xpc3QodXNlcilcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbG9naW46IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsLHN0YXRlOjF9KTtcclxuICAgICAgICAgICAgaWYodXNlcil7XHJcbiAgICAgICAgICAgICAgICAvL1NJIEVTVEEgUkdJU1RSQURPIEVOIEVMIFNJU1RFTUFcclxuICAgICAgICAgICAgICAgIGxldCBjb21wYXJlID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocmVxLmJvZHkucGFzc3dvcmQsdXNlci5wYXNzd29yZCk7XHJcbiAgICAgICAgICAgICAgICBpZihjb21wYXJlKXtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdG9rZW5UID0gYXdhaXQgdG9rZW4uZW5jb2RlKHVzZXIuX2lkLHVzZXIucm9sLHVzZXIuZW1haWwpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBVU0VSX0ZST05URUQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOnRva2VuVCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2lkOiB1c2VyLl9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VybmFtZTogdXNlci5zdXJuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVVNFUl9GUk9OVEVEOlVTRVJfRlJPTlRFRCxcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVhJU1RFXCJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGxvZ2luX2FkbWluOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoe2VtYWlsOiByZXEuYm9keS5lbWFpbCxzdGF0ZToxLHJvbDogXCJhZG1pblwifSk7XHJcbiAgICAgICAgICAgIGlmKHVzZXIpe1xyXG4gICAgICAgICAgICAgICAgLy9TSSBFU1RBIFJHSVNUUkFETyBFTiBFTCBTSVNURU1BXHJcbiAgICAgICAgICAgICAgICBsZXQgY29tcGFyZSA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHJlcS5ib2R5LnBhc3N3b3JkLHVzZXIucGFzc3dvcmQpO1xyXG4gICAgICAgICAgICAgICAgaWYoY29tcGFyZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRva2VuVCA9IGF3YWl0IHRva2VuLmVuY29kZSh1c2VyLl9pZCx1c2VyLnJvbCx1c2VyLmVtYWlsKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgVVNFUl9GUk9OVEVEID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjp0b2tlblQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VybmFtZTogdXNlci5zdXJuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbDogdXNlci5yb2wsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFVTRVJfRlJPTlRFRDpVU0VSX0ZST05URUQsXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBOTyBFWElTVEVcIlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB1cGRhdGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZihyZXEuZmlsZXMpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLmF2YXRhci5wYXRoO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnXFxcXCcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGF2YXRhcl9uYW1lID0gbmFtZVsyXTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGF2YXRhcl9uYW1lKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHJlcS5ib2R5LnBhc3N3b3JkKXtcclxuICAgICAgICAgICAgICAgIHJlcS5ib2R5LnBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocmVxLmJvZHkucGFzc3dvcmQsMTApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHJlcS5ib2R5Ll9pZH0scmVxLmJvZHkpO1xyXG5cclxuICAgICAgICAgICAgbGV0IFVzZXJUID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7X2lkOiByZXEuYm9keS5faWR9KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIFNFIEhBIE1PRElGSUNBRE8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICAgICAgdXNlcjogcmVzb3VyY2UuVXNlci51c2VyX2xpc3QoVXNlclQpLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBsaXN0OiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIHNlYXJjaCA9IHJlcS5xdWVyeS5zZWFyY2g7XHJcbiAgICAgICAgICAgIGxldCBVc2VycyA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmQoe1xyXG4gICAgICAgICAgICAgICAgJG9yOltcclxuICAgICAgICAgICAgICAgICAgICB7XCJuYW1lXCI6IG5ldyBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcInN1cm5hbWVcIjogbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXHJcbiAgICAgICAgICAgICAgICAgICAge1wiZW1haWxcIjogbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH0pLnNvcnQoeydjcmVhdGVkQXQnOiAtMX0pO1xyXG5cclxuICAgICAgICAgICAgVXNlcnMgPSBVc2Vycy5tYXAoKHVzZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvdXJjZS5Vc2VyLnVzZXJfbGlzdCh1c2VyKTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIHVzZXJzOiBVc2Vyc1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICByZW1vdmU6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBVc2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZEJ5SWRBbmREZWxldGUoe19pZDogcmVxLnF1ZXJ5Ll9pZH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gU0UgRUxJTUlOTyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxPQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxNQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxVQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBbUMsU0FBQUQsdUJBQUFLLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFBQSxJQUFBRyxRQUFBLEdB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","map":{"version":3,"names":["_bcryptjs","_interopRequireDefault","require","_models","_token","_resources","obj","__esModule","default","_default","register","req","res","body","password","bcrypt","hash","user","models","User","create","status","json","error","send","message","console","log","register_admin","userV","findOne","email","rol","resource","user_list","login","state","compare","tokenT","token","encode","_id","USER_FRONTED","name","surname","avatar","login_admin","update","files","img_path","path","split","avatar_name","findByIdAndUpdate","UserT","list","search","query","Users","find","$or","RegExp","sort","map","users","remove","findByIdAndDelete","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["UserController.js"],"sourcesContent":["import bcrypt from 'bcryptjs'\r\nimport models from '../models'\r\nimport token from '../services/token'\r\nimport resource from '../resources'\r\n\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            // rol\r\n            // name\r\n            // surname\r\n            // email\r\n            // password\r\n            req.body.password = await bcrypt.hash(req.body.password,10);\r\n            const user = await models.User.create(req.body);\r\n            res.status(200).json(user);\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    register_admin: async(req,res) => {\r\n        try {\r\n            // rol\r\n            // name\r\n            // surname\r\n            // email\r\n            // password\r\n            const userV = await models.User.findOne({email: req.body.email});\r\n            if(userV){\r\n                res.status(500).send({\r\n                    message: \"EL USUARIO YA EXISTE\"\r\n                });\r\n            }\r\n            req.body.rol = \"admin\";\r\n            req.body.password = await bcrypt.hash(req.body.password,10);\r\n            let user = await models.User.create(req.body);\r\n            res.status(200).json({\r\n                user: resource.User.user_list(user)\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    login: async(req,res) => {\r\n        try {\r\n            const user = await models.User.findOne({email: req.body.email,state:1});\r\n            if(user){\r\n                //SI ESTA RGISTRADO EN EL SISTEMA\r\n                let compare = await bcrypt.compare(req.body.password,user.password);\r\n                if(compare){\r\n                    let tokenT = await token.encode(user._id,user.rol,user.email);\r\n\r\n                    const USER_FRONTED = {\r\n                        token:tokenT,\r\n                        user: {\r\n                            _id: user._id,\r\n                            name: user.name,\r\n                            email: user.email,\r\n                            surname: user.surname,\r\n                            avatar: user.avatar,\r\n                        },\r\n                    }\r\n\r\n                    res.status(200).json({\r\n                        USER_FRONTED:USER_FRONTED,\r\n                    })\r\n                }else{\r\n                    res.status(500).send({\r\n                        message: \"EL USUARIO NO EXISTE\"\r\n                    });\r\n                }\r\n            }else{\r\n                res.status(500).send({\r\n                    message: \"EL USUARIO NO EXISTE\"\r\n                });\r\n            }\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    login_admin: async(req,res) => {\r\n        try {\r\n            const user = await models.User.findOne({email: req.body.email,state:1,rol: \"admin\"});\r\n            if(user){\r\n                //SI ESTA RGISTRADO EN EL SISTEMA\r\n                let compare = await bcrypt.compare(req.body.password,user.password);\r\n                if(compare){\r\n                    let tokenT = await token.encode(user._id,user.rol,user.email);\r\n\r\n                    const USER_FRONTED = {\r\n                        token:tokenT,\r\n                        user: {\r\n                            name: user.name,\r\n                            email: user.email,\r\n                            surname: user.surname,\r\n                            avatar: user.avatar,\r\n                            rol: user.rol,\r\n                        },\r\n                    }\r\n\r\n                    res.status(200).json({\r\n                        USER_FRONTED:USER_FRONTED,\r\n                    })\r\n                }else{\r\n                    res.status(500).send({\r\n                        message: \"EL USUARIO NO EXISTE\"\r\n                    });\r\n                }\r\n            }else{\r\n                res.status(500).send({\r\n                    message: \"EL USUARIO NO EXISTE\"\r\n                });\r\n            }\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    update: async(req,res) => {\r\n        try {\r\n            if(req.files){\r\n                var img_path = req.files.avatar.path;\r\n                var name = img_path.split('\\\\');\r\n                var avatar_name = name[2];\r\n                console.log(avatar_name)\r\n            }\r\n            if(req.body.password){\r\n                req.body.password = await bcrypt.hash(req.body.password,10);\r\n            }\r\n            await models.User.findByIdAndUpdate({_id: req.body._id},req.body);\r\n\r\n            let UserT = await models.User.findOne({_id: req.body._id});\r\n            res.status(200).json({\r\n                message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\r\n                user: resource.User.user_list(UserT),\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    list: async(req,res) => {\r\n        try {\r\n            var search = req.query.search;\r\n            let Users = await models.User.find({\r\n                $or:[\r\n                    {\"name\": new RegExp(search, \"i\")},\r\n                    {\"surname\": new RegExp(search, \"i\")},\r\n                    {\"email\": new RegExp(search, \"i\")},\r\n                ]\r\n            }).sort({'createdAt': -1});\r\n\r\n            Users = Users.map((user) => {\r\n                return resource.User.user_list(user);\r\n            })\r\n\r\n            res.status(200).json({\r\n                users: Users\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    remove: async(req,res) => {\r\n        try {\r\n            const User = await models.User.findByIdAndDelete({_id: req.query._id});\r\n            res.status(200).json({\r\n                message: \"EL USUARIO SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    }\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1678755723103},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _Cupone = _interopRequireDefault(require(\"./Cupone\"));\nvar _Discount = _interopRequireDefault(require(\"./Discount\"));\nvar _Home = _interopRequireDefault(require(\"./Home\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.use('/users', _User.default);\nrouter.use('/categories', _Categorie.default);\nrouter.use('/products', _Product.default);\nrouter.use('/sliders', _Slider.default);\nrouter.use('/cupones', _Cupone.default);\nrouter.use('/discount', _Discount.default);\nrouter.use('/home', _Home.default);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyIiwiX0NhdGVnb3JpZSIsIl9Qcm9kdWN0IiwiX1NsaWRlciIsIl9DdXBvbmUiLCJfRGlzY291bnQiLCJfSG9tZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsInVzZSIsIlVzZXIiLCJDYXRlZ29yaWUiLCJQcm9kdWN0IiwiU2xpZGVyIiwiQ3Vwb25lIiwiRGlzY291bnQiLCJIb21lIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IFVzZXIgZnJvbSAnLi9Vc2VyJ1xyXG5pbXBvcnQgQ2F0ZWdvcmllIGZyb20gJy4vQ2F0ZWdvcmllJ1xyXG5pbXBvcnQgUHJvZHVjdCBmcm9tICcuL1Byb2R1Y3QnXHJcbmltcG9ydCBTbGlkZXIgZnJvbSAnLi9TbGlkZXInXHJcbmltcG9ydCBDdXBvbmUgZnJvbSAnLi9DdXBvbmUnXHJcbmltcG9ydCBEaXNjb3VudCBmcm9tICcuL0Rpc2NvdW50J1xyXG5pbXBvcnQgSG9tZSBmcm9tICcuL0hvbWUnXHJcblxyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcbnJvdXRlci51c2UoJy91c2VycycsIFVzZXIpO1xyXG5yb3V0ZXIudXNlKCcvY2F0ZWdvcmllcycsIENhdGVnb3JpZSk7XHJcbnJvdXRlci51c2UoJy9wcm9kdWN0cycsIFByb2R1Y3QpO1xyXG5yb3V0ZXIudXNlKCcvc2xpZGVycycsIFNsaWRlcik7XHJcbnJvdXRlci51c2UoJy9jdXBvbmVzJywgQ3Vwb25lKTtcclxucm91dGVyLnVzZSgnL2Rpc2NvdW50JywgRGlzY291bnQpO1xyXG5yb3V0ZXIudXNlKCcvaG9tZScsIEhvbWUpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFVBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFFBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLE9BQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFLLE9BQUEsR0FBQU4sc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFNLFNBQUEsR0FBQVAsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFPLEtBQUEsR0FBQVIsc0JBQUEsQ0FBQUMsT0FBQTtBQUF5QixTQUFBRCx1QkFBQVMsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUV6QixNQUFNRyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBQ3hCRCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxRQUFRLEVBQUVDLGFBQUksQ0FBQztBQUMxQkgsTUFBTSxDQUFDRSxHQUFHLENBQUMsYUFBYSxFQUFFRSxrQkFBUyxDQUFDO0FBQ3BDSixNQUFNLENBQUNFLEdBQUcsQ0FBQyxXQUFXLEVBQUVHLGdCQUFPLENBQUM7QUFDaENMLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLFVBQVUsRUFBRUksZUFBTSxDQUFDO0FBQzlCTixNQUFNLENBQUNFLEdBQUcsQ0FBQyxVQUFVLEVBQUVLLGVBQU0sQ0FBQztBQUM5QlAsTUFBTSxDQUFDRSxHQUFHLENBQUMsV0FBVyxFQUFFTSxpQkFBUSxDQUFDO0FBQ2pDUixNQUFNLENBQUNFLEdBQUcsQ0FBQyxPQUFPLEVBQUVPLGFBQUksQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FFWFYsTUFBTTtBQUFBVyxPQUFBLENBQUFaLE9BQUEsR0FBQVcsUUFBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_User","_Categorie","_Product","_Slider","_Cupone","_Discount","_Home","obj","__esModule","default","router","routerx","use","User","Categorie","Product","Slider","Cupone","Discount","Home","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["index.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport User from './User'\r\nimport Categorie from './Categorie'\r\nimport Product from './Product'\r\nimport Slider from './Slider'\r\nimport Cupone from './Cupone'\r\nimport Discount from './Discount'\r\nimport Home from './Home'\r\n\r\nconst router = routerx();\r\nrouter.use('/users', User);\r\nrouter.use('/categories', Categorie);\r\nrouter.use('/products', Product);\r\nrouter.use('/sliders', Slider);\r\nrouter.use('/cupones', Cupone);\r\nrouter.use('/discount', Discount);\r\nrouter.use('/home', Home);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,UAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,QAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,OAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,SAAA,GAAAP,sBAAA,CAAAC,OAAA;AACA,IAAAO,KAAA,GAAAR,sBAAA,CAAAC,OAAA;AAAyB,SAAAD,uBAAAS,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEzB,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxBD,MAAM,CAACE,GAAG,CAAC,QAAQ,EAAEC,aAAI,CAAC;AAC1BH,MAAM,CAACE,GAAG,CAAC,aAAa,EAAEE,kBAAS,CAAC;AACpCJ,MAAM,CAACE,GAAG,CAAC,WAAW,EAAEG,gBAAO,CAAC;AAChCL,MAAM,CAACE,GAAG,CAAC,UAAU,EAAEI,eAAM,CAAC;AAC9BN,MAAM,CAACE,GAAG,CAAC,UAAU,EAAEK,eAAM,CAAC;AAC9BP,MAAM,CAACE,GAAG,CAAC,WAAW,EAAEM,iBAAQ,CAAC;AACjCR,MAAM,CAACE,GAAG,CAAC,OAAO,EAAEO,aAAI,CAAC;AAAC,IAAAC,QAAA,GAEXV,MAAM;AAAAW,OAAA,CAAAZ,OAAA,GAAAW,QAAA","ignoreList":[]}},"mtime":1678321414225},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Variedad = _interopRequireDefault(require(\"./Variedad\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _Cupone = _interopRequireDefault(require(\"./Cupone\"));\nvar _Discount = _interopRequireDefault(require(\"./Discount\"));\nvar _Cart = _interopRequireDefault(require(\"./Cart\"));\nvar _AddressClient = _interopRequireDefault(require(\"./AddressClient\"));\nvar _Sale = _interopRequireDefault(require(\"./Sale\"));\nvar _SaleDetail = _interopRequireDefault(require(\"./SaleDetail\"));\nvar _SaleAddress = _interopRequireDefault(require(\"./SaleAddress\"));\nvar _Review = _interopRequireDefault(require(\"./Review\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  User: _User.default,\n  Categorie: _Categorie.default,\n  Product: _Product.default,\n  Variedad: _Variedad.default,\n  Slider: _Slider.default,\n  Cupone: _Cupone.default,\n  Discount: _Discount.default,\n  Cart: _Cart.default,\n  AddressClient: _AddressClient.default,\n  Sale: _Sale.default,\n  SaleDetail: _SaleDetail.default,\n  SaleAddress: _SaleAddress.default,\n  Review: _Review.default\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0NhdGVnb3JpZSIsIl9Qcm9kdWN0IiwiX1ZhcmllZGFkIiwiX1NsaWRlciIsIl9DdXBvbmUiLCJfRGlzY291bnQiLCJfQ2FydCIsIl9BZGRyZXNzQ2xpZW50IiwiX1NhbGUiLCJfU2FsZURldGFpbCIsIl9TYWxlQWRkcmVzcyIsIl9SZXZpZXciLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiVXNlciIsIkNhdGVnb3JpZSIsIlByb2R1Y3QiLCJWYXJpZWRhZCIsIlNsaWRlciIsIkN1cG9uZSIsIkRpc2NvdW50IiwiQ2FydCIsIkFkZHJlc3NDbGllbnQiLCJTYWxlIiwiU2FsZURldGFpbCIsIlNhbGVBZGRyZXNzIiwiUmV2aWV3IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVc2VyIGZyb20gJy4vVXNlcidcclxuaW1wb3J0IENhdGVnb3JpZSBmcm9tICcuL0NhdGVnb3JpZSdcclxuaW1wb3J0IFByb2R1Y3QgZnJvbSAnLi9Qcm9kdWN0J1xyXG5pbXBvcnQgVmFyaWVkYWQgZnJvbSAnLi9WYXJpZWRhZCdcclxuaW1wb3J0IFNsaWRlciBmcm9tICcuL1NsaWRlcidcclxuaW1wb3J0IEN1cG9uZSBmcm9tICcuL0N1cG9uZSdcclxuaW1wb3J0IERpc2NvdW50IGZyb20gJy4vRGlzY291bnQnXHJcbmltcG9ydCBDYXJ0IGZyb20gJy4vQ2FydCdcclxuaW1wb3J0IEFkZHJlc3NDbGllbnQgZnJvbSAnLi9BZGRyZXNzQ2xpZW50J1xyXG5cclxuaW1wb3J0IFNhbGUgZnJvbSAnLi9TYWxlJ1xyXG5pbXBvcnQgU2FsZURldGFpbCBmcm9tICcuL1NhbGVEZXRhaWwnXHJcbmltcG9ydCBTYWxlQWRkcmVzcyBmcm9tICcuL1NhbGVBZGRyZXNzJ1xyXG5cclxuaW1wb3J0IFJldmlldyBmcm9tICcuL1JldmlldydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIFVzZXIsXHJcbiAgICBDYXRlZ29yaWUsXHJcbiAgICBQcm9kdWN0LFxyXG4gICAgVmFyaWVkYWQsXHJcbiAgICBTbGlkZXIsXHJcbiAgICBDdXBvbmUsXHJcbiAgICBEaXNjb3VudCxcclxuICAgIENhcnQsXHJcbiAgICBBZGRyZXNzQ2xpZW50LFxyXG4gICAgU2FsZSxcclxuICAgIFNhbGVEZXRhaWwsXHJcbiAgICBTYWxlQWRkcmVzcyxcclxuICAgIFJldmlldyxcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsS0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsVUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsUUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsU0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksT0FBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUssT0FBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU0sU0FBQSxHQUFBUCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU8sS0FBQSxHQUFBUixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVEsY0FBQSxHQUFBVCxzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBQVMsS0FBQSxHQUFBVixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVUsV0FBQSxHQUFBWCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVcsWUFBQSxHQUFBWixzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBQVksT0FBQSxHQUFBYixzQkFBQSxDQUFBQyxPQUFBO0FBQTZCLFNBQUFELHVCQUFBYyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUVkO0VBQ1hDLElBQUksRUFBSkEsYUFBSTtFQUNKQyxTQUFTLEVBQVRBLGtCQUFTO0VBQ1RDLE9BQU8sRUFBUEEsZ0JBQU87RUFDUEMsUUFBUSxFQUFSQSxpQkFBUTtFQUNSQyxNQUFNLEVBQU5BLGVBQU07RUFDTkMsTUFBTSxFQUFOQSxlQUFNO0VBQ05DLFFBQVEsRUFBUkEsaUJBQVE7RUFDUkMsSUFBSSxFQUFKQSxhQUFJO0VBQ0pDLGFBQWEsRUFBYkEsc0JBQWE7RUFDYkMsSUFBSSxFQUFKQSxhQUFJO0VBQ0pDLFVBQVUsRUFBVkEsbUJBQVU7RUFDVkMsV0FBVyxFQUFYQSxvQkFBVztFQUNYQyxNQUFNLEVBQU5BO0FBQ0osQ0FBQztBQUFBQyxPQUFBLENBQUFmLE9BQUEsR0FBQUMsUUFBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_User","_interopRequireDefault","require","_Categorie","_Product","_Variedad","_Slider","_Cupone","_Discount","_Cart","_AddressClient","_Sale","_SaleDetail","_SaleAddress","_Review","obj","__esModule","default","_default","User","Categorie","Product","Variedad","Slider","Cupone","Discount","Cart","AddressClient","Sale","SaleDetail","SaleAddress","Review","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["index.js"],"sourcesContent":["import User from './User'\r\nimport Categorie from './Categorie'\r\nimport Product from './Product'\r\nimport Variedad from './Variedad'\r\nimport Slider from './Slider'\r\nimport Cupone from './Cupone'\r\nimport Discount from './Discount'\r\nimport Cart from './Cart'\r\nimport AddressClient from './AddressClient'\r\n\r\nimport Sale from './Sale'\r\nimport SaleDetail from './SaleDetail'\r\nimport SaleAddress from './SaleAddress'\r\n\r\nimport Review from './Review'\r\n\r\nexport default {\r\n    User,\r\n    Categorie,\r\n    Product,\r\n    Variedad,\r\n    Slider,\r\n    Cupone,\r\n    Discount,\r\n    Cart,\r\n    AddressClient,\r\n    Sale,\r\n    SaleDetail,\r\n    SaleAddress,\r\n    Review,\r\n}"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,QAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,OAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,SAAA,GAAAP,sBAAA,CAAAC,OAAA;AACA,IAAAO,KAAA,GAAAR,sBAAA,CAAAC,OAAA;AACA,IAAAQ,cAAA,GAAAT,sBAAA,CAAAC,OAAA;AAEA,IAAAS,KAAA,GAAAV,sBAAA,CAAAC,OAAA;AACA,IAAAU,WAAA,GAAAX,sBAAA,CAAAC,OAAA;AACA,IAAAW,YAAA,GAAAZ,sBAAA,CAAAC,OAAA;AAEA,IAAAY,OAAA,GAAAb,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAc,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAEd;EACXC,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA,kBAAS;EACTC,OAAO,EAAPA,gBAAO;EACPC,QAAQ,EAARA,iBAAQ;EACRC,MAAM,EAANA,eAAM;EACNC,MAAM,EAANA,eAAM;EACNC,QAAQ,EAARA,iBAAQ;EACRC,IAAI,EAAJA,aAAI;EACJC,aAAa,EAAbA,sBAAa;EACbC,IAAI,EAAJA,aAAI;EACJC,UAAU,EAAVA,mBAAU;EACVC,WAAW,EAAXA,oBAAW;EACXC,MAAM,EAANA;AACJ,CAAC;AAAAC,OAAA,CAAAf,OAAA,GAAAC,QAAA","ignoreList":[]}},"mtime":1680709955464},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst UserSchema = new _mongoose.Schema({\n  rol: {\n    type: String,\n    maxlength: 30,\n    required: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    required: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  avatar: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  state: {\n    type: Number,\n    default: 1\n  },\n  //1 es activo y 2 es des activo\n  phone: {\n    type: String,\n    maxlength: 20,\n    required: false\n  },\n  birthday: {\n    type: String,\n    maxlength: 20,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst User = _mongoose.default.model(\"user\", UserSchema);\nvar _default = User;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiVXNlclNjaGVtYSIsIlNjaGVtYSIsInJvbCIsInR5cGUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJyZXF1aXJlZCIsIm5hbWUiLCJzdXJuYW1lIiwiZW1haWwiLCJ1bmlxdWUiLCJwYXNzd29yZCIsImF2YXRhciIsInN0YXRlIiwiTnVtYmVyIiwicGhvbmUiLCJiaXJ0aGRheSIsInRpbWVzdGFtcHMiLCJVc2VyIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIlVzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3QgVXNlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgcm9sOnt0eXBlOiBTdHJpbmcsbWF4bGVuZ3RoOjMwLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgbmFtZTp7dHlwZTogU3RyaW5nLG1heGxlbmd0aDoyNTAscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBzdXJuYW1lOnt0eXBlOiBTdHJpbmcsbWF4bGVuZ3RoOjI1MCxyZXF1aXJlZDpmYWxzZX0sXHJcbiAgICBlbWFpbDp7dHlwZTogU3RyaW5nLG1heGxlbmd0aDoyNTAscmVxdWlyZWQ6dHJ1ZSx1bmlxdWU6dHJ1ZX0sXHJcbiAgICBwYXNzd29yZDp7dHlwZTogU3RyaW5nLG1heGxlbmd0aDoyNTAscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBhdmF0YXI6e3R5cGU6IFN0cmluZyxtYXhsZW5ndGg6MjUwLHJlcXVpcmVkOmZhbHNlfSxcclxuICAgIHN0YXRlOnt0eXBlOiBOdW1iZXIsZGVmYXVsdDoxfSwvLzEgZXMgYWN0aXZvIHkgMiBlcyBkZXMgYWN0aXZvXHJcbiAgICBwaG9uZTp7dHlwZTogU3RyaW5nLG1heGxlbmd0aDoyMCxyZXF1aXJlZDpmYWxzZX0sXHJcbiAgICBiaXJ0aGRheTp7dHlwZTogU3RyaW5nLG1heGxlbmd0aDoyMCxyZXF1aXJlZDpmYWxzZX0sXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczogdHJ1ZVxyXG59KTtcclxuXHJcbmNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbChcInVzZXJcIixVc2VyU2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgVXNlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBQyx5QkFBQUMsV0FBQSxlQUFBQyxPQUFBLGtDQUFBQyxpQkFBQSxPQUFBRCxPQUFBLFFBQUFFLGdCQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsV0FBQSxXQUFBQSxXQUFBLEdBQUFHLGdCQUFBLEdBQUFELGlCQUFBLEtBQUFGLFdBQUE7QUFBQSxTQUFBSCx3QkFBQU8sR0FBQSxFQUFBSixXQUFBLFNBQUFBLFdBQUEsSUFBQUksR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsV0FBQUQsR0FBQSxRQUFBQSxHQUFBLG9CQUFBQSxHQUFBLHdCQUFBQSxHQUFBLDRCQUFB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","UserSchema","Schema","rol","type","String","maxlength","required","name","surname","email","unique","password","avatar","state","Number","phone","birthday","timestamps","User","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["User.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst UserSchema = new Schema({\r\n    rol:{type: String,maxlength:30,required:true},\r\n    name:{type: String,maxlength:250,required:true},\r\n    surname:{type: String,maxlength:250,required:false},\r\n    email:{type: String,maxlength:250,required:true,unique:true},\r\n    password:{type: String,maxlength:250,required:true},\r\n    avatar:{type: String,maxlength:250,required:false},\r\n    state:{type: Number,default:1},//1 es activo y 2 es des activo\r\n    phone:{type: String,maxlength:20,required:false},\r\n    birthday:{type: String,maxlength:20,required:false},\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst User = mongoose.model(\"user\",UserSchema);\r\nexport default User;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAH,wBAAAO,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,CAAAJ,OAAA,GAAAF,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAEzC,MAAMW,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC1BC,GAAG,EAAC;IAACC,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC7CC,IAAI,EAAC;IAACJ,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC/CE,OAAO,EAAC;IAACL,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAK,CAAC;EACnDG,KAAK,EAAC;IAACN,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC,IAAI;IAACI,MAAM,EAAC;EAAI,CAAC;EAC5DC,QAAQ,EAAC;IAACR,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EACnDM,MAAM,EAAC;IAACT,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAK,CAAC;EAClDO,KAAK,EAAC;IAACV,IAAI,EAAEW,MAAM;IAAC7B,OAAO,EAAC;EAAC,CAAC;EAAC;EAC/B8B,KAAK,EAAC;IAACZ,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAK,CAAC;EAChDU,QAAQ,EAAC;IAACb,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAK;AACtD,CAAC,EAAC;EACEW,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAACpB,UAAU,CAAC;AAAC,IAAAqB,QAAA,GAChCH,IAAI;AAAAI,OAAA,CAAArC,OAAA,GAAAoC,QAAA","ignoreList":[]}},"mtime":1676098831866},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst CategorieSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  imagen: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  state: {\n    type: Number,\n    maxlength: 2,\n    default: 1\n  }\n}, {\n  timestamps: true\n});\nconst Categorie = _mongoose.default.model(\"categorie\", CategorieSchema);\nvar _default = Categorie;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiQ2F0ZWdvcmllU2NoZW1hIiwiU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwibWF4bGVuZ3RoIiwicmVxdWlyZWQiLCJpbWFnZW4iLCJzdGF0ZSIsIk51bWJlciIsInRpbWVzdGFtcHMiLCJDYXRlZ29yaWUiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiQ2F0ZWdvcmllLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IENhdGVnb3JpZVNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgdGl0bGU6e3R5cGU6U3RyaW5nLG1heGxlbmd0aCA6IDI1MCxyZXF1aXJlZDp0cnVlfSxcclxuICAgIGltYWdlbjp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgc3RhdGU6e3R5cGU6TnVtYmVyLG1heGxlbmd0aDoyLGRlZmF1bHQ6MX0sXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczogdHJ1ZVxyXG59KTtcclxuXHJcbmNvbnN0IENhdGVnb3JpZSA9IG1vbmdvb3NlLm1vZGVsKFwiY2F0ZWdvcmllXCIsQ2F0ZWdvcmllU2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgQ2F0ZWdvcmllOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQXlDLFNBQUFDLHlCQUFBQyxXQUFBLGVBQUFDLE9BQUEsa0NBQUFDLGlCQUFBLE9BQUFELE9BQUEsUUFBQUUsZ0JBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxXQUFBLFdBQUFBLFdBQUEsR0FBQUcsZ0JBQUEsR0FBQUQsaUJBQUEsS0FBQUYsV0FBQTtBQUFBLFNBQUFILHdCQUFBTyxHQUFBLEVBQUFKLFdBQUEsU0FBQUEsV0FBQSxJQUFBSSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxXQUFBRCxHQUFBLFFBQUFBLEdBQUEsb0JBQUFBLEdBQUEsd0JBQUFBLEdBQUEsNEJBQUFFLE9BQUEsRUFBQUYsR0FBQSxVQUFBRyxLQUFBLEdBQUFSLHdCQUFBLENBQUFDLFdBQUEsT0FBQU8sS0FBQSxJQUFBQSxLQUFBLENBQUFDLEdBQUEsQ0FBQUosR0FBQSxZQUFBRyxLQUFBLENBQUFFLEdBQUEsQ0FBQUwsR0FBQSxTQUFBTSxNQUFBLFdBQUFDLHFCQUFBLEdBQUFDLE1BQUEsQ0FBQUMsY0FBQSxJQUFBRCxNQUFBLENBQUFFLHdCQUFBLFdBQUFDLEdBQUEsSUFBQVgsR0FBQSxRQUFBVyxHQUFBLGtCQUFBSCxNQUFBLENBQUFJLFNBQUEsQ0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFkLEdBQUEsRUFBQVcsR0FBQSxTQUFBSSxJQUFBLEdBQUFSLHFCQUFBLEdBQUFDLE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQVYsR0FBQSxFQUFBVyxHQUFBLGNBQUFJLElBQUEsS0FBQUEsSUFBQSxDQUFBVixHQUFBLElBQUFVLElBQUEsQ0FBQUMsR0FBQSxLQUFBUixNQUFBLENBQUFDLGNBQUEsQ0FBQUgsTUFBQSxFQUFBSyxHQUFBLEVBQUFJLElBQUEsWUFBQVQsTUFBQSxDQUFBSyxHQUFBLElBQUFYLEdBQUEsQ0FBQVcsR0FBQSxTQUFBTCxNQUFBLENBQUFKLE9BQUEsR0FBQUYsR0FBQSxNQUFBRyxLQUFBLElBQUFBLEtBQUEsQ0FBQWEsR0FBQSxDQUFBaEIsR0FBQSxFQUFBTSxNQUFBLFlBQUFBLE1BQUE7QUFFekMsTUFBTVcsZUFBZSxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDL0JDLEtBQUssRUFBQztJQUFDQyxJQUFJLEVBQUNDLE1BQU07SUFBQ0MsU0FBUyxFQUFHLEdBQUc7SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNqREMsTUFBTSxFQUFDO0lBQUNKLElBQUksRUFBQ0MsTUFBTTtJQUFDQyxTQUFTLEVBQUUsR0FBRztJQUFFQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2xERSxLQUFLLEVBQUM7SUFBQ0wsSUFBSSxFQUFDTSxNQUFNO0lBQUNKLFNBQVMsRUFBQyxDQUFDO0lBQUNwQixPQUFPLEVBQUM7RUFBQztBQUM1QyxDQUFDLEVBQUM7RUFDRXlCLFVBQVUsRUFBRTtBQUNoQixDQUFDLENBQUM7QUFFRixNQUFNQyxTQUFTLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxXQUFXLEVBQUNiLGVBQWUsQ0FBQztBQUFDLElBQUFjLFFBQUEsR0FDL0NILFNBQVM7QUFBQUksT0FBQSxDQUFBOUIsT0FBQSxHQUFBNkIsUUFBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","CategorieSchema","Schema","title","type","String","maxlength","required","imagen","state","Number","timestamps","Categorie","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Categorie.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst CategorieSchema = new Schema({\r\n    title:{type:String,maxlength : 250,required:true},\r\n    imagen:{type:String,maxlength: 250, required:true},\r\n    state:{type:Number,maxlength:2,default:1},\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst Categorie = mongoose.model(\"categorie\",CategorieSchema);\r\nexport default Categorie;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAH,wBAAAO,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,CAAAJ,OAAA,GAAAF,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAEzC,MAAMW,eAAe,GAAG,IAAIC,gBAAM,CAAC;EAC/BC,KAAK,EAAC;IAACC,IAAI,EAACC,MAAM;IAACC,SAAS,EAAG,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EACjDC,MAAM,EAAC;IAACJ,IAAI,EAACC,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EAClDE,KAAK,EAAC;IAACL,IAAI,EAACM,MAAM;IAACJ,SAAS,EAAC,CAAC;IAACpB,OAAO,EAAC;EAAC;AAC5C,CAAC,EAAC;EACEyB,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,SAAS,GAAGC,iBAAQ,CAACC,KAAK,CAAC,WAAW,EAACb,eAAe,CAAC;AAAC,IAAAc,QAAA,GAC/CH,SAAS;AAAAI,OAAA,CAAA9B,OAAA,GAAA6B,QAAA","ignoreList":[]}},"mtime":1676360021242},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst ProductSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  slug: {\n    type: String,\n    required: true,\n    maxlength: 1000\n  },\n  sku: {\n    type: String,\n    required: true\n  },\n  categorie: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'categorie',\n    required: true\n  },\n  price_soles: {\n    type: Number,\n    required: true\n  },\n  price_usd: {\n    type: Number,\n    required: true\n  },\n  portada: {\n    type: String,\n    required: true\n  },\n  galerias: [{\n    type: Object,\n    required: false\n  }],\n  state: {\n    type: Number,\n    default: 1\n  },\n  //1 es en prueba o desarrollo , 2 va ser publico y 3 va ser anulado\n  stock: {\n    type: Number,\n    default: 0\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  resumen: {\n    type: String,\n    required: true\n  },\n  tags: {\n    type: String,\n    required: true\n  },\n  type_inventario: {\n    type: Number,\n    default: 1\n  }\n}, {\n  timestamps: true\n});\nconst Product = _mongoose.default.model('product', ProductSchema);\nvar _default = Product;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiUHJvZHVjdFNjaGVtYSIsIlNjaGVtYSIsInRpdGxlIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwibWF4bGVuZ3RoIiwic2x1ZyIsInNrdSIsImNhdGVnb3JpZSIsIk9iamVjdElkIiwicmVmIiwicHJpY2Vfc29sZXMiLCJOdW1iZXIiLCJwcmljZV91c2QiLCJwb3J0YWRhIiwiZ2FsZXJpYXMiLCJzdGF0ZSIsInN0b2NrIiwiZGVzY3JpcHRpb24iLCJyZXN1bWVuIiwidGFncyIsInR5cGVfaW52ZW50YXJpbyIsInRpbWVzdGFtcHMiLCJQcm9kdWN0IiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIlByb2R1Y3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3QgUHJvZHVjdFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgdGl0bGU6e3R5cGU6U3RyaW5nLHJlcXVpcmVkOnRydWUsbWF4bGVuZ3RoOjI1MH0sXHJcbiAgICBzbHVnOnt0eXBlOlN0cmluZyxyZXF1aXJlZDp0cnVlLG1heGxlbmd0aDoxMDAwfSxcclxuICAgIHNrdTp7dHlwZTpTdHJpbmcscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBjYXRlZ29yaWU6e3R5cGU6U2NoZW1hLk9iamVjdElkLHJlZjonY2F0ZWdvcmllJyxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHByaWNlX3NvbGVzOnt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSxcclxuICAgIHByaWNlX3VzZDp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBwb3J0YWRhOnt0eXBlOlN0cmluZyxyZXF1aXJlZDp0cnVlfSxcclxuICAgIGdhbGVyaWFzOlt7dHlwZTpPYmplY3QscmVxdWlyZWQ6ZmFsc2V9XSxcclxuICAgIHN0YXRlOnt0eXBlOk51bWJlcixkZWZhdWx0OjF9LC8vMSBlcyBlbiBwcnVlYmEgbyBkZXNhcnJvbGxvICwgMiB2YSBzZXIgcHVibGljbyB5IDMgdmEgc2VyIGFudWxhZG9cclxuICAgIHN0b2NrOnt0eXBlOk51bWJlcixkZWZhdWx0OiAwfSxcclxuICAgIGRlc2NyaXB0aW9uOnt0eXBlOlN0cmluZyxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHJlc3VtZW46e3R5cGU6U3RyaW5nLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgdGFnczp7dHlwZTpTdHJpbmcscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICB0eXBlX2ludmVudGFyaW86e3R5cGU6TnVtYmVyLGRlZmF1bHQ6IDF9LFxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6dHJ1ZSxcclxufSk7XHJcblxyXG5jb25zdCBQcm9kdWN0ID0gbW9uZ29vc2UubW9kZWwoJ3Byb2R1Y3QnLFByb2R1Y3RTY2hlbWEpO1xyXG5leHBvcnQgZGVmYXVsdCBQcm9kdWN0OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ProductSchema","Schema","title","type","String","required","maxlength","slug","sku","categorie","ObjectId","ref","price_soles","Number","price_usd","portada","galerias","state","stock","description","resumen","tags","type_inventario","timestamps","Product","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Product.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst ProductSchema = new Schema({\r\n    title:{type:String,required:true,maxlength:250},\r\n    slug:{type:String,required:true,maxlength:1000},\r\n    sku:{type:String,required:true},\r\n    categorie:{type:Schema.ObjectId,ref:'categorie',required:true},\r\n    price_soles:{type:Number,required:true},\r\n    price_usd:{type:Number,required:true},\r\n    portada:{type:String,required:true},\r\n    galerias:[{type:Object,required:false}],\r\n    state:{type:Number,default:1},//1 es en prueba o desarrollo , 2 va ser publico y 3 va ser anulado\r\n    stock:{type:Number,default: 0},\r\n    description:{type:String,required:true},\r\n    resumen:{type:String,required:true},\r\n    tags:{type:String,required:true},\r\n    type_inventario:{type:Number,default: 1},\r\n},{\r\n    timestamps:true,\r\n});\r\n\r\nconst Product = mongoose.model('product',ProductSchema);\r\nexport default Product;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAH,wBAAAO,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,CAAAJ,OAAA,GAAAF,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAEzC,MAAMW,aAAa,GAAG,IAAIC,gBAAM,CAAC;EAC7BC,KAAK,EAAC;IAACC,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC,IAAI;IAACC,SAAS,EAAC;EAAG,CAAC;EAC/CC,IAAI,EAAC;IAACJ,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC,IAAI;IAACC,SAAS,EAAC;EAAI,CAAC;EAC/CE,GAAG,EAAC;IAACL,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC/BI,SAAS,EAAC;IAACN,IAAI,EAACF,gBAAM,CAACS,QAAQ;IAACC,GAAG,EAAC,WAAW;IAACN,QAAQ,EAAC;EAAI,CAAC;EAC9DO,WAAW,EAAC;IAACT,IAAI,EAACU,MAAM;IAACR,QAAQ,EAAC;EAAI,CAAC;EACvCS,SAAS,EAAC;IAACX,IAAI,EAACU,MAAM;IAACR,QAAQ,EAAC;EAAI,CAAC;EACrCU,OAAO,EAAC;IAACZ,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EACnCW,QAAQ,EAAC,CAAC;IAACb,IAAI,EAACZ,MAAM;IAACc,QAAQ,EAAC;EAAK,CAAC,CAAC;EACvCY,KAAK,EAAC;IAACd,IAAI,EAACU,MAAM;IAAC5B,OAAO,EAAC;EAAC,CAAC;EAAC;EAC9BiC,KAAK,EAAC;IAACf,IAAI,EAACU,MAAM;IAAC5B,OAAO,EAAE;EAAC,CAAC;EAC9BkC,WAAW,EAAC;IAAChB,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EACvCe,OAAO,EAAC;IAACjB,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EACnCgB,IAAI,EAAC;IAAClB,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EAChCiB,eAAe,EAAC;IAACnB,IAAI,EAACU,MAAM;IAAC5B,OAAO,EAAE;EAAC;AAC3C,CAAC,EAAC;EACEsC,UAAU,EAAC;AACf,CAAC,CAAC;AAEF,MAAMC,OAAO,GAAGC,iBAAQ,CAACC,KAAK,CAAC,SAAS,EAAC1B,aAAa,CAAC;AAAC,IAAA2B,QAAA,GACzCH,OAAO;AAAAI,OAAA,CAAA3C,OAAA,GAAA0C,QAAA","ignoreList":[]}},"mtime":1677451042869},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Variedad.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst VariedadSchema = new _mongoose.Schema({\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  valor: {\n    type: String,\n    required: true\n  },\n  stock: {\n    type: Number,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst Variedad = _mongoose.default.model('variedad', VariedadSchema);\nvar _default = Variedad;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiVmFyaWVkYWRTY2hlbWEiLCJTY2hlbWEiLCJwcm9kdWN0IiwidHlwZSIsIk9iamVjdElkIiwicmVmIiwicmVxdWlyZWQiLCJ2YWxvciIsIlN0cmluZyIsInN0b2NrIiwiTnVtYmVyIiwidGltZXN0YW1wcyIsIlZhcmllZGFkIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIlZhcmllZGFkLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IFZhcmllZGFkU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICBwcm9kdWN0Ont0eXBlOlNjaGVtYS5PYmplY3RJZCxyZWY6J3Byb2R1Y3QnLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgdmFsb3I6e3R5cGU6U3RyaW5nLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgc3RvY2s6e3R5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWV9LFxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6dHJ1ZSxcclxufSk7XHJcblxyXG5jb25zdCBWYXJpZWRhZCA9IG1vbmdvb3NlLm1vZGVsKCd2YXJpZWRhZCcsVmFyaWVkYWRTY2hlbWEpO1xyXG5leHBvcnQgZGVmYXVsdCBWYXJpZWRhZDsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBQyx5QkFBQUMsV0FBQSxlQUFBQyxPQUFBLGtDQUFBQyxpQkFBQSxPQUFBRCxPQUFBLFFBQUFFLGdCQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsV0FBQSxXQUFBQSxXQUFBLEdBQUFHLGdCQUFBLEdBQUFELGlCQUFBLEtBQUFGLFdBQUE7QUFBQSxTQUFBSCx3QkFBQU8sR0FBQSxFQUFBSixXQUFBLFNBQUFBLFdBQUEsSUFBQUksR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsV0FBQUQsR0FBQSxRQUFBQSxHQUFBLG9CQUFBQSxHQUFBLHdCQUFBQSxHQUFBLDRCQUFBRSxPQUFBLEVBQUFGLEdBQUEsVUFBQUcsS0FBQSxHQUFBUix3QkFBQSxDQUFBQyxXQUFBLE9BQUFPLEtBQUEsSUFBQUEsS0FBQSxDQUFBQyxHQUFBLENBQUFKLEdBQUEsWUFBQUcsS0FBQSxDQUFBRSxHQUFBLENBQUFMLEdBQUEsU0FBQU0sTUFBQSxXQUFBQyxxQkFBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxHQUFBLElBQUFYLEdBQUEsUUFBQVcsR0FBQSxrQkFBQUgsTUFBQSxDQUFBSSxTQUFBLENBQUFDLGNBQUEsQ0FBQUMsSUFBQSxDQUFBZCxHQUFBLEVBQUFXLEdBQUEsU0FBQUksSUFBQSxHQUFBUixxQkFBQSxHQUFBQyxNQUFBLENBQUFFLHdCQUFBLENBQUFWLEdBQUEsRUFBQVcsR0FBQSxjQUFBSSxJQUFBLEtBQUFBLElBQUEsQ0FBQVYsR0FBQSxJQUFBVSxJQUFBLENBQUFDLEdBQUEsS0FBQVIsTUFBQSxDQUFBQyxjQUFBLENBQUFILE1BQUEsRUFBQUssR0FBQSxFQUFBSSxJQUFBLFlBQUFULE1BQUEsQ0FBQUssR0FBQSxJQUFBWCxHQUFBLENBQUFXLEdBQUEsU0FBQUwsTUFBQSxDQUFBSixPQUFBLEdBQUFGLEdBQUEsTUFBQUcsS0FBQSxJQUFBQSxLQUFBLENBQUFhLEdBQUEsQ0FBQWhCLEdBQUEsRUFBQU0sTUFBQSxZQUFBQSxNQUFBO0FBRXpDLE1BQU1XLGNBQWMsR0FBRyxJQUFJQyxnQkFBTSxDQUFDO0VBQzlCQyxPQUFPLEVBQUM7SUFBQ0MsSUFBSSxFQUFDRixnQkFBTSxDQUFDRyxRQUFRO0lBQUNDLEdBQUcsRUFBQyxTQUFTO0lBQUNDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDMURDLEtBQUssRUFBQztJQUFDSixJQUFJLEVBQUNLLE1BQU07SUFBQ0YsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNqQ0csS0FBSyxFQUFDO0lBQUNOLElBQUksRUFBQ08sTUFBTTtJQUFDSixRQUFRLEVBQUM7RUFBSTtBQUNwQyxDQUFDLEVBQUM7RUFDRUssVUFBVSxFQUFDO0FBQ2YsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsUUFBUSxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsVUFBVSxFQUFDZCxjQUFjLENBQUM7QUFBQyxJQUFBZSxRQUFBLEdBQzVDSCxRQUFRO0FBQUFJLE9BQUEsQ0FBQS9CLE9BQUEsR0FBQThCLFFBQUEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","VariedadSchema","Schema","product","type","ObjectId","ref","required","valor","String","stock","Number","timestamps","Variedad","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Variedad.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst VariedadSchema = new Schema({\r\n    product:{type:Schema.ObjectId,ref:'product',required:true},\r\n    valor:{type:String,required:true},\r\n    stock:{type:Number,required:true},\r\n},{\r\n    timestamps:true,\r\n});\r\n\r\nconst Variedad = mongoose.model('variedad',VariedadSchema);\r\nexport default Variedad;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAH,wBAAAO,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,CAAAJ,OAAA,GAAAF,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAEzC,MAAMW,cAAc,GAAG,IAAIC,gBAAM,CAAC;EAC9BC,OAAO,EAAC;IAACC,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,SAAS;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC1DC,KAAK,EAAC;IAACJ,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC;EAAI,CAAC;EACjCG,KAAK,EAAC;IAACN,IAAI,EAACO,MAAM;IAACJ,QAAQ,EAAC;EAAI;AACpC,CAAC,EAAC;EACEK,UAAU,EAAC;AACf,CAAC,CAAC;AAEF,MAAMC,QAAQ,GAAGC,iBAAQ,CAACC,KAAK,CAAC,UAAU,EAACd,cAAc,CAAC;AAAC,IAAAe,QAAA,GAC5CH,QAAQ;AAAAI,OAAA,CAAA/B,OAAA,GAAA8B,QAAA","ignoreList":[]}},"mtime":1676530728228},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst SliderSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  link: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  imagen: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  state: {\n    type: Number,\n    maxlength: 2,\n    default: 1\n  }\n}, {\n  timestamps: true\n});\nconst Slider = _mongoose.default.model(\"sliders\", SliderSchema);\nvar _default = Slider;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiU2xpZGVyU2NoZW1hIiwiU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwibWF4bGVuZ3RoIiwicmVxdWlyZWQiLCJsaW5rIiwiaW1hZ2VuIiwic3RhdGUiLCJOdW1iZXIiLCJ0aW1lc3RhbXBzIiwiU2xpZGVyIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIlNsaWRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2Use1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCBTbGlkZXJTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIHRpdGxlOnt0eXBlOlN0cmluZyxtYXhsZW5ndGggOiAyNTAscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBsaW5rOnt0eXBlOlN0cmluZyxtYXhsZW5ndGggOiAyNTAscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBpbWFnZW46e3R5cGU6U3RyaW5nLG1heGxlbmd0aDogMjUwLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIHN0YXRlOnt0eXBlOk51bWJlcixtYXhsZW5ndGg6MixkZWZhdWx0OjF9LFxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6IHRydWVcclxufSk7XHJcblxyXG5jb25zdCBTbGlkZXIgPSBtb25nb29zZS5tb2RlbChcInNsaWRlcnNcIixTbGlkZXJTY2hlbWEpO1xyXG5leHBvcnQgZGVmYXVsdCBTbGlkZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBeUMsU0FBQUMseUJBQUFDLFdBQUEsZUFBQUMsT0FBQSxrQ0FBQUMsaUJBQUEsT0FBQUQsT0FBQSxRQUFBRSxnQkFBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLFdBQUEsV0FBQUEsV0FBQSxHQUFBRyxnQkFBQSxHQUFBRCxpQkFBQSxLQUFBRixXQUFBO0FBQUEsU0FBQUgsd0JBQUFPLEdBQUEsRUFBQUosV0FBQSxTQUFBQSxXQUFBLElBQUFJLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLFdBQUFELEdBQUEsUUFBQUEsR0FBQSxvQkFBQUEsR0FBQSx3QkFBQUEsR0FBQSw0QkFBQUUsT0FBQSxFQUFBRixHQUFBLFVBQUFHLEtBQUEsR0FBQVIsd0JBQUEsQ0FBQUMsV0FBQSxPQUFBTyxLQUFBLElBQUFBLEtBQUEsQ0FBQUMsR0FBQSxDQUFBSixHQUFBLFlBQUFHLEtBQUEsQ0FBQUUsR0FBQSxDQUFBTCxHQUFBLFNBQUFNLE1BQUEsV0FBQUMscUJBQUEsR0FBQUMsTUFBQSxDQUFBQyxjQUFBLElBQUFELE1BQUEsQ0FBQUUsd0JBQUEsV0FBQUMsR0FBQSxJQUFBWCxHQUFBLFFBQUFXLEdBQUEsa0JBQUFILE1BQUEsQ0FBQUksU0FBQSxDQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQWQsR0FBQSxFQUFBVyxHQUFBLFNBQUFJLElBQUEsR0FBQVIscUJBQUEsR0FBQUMsTUFBQSxDQUFBRSx3QkFBQSxDQUFBVixHQUFBLEVBQUFXLEdBQUEsY0FBQUksSUFBQSxLQUFBQSxJQUFBLENBQUFWLEdBQUEsSUFBQVUsSUFBQSxDQUFBQyxHQUFBLEtBQUFSLE1BQUEsQ0FBQUMsY0FBQSxDQUFBSCxNQUFBLEVBQUFLLEdBQUEsRUFBQUksSUFBQSxZQUFBVCxNQUFBLENBQUFLLEdBQUEsSUFBQVgsR0FBQSxDQUFBVyxHQUFBLFNBQUFMLE1BQUEsQ0FBQUosT0FBQSxHQUFBRixHQUFBLE1BQUFHLEtBQUEsSUFBQUEsS0FBQSxDQUFBYSxHQUFBLENBQUFoQixHQUFBLEVBQUFNLE1BQUEsWUFBQUEsTUFBQTtBQUV6QyxNQUFNVyxZQUFZLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUM1QkMsS0FBSyxFQUFDO0lBQUNDLElBQUksRUFBQ0MsTUFBTTtJQUFDQyxTQUFTLEVBQUcsR0FBRztJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2pEQyxJQUFJLEVBQUM7SUFBQ0osSUFBSSxFQUFDQyxNQUFNO0lBQUNDLFNBQVMsRUFBRyxHQUFHO0lBQUNDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDaERFLE1BQU0sRUFBQztJQUFDTCxJQUFJLEVBQUNDLE1BQU07SUFBQ0MsU0FBUyxFQUFFLEdBQUc7SUFBRUMsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNsREcsS0FBSyxFQUFDO0lBQUNOLElBQUksRUFBQ08sTUFBTTtJQUFDTCxTQUFTLEVBQUMsQ0FBQztJQUFDcEIsT0FBTyxFQUFDO0VBQUM7QUFDNUMsQ0FBQyxFQUFDO0VBQ0UwQixVQUFVLEVBQUU7QUFDaEIsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsTUFBTSxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsU0FBUyxFQUFDZCxZQUFZLENBQUM7QUFBQyxJQUFBZSxRQUFBLEdBQ3ZDSCxNQUFNO0FBQUFJLE9BQUEsQ0FBQS9CLE9BQUEsR0FBQThCLFFBQUEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","SliderSchema","Schema","title","type","String","maxlength","required","link","imagen","state","Number","timestamps","Slider","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Slider.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst SliderSchema = new Schema({\r\n    title:{type:String,maxlength : 250,required:true},\r\n    link:{type:String,maxlength : 250,required:true},\r\n    imagen:{type:String,maxlength: 250, required:true},\r\n    state:{type:Number,maxlength:2,default:1},\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst Slider = mongoose.model(\"sliders\",SliderSchema);\r\nexport default Slider;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAH,wBAAAO,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,CAAAJ,OAAA,GAAAF,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAEzC,MAAMW,YAAY,GAAG,IAAIC,gBAAM,CAAC;EAC5BC,KAAK,EAAC;IAACC,IAAI,EAACC,MAAM;IAACC,SAAS,EAAG,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EACjDC,IAAI,EAAC;IAACJ,IAAI,EAACC,MAAM;IAACC,SAAS,EAAG,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAChDE,MAAM,EAAC;IAACL,IAAI,EAACC,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EAClDG,KAAK,EAAC;IAACN,IAAI,EAACO,MAAM;IAACL,SAAS,EAAC,CAAC;IAACpB,OAAO,EAAC;EAAC;AAC5C,CAAC,EAAC;EACE0B,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAGC,iBAAQ,CAACC,KAAK,CAAC,SAAS,EAACd,YAAY,CAAC;AAAC,IAAAe,QAAA,GACvCH,MAAM;AAAAI,OAAA,CAAA/B,OAAA,GAAA8B,QAAA","ignoreList":[]}},"mtime":1677624834052},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\services\\\\token.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  encode: async (_id, rol, email) => {\n    const token = _jsonwebtoken.default.sign({\n      _id: _id,\n      rol: rol,\n      email: email\n    }, 'ecommerce_udemy', {\n      expiresIn: '1d'\n    });\n    return token;\n  },\n  decode: async token => {\n    try {\n      const {\n        _id\n      } = await _jsonwebtoken.default.verify(token, 'ecommerce_udemy');\n      const user = _models.default.User.findOne({\n        _id: _id,\n        state: 1\n      });\n      if (user) {\n        return user;\n      }\n      return false;\n    } catch (error) {\n      console.log(error);\n      return false;\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfbW9kZWxzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImVuY29kZSIsIl9pZCIsInJvbCIsImVtYWlsIiwidG9rZW4iLCJqd3QiLCJzaWduIiwiZXhwaXJlc0luIiwiZGVjb2RlIiwidmVyaWZ5IiwidXNlciIsIm1vZGVscyIsIlVzZXIiLCJmaW5kT25lIiwic3RhdGUiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxzZXJ2aWNlc1xcIiwic291cmNlcyI6WyJ0b2tlbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbidcclxuaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICBlbmNvZGU6IGFzeW5jKF9pZCxyb2wsZW1haWwpID0+e1xyXG4gICAgICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oe19pZDogX2lkLHJvbDogcm9sLGVtYWlsOiBlbWFpbH0sJ2Vjb21tZXJjZV91ZGVteScse2V4cGlyZXNJbjogJzFkJ30pO1xyXG4gICAgICAgIHJldHVybiB0b2tlbjtcclxuICAgIH0sXHJcbiAgICBkZWNvZGU6IGFzeW5jKHRva2VuKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3Qge19pZH0gPSBhd2FpdCBqd3QudmVyaWZ5KHRva2VuLCdlY29tbWVyY2VfdWRlbXknKTtcclxuICAgICAgICAgICAgY29uc3QgdXNlciA9IG1vZGVscy5Vc2VyLmZpbmRPbmUoe19pZDogX2lkLHN0YXRlOiAxfSk7XHJcbiAgICAgICAgICAgIGlmKHVzZXIpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsYUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQThCLFNBQUFELHVCQUFBRyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUVmO0VBQ1hDLE1BQU0sRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsRUFBQ0MsS0FBSyxLQUFJO0lBQzNCLE1BQU1DLEtBQUssR0FBR0MscUJBQUcsQ0FBQ0MsSUFBSSxDQUFDO01BQUNMLEdBQUcsRUFBRUEsR0FBRztNQUFDQyxHQUFHLEVBQUVBLEdBQUc7TUFBQ0MsS0FBSyxFQUFFQTtJQUFLLENBQUMsRUFBQyxpQkFBaUIsRUFBQztNQUFDSSxTQUFTLEVBQUU7SUFBSSxDQUFDLENBQUM7SUFDNUYsT0FBT0gsS0FBSztFQUNoQixDQUFDO0VBQ0RJLE1BQU0sRUFBRSxNQUFNSixLQUFLLElBQUs7SUFDcEIsSUFBSTtNQUNBLE1BQU07UUFBQ0g7TUFBRyxDQUFDLEdBQUcsTUFBTUkscUJBQUcsQ0FBQ0ksTUFBTSxDQUFDTCxLQUFLLEVBQUMsaUJBQWlCLENBQUM7TUFDdkQsTUFBTU0sSUFBSSxHQUFHQyxlQUFNLENBQUNDLElBQUksQ0FBQ0MsT0FBTyxDQUFDO1FBQUNaLEdBQUcsRUFBRUEsR0FBRztRQUFDYSxLQUFLLEVBQUU7TUFBQyxDQUFDLENBQUM7TUFDckQsSUFBR0osSUFBSSxFQUFDO1FBQ0osT0FBT0EsSUFBSTtNQUNmO01BQ0EsT0FBTyxLQUFLO0lBQ2hCLENBQUMsQ0FBQyxPQUFPSyxLQUFLLEVBQUU7TUFDWkMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEtBQUssQ0FBQztNQUNsQixPQUFPLEtBQUs7SUFDaEI7RUFDSjtBQUNKLENBQUM7QUFBQUcsT0FBQSxDQUFBcEIsT0FBQSxHQUFBQyxRQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_models","obj","__esModule","default","_default","encode","_id","rol","email","token","jwt","sign","expiresIn","decode","verify","user","models","User","findOne","state","error","console","log","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\services\\","sources":["token.js"],"sourcesContent":["import jwt from 'jsonwebtoken'\r\nimport models from '../models'\r\n\r\nexport default {\r\n    encode: async(_id,rol,email) =>{\r\n        const token = jwt.sign({_id: _id,rol: rol,email: email},'ecommerce_udemy',{expiresIn: '1d'});\r\n        return token;\r\n    },\r\n    decode: async(token) => {\r\n        try {\r\n            const {_id} = await jwt.verify(token,'ecommerce_udemy');\r\n            const user = models.User.findOne({_id: _id,state: 1});\r\n            if(user){\r\n                return user;\r\n            }\r\n            return false;\r\n        } catch (error) {\r\n            console.log(error);\r\n            return false;\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA8B,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAEf;EACXC,MAAM,EAAE,MAAAA,CAAMC,GAAG,EAACC,GAAG,EAACC,KAAK,KAAI;IAC3B,MAAMC,KAAK,GAAGC,qBAAG,CAACC,IAAI,CAAC;MAACL,GAAG,EAAEA,GAAG;MAACC,GAAG,EAAEA,GAAG;MAACC,KAAK,EAAEA;IAAK,CAAC,EAAC,iBAAiB,EAAC;MAACI,SAAS,EAAE;IAAI,CAAC,CAAC;IAC5F,OAAOH,KAAK;EAChB,CAAC;EACDI,MAAM,EAAE,MAAMJ,KAAK,IAAK;IACpB,IAAI;MACA,MAAM;QAACH;MAAG,CAAC,GAAG,MAAMI,qBAAG,CAACI,MAAM,CAACL,KAAK,EAAC,iBAAiB,CAAC;MACvD,MAAMM,IAAI,GAAGC,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAACZ,GAAG,EAAEA,GAAG;QAACa,KAAK,EAAE;MAAC,CAAC,CAAC;MACrD,IAAGJ,IAAI,EAAC;QACJ,OAAOA,IAAI;MACf;MACA,OAAO,KAAK;IAChB,CAAC,CAAC,OAAOK,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClB,OAAO,KAAK;IAChB;EACJ;AACJ,CAAC;AAAAG,OAAA,CAAApB,OAAA,GAAAC,QAAA","ignoreList":[]}},"mtime":1676101734781},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _Cart = _interopRequireDefault(require(\"./Cart\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  User: _User.default,\n  Categorie: _Categorie.default,\n  Product: _Product.default,\n  Slider: _Slider.default,\n  Cart: _Cart.default\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0NhdGVnb3JpZSIsIl9Qcm9kdWN0IiwiX1NsaWRlciIsIl9DYXJ0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsIlVzZXIiLCJDYXRlZ29yaWUiLCJQcm9kdWN0IiwiU2xpZGVyIiwiQ2FydCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJlc291cmNlc1xcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXNlciBmcm9tICcuL1VzZXInXHJcblxyXG5pbXBvcnQgQ2F0ZWdvcmllIGZyb20gJy4vQ2F0ZWdvcmllJ1xyXG5pbXBvcnQgUHJvZHVjdCBmcm9tICcuL1Byb2R1Y3QnXHJcbmltcG9ydCBTbGlkZXIgZnJvbSAnLi9TbGlkZXInXHJcbmltcG9ydCBDYXJ0IGZyb20gJy4vQ2FydCdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIFVzZXIsXHJcbiAgICBDYXRlZ29yaWUsXHJcbiAgICBQcm9kdWN0LFxyXG4gICAgU2xpZGVyLFxyXG4gICAgQ2FydCxcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsS0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBQUMsVUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsUUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsT0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksS0FBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQXlCLFNBQUFELHVCQUFBTSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUVWO0VBQ1hDLElBQUksRUFBSkEsYUFBSTtFQUNKQyxTQUFTLEVBQVRBLGtCQUFTO0VBQ1RDLE9BQU8sRUFBUEEsZ0JBQU87RUFDUEMsTUFBTSxFQUFOQSxlQUFNO0VBQ05DLElBQUksRUFBSkE7QUFDSixDQUFDO0FBQUFDLE9BQUEsQ0FBQVAsT0FBQSxHQUFBQyxRQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_User","_interopRequireDefault","require","_Categorie","_Product","_Slider","_Cart","obj","__esModule","default","_default","User","Categorie","Product","Slider","Cart","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\resources\\","sources":["index.js"],"sourcesContent":["import User from './User'\r\n\r\nimport Categorie from './Categorie'\r\nimport Product from './Product'\r\nimport Slider from './Slider'\r\nimport Cart from './Cart'\r\n\r\nexport default {\r\n    User,\r\n    Categorie,\r\n    Product,\r\n    Slider,\r\n    Cart,\r\n}"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,QAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,OAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,KAAA,GAAAL,sBAAA,CAAAC,OAAA;AAAyB,SAAAD,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAEV;EACXC,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA,kBAAS;EACTC,OAAO,EAAPA,gBAAO;EACPC,MAAM,EAANA,eAAM;EACNC,IAAI,EAAJA;AACJ,CAAC;AAAAC,OAAA,CAAAP,OAAA,GAAAC,QAAA","ignoreList":[]}},"mtime":1678744277277},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  user_list: user => {\n    return {\n      _id: user._id,\n      name: user.name,\n      surname: user.surname,\n      email: user.email,\n      avatar: user.avatar\n    };\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyX2xpc3QiLCJ1c2VyIiwiX2lkIiwibmFtZSIsInN1cm5hbWUiLCJlbWFpbCIsImF2YXRhciIsImV4cG9ydHMiLCJkZWZhdWx0IiwiX2RlZmF1bHQiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJlc291cmNlc1xcIiwic291cmNlcyI6WyJVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHVzZXJfbGlzdDogKHVzZXIpID0+IHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBfaWQ6IHVzZXIuX2lkLFxyXG4gICAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXHJcbiAgICAgICAgICAgIHN1cm5hbWU6IHVzZXIuc3VybmFtZSxcclxuICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgIGF2YXRhcjogdXNlci5hdmF0YXIsXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7ZUFBZTtFQUNYQSxTQUFTLEVBQUdDLElBQUksSUFBSztJQUNqQixPQUFPO01BQ0hDLEdBQUcsRUFBRUQsSUFBSSxDQUFDQyxHQUFHO01BQ2JDLElBQUksRUFBRUYsSUFBSSxDQUFDRSxJQUFJO01BQ2ZDLE9BQU8sRUFBRUgsSUFBSSxDQUFDRyxPQUFPO01BQ3JCQyxLQUFLLEVBQUVKLElBQUksQ0FBQ0ksS0FBSztNQUNqQkMsTUFBTSxFQUFFTCxJQUFJLENBQUNLO0lBQ2pCLENBQUM7RUFDTDtBQUNKLENBQUM7QUFBQUMsT0FBQSxDQUFBQyxPQUFBLEdBQUFDLFFBQUEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["user_list","user","_id","name","surname","email","avatar","exports","default","_default"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\resources\\","sources":["User.js"],"sourcesContent":["export default {\r\n    user_list: (user) => {\r\n        return {\r\n            _id: user._id,\r\n            name: user.name,\r\n            surname: user.surname,\r\n            email: user.email,\r\n            avatar: user.avatar,\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;eAAe;EACXA,SAAS,EAAGC,IAAI,IAAK;IACjB,OAAO;MACHC,GAAG,EAAED,IAAI,CAACC,GAAG;MACbC,IAAI,EAAEF,IAAI,CAACE,IAAI;MACfC,OAAO,EAAEH,IAAI,CAACG,OAAO;MACrBC,KAAK,EAAEJ,IAAI,CAACI,KAAK;MACjBC,MAAM,EAAEL,IAAI,CAACK;IACjB,CAAC;EACL;AACJ,CAAC;AAAAC,OAAA,CAAAC,OAAA,GAAAC,QAAA","ignoreList":[]}},"mtime":1676275953604},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  categorie_list: categorie => {\n    return {\n      _id: categorie._id,\n      title: categorie.title,\n      imagen: categorie.imagen,\n      imagen_home: process.env.URL_BACKEND + '/api/categories/uploads/categorie/' + categorie.imagen,\n      state: categorie.state\n    };\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXRlZ29yaWVfbGlzdCIsImNhdGVnb3JpZSIsIl9pZCIsInRpdGxlIiwiaW1hZ2VuIiwiaW1hZ2VuX2hvbWUiLCJwcm9jZXNzIiwiZW52IiwiVVJMX0JBQ0tFTkQiLCJzdGF0ZSIsImV4cG9ydHMiLCJkZWZhdWx0IiwiX2RlZmF1bHQiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJlc291cmNlc1xcIiwic291cmNlcyI6WyJDYXRlZ29yaWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgY2F0ZWdvcmllX2xpc3Q6IChjYXRlZ29yaWUpID0+IHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBfaWQ6IGNhdGVnb3JpZS5faWQsXHJcbiAgICAgICAgICAgIHRpdGxlOiBjYXRlZ29yaWUudGl0bGUsXHJcbiAgICAgICAgICAgIGltYWdlbjogY2F0ZWdvcmllLmltYWdlbixcclxuICAgICAgICAgICAgaW1hZ2VuX2hvbWU6IHByb2Nlc3MuZW52LlVSTF9CQUNLRU5EKycvYXBpL2NhdGVnb3JpZXMvdXBsb2Fkcy9jYXRlZ29yaWUvJytjYXRlZ29yaWUuaW1hZ2VuLFxyXG4gICAgICAgICAgICBzdGF0ZTogY2F0ZWdvcmllLnN0YXRlLFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2VBQWU7RUFDWEEsY0FBYyxFQUFHQyxTQUFTLElBQUs7SUFDM0IsT0FBTztNQUNIQyxHQUFHLEVBQUVELFNBQVMsQ0FBQ0MsR0FBRztNQUNsQkMsS0FBSyxFQUFFRixTQUFTLENBQUNFLEtBQUs7TUFDdEJDLE1BQU0sRUFBRUgsU0FBUyxDQUFDRyxNQUFNO01BQ3hCQyxXQUFXLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxXQUFXLEdBQUMsb0NBQW9DLEdBQUNQLFNBQVMsQ0FBQ0csTUFBTTtNQUMxRkssS0FBSyxFQUFFUixTQUFTLENBQUNRO0lBQ3JCLENBQUM7RUFDTDtBQUNKLENBQUM7QUFBQUMsT0FBQSxDQUFBQyxPQUFBLEdBQUFDLFFBQUEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["categorie_list","categorie","_id","title","imagen","imagen_home","process","env","URL_BACKEND","state","exports","default","_default"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\resources\\","sources":["Categorie.js"],"sourcesContent":["export default {\r\n    categorie_list: (categorie) => {\r\n        return {\r\n            _id: categorie._id,\r\n            title: categorie.title,\r\n            imagen: categorie.imagen,\r\n            imagen_home: process.env.URL_BACKEND+'/api/categories/uploads/categorie/'+categorie.imagen,\r\n            state: categorie.state,\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;eAAe;EACXA,cAAc,EAAGC,SAAS,IAAK;IAC3B,OAAO;MACHC,GAAG,EAAED,SAAS,CAACC,GAAG;MAClBC,KAAK,EAAEF,SAAS,CAACE,KAAK;MACtBC,MAAM,EAAEH,SAAS,CAACG,MAAM;MACxBC,WAAW,EAAEC,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,oCAAoC,GAACP,SAAS,CAACG,MAAM;MAC1FK,KAAK,EAAER,SAAS,CAACQ;IACrB,CAAC;EACL;AACJ,CAAC;AAAAC,OAAA,CAAAC,OAAA,GAAAC,QAAA","ignoreList":[]}},"mtime":1681165458498},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  product_list: (product, variedades = [], avg_review = 0, count_review = 0, CampaingDiscount = null) => {\n    var IMAGEN_TWO = \"\";\n    let GALERIAS = product.galerias.map(galeria => {\n      galeria.imagen = process.env.URL_BACKEND + '/api/products/uploads/product/' + galeria.imagen; //*\n      return galeria;\n    });\n    var VAL = Math.floor(Math.random() * 3); //0,1,2\n    IMAGEN_TWO = GALERIAS[VAL].imagen;\n    return {\n      _id: product._id,\n      title: product.title,\n      sku: product.sku,\n      slug: product.slug,\n      imagen: process.env.URL_BACKEND + '/api/products/uploads/product/' + product.portada,\n      //*\n      categorie: product.categorie,\n      price_soles: product.price_soles,\n      price_usd: product.price_usd,\n      stock: product.stock,\n      description: product.description,\n      resumen: product.resumen,\n      tags: product.tags ? JSON.parse(product.tags) : [],\n      type_inventario: product.type_inventario,\n      state: product.state,\n      variedades: variedades,\n      imagen_two: IMAGEN_TWO,\n      galerias: GALERIAS,\n      avg_review: avg_review,\n      count_review: count_review,\n      campaing_discount: CampaingDiscount\n    };\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9kdWN0X2xpc3QiLCJwcm9kdWN0IiwidmFyaWVkYWRlcyIsImF2Z19yZXZpZXciLCJjb3VudF9yZXZpZXciLCJDYW1wYWluZ0Rpc2NvdW50IiwiSU1BR0VOX1RXTyIsIkdBTEVSSUFTIiwiZ2FsZXJpYXMiLCJtYXAiLCJnYWxlcmlhIiwiaW1hZ2VuIiwicHJvY2VzcyIsImVudiIsIlVSTF9CQUNLRU5EIiwiVkFMIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiX2lkIiwidGl0bGUiLCJza3UiLCJzbHVnIiwicG9ydGFkYSIsImNhdGVnb3JpZSIsInByaWNlX3NvbGVzIiwicHJpY2VfdXNkIiwic3RvY2siLCJkZXNjcmlwdGlvbiIsInJlc3VtZW4iLCJ0YWdzIiwiSlNPTiIsInBhcnNlIiwidHlwZV9pbnZlbnRhcmlvIiwic3RhdGUiLCJpbWFnZW5fdHdvIiwiY2FtcGFpbmdfZGlzY291bnQiLCJleHBvcnRzIiwiZGVmYXVsdCIsIl9kZWZhdWx0Il0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxyZXNvdXJjZXNcXCIsInNvdXJjZXMiOlsiUHJvZHVjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XHJcbiAgICBwcm9kdWN0X2xpc3Q6IChwcm9kdWN0LHZhcmllZGFkZXMgPSBbXSxhdmdfcmV2aWV3ID0gMCxjb3VudF9yZXZpZXcgPSAwLENhbXBhaW5nRGlzY291bnQgPSBudWxsKSA9PiB7XHJcbiAgICAgICAgdmFyIElNQUdFTl9UV08gPSBcIlwiO1xyXG4gICAgICAgIGxldCBHQUxFUklBUyA9IHByb2R1Y3QuZ2FsZXJpYXMubWFwKChnYWxlcmlhKSA9PiB7XHJcbiAgICAgICAgICAgIGdhbGVyaWEuaW1hZ2VuID0gcHJvY2Vzcy5lbnYuVVJMX0JBQ0tFTkQrJy9hcGkvcHJvZHVjdHMvdXBsb2Fkcy9wcm9kdWN0LycrZ2FsZXJpYS5pbWFnZW47Ly8qXHJcbiAgICAgICAgICAgIHJldHVybiBnYWxlcmlhO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBWQUwgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAzKTsvLzAsMSwyXHJcbiAgICAgICAgSU1BR0VOX1RXTyA9IEdBTEVSSUFTW1ZBTF0uaW1hZ2VuO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIF9pZDogcHJvZHVjdC5faWQsXHJcbiAgICAgICAgICAgIHRpdGxlOiBwcm9kdWN0LnRpdGxlLFxyXG4gICAgICAgICAgICBza3U6IHByb2R1Y3Quc2t1LFxyXG4gICAgICAgICAgICBzbHVnOiBwcm9kdWN0LnNsdWcsXHJcbiAgICAgICAgICAgIGltYWdlbjogcHJvY2Vzcy5lbnYuVVJMX0JBQ0tFTkQrJy9hcGkvcHJvZHVjdHMvdXBsb2Fkcy9wcm9kdWN0LycrcHJvZHVjdC5wb3J0YWRhLC8vKlxyXG4gICAgICAgICAgICBjYXRlZ29yaWU6IHByb2R1Y3QuY2F0ZWdvcmllLFxyXG4gICAgICAgICAgICBwcmljZV9zb2xlczogcHJvZHVjdC5wcmljZV9zb2xlcyxcclxuICAgICAgICAgICAgcHJpY2VfdXNkOiBwcm9kdWN0LnByaWNlX3VzZCxcclxuICAgICAgICAgICAgc3RvY2s6IHByb2R1Y3Quc3RvY2ssXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBwcm9kdWN0LmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICByZXN1bWVuOiBwcm9kdWN0LnJlc3VtZW4sXHJcbiAgICAgICAgICAgIHRhZ3M6IHByb2R1Y3QudGFncyA/IEpTT04ucGFyc2UocHJvZHVjdC50YWdzKSA6IFtdLFxyXG4gICAgICAgICAgICB0eXBlX2ludmVudGFyaW86IHByb2R1Y3QudHlwZV9pbnZlbnRhcmlvLFxyXG4gICAgICAgICAgICBzdGF0ZTogcHJvZHVjdC5zdGF0ZSxcclxuICAgICAgICAgICAgdmFyaWVkYWRlczogdmFyaWVkYWRlcyxcclxuICAgICAgICAgICAgaW1hZ2VuX3R3bzogSU1BR0VOX1RXTyxcclxuICAgICAgICAgICAgZ2FsZXJpYXM6R0FMRVJJQVMsXHJcbiAgICAgICAgICAgIGF2Z19yZXZpZXc6IGF2Z19yZXZpZXcsXHJcbiAgICAgICAgICAgIGNvdW50X3JldmlldzogY291bnRfcmV2aWV3LFxyXG4gICAgICAgICAgICBjYW1wYWluZ19kaXNjb3VudDogQ2FtcGFpbmdEaXNjb3VudCxcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztlQUFlO0VBQ1hBLFlBQVksRUFBRUEsQ0FBQ0MsT0FBTyxFQUFDQyxVQUFVLEdBQUcsRUFBRSxFQUFDQyxVQUFVLEdBQUcsQ0FBQyxFQUFDQyxZQUFZLEdBQUcsQ0FBQyxFQUFDQyxnQkFBZ0IsR0FBRyxJQUFJLEtBQUs7SUFDL0YsSUFBSUMsVUFBVSxHQUFHLEVBQUU7SUFDbkIsSUFBSUMsUUFBUSxHQUFHTixPQUFPLENBQUNPLFFBQVEsQ0FBQ0MsR0FBRyxDQUFFQyxPQUFPLElBQUs7TUFDN0NBLE9BQU8sQ0FBQ0MsTUFBTSxHQUFHQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsV0FBVyxHQUFDLGdDQUFnQyxHQUFDSixPQUFPLENBQUNDLE1BQU0sQ0FBQztNQUN6RixPQUFPRCxPQUFPO0lBQ2xCLENBQUMsQ0FBQztJQUNGLElBQUlLLEdBQUcsR0FBR0MsSUFBSSxDQUFDQyxLQUFLLENBQUNELElBQUksQ0FBQ0UsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUN4Q1osVUFBVSxHQUFHQyxRQUFRLENBQUNRLEdBQUcsQ0FBQyxDQUFDSixNQUFNO0lBQ2pDLE9BQU87TUFDSFEsR0FBRyxFQUFFbEIsT0FBTyxDQUFDa0IsR0FBRztNQUNoQkMsS0FBSyxFQUFFbkIsT0FBTyxDQUFDbUIsS0FBSztNQUNwQkMsR0FBRyxFQUFFcEIsT0FBTyxDQUFDb0IsR0FBRztNQUNoQkMsSUFBSSxFQUFFckIsT0FBTyxDQUFDcUIsSUFBSTtNQUNsQlgsTUFBTSxFQUFFQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsV0FBVyxHQUFDLGdDQUFnQyxHQUFDYixPQUFPLENBQUNzQixPQUFPO01BQUM7TUFDakZDLFNBQVMsRUFBRXZCLE9BQU8sQ0FBQ3VCLFNBQVM7TUFDNUJDLFdBQVcsRUFBRXhCLE9BQU8sQ0FBQ3dCLFdBQVc7TUFDaENDLFNBQVMsRUFBRXpCLE9BQU8sQ0FBQ3lCLFNBQVM7TUFDNUJDLEtBQUssRUFBRTFCLE9BQU8sQ0FBQzBCLEtBQUs7TUFDcEJDLFdBQVcsRUFBRTNCLE9BQU8sQ0FBQzJCLFdBQVc7TUFDaENDLE9BQU8sRUFBRTVCLE9BQU8sQ0FBQzRCLE9BQU87TUFDeEJDLElBQUksRUFBRTdCLE9BQU8sQ0FBQzZCLElBQUksR0FBR0MsSUFBSSxDQUFDQyxLQUFLLENBQUMvQixPQUFPLENBQUM2QixJQUFJLENBQUMsR0FBRyxFQUFFO01BQ2xERyxlQUFlLEVBQUVoQyxPQUFPLENBQUNnQyxlQUFlO01BQ3hDQyxLQUFLLEVBQUVqQyxPQUFPLENBQUNpQyxLQUFLO01BQ3BCaEMsVUFBVSxFQUFFQSxVQUFVO01BQ3RCaUMsVUFBVSxFQUFFN0IsVUFBVTtNQUN0QkUsUUFBUSxFQUFDRCxRQUFRO01BQ2pCSixVQUFVLEVBQUVBLFVBQVU7TUFDdEJDLFlBQVksRUFBRUEsWUFBWTtNQUMxQmdDLGlCQUFpQixFQUFFL0I7SUFDdkIsQ0FBQztFQUNMO0FBQ0osQ0FBQztBQUFBZ0MsT0FBQSxDQUFBQyxPQUFBLEdBQUFDLFFBQUEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["product_list","product","variedades","avg_review","count_review","CampaingDiscount","IMAGEN_TWO","GALERIAS","galerias","map","galeria","imagen","process","env","URL_BACKEND","VAL","Math","floor","random","_id","title","sku","slug","portada","categorie","price_soles","price_usd","stock","description","resumen","tags","JSON","parse","type_inventario","state","imagen_two","campaing_discount","exports","default","_default"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\resources\\","sources":["Product.js"],"sourcesContent":["export default {\r\n    product_list: (product,variedades = [],avg_review = 0,count_review = 0,CampaingDiscount = null) => {\r\n        var IMAGEN_TWO = \"\";\r\n        let GALERIAS = product.galerias.map((galeria) => {\r\n            galeria.imagen = process.env.URL_BACKEND+'/api/products/uploads/product/'+galeria.imagen;//*\r\n            return galeria;\r\n        });\r\n        var VAL = Math.floor(Math.random() * 3);//0,1,2\r\n        IMAGEN_TWO = GALERIAS[VAL].imagen;\r\n        return {\r\n            _id: product._id,\r\n            title: product.title,\r\n            sku: product.sku,\r\n            slug: product.slug,\r\n            imagen: process.env.URL_BACKEND+'/api/products/uploads/product/'+product.portada,//*\r\n            categorie: product.categorie,\r\n            price_soles: product.price_soles,\r\n            price_usd: product.price_usd,\r\n            stock: product.stock,\r\n            description: product.description,\r\n            resumen: product.resumen,\r\n            tags: product.tags ? JSON.parse(product.tags) : [],\r\n            type_inventario: product.type_inventario,\r\n            state: product.state,\r\n            variedades: variedades,\r\n            imagen_two: IMAGEN_TWO,\r\n            galerias:GALERIAS,\r\n            avg_review: avg_review,\r\n            count_review: count_review,\r\n            campaing_discount: CampaingDiscount,\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;eAAe;EACXA,YAAY,EAAEA,CAACC,OAAO,EAACC,UAAU,GAAG,EAAE,EAACC,UAAU,GAAG,CAAC,EAACC,YAAY,GAAG,CAAC,EAACC,gBAAgB,GAAG,IAAI,KAAK;IAC/F,IAAIC,UAAU,GAAG,EAAE;IACnB,IAAIC,QAAQ,GAAGN,OAAO,CAACO,QAAQ,CAACC,GAAG,CAAEC,OAAO,IAAK;MAC7CA,OAAO,CAACC,MAAM,GAAGC,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,gCAAgC,GAACJ,OAAO,CAACC,MAAM,CAAC;MACzF,OAAOD,OAAO;IAClB,CAAC,CAAC;IACF,IAAIK,GAAG,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IACxCZ,UAAU,GAAGC,QAAQ,CAACQ,GAAG,CAAC,CAACJ,MAAM;IACjC,OAAO;MACHQ,GAAG,EAAElB,OAAO,CAACkB,GAAG;MAChBC,KAAK,EAAEnB,OAAO,CAACmB,KAAK;MACpBC,GAAG,EAAEpB,OAAO,CAACoB,GAAG;MAChBC,IAAI,EAAErB,OAAO,CAACqB,IAAI;MAClBX,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,gCAAgC,GAACb,OAAO,CAACsB,OAAO;MAAC;MACjFC,SAAS,EAAEvB,OAAO,CAACuB,SAAS;MAC5BC,WAAW,EAAExB,OAAO,CAACwB,WAAW;MAChCC,SAAS,EAAEzB,OAAO,CAACyB,SAAS;MAC5BC,KAAK,EAAE1B,OAAO,CAAC0B,KAAK;MACpBC,WAAW,EAAE3B,OAAO,CAAC2B,WAAW;MAChCC,OAAO,EAAE5B,OAAO,CAAC4B,OAAO;MACxBC,IAAI,EAAE7B,OAAO,CAAC6B,IAAI,GAAGC,IAAI,CAACC,KAAK,CAAC/B,OAAO,CAAC6B,IAAI,CAAC,GAAG,EAAE;MAClDG,eAAe,EAAEhC,OAAO,CAACgC,eAAe;MACxCC,KAAK,EAAEjC,OAAO,CAACiC,KAAK;MACpBhC,UAAU,EAAEA,UAAU;MACtBiC,UAAU,EAAE7B,UAAU;MACtBE,QAAQ,EAACD,QAAQ;MACjBJ,UAAU,EAAEA,UAAU;MACtBC,YAAY,EAAEA,YAAY;MAC1BgC,iBAAiB,EAAE/B;IACvB,CAAC;EACL;AACJ,CAAC;AAAAgC,OAAA,CAAAC,OAAA,GAAAC,QAAA","ignoreList":[]}},"mtime":1681165354730},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  slider_list: slider => {\n    return {\n      _id: slider._id,\n      title: slider.title,\n      link: slider.link,\n      imagen: slider.imagen,\n      imagen_home: process.env.URL_BACKEND + '/api/sliders/uploads/slider/' + slider.imagen,\n      state: slider.state\n    };\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzbGlkZXJfbGlzdCIsInNsaWRlciIsIl9pZCIsInRpdGxlIiwibGluayIsImltYWdlbiIsImltYWdlbl9ob21lIiwicHJvY2VzcyIsImVudiIsIlVSTF9CQUNLRU5EIiwic3RhdGUiLCJleHBvcnRzIiwiZGVmYXVsdCIsIl9kZWZhdWx0Il0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxyZXNvdXJjZXNcXCIsInNvdXJjZXMiOlsiU2xpZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHNsaWRlcl9saXN0OiAoc2xpZGVyKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgX2lkOiBzbGlkZXIuX2lkLFxyXG4gICAgICAgICAgICB0aXRsZTogc2xpZGVyLnRpdGxlLFxyXG4gICAgICAgICAgICBsaW5rOiBzbGlkZXIubGluayxcclxuICAgICAgICAgICAgaW1hZ2VuOiBzbGlkZXIuaW1hZ2VuLFxyXG4gICAgICAgICAgICBpbWFnZW5faG9tZTogcHJvY2Vzcy5lbnYuVVJMX0JBQ0tFTkQrJy9hcGkvc2xpZGVycy91cGxvYWRzL3NsaWRlci8nK3NsaWRlci5pbWFnZW4sXHJcbiAgICAgICAgICAgIHN0YXRlOiBzbGlkZXIuc3RhdGUsXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7ZUFBZTtFQUNYQSxXQUFXLEVBQUdDLE1BQU0sSUFBSztJQUNyQixPQUFPO01BQ0hDLEdBQUcsRUFBRUQsTUFBTSxDQUFDQyxHQUFHO01BQ2ZDLEtBQUssRUFBRUYsTUFBTSxDQUFDRSxLQUFLO01BQ25CQyxJQUFJLEVBQUVILE1BQU0sQ0FBQ0csSUFBSTtNQUNqQkMsTUFBTSxFQUFFSixNQUFNLENBQUNJLE1BQU07TUFDckJDLFdBQVcsRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFdBQVcsR0FBQyw4QkFBOEIsR0FBQ1IsTUFBTSxDQUFDSSxNQUFNO01BQ2pGSyxLQUFLLEVBQUVULE1BQU0sQ0FBQ1M7SUFDbEIsQ0FBQztFQUNMO0FBQ0osQ0FBQztBQUFBQyxPQUFBLENBQUFDLE9BQUEsR0FBQUMsUUFBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["slider_list","slider","_id","title","link","imagen","imagen_home","process","env","URL_BACKEND","state","exports","default","_default"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\resources\\","sources":["Slider.js"],"sourcesContent":["export default {\r\n    slider_list: (slider) => {\r\n        return {\r\n            _id: slider._id,\r\n            title: slider.title,\r\n            link: slider.link,\r\n            imagen: slider.imagen,\r\n            imagen_home: process.env.URL_BACKEND+'/api/sliders/uploads/slider/'+slider.imagen,\r\n            state: slider.state,\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;eAAe;EACXA,WAAW,EAAGC,MAAM,IAAK;IACrB,OAAO;MACHC,GAAG,EAAED,MAAM,CAACC,GAAG;MACfC,KAAK,EAAEF,MAAM,CAACE,KAAK;MACnBC,IAAI,EAAEH,MAAM,CAACG,IAAI;MACjBC,MAAM,EAAEJ,MAAM,CAACI,MAAM;MACrBC,WAAW,EAAEC,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,8BAA8B,GAACR,MAAM,CAACI,MAAM;MACjFK,KAAK,EAAET,MAAM,CAACS;IAClB,CAAC;EACL;AACJ,CAAC;AAAAC,OAAA,CAAAC,OAAA,GAAAC,QAAA","ignoreList":[]}},"mtime":1681165462286},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\middlewares\\\\auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  verifyEcommerce: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(404).send({\n        message: 'NO SE ENVIO EL TOKEN'\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"cliente\" || response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(403).send({\n          message: 'NO ESTA PERMITIDO VISITAR ESTA RUTA'\n        });\n      }\n    } else {\n      res.status(403).send({\n        message: 'EL TOKEN NO ES VALIDO'\n      });\n    }\n  },\n  verifyAdmin: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(404).send({\n        message: 'NO SE ENVIO EL TOKEN'\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(403).send({\n          message: 'NO ESTA PERMITIDO VISITAR ESTA RUTA'\n        });\n      }\n    } else {\n      res.status(403).send({\n        message: 'EL TOKEN NO ES VALIDO'\n      });\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdG9rZW4iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJ2ZXJpZnlFY29tbWVyY2UiLCJyZXEiLCJyZXMiLCJuZXh0IiwiaGVhZGVycyIsInRva2VuIiwic3RhdHVzIiwic2VuZCIsIm1lc3NhZ2UiLCJyZXNwb25zZSIsImRlY29kZSIsInJvbCIsInZlcmlmeUFkbWluIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcbWlkZGxld2FyZXNcXCIsInNvdXJjZXMiOlsiYXV0aC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdG9rZW4gZnJvbSAnLi4vc2VydmljZXMvdG9rZW4nXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICB2ZXJpZnlFY29tbWVyY2U6IGFzeW5jKHJlcSxyZXMsbmV4dCkgPT4ge1xyXG4gICAgICAgIGlmKCFyZXEuaGVhZGVycy50b2tlbil7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdOTyBTRSBFTlZJTyBFTCBUT0tFTidcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdG9rZW4uZGVjb2RlKHJlcS5oZWFkZXJzLnRva2VuKTtcclxuICAgICAgICBpZihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgIGlmKHJlc3BvbnNlLnJvbCA9PSBcImNsaWVudGVcIiB8fCByZXNwb25zZS5yb2wgPT0gXCJhZG1pblwiKXtcclxuICAgICAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMykuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ05PIEVTVEEgUEVSTUlUSURPIFZJU0lUQVIgRVNUQSBSVVRBJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDMpLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ0VMIFRPS0VOIE5PIEVTIFZBTElETydcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHZlcmlmeUFkbWluOiBhc3luYyhyZXEscmVzLG5leHQpID0+IHtcclxuICAgICAgICBpZighcmVxLmhlYWRlcnMudG9rZW4pe1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTk8gU0UgRU5WSU8gRUwgVE9LRU4nXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRva2VuLmRlY29kZShyZXEuaGVhZGVycy50b2tlbik7XHJcbiAgICAgICAgaWYocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICBpZihyZXNwb25zZS5yb2wgPT0gXCJhZG1pblwiKXtcclxuICAgICAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMykuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ05PIEVTVEEgUEVSTUlUSURPIFZJU0lUQVIgRVNUQSBSVVRBJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDMpLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ0VMIFRPS0VOIE5PIEVTIFZBTElETydcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxNQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBcUMsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFBQSxJQUFBRyxRQUFBLEdBRXRCO0VBQ1hDLGVBQWUsRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsRUFBQ0MsSUFBSSxLQUFLO0lBQ3BDLElBQUcsQ0FBQ0YsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssRUFBQztNQUNsQkgsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ047SUFDQSxNQUFNQyxRQUFRLEdBQUcsTUFBTUosY0FBSyxDQUFDSyxNQUFNLENBQUNULEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLENBQUM7SUFDdEQsSUFBR0ksUUFBUSxFQUFDO01BQ1IsSUFBR0EsUUFBUSxDQUFDRSxHQUFHLElBQUksU0FBUyxJQUFJRixRQUFRLENBQUNFLEdBQUcsSUFBSSxPQUFPLEVBQUM7UUFDcERSLElBQUksQ0FBQyxDQUFDO01BQ1YsQ0FBQyxNQUFJO1FBQ0RELEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7VUFDakJDLE9BQU8sRUFBRTtRQUNiLENBQUMsQ0FBQztNQUNOO0lBQ0osQ0FBQyxNQUFJO01BQ0ROLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztJQUNOO0VBQ0osQ0FBQztFQUNESSxXQUFXLEVBQUUsTUFBQUEsQ0FBTVgsR0FBRyxFQUFDQyxHQUFHLEVBQUNDLElBQUksS0FBSztJQUNoQyxJQUFHLENBQUNGLEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLEVBQUM7TUFDbEJILEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztJQUNOO0lBQ0EsTUFBTUMsUUFBUSxHQUFHLE1BQU1KLGNBQUssQ0FBQ0ssTUFBTSxDQUFDVCxHQUFHLENBQUNHLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDO0lBQ3RELElBQUdJLFFBQVEsRUFBQztNQUNSLElBQUdBLFFBQVEsQ0FBQ0UsR0FBRyxJQUFJLE9BQU8sRUFBQztRQUN2QlIsSUFBSSxDQUFDLENBQUM7TUFDVixDQUFDLE1BQUk7UUFDREQsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztVQUNqQkMsT0FBTyxFQUFFO1FBQ2IsQ0FBQyxDQUFDO01BQ047SUFDSixDQUFDLE1BQUk7TUFDRE4sR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ047RUFDSjtBQUNKLENBQUM7QUFBQUssT0FBQSxDQUFBZixPQUFBLEdBQUFDLFFBQUEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_token","_interopRequireDefault","require","obj","__esModule","default","_default","verifyEcommerce","req","res","next","headers","token","status","send","message","response","decode","rol","verifyAdmin","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\middlewares\\","sources":["auth.js"],"sourcesContent":["import token from '../services/token'\r\n\r\nexport default {\r\n    verifyEcommerce: async(req,res,next) => {\r\n        if(!req.headers.token){\r\n            res.status(404).send({\r\n                message: 'NO SE ENVIO EL TOKEN'\r\n            });\r\n        }\r\n        const response = await token.decode(req.headers.token);\r\n        if(response){\r\n            if(response.rol == \"cliente\" || response.rol == \"admin\"){\r\n                next();\r\n            }else{\r\n                res.status(403).send({\r\n                    message: 'NO ESTA PERMITIDO VISITAR ESTA RUTA'\r\n                });\r\n            }\r\n        }else{\r\n            res.status(403).send({\r\n                message: 'EL TOKEN NO ES VALIDO'\r\n            });\r\n        }\r\n    },\r\n    verifyAdmin: async(req,res,next) => {\r\n        if(!req.headers.token){\r\n            res.status(404).send({\r\n                message: 'NO SE ENVIO EL TOKEN'\r\n            });\r\n        }\r\n        const response = await token.decode(req.headers.token);\r\n        if(response){\r\n            if(response.rol == \"admin\"){\r\n                next();\r\n            }else{\r\n                res.status(403).send({\r\n                    message: 'NO ESTA PERMITIDO VISITAR ESTA RUTA'\r\n                });\r\n            }\r\n        }else{\r\n            res.status(403).send({\r\n                message: 'EL TOKEN NO ES VALIDO'\r\n            });\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAqC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAEtB;EACXC,eAAe,EAAE,MAAAA,CAAMC,GAAG,EAACC,GAAG,EAACC,IAAI,KAAK;IACpC,IAAG,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAC;MAClBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAGI,QAAQ,EAAC;MACR,IAAGA,QAAQ,CAACE,GAAG,IAAI,SAAS,IAAIF,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAC;QACpDR,IAAI,CAAC,CAAC;MACV,CAAC,MAAI;QACDD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,MAAI;MACDN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ,CAAC;EACDI,WAAW,EAAE,MAAAA,CAAMX,GAAG,EAACC,GAAG,EAACC,IAAI,KAAK;IAChC,IAAG,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAC;MAClBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAGI,QAAQ,EAAC;MACR,IAAGA,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAC;QACvBR,IAAI,CAAC,CAAC;MACV,CAAC,MAAI;QACDD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,MAAI;MACDN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ;AACJ,CAAC;AAAAK,OAAA,CAAAf,OAAA,GAAAC,QAAA","ignoreList":[]}},"mtime":1676102350909},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CategorieController = _interopRequireDefault(require(\"../controllers/CategorieController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/categorie'\n});\nconst router = (0, _expressPromiseRouter.default)();\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _CategorieController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _CategorieController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _CategorieController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _CategorieController.default.remove);\nrouter.get(\"/uploads/categorie/:img\", _CategorieController.default.obtener_imagen);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DYXRlZ29yaWVDb250cm9sbGVyIiwiX2F1dGgiLCJfY29ubmVjdE11bHRpcGFydHkiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInBhdGgiLCJtdWx0aXBhcnR5IiwidXBsb2FkRGlyIiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJjYXRlZ29yaWVjb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJsaXN0IiwiZGVsZXRlIiwicmVtb3ZlIiwib2J0ZW5lcl9pbWFnZW4iLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJDYXRlZ29yaWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IGNhdGVnb3JpZWNvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvQ2F0ZWdvcmllQ29udHJvbGxlcidcclxuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCdcclxuXHJcbmltcG9ydCBtdWx0aXBhcnR5IGZyb20gJ2Nvbm5lY3QtbXVsdGlwYXJ0eSdcclxudmFyIHBhdGggPSBtdWx0aXBhcnR5KHt1cGxvYWREaXI6ICcuL3VwbG9hZHMvY2F0ZWdvcmllJ30pXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuLy8gaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2Vycy9yZWdpc3RlclxyXG5cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSxjYXRlZ29yaWVjb250cm9sbGVyLnJlZ2lzdGVyKTtcclxucm91dGVyLnB1dChcIi91cGRhdGVcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSxjYXRlZ29yaWVjb250cm9sbGVyLnVwZGF0ZSk7XHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4sY2F0ZWdvcmllY29udHJvbGxlci5saXN0KTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIixhdXRoLnZlcmlmeUFkbWluLGNhdGVnb3JpZWNvbnRyb2xsZXIucmVtb3ZlKTtcclxuXHJcbnJvdXRlci5nZXQoXCIvdXBsb2Fkcy9jYXRlZ29yaWUvOmltZ1wiLGNhdGVnb3JpZWNvbnRyb2xsZXIub2J0ZW5lcl9pbWFnZW4pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLG9CQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFBRyxrQkFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQTJDLFNBQUFELHVCQUFBSyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQzNDLElBQUlHLElBQUksR0FBRyxJQUFBQywwQkFBVSxFQUFDO0VBQUNDLFNBQVMsRUFBRTtBQUFxQixDQUFDLENBQUM7QUFDekQsTUFBTUMsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUN4Qjs7QUFFQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFDLENBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFDUCxJQUFJLENBQUMsRUFBQ1EsNEJBQW1CLENBQUNDLFFBQVEsQ0FBQztBQUM3RU4sTUFBTSxDQUFDTyxHQUFHLENBQUMsU0FBUyxFQUFDLENBQUNKLGFBQUksQ0FBQ0MsV0FBVyxFQUFDUCxJQUFJLENBQUMsRUFBQ1EsNEJBQW1CLENBQUNHLE1BQU0sQ0FBQztBQUN4RVIsTUFBTSxDQUFDUyxHQUFHLENBQUMsT0FBTyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsNEJBQW1CLENBQUNLLElBQUksQ0FBQztBQUM3RFYsTUFBTSxDQUFDVyxNQUFNLENBQUMsU0FBUyxFQUFDUixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsNEJBQW1CLENBQUNPLE1BQU0sQ0FBQztBQUVwRVosTUFBTSxDQUFDUyxHQUFHLENBQUMseUJBQXlCLEVBQUNKLDRCQUFtQixDQUFDUSxjQUFjLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBRTFEZCxNQUFNO0FBQUFlLE9BQUEsQ0FBQW5CLE9BQUEsR0FBQWtCLFFBQUEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CategorieController","_auth","_connectMultiparty","obj","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","categoriecontroller","register","put","update","get","list","delete","remove","obtener_imagen","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["Categorie.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport categoriecontroller from '../controllers/CategorieController'\r\nimport auth from '../middlewares/auth'\r\n\r\nimport multiparty from 'connect-multiparty'\r\nvar path = multiparty({uploadDir: './uploads/categorie'})\r\nconst router = routerx();\r\n// http://localhost:3000/api/users/register\r\n\r\nrouter.post(\"/register\",[auth.verifyAdmin,path],categoriecontroller.register);\r\nrouter.put(\"/update\",[auth.verifyAdmin,path],categoriecontroller.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,categoriecontroller.list);\r\nrouter.delete(\"/delete\",auth.verifyAdmin,categoriecontroller.remove);\r\n\r\nrouter.get(\"/uploads/categorie/:img\",categoriecontroller.obtener_imagen);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,oBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAEA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA2C,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAC3C,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAE;AAAqB,CAAC,CAAC;AACzD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAC,CAACC,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,4BAAmB,CAACC,QAAQ,CAAC;AAC7EN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAC,CAACJ,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,4BAAmB,CAACG,MAAM,CAAC;AACxER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,4BAAmB,CAACK,IAAI,CAAC;AAC7DV,MAAM,CAACW,MAAM,CAAC,SAAS,EAACR,aAAI,CAACC,WAAW,EAACC,4BAAmB,CAACO,MAAM,CAAC;AAEpEZ,MAAM,CAACS,GAAG,CAAC,yBAAyB,EAACJ,4BAAmB,CAACQ,cAAc,CAAC;AAAC,IAAAC,QAAA,GAE1Dd,MAAM;AAAAe,OAAA,CAAAnB,OAAA,GAAAkB,QAAA","ignoreList":[]}},"mtime":1676448878888},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\CategorieController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  register: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        // console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      const categorie = await _models.default.Categorie.create(req.body);\n      res.status(200).json(categorie);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files && req.files.portada) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        // console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      await _models.default.Categorie.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let CategorieT = await _models.default.Categorie.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"LA CATEGORIA SE HA MODIFICADO CORRECTAMENTE\",\n        categorie: _resources.default.Categorie.categorie_list(CategorieT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Categories = await _models.default.Categorie.find({\n        $or: [{\n          \"title\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Categories = Categories.map(user => {\n        return _resources.default.Categorie.categorie_list(user);\n      });\n      res.status(200).json({\n        categories: Categories\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/categorie/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/categorie/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.Categorie.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"LA CATEGORIA SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwiX2ZzIiwiX3BhdGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwicmVnaXN0ZXIiLCJyZXEiLCJyZXMiLCJmaWxlcyIsImltZ19wYXRoIiwicG9ydGFkYSIsInBhdGgiLCJuYW1lIiwic3BsaXQiLCJwb3J0YWRhX25hbWUiLCJib2R5IiwiaW1hZ2VuIiwiY2F0ZWdvcmllIiwibW9kZWxzIiwiQ2F0ZWdvcmllIiwiY3JlYXRlIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwic2VuZCIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwidXBkYXRlIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJfaWQiLCJDYXRlZ29yaWVUIiwiZmluZE9uZSIsInJlc291cmNlIiwiY2F0ZWdvcmllX2xpc3QiLCJsaXN0Iiwic2VhcmNoIiwicXVlcnkiLCJDYXRlZ29yaWVzIiwiZmluZCIsIiRvciIsIlJlZ0V4cCIsInNvcnQiLCJtYXAiLCJ1c2VyIiwiY2F0ZWdvcmllcyIsIm9idGVuZXJfaW1hZ2VuIiwiaW1nIiwicGFyYW1zIiwiZnMiLCJzdGF0IiwiZXJyIiwicGF0aF9pbWciLCJzZW5kRmlsZSIsInJlc29sdmUiLCJyZW1vdmUiLCJmaW5kQnlJZEFuZERlbGV0ZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIkNhdGVnb3JpZUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnXHJcbmltcG9ydCByZXNvdXJjZSBmcm9tICcuLi9yZXNvdXJjZXMnXHJcbmltcG9ydCBmcyBmcm9tICdmcydcclxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZihyZXEuZmlsZXMpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLnBvcnRhZGEucGF0aDtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJ1xcXFwnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocG9ydGFkYV9uYW1lKVxyXG4gICAgICAgICAgICAgICAgcmVxLmJvZHkuaW1hZ2VuID0gcG9ydGFkYV9uYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGNhdGVnb3JpZSA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuY3JlYXRlKHJlcS5ib2R5KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oY2F0ZWdvcmllKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB1cGRhdGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZihyZXEuZmlsZXMgJiYgcmVxLmZpbGVzLnBvcnRhZGEpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLnBvcnRhZGEucGF0aDtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJ1xcXFwnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocG9ydGFkYV9uYW1lKVxyXG4gICAgICAgICAgICAgICAgcmVxLmJvZHkuaW1hZ2VuID0gcG9ydGFkYV9uYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogcmVxLmJvZHkuX2lkfSxyZXEuYm9keSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgQ2F0ZWdvcmllVCA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZE9uZSh7X2lkOiByZXEuYm9keS5faWR9KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJMQSBDQVRFR09SSUEgU0UgSEEgTU9ESUZJQ0FETyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWU6IHJlc291cmNlLkNhdGVnb3JpZS5jYXRlZ29yaWVfbGlzdChDYXRlZ29yaWVUKSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbGlzdDogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBzZWFyY2ggPSByZXEucXVlcnkuc2VhcmNoO1xyXG4gICAgICAgICAgICBsZXQgQ2F0ZWdvcmllcyA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZCh7XHJcbiAgICAgICAgICAgICAgICAkb3I6W1xyXG4gICAgICAgICAgICAgICAgICAgIHtcInRpdGxlXCI6IG5ldyBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9KS5zb3J0KHsnY3JlYXRlZEF0JzogLTF9KTtcclxuXHJcbiAgICAgICAgICAgIENhdGVnb3JpZXMgPSBDYXRlZ29yaWVzLm1hcCgodXNlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlLkNhdGVnb3JpZS5jYXRlZ29yaWVfbGlzdCh1c2VyKTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIGNhdGVnb3JpZXM6IENhdGVnb3JpZXNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgb2J0ZW5lcl9pbWFnZW46IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgaW1nID0gcmVxLnBhcmFtc1snaW1nJ107XHJcblxyXG4gICAgICAgICAgICBmcy5zdGF0KCcuL3VwbG9hZHMvY2F0ZWdvcmllLycraW1nLCBmdW5jdGlvbihlcnIpe1xyXG4gICAgICAgICAgICAgICAgaWYoIWVycil7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9jYXRlZ29yaWUvJytpbWc7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKHBhdGgucmVzb2x2ZShwYXRoX2ltZykpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9kZWZhdWx0LmpwZyc7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKHBhdGgucmVzb2x2ZShwYXRoX2ltZykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgIFxyXG4gICAgcmVtb3ZlOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLkNhdGVnb3JpZS5maW5kQnlJZEFuZERlbGV0ZSh7X2lkOiByZXEucXVlcnkuX2lkfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTEEgQ0FURUdPUklBIFNFIEVMSU1JTk8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3Ip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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","_fs","_path","obj","__esModule","default","_default","register","req","res","files","img_path","portada","path","name","split","portada_name","body","imagen","categorie","models","Categorie","create","status","json","error","send","message","console","log","update","findByIdAndUpdate","_id","CategorieT","findOne","resource","categorie_list","list","search","query","Categories","find","$or","RegExp","sort","map","user","categories","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","remove","findByIdAndDelete","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["CategorieController.js"],"sourcesContent":["import models from '../models'\r\nimport resource from '../resources'\r\nimport fs from 'fs'\r\nimport path from 'path'\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            if(req.files){\r\n                var img_path = req.files.portada.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                // console.log(portada_name)\r\n                req.body.imagen = portada_name;\r\n            }\r\n            const categorie = await models.Categorie.create(req.body);\r\n            res.status(200).json(categorie);\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    update: async(req,res) => {\r\n        try {\r\n            if(req.files && req.files.portada){\r\n                var img_path = req.files.portada.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                // console.log(portada_name)\r\n                req.body.imagen = portada_name;\r\n            }\r\n            await models.Categorie.findByIdAndUpdate({_id: req.body._id},req.body);\r\n\r\n            let CategorieT = await models.Categorie.findOne({_id: req.body._id});\r\n            res.status(200).json({\r\n                message: \"LA CATEGORIA SE HA MODIFICADO CORRECTAMENTE\",\r\n                categorie: resource.Categorie.categorie_list(CategorieT),\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    list: async(req,res) => {\r\n        try {\r\n            var search = req.query.search;\r\n            let Categories = await models.Categorie.find({\r\n                $or:[\r\n                    {\"title\": new RegExp(search, \"i\")},\r\n                ]\r\n            }).sort({'createdAt': -1});\r\n\r\n            Categories = Categories.map((user) => {\r\n                return resource.Categorie.categorie_list(user);\r\n            })\r\n\r\n            res.status(200).json({\r\n                categories: Categories\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    obtener_imagen: async(req,res) => {\r\n        try {\r\n            var img = req.params['img'];\r\n\r\n            fs.stat('./uploads/categorie/'+img, function(err){\r\n                if(!err){\r\n                    let path_img = './uploads/categorie/'+img;\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }else{\r\n                    let path_img = './uploads/default.jpg';\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },  \r\n    remove: async(req,res) => {\r\n        try {\r\n            await models.Categorie.findByIdAndDelete({_id: req.query._id});\r\n            res.status(200).json({\r\n                message: \"LA CATEGORIA SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    }\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1676450129490},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _ProductController = _interopRequireDefault(require(\"../controllers/ProductController\"));\nvar _VariedadController = _interopRequireDefault(require(\"../controllers/VariedadController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/product'\n});\nconst router = (0, _expressPromiseRouter.default)();\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _ProductController.default.register);\nrouter.post(\"/register_imagen\", [_auth.default.verifyAdmin, path], _ProductController.default.register_imagen);\nrouter.post(\"/remove_imagen\", [_auth.default.verifyAdmin, path], _ProductController.default.remove_imagen);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _ProductController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _ProductController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _ProductController.default.remove);\nrouter.get(\"/uploads/product/:img\", _ProductController.default.obtener_imagen);\nrouter.get(\"/show/:id\", _ProductController.default.show);\n\n// VARIEDAD\n\nrouter.post(\"/register-variedad\", [_auth.default.verifyAdmin, path], _VariedadController.default.register);\nrouter.put(\"/update-variedad\", [_auth.default.verifyAdmin, path], _VariedadController.default.update);\nrouter.delete(\"/delete-variedad/:id\", [_auth.default.verifyAdmin, path], _VariedadController.default.delete);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Qcm9kdWN0Q29udHJvbGxlciIsIl9WYXJpZWRhZENvbnRyb2xsZXIiLCJfYXV0aCIsIl9jb25uZWN0TXVsdGlwYXJ0eSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwicGF0aCIsIm11bHRpcGFydHkiLCJ1cGxvYWREaXIiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlBZG1pbiIsInByb2R1Y3RDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJyZWdpc3Rlcl9pbWFnZW4iLCJyZW1vdmVfaW1hZ2VuIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImRlbGV0ZSIsInJlbW92ZSIsIm9idGVuZXJfaW1hZ2VuIiwic2hvdyIsInZhcmllZGFkQ29udHJvbGxlciIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxccm91dGVyXFwiLCJzb3VyY2VzIjpbIlByb2R1Y3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IHByb2R1Y3RDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL1Byb2R1Y3RDb250cm9sbGVyJ1xyXG5pbXBvcnQgdmFyaWVkYWRDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL1ZhcmllZGFkQ29udHJvbGxlcidcclxuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCdcclxuXHJcbmltcG9ydCBtdWx0aXBhcnR5IGZyb20gJ2Nvbm5lY3QtbXVsdGlwYXJ0eSdcclxudmFyIHBhdGggPSBtdWx0aXBhcnR5KHt1cGxvYWREaXI6ICcuL3VwbG9hZHMvcHJvZHVjdCd9KVxyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcbi8vIGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcnMvcmVnaXN0ZXJcclxuXHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsW2F1dGgudmVyaWZ5QWRtaW4scGF0aF0scHJvZHVjdENvbnRyb2xsZXIucmVnaXN0ZXIpO1xyXG5cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJfaW1hZ2VuXCIsW2F1dGgudmVyaWZ5QWRtaW4scGF0aF0scHJvZHVjdENvbnRyb2xsZXIucmVnaXN0ZXJfaW1hZ2VuKTtcclxucm91dGVyLnBvc3QoXCIvcmVtb3ZlX2ltYWdlblwiLFthdXRoLnZlcmlmeUFkbWluLHBhdGhdLHByb2R1Y3RDb250cm9sbGVyLnJlbW92ZV9pbWFnZW4pO1xyXG5cclxucm91dGVyLnB1dChcIi91cGRhdGVcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSxwcm9kdWN0Q29udHJvbGxlci51cGRhdGUpO1xyXG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIixhdXRoLnZlcmlmeUFkbWluLHByb2R1Y3RDb250cm9sbGVyLmxpc3QpO1xyXG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZVwiLGF1dGgudmVyaWZ5QWRtaW4scHJvZHVjdENvbnRyb2xsZXIucmVtb3ZlKTtcclxuXHJcbnJvdXRlci5nZXQoXCIvdXBsb2Fkcy9wcm9kdWN0LzppbWdcIixwcm9kdWN0Q29udHJvbGxlci5vYnRlbmVyX2ltYWdlbik7XHJcblxyXG5yb3V0ZXIuZ2V0KFwiL3Nob3cvOmlkXCIscHJvZHVjdENvbnRyb2xsZXIuc2hvdyk7XHJcblxyXG4vLyBWQVJJRURBRFxyXG5cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXItdmFyaWVkYWRcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSx2YXJpZWRhZENvbnRyb2xsZXIucmVnaXN0ZXIpO1xyXG5yb3V0ZXIucHV0KFwiL3VwZGF0ZS12YXJpZWRhZFwiLFthdXRoLnZlcmlmeUFkbWluLHBhdGhdLHZhcmllZGFkQ29udHJvbGxlci51cGRhdGUpO1xyXG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZS12YXJpZWRhZC86aWRcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSx2YXJpZWRhZENvbnRyb2xsZXIuZGVsZXRlKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxrQkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsbUJBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLEtBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUVBLElBQUFJLGtCQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFBMkMsU0FBQUQsdUJBQUFNLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFDM0MsSUFBSUcsSUFBSSxHQUFHLElBQUFDLDBCQUFVLEVBQUM7RUFBQ0MsU0FBUyxFQUFFO0FBQW1CLENBQUMsQ0FBQztBQUN2RCxNQUFNQyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBQ3hCOztBQUVBRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUMsQ0FBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUNQLElBQUksQ0FBQyxFQUFDUSwwQkFBaUIsQ0FBQ0MsUUFBUSxDQUFDO0FBRTNFTixNQUFNLENBQUNFLElBQUksQ0FBQyxrQkFBa0IsRUFBQyxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNRLDBCQUFpQixDQUFDRSxlQUFlLENBQUM7QUFDekZQLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLGdCQUFnQixFQUFDLENBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFDUCxJQUFJLENBQUMsRUFBQ1EsMEJBQWlCLENBQUNHLGFBQWEsQ0FBQztBQUVyRlIsTUFBTSxDQUFDUyxHQUFHLENBQUMsU0FBUyxFQUFDLENBQUNOLGFBQUksQ0FBQ0MsV0FBVyxFQUFDUCxJQUFJLENBQUMsRUFBQ1EsMEJBQWlCLENBQUNLLE1BQU0sQ0FBQztBQUN0RVYsTUFBTSxDQUFDVyxHQUFHLENBQUMsT0FBTyxFQUFDUixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMEJBQWlCLENBQUNPLElBQUksQ0FBQztBQUMzRFosTUFBTSxDQUFDYSxNQUFNLENBQUMsU0FBUyxFQUFDVixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMEJBQWlCLENBQUNTLE1BQU0sQ0FBQztBQUVsRWQsTUFBTSxDQUFDVyxHQUFHLENBQUMsdUJBQXVCLEVBQUNOLDBCQUFpQixDQUFDVSxjQUFjLENBQUM7QUFFcEVmLE1BQU0sQ0FBQ1csR0FBRyxDQUFDLFdBQVcsRUFBQ04sMEJBQWlCLENBQUNXLElBQUksQ0FBQzs7QUFFOUM7O0FBRUFoQixNQUFNLENBQUNFLElBQUksQ0FBQyxvQkFBb0IsRUFBQyxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNvQiwyQkFBa0IsQ0FBQ1gsUUFBUSxDQUFDO0FBQ3JGTixNQUFNLENBQUNTLEdBQUcsQ0FBQyxrQkFBa0IsRUFBQyxDQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNvQiwyQkFBa0IsQ0FBQ1AsTUFBTSxDQUFDO0FBQ2hGVixNQUFNLENBQUNhLE1BQU0sQ0FBQyxzQkFBc0IsRUFBQyxDQUFDVixhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNvQiwyQkFBa0IsQ0FBQ0osTUFBTSxDQUFDO0FBQUMsSUFBQUssUUFBQSxHQUV6RWxCLE1BQU07QUFBQW1CLE9BQUEsQ0FBQXZCLE9BQUEsR0FBQXNCLFFBQUEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_ProductController","_VariedadController","_auth","_connectMultiparty","obj","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","productController","register","register_imagen","remove_imagen","put","update","get","list","delete","remove","obtener_imagen","show","variedadController","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["Product.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport productController from '../controllers/ProductController'\r\nimport variedadController from '../controllers/VariedadController'\r\nimport auth from '../middlewares/auth'\r\n\r\nimport multiparty from 'connect-multiparty'\r\nvar path = multiparty({uploadDir: './uploads/product'})\r\nconst router = routerx();\r\n// http://localhost:3000/api/users/register\r\n\r\nrouter.post(\"/register\",[auth.verifyAdmin,path],productController.register);\r\n\r\nrouter.post(\"/register_imagen\",[auth.verifyAdmin,path],productController.register_imagen);\r\nrouter.post(\"/remove_imagen\",[auth.verifyAdmin,path],productController.remove_imagen);\r\n\r\nrouter.put(\"/update\",[auth.verifyAdmin,path],productController.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,productController.list);\r\nrouter.delete(\"/delete\",auth.verifyAdmin,productController.remove);\r\n\r\nrouter.get(\"/uploads/product/:img\",productController.obtener_imagen);\r\n\r\nrouter.get(\"/show/:id\",productController.show);\r\n\r\n// VARIEDAD\r\n\r\nrouter.post(\"/register-variedad\",[auth.verifyAdmin,path],variedadController.register);\r\nrouter.put(\"/update-variedad\",[auth.verifyAdmin,path],variedadController.update);\r\nrouter.delete(\"/delete-variedad/:id\",[auth.verifyAdmin,path],variedadController.delete);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,kBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,mBAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,KAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAEA,IAAAI,kBAAA,GAAAL,sBAAA,CAAAC,OAAA;AAA2C,SAAAD,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAC3C,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAE;AAAmB,CAAC,CAAC;AACvD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAC,CAACC,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,0BAAiB,CAACC,QAAQ,CAAC;AAE3EN,MAAM,CAACE,IAAI,CAAC,kBAAkB,EAAC,CAACC,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,0BAAiB,CAACE,eAAe,CAAC;AACzFP,MAAM,CAACE,IAAI,CAAC,gBAAgB,EAAC,CAACC,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,0BAAiB,CAACG,aAAa,CAAC;AAErFR,MAAM,CAACS,GAAG,CAAC,SAAS,EAAC,CAACN,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,0BAAiB,CAACK,MAAM,CAAC;AACtEV,MAAM,CAACW,GAAG,CAAC,OAAO,EAACR,aAAI,CAACC,WAAW,EAACC,0BAAiB,CAACO,IAAI,CAAC;AAC3DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAACV,aAAI,CAACC,WAAW,EAACC,0BAAiB,CAACS,MAAM,CAAC;AAElEd,MAAM,CAACW,GAAG,CAAC,uBAAuB,EAACN,0BAAiB,CAACU,cAAc,CAAC;AAEpEf,MAAM,CAACW,GAAG,CAAC,WAAW,EAACN,0BAAiB,CAACW,IAAI,CAAC;;AAE9C;;AAEAhB,MAAM,CAACE,IAAI,CAAC,oBAAoB,EAAC,CAACC,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACoB,2BAAkB,CAACX,QAAQ,CAAC;AACrFN,MAAM,CAACS,GAAG,CAAC,kBAAkB,EAAC,CAACN,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACoB,2BAAkB,CAACP,MAAM,CAAC;AAChFV,MAAM,CAACa,MAAM,CAAC,sBAAsB,EAAC,CAACV,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACoB,2BAAkB,CAACJ,MAAM,CAAC;AAAC,IAAAK,QAAA,GAEzElB,MAAM;AAAAmB,OAAA,CAAAvB,OAAA,GAAAsB,QAAA","ignoreList":[]}},"mtime":1677538217364},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\ProductController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let valid_Product = await _models.default.Product.findOne({\n        title: data.title\n      });\n      if (valid_Product) {\n        res.status(200).json({\n          code: 403,\n          message: 'EL PRODUCTO YA EXISTE'\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g, '-').replace(/[^\\w-]+/g, '');\n      if (req.files) {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        data.portada = portada_name;\n      }\n      let product = await _models.default.Product.create(data);\n      res.status(200).json({\n        message: \"EL PRODUCTO SE REGISTRO CON EXITO\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"COURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      let valid_Product = await _models.default.Product.findOne({\n        title: data.title,\n        _id: {\n          $ne: data._id\n        }\n      });\n      if (valid_Product) {\n        res.status(200).json({\n          code: 403,\n          message: 'EL PRODUCTO YA EXISTE'\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g, '-').replace(/[^\\w-]+/g, '');\n      if (req.files && req.files.imagen) {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        data.portada = portada_name;\n      }\n      await _models.default.Product.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      res.status(200).json({\n        message: \"EL PRODUCTO SE REGISTRO SE ACTUALIZO CON EXITO\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"COURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var filter = [];\n      if (req.query.search) {\n        filter.push({\n          \"title\": new RegExp(req.query.search, 'i')\n        });\n      }\n      if (req.query.categorie) {\n        filter.push({\n          \"categorie\": req.query.categorie\n        });\n      }\n      let products = await _models.default.Product.find({\n        $and: filter\n      }).populate('categorie');\n      products = products.map(product => {\n        return _resources.default.Product.product_list(product);\n      });\n      res.status(200).json({\n        products: products\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"COURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Product.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: \"EL PRODUCTO SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"COURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/product/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/product/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  show: async (req, res) => {\n    try {\n      var product_id = req.params.id;\n      let PRODUCT = await _models.default.Product.findById({\n        _id: product_id\n      }).populate(\"categorie\");\n      let VARIEDADES = await _models.default.Variedad.find({\n        product: product_id\n      });\n      res.status(200).json({\n        product: _resources.default.Product.product_list(PRODUCT, VARIEDADES)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_imagen: async (req, res) => {\n    try {\n      var img_path = req.files.imagen.path;\n      var name = img_path.split('\\\\');\n      var imagen_name = name[2];\n      let product = await _models.default.Product.findByIdAndUpdate({\n        _id: req.body._id\n      }, {\n        $push: {\n          galerias: {\n            imagen: imagen_name,\n            _id: req.body.__id\n          }\n        }\n      });\n      res.status(200).json({\n        message: \"LA IMAGEN SE SUBIO PERFECTAMENTE\",\n        imagen: {\n          imagen: process.env.URL_BACKEND + '/api/products/uploads/product/' + imagen_name,\n          _id: req.body.__id\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  remove_imagen: async (req, res) => {\n    try {\n      await _models.default.Product.findByIdAndUpdate({\n        _id: req.body._id\n      }, {\n        $pull: {\n          galerias: {\n            _id: req.body.__id\n          }\n        }\n      });\n      res.status(200).json({\n        message: \"LA IMAGEN SE ELIMINO PERFECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwiX2ZzIiwiX3BhdGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwicmVnaXN0ZXIiLCJyZXEiLCJyZXMiLCJkYXRhIiwiYm9keSIsInZhbGlkX1Byb2R1Y3QiLCJtb2RlbHMiLCJQcm9kdWN0IiwiZmluZE9uZSIsInRpdGxlIiwic3RhdHVzIiwianNvbiIsImNvZGUiLCJtZXNzYWdlIiwic2x1ZyIsInRvTG93ZXJDYXNlIiwicmVwbGFjZSIsImZpbGVzIiwiaW1nX3BhdGgiLCJpbWFnZW4iLCJwYXRoIiwibmFtZSIsInNwbGl0IiwicG9ydGFkYV9uYW1lIiwicG9ydGFkYSIsInByb2R1Y3QiLCJjcmVhdGUiLCJlcnJvciIsInNlbmQiLCJ1cGRhdGUiLCJfaWQiLCIkbmUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsImxpc3QiLCJmaWx0ZXIiLCJxdWVyeSIsInNlYXJjaCIsInB1c2giLCJSZWdFeHAiLCJjYXRlZ29yaWUiLCJwcm9kdWN0cyIsImZpbmQiLCIkYW5kIiwicG9wdWxhdGUiLCJtYXAiLCJyZXNvdXJjZXMiLCJwcm9kdWN0X2xpc3QiLCJyZW1vdmUiLCJmaW5kQnlJZEFuZERlbGV0ZSIsIm9idGVuZXJfaW1hZ2VuIiwiaW1nIiwicGFyYW1zIiwiZnMiLCJzdGF0IiwiZXJyIiwicGF0aF9pbWciLCJzZW5kRmlsZSIsInJlc29sdmUiLCJjb25zb2xlIiwibG9nIiwic2hvdyIsInByb2R1Y3RfaWQiLCJpZCIsIlBST0RVQ1QiLCJmaW5kQnlJZCIsIlZBUklFREFERVMiLCJWYXJpZWRhZCIsInJlZ2lzdGVyX2ltYWdlbiIsImltYWdlbl9uYW1lIiwiJHB1c2giLCJnYWxlcmlhcyIsIl9faWQiLCJwcm9jZXNzIiwiZW52IiwiVVJMX0JBQ0tFTkQiLCJyZW1vdmVfaW1hZ2VuIiwiJHB1bGwiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJQcm9kdWN0Q29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gJy4uL21vZGVscydcclxuaW1wb3J0IHJlc291cmNlcyBmcm9tICcuLi9yZXNvdXJjZXMnO1xyXG5pbXBvcnQgZnMgZnJvbSAnZnMnXHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICByZWdpc3RlcjogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgdmFsaWRfUHJvZHVjdCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRPbmUoe3RpdGxlOiBkYXRhLnRpdGxlfSk7XHJcblxyXG4gICAgICAgICAgICBpZih2YWxpZF9Qcm9kdWN0KXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBjb2RlOiA0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0VMIFBST0RVQ1RPIFlBIEVYSVNURSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBkYXRhLnNsdWcgPSBkYXRhLnRpdGxlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvIC9nLCctJykucmVwbGFjZSgvW15cXHctXSsvZywnJyk7XHJcbiAgICAgICAgICAgIGlmKHJlcS5maWxlcyl7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMuaW1hZ2VuLnBhdGg7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9ydGFkYV9uYW1lID0gbmFtZVsyXTtcclxuICAgICAgICAgICAgICAgIGRhdGEucG9ydGFkYSA9IHBvcnRhZGFfbmFtZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IHByb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5jcmVhdGUoZGF0YSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFBST0RVQ1RPIFNFIFJFR0lTVFJPIENPTiBFWElUT1wiXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNPVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlOmFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbGV0IHZhbGlkX1Byb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kT25lKHt0aXRsZTogZGF0YS50aXRsZSwgX2lkOiB7JG5lIDogZGF0YS5faWR9fSk7XHJcblxyXG4gICAgICAgICAgICBpZih2YWxpZF9Qcm9kdWN0KXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBjb2RlOiA0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0VMIFBST0RVQ1RPIFlBIEVYSVNURSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBkYXRhLnNsdWcgPSBkYXRhLnRpdGxlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvIC9nLCctJykucmVwbGFjZSgvW15cXHctXSsvZywnJyk7XHJcbiAgICAgICAgICAgIGlmKHJlcS5maWxlcyAmJiByZXEuZmlsZXMuaW1hZ2VuKXtcclxuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5pbWFnZW4ucGF0aDtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJ1xcXFwnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xyXG4gICAgICAgICAgICAgICAgZGF0YS5wb3J0YWRhID0gcG9ydGFkYV9uYW1lO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOmRhdGEuX2lkfSxkYXRhKTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgUFJPRFVDVE8gU0UgUkVHSVNUUk8gU0UgQUNUVUFMSVpPIENPTiBFWElUT1wiXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNPVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbGlzdDphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIGZpbHRlciA9IFtdO1xyXG4gICAgICAgICAgICBpZihyZXEucXVlcnkuc2VhcmNoKXtcclxuICAgICAgICAgICAgICAgIGZpbHRlci5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgIHtcInRpdGxlXCI6IG5ldyBSZWdFeHAocmVxLnF1ZXJ5LnNlYXJjaCwnaScpfSxcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYocmVxLnF1ZXJ5LmNhdGVnb3JpZSl7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXIucHVzaChcclxuICAgICAgICAgICAgICAgICAgICB7XCJjYXRlZ29yaWVcIjogcmVxLnF1ZXJ5LmNhdGVnb3JpZX1cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IHByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7XHJcbiAgICAgICAgICAgICAgICAkYW5kOmZpbHRlcixcclxuICAgICAgICAgICAgfSkucG9wdWxhdGUoJ2NhdGVnb3JpZScpXHJcbiAgICAgICAgICAgIHByb2R1Y3RzID0gcHJvZHVjdHMubWFwKHByb2R1Y3QgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlcy5Qcm9kdWN0LnByb2R1Y3RfbGlzdChwcm9kdWN0KTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIHByb2R1Y3RzOiBwcm9kdWN0cyxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNPVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgcmVtb3ZlOmFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgX2lkID0gcmVxLnF1ZXJ5Ll9pZDtcclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWRBbmREZWxldGUoe19pZDogX2lkfSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFBST0RVQ1RPIFNFIEVMSU1JTk8gQ09SUkVDVEFNRU5URVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQ09VUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBvYnRlbmVyX2ltYWdlbjphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIGltZyA9IHJlcS5wYXJhbXNbJ2ltZyddO1xyXG5cclxuICAgICAgICAgICAgZnMuc3RhdCgnLi91cGxvYWRzL3Byb2R1Y3QvJytpbWcsIGZ1bmN0aW9uKGVycil7XHJcbiAgICAgICAgICAgICAgICBpZighZXJyKXtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcGF0aF9pbWcgPSAnLi91cGxvYWRzL3Byb2R1Y3QvJytpbWc7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKHBhdGgucmVzb2x2ZShwYXRoX2ltZykpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9kZWZhdWx0LmpwZyc7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKHBhdGgucmVzb2x2ZShwYXRoX2ltZykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHNob3c6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgcHJvZHVjdF9pZCA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgICAgICAgICAgIGxldCBQUk9EVUNUID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWQoe19pZDogcHJvZHVjdF9pZH0pLnBvcHVsYXRlKFwiY2F0ZWdvcmllXCIpO1xyXG5cclxuICAgICAgICAgICAgbGV0IFZBUklFREFERVMgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZCh7cHJvZHVjdDogcHJvZHVjdF9pZH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBwcm9kdWN0OiByZXNvdXJjZXMuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUFJPRFVDVCxWQVJJRURBREVTKSxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICByZWdpc3Rlcl9pbWFnZW46YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5pbWFnZW4ucGF0aDtcclxuICAgICAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnXFxcXCcpO1xyXG4gICAgICAgICAgICB2YXIgaW1hZ2VuX25hbWUgPSBuYW1lWzJdO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbGV0IHByb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiByZXEuYm9keS5faWR9LHtcclxuICAgICAgICAgICAgICAgICRwdXNoOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2FsZXJpYXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VuOiBpbWFnZW5fbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2lkOiByZXEuYm9keS5fX2lkXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkxBIElNQUdFTiBTRSBTVUJJTyBQRVJGRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICBpbWFnZW46IHtcclxuICAgICAgICAgICAgICAgICAgICBpbWFnZW46IHByb2Nlc3MuZW52LlVSTF9CQUNLRU5EKycvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC8nK2ltYWdlbl9uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIF9pZDogcmVxLmJvZHkuX19pZFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICByZW1vdmVfaW1hZ2VuOmFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiByZXEuYm9keS5faWR9LHtcclxuICAgICAgICAgICAgICAgICRwdWxsOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2FsZXJpYXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2lkOiByZXEuYm9keS5fX2lkXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkxBIElNQUdFTiBTRSBFTElNSU5PIFBFUkZFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxHQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxLQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBdUIsU0FBQUQsdUJBQUFLLEdB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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","_fs","_path","obj","__esModule","default","_default","register","req","res","data","body","valid_Product","models","Product","findOne","title","status","json","code","message","slug","toLowerCase","replace","files","img_path","imagen","path","name","split","portada_name","portada","product","create","error","send","update","_id","$ne","findByIdAndUpdate","list","filter","query","search","push","RegExp","categorie","products","find","$and","populate","map","resources","product_list","remove","findByIdAndDelete","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","console","log","show","product_id","id","PRODUCT","findById","VARIEDADES","Variedad","register_imagen","imagen_name","$push","galerias","__id","process","env","URL_BACKEND","remove_imagen","$pull","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["ProductController.js"],"sourcesContent":["import models from '../models'\r\nimport resources from '../resources';\r\nimport fs from 'fs'\r\nimport path from 'path'\r\n\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            \r\n            let valid_Product = await models.Product.findOne({title: data.title});\r\n\r\n            if(valid_Product){\r\n                res.status(200).json({\r\n                    code: 403,\r\n                    message: 'EL PRODUCTO YA EXISTE'\r\n                });\r\n                return;\r\n            }\r\n\r\n            data.slug = data.title.toLowerCase().replace(/ /g,'-').replace(/[^\\w-]+/g,'');\r\n            if(req.files){\r\n                var img_path = req.files.imagen.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                data.portada = portada_name;\r\n            }\r\n\r\n            let product = await models.Product.create(data);\r\n\r\n            res.status(200).json({\r\n                message: \"EL PRODUCTO SE REGISTRO CON EXITO\"\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"COURRIO UN PROBLEMA\"\r\n            });\r\n        }\r\n    },\r\n    update:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            \r\n            let valid_Product = await models.Product.findOne({title: data.title, _id: {$ne : data._id}});\r\n\r\n            if(valid_Product){\r\n                res.status(200).json({\r\n                    code: 403,\r\n                    message: 'EL PRODUCTO YA EXISTE'\r\n                });\r\n                return;\r\n            }\r\n\r\n            data.slug = data.title.toLowerCase().replace(/ /g,'-').replace(/[^\\w-]+/g,'');\r\n            if(req.files && req.files.imagen){\r\n                var img_path = req.files.imagen.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                data.portada = portada_name;\r\n            }\r\n\r\n            await models.Product.findByIdAndUpdate({_id:data._id},data);\r\n\r\n            res.status(200).json({\r\n                message: \"EL PRODUCTO SE REGISTRO SE ACTUALIZO CON EXITO\"\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"COURRIO UN PROBLEMA\"\r\n            });\r\n        }\r\n    },\r\n    list:async(req,res) => {\r\n        try {\r\n            var filter = [];\r\n            if(req.query.search){\r\n                filter.push(\r\n                    {\"title\": new RegExp(req.query.search,'i')},\r\n                );\r\n            }\r\n            if(req.query.categorie){\r\n                filter.push(\r\n                    {\"categorie\": req.query.categorie}\r\n                );\r\n            }\r\n            let products = await models.Product.find({\r\n                $and:filter,\r\n            }).populate('categorie')\r\n            products = products.map(product => {\r\n                return resources.Product.product_list(product);\r\n            })\r\n\r\n            res.status(200).json({\r\n                products: products,\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"COURRIO UN PROBLEMA\"\r\n            });\r\n        }\r\n    },\r\n    remove:async(req,res) => {\r\n        try {\r\n            let _id = req.query._id;\r\n            await models.Product.findByIdAndDelete({_id: _id});\r\n\r\n            res.status(200).json({\r\n                message: \"EL PRODUCTO SE ELIMINO CORRECTAMENTE\"\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"COURRIO UN PROBLEMA\"\r\n            });\r\n        }\r\n    },\r\n    obtener_imagen:async(req,res) => {\r\n        try {\r\n            var img = req.params['img'];\r\n\r\n            fs.stat('./uploads/product/'+img, function(err){\r\n                if(!err){\r\n                    let path_img = './uploads/product/'+img;\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }else{\r\n                    let path_img = './uploads/default.jpg';\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    show: async(req,res) => {\r\n        try {\r\n            var product_id = req.params.id;\r\n            let PRODUCT = await models.Product.findById({_id: product_id}).populate(\"categorie\");\r\n\r\n            let VARIEDADES = await models.Variedad.find({product: product_id});\r\n            res.status(200).json({\r\n                product: resources.Product.product_list(PRODUCT,VARIEDADES),\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    register_imagen:async(req,res) => {\r\n        try {\r\n            var img_path = req.files.imagen.path;\r\n            var name = img_path.split('\\\\');\r\n            var imagen_name = name[2];\r\n            \r\n            let product = await models.Product.findByIdAndUpdate({_id: req.body._id},{\r\n                $push: {\r\n                    galerias: {\r\n                        imagen: imagen_name,\r\n                        _id: req.body.__id\r\n                    }\r\n                }\r\n            })\r\n            res.status(200).json({\r\n                message: \"LA IMAGEN SE SUBIO PERFECTAMENTE\",\r\n                imagen: {\r\n                    imagen: process.env.URL_BACKEND+'/api/products/uploads/product/'+imagen_name,\r\n                    _id: req.body.__id\r\n                }\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n        }\r\n    },\r\n    remove_imagen:async(req,res) => {\r\n        try {\r\n            await models.Product.findByIdAndUpdate({_id: req.body._id},{\r\n                $pull: {\r\n                    galerias: {\r\n                        _id: req.body.__id\r\n                    }\r\n                }\r\n            })\r\n            res.status(200).json({\r\n                message: \"LA IMAGEN SE ELIMINO PERFECTAMENTE\",\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1681165449978},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\VariedadController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let variedad_exits = await _models.default.Variedad.findOne({\n        valor: data.valor,\n        product: data.product\n      });\n      var variedad = null;\n      if (variedad_exits) {\n        data.stock = variedad_exits.stock + data.stock;\n        await _models.default.Variedad.findByIdAndUpdate({\n          _id: variedad_exits._id\n        }, data);\n        variedad = await _models.default.Variedad.findById({\n          _id: variedad_exits._id\n        });\n      } else {\n        variedad = await _models.default.Variedad.create(data);\n      }\n      res.status(200).json({\n        variedad: variedad\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      await _models.default.Variedad.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let variedad = await _models.default.Variedad.findById({\n        _id: data._id\n      });\n      res.status(200).json({\n        variedad: variedad\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.params.id;\n      await _models.default.Variedad.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: \"SE ELIMINO LA VARIEDAD\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwicmVnaXN0ZXIiLCJyZXEiLCJyZXMiLCJkYXRhIiwiYm9keSIsInZhcmllZGFkX2V4aXRzIiwibW9kZWxzIiwiVmFyaWVkYWQiLCJmaW5kT25lIiwidmFsb3IiLCJwcm9kdWN0IiwidmFyaWVkYWQiLCJzdG9jayIsImZpbmRCeUlkQW5kVXBkYXRlIiwiX2lkIiwiZmluZEJ5SWQiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJzZW5kIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJ1cGRhdGUiLCJkZWxldGUiLCJwYXJhbXMiLCJpZCIsImZpbmRCeUlkQW5kRGVsZXRlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiVmFyaWVkYWRDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSAnLi4vbW9kZWxzJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcmVnaXN0ZXI6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XHJcblxyXG4gICAgICAgICAgICBsZXQgdmFyaWVkYWRfZXhpdHMgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZE9uZSh7dmFsb3I6IGRhdGEudmFsb3IsIHByb2R1Y3Q6IGRhdGEucHJvZHVjdH0pO1xyXG4gICAgICAgICAgICB2YXIgdmFyaWVkYWQgPSBudWxsO1xyXG4gICAgICAgICAgICBpZih2YXJpZWRhZF9leGl0cyl7XHJcbiAgICAgICAgICAgICAgICBkYXRhLnN0b2NrID0gdmFyaWVkYWRfZXhpdHMuc3RvY2sgKyBkYXRhLnN0b2NrO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHZhcmllZGFkX2V4aXRzLl9pZH0sZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB2YXJpZWRhZCA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kQnlJZCh7X2lkOiB2YXJpZWRhZF9leGl0cy5faWR9KTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICB2YXJpZWRhZCA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5jcmVhdGUoZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIHZhcmllZGFkOiB2YXJpZWRhZFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB1cGRhdGU6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XHJcblxyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDpkYXRhLl9pZH0sZGF0YSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgdmFyaWVkYWQgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZEJ5SWQoe19pZDogZGF0YS5faWR9KTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIHZhcmllZGFkOiB2YXJpZWRhZFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBkZWxldGU6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBfaWQgPSByZXEucGFyYW1zLmlkO1xyXG5cclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6X2lkfSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlNFIEVMSU1JTk8gTEEgVkFSSUVEQURcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUE4QixTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEsR0FFZjtFQUNYQyxRQUFRLEVBQUMsTUFBQUEsQ0FBTUMsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDdkIsSUFBSTtNQUNBLElBQUlDLElBQUksR0FBR0YsR0FBRyxDQUFDRyxJQUFJO01BRW5CLElBQUlDLGNBQWMsR0FBRyxNQUFNQyxlQUFNLENBQUNDLFFBQVEsQ0FBQ0MsT0FBTyxDQUFDO1FBQUNDLEtBQUssRUFBRU4sSUFBSSxDQUFDTSxLQUFLO1FBQUVDLE9BQU8sRUFBRVAsSUFBSSxDQUFDTztNQUFPLENBQUMsQ0FBQztNQUM5RixJQUFJQyxRQUFRLEdBQUcsSUFBSTtNQUNuQixJQUFHTixjQUFjLEVBQUM7UUFDZEYsSUFBSSxDQUFDUyxLQUFLLEdBQUdQLGNBQWMsQ0FBQ08sS0FBSyxHQUFHVCxJQUFJLENBQUNTLEtBQUs7UUFDOUMsTUFBTU4sZUFBTSxDQUFDQyxRQUFRLENBQUNNLGlCQUFpQixDQUFDO1VBQUNDLEdBQUcsRUFBRVQsY0FBYyxDQUFDUztRQUFHLENBQUMsRUFBQ1gsSUFBSSxDQUFDO1FBQ3ZFUSxRQUFRLEdBQUcsTUFBTUwsZUFBTSxDQUFDQyxRQUFRLENBQUNRLFFBQVEsQ0FBQztVQUFDRCxHQUFHLEVBQUVULGNBQWMsQ0FBQ1M7UUFBRyxDQUFDLENBQUM7TUFDeEUsQ0FBQyxNQUFJO1FBQ0RILFFBQVEsR0FBRyxNQUFNTCxlQUFNLENBQUNDLFFBQVEsQ0FBQ1MsTUFBTSxDQUFDYixJQUFJLENBQUM7TUFDakQ7TUFFQUQsR0FBRyxDQUFDZSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQlAsUUFBUSxFQUFFQTtNQUNkLENBQUMsQ0FBQztJQUNOLENBQUMsQ0FBQyxPQUFPUSxLQUFLLEVBQUU7TUFDWmpCLEdBQUcsQ0FBQ2UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztNQUNGQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0osS0FBSyxDQUFDO0lBQ3RCO0VBQ0osQ0FBQztFQUNESyxNQUFNLEVBQUMsTUFBQUEsQ0FBTXZCLEdBQUcsRUFBQ0MsR0FBRyxLQUFLO0lBQ3JCLElBQUk7TUFDQSxJQUFJQyxJQUFJLEdBQUdGLEdBQUcsQ0FBQ0csSUFBSTtNQUVuQixNQUFNRSxlQUFNLENBQUNDLFFBQVEsQ0FBQ00saUJBQWlCLENBQUM7UUFBQ0MsR0FBRyxFQUFDWCxJQUFJLENBQUNXO01BQUcsQ0FBQyxFQUFDWCxJQUFJLENBQUM7TUFFNUQsSUFBSVEsUUFBUSxHQUFHLE1BQU1MLGVBQU0sQ0FBQ0MsUUFBUSxDQUFDUSxRQUFRLENBQUM7UUFBQ0QsR0FBRyxFQUFFWCxJQUFJLENBQUNXO01BQUcsQ0FBQyxDQUFDO01BRTlEWixHQUFHLENBQUNlLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCUCxRQUFRLEVBQUVBO01BQ2QsQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDLE9BQU9RLEtBQUssRUFBRTtNQUNaakIsR0FBRyxDQUFDZSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNHLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO01BQ0ZDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSixLQUFLLENBQUM7SUFDdEI7RUFDSixDQUFDO0VBQ0RNLE1BQU0sRUFBQyxNQUFBQSxDQUFNeEIsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDckIsSUFBSTtNQUNBLElBQUlZLEdBQUcsR0FBR2IsR0FBRyxDQUFDeUIsTUFBTSxDQUFDQyxFQUFFO01BRXZCLE1BQU1yQixlQUFNLENBQUNDLFFBQVEsQ0FBQ3FCLGlCQUFpQixDQUFDO1FBQUNkLEdBQUcsRUFBQ0E7TUFBRyxDQUFDLENBQUM7TUFFbERaLEdBQUcsQ0FBQ2UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJHLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztJQUNOLENBQUMsQ0FBQyxPQUFPRixLQUFLLEVBQUU7TUFDWmpCLEdBQUcsQ0FBQ2UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztNQUNGQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0osS0FBSyxDQUFDO0lBQ3RCO0VBQ0o7QUFDSixDQUFDO0FBQUFVLE9BQUEsQ0FBQS9CLE9BQUEsR0FBQUMsUUFBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_models","_interopRequireDefault","require","obj","__esModule","default","_default","register","req","res","data","body","variedad_exits","models","Variedad","findOne","valor","product","variedad","stock","findByIdAndUpdate","_id","findById","create","status","json","error","send","message","console","log","update","delete","params","id","findByIdAndDelete","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["VariedadController.js"],"sourcesContent":["import models from '../models'\r\n\r\nexport default {\r\n    register:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n\r\n            let variedad_exits = await models.Variedad.findOne({valor: data.valor, product: data.product});\r\n            var variedad = null;\r\n            if(variedad_exits){\r\n                data.stock = variedad_exits.stock + data.stock;\r\n                await models.Variedad.findByIdAndUpdate({_id: variedad_exits._id},data);\r\n                variedad = await models.Variedad.findById({_id: variedad_exits._id});\r\n            }else{\r\n                variedad = await models.Variedad.create(data);\r\n            }\r\n\r\n            res.status(200).json({\r\n                variedad: variedad\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    update:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n\r\n            await models.Variedad.findByIdAndUpdate({_id:data._id},data);\r\n\r\n            let variedad = await models.Variedad.findById({_id: data._id});\r\n\r\n            res.status(200).json({\r\n                variedad: variedad\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    delete:async(req,res) => {\r\n        try {\r\n            let _id = req.params.id;\r\n\r\n            await models.Variedad.findByIdAndDelete({_id:_id});\r\n\r\n            res.status(200).json({\r\n                message: \"SE ELIMINO LA VARIEDAD\"\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n}"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA8B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAEf;EACXC,QAAQ,EAAC,MAAAA,CAAMC,GAAG,EAACC,GAAG,KAAK;IACvB,IAAI;MACA,IAAIC,IAAI,GAAGF,GAAG,CAACG,IAAI;MAEnB,IAAIC,cAAc,GAAG,MAAMC,eAAM,CAACC,QAAQ,CAACC,OAAO,CAAC;QAACC,KAAK,EAAEN,IAAI,CAACM,KAAK;QAAEC,OAAO,EAAEP,IAAI,CAACO;MAAO,CAAC,CAAC;MAC9F,IAAIC,QAAQ,GAAG,IAAI;MACnB,IAAGN,cAAc,EAAC;QACdF,IAAI,CAACS,KAAK,GAAGP,cAAc,CAACO,KAAK,GAAGT,IAAI,CAACS,KAAK;QAC9C,MAAMN,eAAM,CAACC,QAAQ,CAACM,iBAAiB,CAAC;UAACC,GAAG,EAAET,cAAc,CAACS;QAAG,CAAC,EAACX,IAAI,CAAC;QACvEQ,QAAQ,GAAG,MAAML,eAAM,CAACC,QAAQ,CAACQ,QAAQ,CAAC;UAACD,GAAG,EAAET,cAAc,CAACS;QAAG,CAAC,CAAC;MACxE,CAAC,MAAI;QACDH,QAAQ,GAAG,MAAML,eAAM,CAACC,QAAQ,CAACS,MAAM,CAACb,IAAI,CAAC;MACjD;MAEAD,GAAG,CAACe,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBP,QAAQ,EAAEA;MACd,CAAC,CAAC;IACN,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACZjB,GAAG,CAACe,MAAM,CAAC,GAAG,CAAC,CAACG,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACtB;EACJ,CAAC;EACDK,MAAM,EAAC,MAAAA,CAAMvB,GAAG,EAACC,GAAG,KAAK;IACrB,IAAI;MACA,IAAIC,IAAI,GAAGF,GAAG,CAACG,IAAI;MAEnB,MAAME,eAAM,CAACC,QAAQ,CAACM,iBAAiB,CAAC;QAACC,GAAG,EAACX,IAAI,CAACW;MAAG,CAAC,EAACX,IAAI,CAAC;MAE5D,IAAIQ,QAAQ,GAAG,MAAML,eAAM,CAACC,QAAQ,CAACQ,QAAQ,CAAC;QAACD,GAAG,EAAEX,IAAI,CAACW;MAAG,CAAC,CAAC;MAE9DZ,GAAG,CAACe,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBP,QAAQ,EAAEA;MACd,CAAC,CAAC;IACN,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACZjB,GAAG,CAACe,MAAM,CAAC,GAAG,CAAC,CAACG,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACtB;EACJ,CAAC;EACDM,MAAM,EAAC,MAAAA,CAAMxB,GAAG,EAACC,GAAG,KAAK;IACrB,IAAI;MACA,IAAIY,GAAG,GAAGb,GAAG,CAACyB,MAAM,CAACC,EAAE;MAEvB,MAAMrB,eAAM,CAACC,QAAQ,CAACqB,iBAAiB,CAAC;QAACd,GAAG,EAACA;MAAG,CAAC,CAAC;MAElDZ,GAAG,CAACe,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBG,OAAO,EAAE;MACb,CAAC,CAAC;IACN,CAAC,CAAC,OAAOF,KAAK,EAAE;MACZjB,GAAG,CAACe,MAAM,CAAC,GAAG,CAAC,CAACG,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACtB;EACJ;AACJ,CAAC;AAAAU,OAAA,CAAA/B,OAAA,GAAAC,QAAA","ignoreList":[]}},"mtime":1677537925822},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _SliderController = _interopRequireDefault(require(\"../controllers/SliderController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/slider'\n});\nconst router = (0, _expressPromiseRouter.default)();\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _SliderController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _SliderController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _SliderController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _SliderController.default.remove);\nrouter.get(\"/uploads/slider/:img\", _SliderController.default.obtener_imagen);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9TbGlkZXJDb250cm9sbGVyIiwiX2F1dGgiLCJfY29ubmVjdE11bHRpcGFydHkiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInBhdGgiLCJtdWx0aXBhcnR5IiwidXBsb2FkRGlyIiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJzbGlkZXJDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJsaXN0IiwiZGVsZXRlIiwicmVtb3ZlIiwib2J0ZW5lcl9pbWFnZW4iLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJTbGlkZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IHNsaWRlckNvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvU2xpZGVyQ29udHJvbGxlcidcclxuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCdcclxuXHJcbmltcG9ydCBtdWx0aXBhcnR5IGZyb20gJ2Nvbm5lY3QtbXVsdGlwYXJ0eSdcclxudmFyIHBhdGggPSBtdWx0aXBhcnR5KHt1cGxvYWREaXI6ICcuL3VwbG9hZHMvc2xpZGVyJ30pXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuLy8gaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2Vycy9yZWdpc3RlclxyXG5cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSxzbGlkZXJDb250cm9sbGVyLnJlZ2lzdGVyKTtcclxucm91dGVyLnB1dChcIi91cGRhdGVcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSxzbGlkZXJDb250cm9sbGVyLnVwZGF0ZSk7XHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4sc2xpZGVyQ29udHJvbGxlci5saXN0KTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIixhdXRoLnZlcmlmeUFkbWluLHNsaWRlckNvbnRyb2xsZXIucmVtb3ZlKTtcclxuXHJcbnJvdXRlci5nZXQoXCIvdXBsb2Fkcy9zbGlkZXIvOmltZ1wiLHNsaWRlckNvbnRyb2xsZXIub2J0ZW5lcl9pbWFnZW4pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLGlCQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFBRyxrQkFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQTJDLFNBQUFELHVCQUFBSyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQzNDLElBQUlHLElBQUksR0FBRyxJQUFBQywwQkFBVSxFQUFDO0VBQUNDLFNBQVMsRUFBRTtBQUFrQixDQUFDLENBQUM7QUFDdEQsTUFBTUMsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUN4Qjs7QUFFQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFDLENBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFDUCxJQUFJLENBQUMsRUFBQ1EseUJBQWdCLENBQUNDLFFBQVEsQ0FBQztBQUMxRU4sTUFBTSxDQUFDTyxHQUFHLENBQUMsU0FBUyxFQUFDLENBQUNKLGFBQUksQ0FBQ0MsV0FBVyxFQUFDUCxJQUFJLENBQUMsRUFBQ1EseUJBQWdCLENBQUNHLE1BQU0sQ0FBQztBQUNyRVIsTUFBTSxDQUFDUyxHQUFHLENBQUMsT0FBTyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MseUJBQWdCLENBQUNLLElBQUksQ0FBQztBQUMxRFYsTUFBTSxDQUFDVyxNQUFNLENBQUMsU0FBUyxFQUFDUixhQUFJLENBQUNDLFdBQVcsRUFBQ0MseUJBQWdCLENBQUNPLE1BQU0sQ0FBQztBQUVqRVosTUFBTSxDQUFDUyxHQUFHLENBQUMsc0JBQXNCLEVBQUNKLHlCQUFnQixDQUFDUSxjQUFjLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBRXBEZCxNQUFNO0FBQUFlLE9BQUEsQ0FBQW5CLE9BQUEsR0FBQWtCLFFBQUEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_SliderController","_auth","_connectMultiparty","obj","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","sliderController","register","put","update","get","list","delete","remove","obtener_imagen","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["Slider.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport sliderController from '../controllers/SliderController'\r\nimport auth from '../middlewares/auth'\r\n\r\nimport multiparty from 'connect-multiparty'\r\nvar path = multiparty({uploadDir: './uploads/slider'})\r\nconst router = routerx();\r\n// http://localhost:3000/api/users/register\r\n\r\nrouter.post(\"/register\",[auth.verifyAdmin,path],sliderController.register);\r\nrouter.put(\"/update\",[auth.verifyAdmin,path],sliderController.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,sliderController.list);\r\nrouter.delete(\"/delete\",auth.verifyAdmin,sliderController.remove);\r\n\r\nrouter.get(\"/uploads/slider/:img\",sliderController.obtener_imagen);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,iBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAEA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA2C,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAC3C,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAE;AAAkB,CAAC,CAAC;AACtD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAC,CAACC,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,yBAAgB,CAACC,QAAQ,CAAC;AAC1EN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAC,CAACJ,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,yBAAgB,CAACG,MAAM,CAAC;AACrER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACK,IAAI,CAAC;AAC1DV,MAAM,CAACW,MAAM,CAAC,SAAS,EAACR,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACO,MAAM,CAAC;AAEjEZ,MAAM,CAACS,GAAG,CAAC,sBAAsB,EAACJ,yBAAgB,CAACQ,cAAc,CAAC;AAAC,IAAAC,QAAA,GAEpDd,MAAM;AAAAe,OAAA,CAAAnB,OAAA,GAAAkB,QAAA","ignoreList":[]}},"mtime":1677624959347},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\SliderController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  register: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        // console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      const slider = await _models.default.Slider.create(req.body);\n      res.status(200).json(slider);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files && req.files.portada) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        // console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      await _models.default.Slider.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let SliderT = await _models.default.Slider.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL SLIDER SE HA MODIFICADO CORRECTAMENTE\",\n        slider: _resources.default.Slider.slider_list(SliderT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Sliders = await _models.default.Slider.find({\n        $or: [{\n          \"title\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Sliders = Sliders.map(user => {\n        return _resources.default.Slider.slider_list(user);\n      });\n      res.status(200).json({\n        sliders: Sliders\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/slider/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/slider/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.Slider.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"EL SLIDER SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwiX2ZzIiwiX3BhdGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwicmVnaXN0ZXIiLCJyZXEiLCJyZXMiLCJmaWxlcyIsImltZ19wYXRoIiwicG9ydGFkYSIsInBhdGgiLCJuYW1lIiwic3BsaXQiLCJwb3J0YWRhX25hbWUiLCJib2R5IiwiaW1hZ2VuIiwic2xpZGVyIiwibW9kZWxzIiwiU2xpZGVyIiwiY3JlYXRlIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwic2VuZCIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwidXBkYXRlIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJfaWQiLCJTbGlkZXJUIiwiZmluZE9uZSIsInJlc291cmNlIiwic2xpZGVyX2xpc3QiLCJsaXN0Iiwic2VhcmNoIiwicXVlcnkiLCJTbGlkZXJzIiwiZmluZCIsIiRvciIsIlJlZ0V4cCIsInNvcnQiLCJtYXAiLCJ1c2VyIiwic2xpZGVycyIsIm9idGVuZXJfaW1hZ2VuIiwiaW1nIiwicGFyYW1zIiwiZnMiLCJzdGF0IiwiZXJyIiwicGF0aF9pbWciLCJzZW5kRmlsZSIsInJlc29sdmUiLCJyZW1vdmUiLCJmaW5kQnlJZEFuZERlbGV0ZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIlNsaWRlckNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnXHJcbmltcG9ydCByZXNvdXJjZSBmcm9tICcuLi9yZXNvdXJjZXMnXHJcbmltcG9ydCBmcyBmcm9tICdmcydcclxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZihyZXEuZmlsZXMpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLnBvcnRhZGEucGF0aDtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJ1xcXFwnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocG9ydGFkYV9uYW1lKVxyXG4gICAgICAgICAgICAgICAgcmVxLmJvZHkuaW1hZ2VuID0gcG9ydGFkYV9uYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHNsaWRlciA9IGF3YWl0IG1vZGVscy5TbGlkZXIuY3JlYXRlKHJlcS5ib2R5KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oc2xpZGVyKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB1cGRhdGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZihyZXEuZmlsZXMgJiYgcmVxLmZpbGVzLnBvcnRhZGEpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLnBvcnRhZGEucGF0aDtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJ1xcXFwnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocG9ydGFkYV9uYW1lKVxyXG4gICAgICAgICAgICAgICAgcmVxLmJvZHkuaW1hZ2VuID0gcG9ydGFkYV9uYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5TbGlkZXIuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogcmVxLmJvZHkuX2lkfSxyZXEuYm9keSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgU2xpZGVyVCA9IGF3YWl0IG1vZGVscy5TbGlkZXIuZmluZE9uZSh7X2lkOiByZXEuYm9keS5faWR9KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBTTElERVIgU0UgSEEgTU9ESUZJQ0FETyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICBzbGlkZXI6IHJlc291cmNlLlNsaWRlci5zbGlkZXJfbGlzdChTbGlkZXJUKSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbGlzdDogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBzZWFyY2ggPSByZXEucXVlcnkuc2VhcmNoO1xyXG4gICAgICAgICAgICBsZXQgU2xpZGVycyA9IGF3YWl0IG1vZGVscy5TbGlkZXIuZmluZCh7XHJcbiAgICAgICAgICAgICAgICAkb3I6W1xyXG4gICAgICAgICAgICAgICAgICAgIHtcInRpdGxlXCI6IG5ldyBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9KS5zb3J0KHsnY3JlYXRlZEF0JzogLTF9KTtcclxuXHJcbiAgICAgICAgICAgIFNsaWRlcnMgPSBTbGlkZXJzLm1hcCgodXNlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlLlNsaWRlci5zbGlkZXJfbGlzdCh1c2VyKTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIHNsaWRlcnM6IFNsaWRlcnNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgb2J0ZW5lcl9pbWFnZW46IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgaW1nID0gcmVxLnBhcmFtc1snaW1nJ107XHJcblxyXG4gICAgICAgICAgICBmcy5zdGF0KCcuL3VwbG9hZHMvc2xpZGVyLycraW1nLCBmdW5jdGlvbihlcnIpe1xyXG4gICAgICAgICAgICAgICAgaWYoIWVycil7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9zbGlkZXIvJytpbWc7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKHBhdGgucmVzb2x2ZShwYXRoX2ltZykpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9kZWZhdWx0LmpwZyc7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKHBhdGgucmVzb2x2ZShwYXRoX2ltZykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgIFxyXG4gICAgcmVtb3ZlOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlNsaWRlci5maW5kQnlJZEFuZERlbGV0ZSh7X2lkOiByZXEucXVlcnkuX2lkfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgU0xJREVSIFNFIEVMSU1JTk8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FB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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","_fs","_path","obj","__esModule","default","_default","register","req","res","files","img_path","portada","path","name","split","portada_name","body","imagen","slider","models","Slider","create","status","json","error","send","message","console","log","update","findByIdAndUpdate","_id","SliderT","findOne","resource","slider_list","list","search","query","Sliders","find","$or","RegExp","sort","map","user","sliders","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","remove","findByIdAndDelete","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["SliderController.js"],"sourcesContent":["import models from '../models'\r\nimport resource from '../resources'\r\nimport fs from 'fs'\r\nimport path from 'path'\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            if(req.files){\r\n                var img_path = req.files.portada.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                // console.log(portada_name)\r\n                req.body.imagen = portada_name;\r\n            }\r\n            const slider = await models.Slider.create(req.body);\r\n            res.status(200).json(slider);\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    update: async(req,res) => {\r\n        try {\r\n            if(req.files && req.files.portada){\r\n                var img_path = req.files.portada.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                // console.log(portada_name)\r\n                req.body.imagen = portada_name;\r\n            }\r\n            await models.Slider.findByIdAndUpdate({_id: req.body._id},req.body);\r\n\r\n            let SliderT = await models.Slider.findOne({_id: req.body._id});\r\n            res.status(200).json({\r\n                message: \"EL SLIDER SE HA MODIFICADO CORRECTAMENTE\",\r\n                slider: resource.Slider.slider_list(SliderT),\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    list: async(req,res) => {\r\n        try {\r\n            var search = req.query.search;\r\n            let Sliders = await models.Slider.find({\r\n                $or:[\r\n                    {\"title\": new RegExp(search, \"i\")},\r\n                ]\r\n            }).sort({'createdAt': -1});\r\n\r\n            Sliders = Sliders.map((user) => {\r\n                return resource.Slider.slider_list(user);\r\n            })\r\n\r\n            res.status(200).json({\r\n                sliders: Sliders\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    obtener_imagen: async(req,res) => {\r\n        try {\r\n            var img = req.params['img'];\r\n\r\n            fs.stat('./uploads/slider/'+img, function(err){\r\n                if(!err){\r\n                    let path_img = './uploads/slider/'+img;\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }else{\r\n                    let path_img = './uploads/default.jpg';\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },  \r\n    remove: async(req,res) => {\r\n        try {\r\n            await models.Slider.findByIdAndDelete({_id: req.query._id});\r\n            res.status(200).json({\r\n                message: \"EL SLIDER SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    }\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1677627512867},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Cupone.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst CuponeSchema = new _mongoose.Schema({\n  code: {\n    type: String,\n    maxlength: 50,\n    required: true\n  },\n  type_discount: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  //por porcentaje 1  o por moneda 2\n  discount: {\n    type: Number,\n    required: true\n  },\n  //por moneda o por porcentaje\n  type_count: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  //ilimitado 1 o limitado 2\n  num_use: {\n    type: Number,\n    required: false\n  },\n  type_segment: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es cupon por producto y 2 seria por categoria\n  state: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es activo\n  products: [{\n    type: Object\n  }],\n  //[{_id: asdasdas },{_id: dsdsds}]\n  categories: [{\n    type: Object\n  }]\n}, {\n  timestamps: true\n});\nconst Cupone = _mongoose.default.model(\"cupones\", CuponeSchema);\nvar _default = Cupone;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiQ3Vwb25lU2NoZW1hIiwiU2NoZW1hIiwiY29kZSIsInR5cGUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJyZXF1aXJlZCIsInR5cGVfZGlzY291bnQiLCJOdW1iZXIiLCJkaXNjb3VudCIsInR5cGVfY291bnQiLCJudW1fdXNlIiwidHlwZV9zZWdtZW50Iiwic3RhdGUiLCJwcm9kdWN0cyIsImNhdGVnb3JpZXMiLCJ0aW1lc3RhbXBzIiwiQ3Vwb25lIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIkN1cG9uZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2Use1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCBDdXBvbmVTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIGNvZGU6e3R5cGU6U3RyaW5nLG1heGxlbmd0aDo1MCxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHR5cGVfZGlzY291bnQ6e3R5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWUsZGVmYXVsdDogMX0sLy9wb3IgcG9yY2VudGFqZSAxICBvIHBvciBtb25lZGEgMlxyXG4gICAgZGlzY291bnQ6e3R5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWV9LC8vcG9yIG1vbmVkYSBvIHBvciBwb3JjZW50YWplXHJcbiAgICB0eXBlX2NvdW50Ont0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlLGRlZmF1bHQ6MX0sLy9pbGltaXRhZG8gMSBvIGxpbWl0YWRvIDJcclxuICAgIG51bV91c2U6e3R5cGU6TnVtYmVyLHJlcXVpcmVkOmZhbHNlfSxcclxuICAgIHR5cGVfc2VnbWVudDoge3R5cGU6TnVtYmVyLHJlcXVpcmVkOmZhbHNlLGRlZmF1bHQ6MX0sLy8xIGVzIGN1cG9uIHBvciBwcm9kdWN0byB5IDIgc2VyaWEgcG9yIGNhdGVnb3JpYVxyXG4gICAgc3RhdGU6e3R5cGU6TnVtYmVyLHJlcXVpcmVkOmZhbHNlLGRlZmF1bHQ6IDF9LC8vMSBlcyBhY3Rpdm9cclxuICAgIHByb2R1Y3RzOlt7dHlwZTpPYmplY3R9XSwvL1t7X2lkOiBhc2Rhc2RhcyB9LHtfaWQ6IGRzZHNkc31dXHJcbiAgICBjYXRlZ29yaWVzOlt7dHlwZTpPYmplY3R9XVxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6dHJ1ZVxyXG59KVxyXG5cclxuY29uc3QgQ3Vwb25lID0gbW9uZ29vc2UubW9kZWwoXCJjdXBvbmVzXCIsQ3Vwb25lU2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgQ3Vwb25lOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQXlDLFNBQUFDLHlCQUFBQyxXQUFBLGVBQUFDLE9BQUEsa0NBQUFDLGlCQUFBLE9BQUFELE9BQUEsUUFBQUUsZ0JBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxXQUFBLFdBQUFBLFdBQUEsR0FBQUcsZ0JBQUEsR0FBQUQsaUJBQUEsS0FBQUYsV0FBQTtBQUFBLFNBQUFILHdC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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","CuponeSchema","Schema","code","type","String","maxlength","required","type_discount","Number","discount","type_count","num_use","type_segment","state","products","categories","timestamps","Cupone","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Cupone.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst CuponeSchema = new Schema({\r\n    code:{type:String,maxlength:50,required:true},\r\n    type_discount:{type:Number,required:true,default: 1},//por porcentaje 1  o por moneda 2\r\n    discount:{type:Number,required:true},//por moneda o por porcentaje\r\n    type_count:{type:Number,required:true,default:1},//ilimitado 1 o limitado 2\r\n    num_use:{type:Number,required:false},\r\n    type_segment: {type:Number,required:false,default:1},//1 es cupon por producto y 2 seria por categoria\r\n    state:{type:Number,required:false,default: 1},//1 es activo\r\n    products:[{type:Object}],//[{_id: asdasdas },{_id: dsdsds}]\r\n    categories:[{type:Object}]\r\n},{\r\n    timestamps:true\r\n})\r\n\r\nconst Cupone = mongoose.model(\"cupones\",CuponeSchema);\r\nexport default Cupone;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAH,wBAAAO,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,CAAAJ,OAAA,GAAAF,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAEzC,MAAMW,YAAY,GAAG,IAAIC,gBAAM,CAAC;EAC5BC,IAAI,EAAC;IAACC,IAAI,EAACC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC7CC,aAAa,EAAC;IAACJ,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,IAAI;IAACrB,OAAO,EAAE;EAAC,CAAC;EAAC;EACrDwB,QAAQ,EAAC;IAACN,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC;EAAI,CAAC;EAAC;EACrCI,UAAU,EAAC;IAACP,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,IAAI;IAACrB,OAAO,EAAC;EAAC,CAAC;EAAC;EACjD0B,OAAO,EAAC;IAACR,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC;EAAK,CAAC;EACpCM,YAAY,EAAE;IAACT,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,KAAK;IAACrB,OAAO,EAAC;EAAC,CAAC;EAAC;EACrD4B,KAAK,EAAC;IAACV,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,KAAK;IAACrB,OAAO,EAAE;EAAC,CAAC;EAAC;EAC9C6B,QAAQ,EAAC,CAAC;IAACX,IAAI,EAACZ;EAAM,CAAC,CAAC;EAAC;EACzBwB,UAAU,EAAC,CAAC;IAACZ,IAAI,EAACZ;EAAM,CAAC;AAC7B,CAAC,EAAC;EACEyB,UAAU,EAAC;AACf,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAGC,iBAAQ,CAACC,KAAK,CAAC,SAAS,EAACnB,YAAY,CAAC;AAAC,IAAAoB,QAAA,GACvCH,MAAM;AAAAI,OAAA,CAAApC,OAAA,GAAAmC,QAAA","ignoreList":[]}},"mtime":1677795746073},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\Cupone.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CuponeController = _interopRequireDefault(require(\"../controllers/CuponeController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", _auth.default.verifyAdmin, _CuponeController.default.register);\nrouter.put(\"/update\", _auth.default.verifyAdmin, _CuponeController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _CuponeController.default.list);\nrouter.get(\"/config\", _auth.default.verifyAdmin, _CuponeController.default.config);\nrouter.get(\"/show\", _auth.default.verifyAdmin, _CuponeController.default.show);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _CuponeController.default.delete);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DdXBvbmVDb250cm9sbGVyIiwiX2F1dGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsInJvdXRlcngiLCJwb3N0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwiY3Vwb25lQ29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImNvbmZpZyIsInNob3ciLCJkZWxldGUiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJDdXBvbmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IGN1cG9uZUNvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvQ3Vwb25lQ29udHJvbGxlcidcclxuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCdcclxuXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuXHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsYXV0aC52ZXJpZnlBZG1pbixjdXBvbmVDb250cm9sbGVyLnJlZ2lzdGVyKTtcclxucm91dGVyLnB1dChcIi91cGRhdGVcIixhdXRoLnZlcmlmeUFkbWluLGN1cG9uZUNvbnRyb2xsZXIudXBkYXRlKTtcclxucm91dGVyLmdldChcIi9saXN0XCIsYXV0aC52ZXJpZnlBZG1pbixjdXBvbmVDb250cm9sbGVyLmxpc3QpO1xyXG5yb3V0ZXIuZ2V0KFwiL2NvbmZpZ1wiLGF1dGgudmVyaWZ5QWRtaW4sY3Vwb25lQ29udHJvbGxlci5jb25maWcpO1xyXG5yb3V0ZXIuZ2V0KFwiL3Nob3dcIixhdXRoLnZlcmlmeUFkbWluLGN1cG9uZUNvbnRyb2xsZXIuc2hvdyk7XHJcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlXCIsYXV0aC52ZXJpZnlBZG1pbixjdXBvbmVDb250cm9sbGVyLmRlbGV0ZSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsaUJBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFzQyxTQUFBRCx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUV0QyxNQUFNRyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBRXhCRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ0MsUUFBUSxDQUFDO0FBQ25FTixNQUFNLENBQUNPLEdBQUcsQ0FBQyxTQUFTLEVBQUNKLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ0csTUFBTSxDQUFDO0FBQzlEUixNQUFNLENBQUNTLEdBQUcsQ0FBQyxPQUFPLEVBQUNOLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ0ssSUFBSSxDQUFDO0FBQzFEVixNQUFNLENBQUNTLEdBQUcsQ0FBQyxTQUFTLEVBQUNOLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ00sTUFBTSxDQUFDO0FBQzlEWCxNQUFNLENBQUNTLEdBQUcsQ0FBQyxPQUFPLEVBQUNOLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ08sSUFBSSxDQUFDO0FBQzFEWixNQUFNLENBQUNhLE1BQU0sQ0FBQyxTQUFTLEVBQUNWLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ1EsTUFBTSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUVuRGQsTUFBTTtBQUFBZSxPQUFBLENBQUFoQixPQUFBLEdBQUFlLFFBQUEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CuponeController","_auth","obj","__esModule","default","router","routerx","post","auth","verifyAdmin","cuponeController","register","put","update","get","list","config","show","delete","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["Cupone.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport cuponeController from '../controllers/CuponeController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n\r\nrouter.post(\"/register\",auth.verifyAdmin,cuponeController.register);\r\nrouter.put(\"/update\",auth.verifyAdmin,cuponeController.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,cuponeController.list);\r\nrouter.get(\"/config\",auth.verifyAdmin,cuponeController.config);\r\nrouter.get(\"/show\",auth.verifyAdmin,cuponeController.show);\r\nrouter.delete(\"/delete\",auth.verifyAdmin,cuponeController.delete);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,iBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACC,QAAQ,CAAC;AACnEN,MAAM,CAACO,GAAG,CAAC,SAAS,EAACJ,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACG,MAAM,CAAC;AAC9DR,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACK,IAAI,CAAC;AAC1DV,MAAM,CAACS,GAAG,CAAC,SAAS,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACM,MAAM,CAAC;AAC9DX,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACO,IAAI,CAAC;AAC1DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAACV,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACQ,MAAM,CAAC;AAAC,IAAAC,QAAA,GAEnDd,MAAM;AAAAe,OAAA,CAAAhB,OAAA,GAAAe,QAAA","ignoreList":[]}},"mtime":1677794861977},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\CuponeController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let exits_cupone = await _models.default.Cupone.findOne({\n        code: data.code\n      });\n      if (exits_cupone) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\n        });\n        return;\n      }\n      let cupone = await _models.default.Cupone.create(data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL CUPON REGISTRO CORRECTAMENTE\",\n        cupone: cupone\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      let exits_cupone = await _models.default.Cupone.findOne({\n        code: data.code,\n        _id: {\n          $ne: data._id\n        }\n      });\n      if (exits_cupone) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\n        });\n        return;\n      }\n      let cupone = await _models.default.Cupone.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let cuponeT = await _models.default.Cupone.findById({\n        _id: data._id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL CUPON SE ACTUALIZO CORRECTAMENTE\",\n        cupone: cuponeT\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Cupone.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL CUPON SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      let search = req.query.search;\n      let cupones = await _models.default.Cupone.find({\n        $or: [{\n          \"code\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        message: 200,\n        cupones: cupones\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  show: async (req, res) => {\n    try {\n      let cupone_id = req.query.cupone_id;\n      let cupon = await _models.default.Cupone.findOne({\n        _id: cupone_id\n      });\n      res.status(200).json({\n        message: 200,\n        cupon: cupon\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  config: async (req, res) => {\n    try {\n      let Products = await _models.default.Product.find({\n        state: 2\n      });\n      let Categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      res.status(200).json({\n        message: 200,\n        products: Products,\n        categories: Categories\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwicmVnaXN0ZXIiLCJyZXEiLCJyZXMiLCJkYXRhIiwiYm9keSIsImV4aXRzX2N1cG9uZSIsIm1vZGVscyIsIkN1cG9uZSIsImZpbmRPbmUiLCJjb2RlIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJtZXNzYWdlX3RleHQiLCJjdXBvbmUiLCJjcmVhdGUiLCJlcnJvciIsInNlbmQiLCJ1cGRhdGUiLCJfaWQiLCIkbmUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsImN1cG9uZVQiLCJmaW5kQnlJZCIsImRlbGV0ZSIsInF1ZXJ5IiwiZmluZEJ5SWRBbmREZWxldGUiLCJsaXN0Iiwic2VhcmNoIiwiY3Vwb25lcyIsImZpbmQiLCIkb3IiLCJSZWdFeHAiLCJzb3J0Iiwic2hvdyIsImN1cG9uZV9pZCIsImN1cG9uIiwiY29uZmlnIiwiUHJvZHVjdHMiLCJQcm9kdWN0Iiwic3RhdGUiLCJDYXRlZ29yaWVzIiwiQ2F0ZWdvcmllIiwicHJvZHVjdHMiLCJjYXRlZ29yaWVzIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiQ3Vwb25lQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xyXG5cclxuICAgICAgICAgICAgbGV0IGV4aXRzX2N1cG9uZSA9IGF3YWl0IG1vZGVscy5DdXBvbmUuZmluZE9uZSh7Y29kZTogZGF0YS5jb2RlfSk7XHJcblxyXG4gICAgICAgICAgICBpZihleGl0c19jdXBvbmUpe1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6NDAzLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBDT0RJR08gREVMIENVUE9OIFlBIEVYSVNURVwiXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGN1cG9uZSA9IGF3YWl0IG1vZGVscy5DdXBvbmUuY3JlYXRlKGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENVUE9OIFJFR0lTVFJPIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgICAgIGN1cG9uZTpjdXBvbmVcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuXHJcbiAgICAgICAgICAgIGxldCBleGl0c19jdXBvbmUgPSBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmRPbmUoe2NvZGU6IGRhdGEuY29kZSxfaWQ6IHskbmU6IGRhdGEuX2lkfX0pO1xyXG5cclxuICAgICAgICAgICAgaWYoZXhpdHNfY3Vwb25lKXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOjQwMyxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgQ09ESUdPIERFTCBDVVBPTiBZQSBFWElTVEVcIlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBjdXBvbmUgPSBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IGRhdGEuX2lkfSxkYXRhKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBjdXBvbmVUID0gYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kQnlJZCh7X2lkOiBkYXRhLl9pZH0pO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENVUE9OIFNFIEFDVFVBTElaTyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICBjdXBvbmU6Y3Vwb25lVCxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgZGVsZXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IF9pZCA9IHJlcS5xdWVyeS5faWQ7XHJcblxyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IF9pZH0pO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENVUE9OIFNFIEVMSU1JTk8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBsaXN0OiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IHNlYXJjaCA9IHJlcS5xdWVyeS5zZWFyY2g7XHJcblxyXG4gICAgICAgICAgICBsZXQgY3Vwb25lcyA9IGF3YWl0IG1vZGVscy5DdXBvbmUuZmluZCh7XHJcbiAgICAgICAgICAgICAgICAkb3I6W1xyXG4gICAgICAgICAgICAgICAgICAgIHtcImNvZGVcIjogbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH0pLnNvcnQoeydjcmVhdGVkQXQnOiAtMX0pO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgY3Vwb25lczogY3Vwb25lcyxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2hvdzogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBjdXBvbmVfaWQgPSByZXEucXVlcnkuY3Vwb25lX2lkO1xyXG5cclxuICAgICAgICAgICAgbGV0IGN1cG9uID0gYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kT25lKHtfaWQ6IGN1cG9uZV9pZH0pO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgY3Vwb246IGN1cG9uLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBjb25maWc6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG5cclxuICAgICAgICAgICAgbGV0IFByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7c3RhdGU6IDJ9KTtcclxuICAgICAgICAgICAgbGV0IENhdGVnb3JpZXMgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmZpbmQoe3N0YXRlOjF9KTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcclxuICAgICAgICAgICAgICAgIHByb2R1Y3RzOiBQcm9kdWN0cyxcclxuICAgICAgICAgICAgICAgIGNhdGVnb3JpZXM6IENhdGVnb3JpZXMsXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQThCLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUVmO0VBQ1hDLFFBQVEsRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUN4QixJQUFJO01BQ0EsSUFBSUMsSUFBSSxHQUFHRixHQUFHLENBQUNHLElBQUk7TUFFbkIsSUFBSUMsWUFBWSxHQUFHLE1BQU1DLGVBQU0sQ0FBQ0MsTUFBTSxDQUFDQyxPQUFPLENBQUM7UUFBQ0MsSUFBSSxFQUFFTixJQUFJLENBQUNNO01BQUksQ0FBQyxDQUFDO01BRWpFLElBQUdKLFlBQVksRUFBQztRQUNaSCxHQUFHLENBQUNRLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQ2pCQyxPQUFPLEVBQUMsR0FBRztVQUNYQyxZQUFZLEVBQUU7UUFDbEIsQ0FBQyxDQUFDO1FBQ0Y7TUFDSjtNQUVBLElBQUlDLE1BQU0sR0FBRyxNQUFNUixlQUFNLENBQUNDLE1BQU0sQ0FBQ1EsTUFBTSxDQUFDWixJQUFJLENBQUM7TUFFN0NELEdBQUcsQ0FBQ1EsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRSxHQUFHO1FBQ1pDLFlBQVksRUFBRSxpQ0FBaUM7UUFD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","map":{"version":3,"names":["_models","_interopRequireDefault","require","obj","__esModule","default","_default","register","req","res","data","body","exits_cupone","models","Cupone","findOne","code","status","json","message","message_text","cupone","create","error","send","update","_id","$ne","findByIdAndUpdate","cuponeT","findById","delete","query","findByIdAndDelete","list","search","cupones","find","$or","RegExp","sort","show","cupone_id","cupon","config","Products","Product","state","Categories","Categorie","products","categories","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["CuponeController.js"],"sourcesContent":["import models from \"../models\"\r\n\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n\r\n            let exits_cupone = await models.Cupone.findOne({code: data.code});\r\n\r\n            if(exits_cupone){\r\n                res.status(200).json({\r\n                    message:403,\r\n                    message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\r\n                });\r\n                return;\r\n            }\r\n\r\n            let cupone = await models.Cupone.create(data);\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL CUPON REGISTRO CORRECTAMENTE\",\r\n                cupone:cupone\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    update: async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n\r\n            let exits_cupone = await models.Cupone.findOne({code: data.code,_id: {$ne: data._id}});\r\n\r\n            if(exits_cupone){\r\n                res.status(200).json({\r\n                    message:403,\r\n                    message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\r\n                });\r\n                return;\r\n            }\r\n\r\n            let cupone = await models.Cupone.findByIdAndUpdate({_id: data._id},data);\r\n            \r\n            let cuponeT = await models.Cupone.findById({_id: data._id});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL CUPON SE ACTUALIZO CORRECTAMENTE\",\r\n                cupone:cuponeT,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    delete: async(req,res) => {\r\n        try {\r\n            let _id = req.query._id;\r\n\r\n            await models.Cupone.findByIdAndDelete({_id: _id});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL CUPON SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    list: async(req,res) => {\r\n        try {\r\n            let search = req.query.search;\r\n\r\n            let cupones = await models.Cupone.find({\r\n                $or:[\r\n                    {\"code\": new RegExp(search, \"i\")},\r\n                ]\r\n            }).sort({'createdAt': -1});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                cupones: cupones,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    show: async(req,res) => {\r\n        try {\r\n            let cupone_id = req.query.cupone_id;\r\n\r\n            let cupon = await models.Cupone.findOne({_id: cupone_id});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                cupon: cupon,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    config: async(req,res) => {\r\n        try {\r\n\r\n            let Products = await models.Product.find({state: 2});\r\n            let Categories = await models.Categorie.find({state:1});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                products: Products,\r\n                categories: Categories,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1677795764816},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _UserController = _interopRequireDefault(require(\"../controllers/UserController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", _UserController.default.register);\nrouter.put(\"/update\", _UserController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _UserController.default.list);\nrouter.post(\"/register_admin\", _auth.default.verifyAdmin, _UserController.default.register_admin);\nrouter.post(\"/login\", _UserController.default.login);\nrouter.post(\"/login_admin\", _UserController.default.login_admin);\nrouter.delete(\"/delete\", _UserController.default.remove);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyQ29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsInVzZXJjb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJsaXN0IiwicmVnaXN0ZXJfYWRtaW4iLCJsb2dpbiIsImxvZ2luX2FkbWluIiwiZGVsZXRlIiwicmVtb3ZlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tICdleHByZXNzLXByb21pc2Utcm91dGVyJ1xyXG5pbXBvcnQgdXNlcmNvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvVXNlckNvbnRyb2xsZXInXHJcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXHJcblxyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcbi8vIGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcnMvcmVnaXN0ZXJcclxuXHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsdXNlcmNvbnRyb2xsZXIucmVnaXN0ZXIpO1xyXG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLHVzZXJjb250cm9sbGVyLnVwZGF0ZSk7XHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4sdXNlcmNvbnRyb2xsZXIubGlzdCk7XHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyX2FkbWluXCIsYXV0aC52ZXJpZnlBZG1pbix1c2VyY29udHJvbGxlci5yZWdpc3Rlcl9hZG1pbik7XHJcbnJvdXRlci5wb3N0KFwiL2xvZ2luXCIsdXNlcmNvbnRyb2xsZXIubG9naW4pO1xyXG5yb3V0ZXIucG9zdChcIi9sb2dpbl9hZG1pblwiLHVzZXJjb250cm9sbGVyLmxvZ2luX2FkbWluKTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIix1c2VyY29udHJvbGxlci5yZW1vdmUpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLGVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFzQyxTQUFBRCx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUV0QyxNQUFNRyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBQ3hCOztBQUVBRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUNDLHVCQUFjLENBQUNDLFFBQVEsQ0FBQztBQUNoREosTUFBTSxDQUFDSyxHQUFHLENBQUMsU0FBUyxFQUFDRix1QkFBYyxDQUFDRyxNQUFNLENBQUM7QUFDM0NOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLE9BQU8sRUFBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUNOLHVCQUFjLENBQUNPLElBQUksQ0FBQztBQUN4RFYsTUFBTSxDQUFDRSxJQUFJLENBQUMsaUJBQWlCLEVBQUNNLGFBQUksQ0FBQ0MsV0FBVyxFQUFDTix1QkFBYyxDQUFDUSxjQUFjLENBQUM7QUFDN0VYLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFFBQVEsRUFBQ0MsdUJBQWMsQ0FBQ1MsS0FBSyxDQUFDO0FBQzFDWixNQUFNLENBQUNFLElBQUksQ0FBQyxjQUFjLEVBQUNDLHVCQUFjLENBQUNVLFdBQVcsQ0FBQztBQUN0RGIsTUFBTSxDQUFDYyxNQUFNLENBQUMsU0FBUyxFQUFDWCx1QkFBYyxDQUFDWSxNQUFNLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBRWhDaEIsTUFBTTtBQUFBaUIsT0FBQSxDQUFBbEIsT0FBQSxHQUFBaUIsUUFBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_UserController","_auth","obj","__esModule","default","router","routerx","post","usercontroller","register","put","update","get","auth","verifyAdmin","list","register_admin","login","login_admin","delete","remove","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["User.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport usercontroller from '../controllers/UserController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n// http://localhost:3000/api/users/register\r\n\r\nrouter.post(\"/register\",usercontroller.register);\r\nrouter.put(\"/update\",usercontroller.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,usercontroller.list);\r\nrouter.post(\"/register_admin\",auth.verifyAdmin,usercontroller.register_admin);\r\nrouter.post(\"/login\",usercontroller.login);\r\nrouter.post(\"/login_admin\",usercontroller.login_admin);\r\nrouter.delete(\"/delete\",usercontroller.remove);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,uBAAc,CAACC,QAAQ,CAAC;AAChDJ,MAAM,CAACK,GAAG,CAAC,SAAS,EAACF,uBAAc,CAACG,MAAM,CAAC;AAC3CN,MAAM,CAACO,GAAG,CAAC,OAAO,EAACC,aAAI,CAACC,WAAW,EAACN,uBAAc,CAACO,IAAI,CAAC;AACxDV,MAAM,CAACE,IAAI,CAAC,iBAAiB,EAACM,aAAI,CAACC,WAAW,EAACN,uBAAc,CAACQ,cAAc,CAAC;AAC7EX,MAAM,CAACE,IAAI,CAAC,QAAQ,EAACC,uBAAc,CAACS,KAAK,CAAC;AAC1CZ,MAAM,CAACE,IAAI,CAAC,cAAc,EAACC,uBAAc,CAACU,WAAW,CAAC;AACtDb,MAAM,CAACc,MAAM,CAAC,SAAS,EAACX,uBAAc,CAACY,MAAM,CAAC;AAAC,IAAAC,QAAA,GAEhChB,MAAM;AAAAiB,OAAA,CAAAlB,OAAA,GAAAiB,QAAA","ignoreList":[]}},"mtime":1676271632239},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Discount.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst DiscountSchema = new _mongoose.Schema({\n  type_campaign: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1 es campaña norma y 2 es venta flash\n  type_discount: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1 es porcentaje y 2 es moneda\n  discount: {\n    type: Number,\n    required: true\n  },\n  start_date: {\n    type: Date,\n    required: true\n  },\n  end_date: {\n    type: Date,\n    required: true\n  },\n  start_date_num: {\n    type: Number,\n    required: true\n  },\n  end_date_num: {\n    type: Number,\n    required: true\n  },\n  state: {\n    type: Number,\n    default: 1\n  },\n  //1 es activo y 2 es desactivo\n  type_segment: {\n    type: Number,\n    default: 1\n  },\n  //1 es por producto y 2 es por categoria\n  products: [{\n    type: Object,\n    required: false\n  }],\n  categories: [{\n    type: Object,\n    required: false\n  }]\n}, {\n  timestamps: true\n});\nconst Discount = _mongoose.default.model(\"discounts\", DiscountSchema);\nvar _default = Discount;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiRGlzY291bnRTY2hlbWEiLCJTY2hlbWEiLCJ0eXBlX2NhbXBhaWduIiwidHlwZSIsIk51bWJlciIsInJlcXVpcmVkIiwidHlwZV9kaXNjb3VudCIsImRpc2NvdW50Iiwic3RhcnRfZGF0ZSIsIkRhdGUiLCJlbmRfZGF0ZSIsInN0YXJ0X2RhdGVfbnVtIiwiZW5kX2RhdGVfbnVtIiwic3RhdGUiLCJ0eXBlX3NlZ21lbnQiLCJwcm9kdWN0cyIsImNhdGVnb3JpZXMiLCJ0aW1lc3RhbXBzIiwiRGlzY291bnQiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiRGlzY291bnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLCB7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IERpc2NvdW50U2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICB0eXBlX2NhbXBhaWduOiB7dHlwZTpOdW1iZXIsIHJlcXVpcmVkOnRydWUsIGRlZmF1bHQ6IDF9LCAvLyAxIGVzIGNhbXBhw7FhIG5vcm1hIHkgMiBlcyB2ZW50YSBmbGFzaFxyXG4gICAgdHlwZV9kaXNjb3VudDoge3R5cGU6TnVtYmVyLCByZXF1aXJlZDp0cnVlLCBkZWZhdWx0OiAxfSwgLy8gMSBlcyBwb3JjZW50YWplIHkgMiBlcyBtb25lZGFcclxuICAgIGRpc2NvdW50OiB7dHlwZTogTnVtYmVyLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIHN0YXJ0X2RhdGU6IHt0eXBlOkRhdGUscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBlbmRfZGF0ZTp7IHR5cGU6RGF0ZSxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHN0YXJ0X2RhdGVfbnVtOiB7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBlbmRfZGF0ZV9udW06eyB0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSxcclxuICAgIHN0YXRlOnt0eXBlOk51bWJlcixkZWZhdWx0OiAxfSwgLy8xIGVzIGFjdGl2byB5IDIgZXMgZGVzYWN0aXZvXHJcbiAgICB0eXBlX3NlZ21lbnQ6e3R5cGU6TnVtYmVyLGRlZmF1bHQ6IDF9LC8vMSBlcyBwb3IgcHJvZHVjdG8geSAyIGVzIHBvciBjYXRlZ29yaWFcclxuICAgIHByb2R1Y3RzOlt7dHlwZTpPYmplY3QsIHJlcXVpcmVkOmZhbHNlfV0sXHJcbiAgICBjYXRlZ29yaWVzOlt7dHlwZTpPYmplY3QsIHJlcXVpcmVkOmZhbHNlfV0sXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczp0cnVlLFxyXG59KTtcclxuXHJcbmNvbnN0IERpc2NvdW50ID0gbW9uZ29vc2UubW9kZWwoXCJkaXNjb3VudHNcIixEaXNjb3VudFNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IERpc2NvdW50OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQTBDLFNBQUFDLHlCQUFBQyxXQUFBLGVBQUFDLE9BQUEsa0NBQUFDLGlCQUFBLE9BQUFE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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","DiscountSchema","Schema","type_campaign","type","Number","required","type_discount","discount","start_date","Date","end_date","start_date_num","end_date_num","state","type_segment","products","categories","timestamps","Discount","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Discount.js"],"sourcesContent":["import mongoose, {Schema} from \"mongoose\";\r\n\r\nconst DiscountSchema = new Schema({\r\n    type_campaign: {type:Number, required:true, default: 1}, // 1 es campaña norma y 2 es venta flash\r\n    type_discount: {type:Number, required:true, default: 1}, // 1 es porcentaje y 2 es moneda\r\n    discount: {type: Number, required:true},\r\n    start_date: {type:Date,required:true},\r\n    end_date:{ type:Date,required:true},\r\n    start_date_num: {type:Number,required:true},\r\n    end_date_num:{ type:Number,required:true},\r\n    state:{type:Number,default: 1}, //1 es activo y 2 es desactivo\r\n    type_segment:{type:Number,default: 1},//1 es por producto y 2 es por categoria\r\n    products:[{type:Object, required:false}],\r\n    categories:[{type:Object, required:false}],\r\n},{\r\n    timestamps:true,\r\n});\r\n\r\nconst Discount = mongoose.model(\"discounts\",DiscountSchema);\r\nexport default Discount;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAH,wBAAAO,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,CAAAJ,OAAA,GAAAF,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAE1C,MAAMW,cAAc,GAAG,IAAIC,gBAAM,CAAC;EAC9BC,aAAa,EAAE;IAACC,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC,IAAI;IAAEpB,OAAO,EAAE;EAAC,CAAC;EAAE;EACzDqB,aAAa,EAAE;IAACH,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC,IAAI;IAAEpB,OAAO,EAAE;EAAC,CAAC;EAAE;EACzDsB,QAAQ,EAAE;IAACJ,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACvCG,UAAU,EAAE;IAACL,IAAI,EAACM,IAAI;IAACJ,QAAQ,EAAC;EAAI,CAAC;EACrCK,QAAQ,EAAC;IAAEP,IAAI,EAACM,IAAI;IAACJ,QAAQ,EAAC;EAAI,CAAC;EACnCM,cAAc,EAAE;IAACR,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC3CO,YAAY,EAAC;IAAET,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EACzCQ,KAAK,EAAC;IAACV,IAAI,EAACC,MAAM;IAACnB,OAAO,EAAE;EAAC,CAAC;EAAE;EAChC6B,YAAY,EAAC;IAACX,IAAI,EAACC,MAAM;IAACnB,OAAO,EAAE;EAAC,CAAC;EAAC;EACtC8B,QAAQ,EAAC,CAAC;IAACZ,IAAI,EAACZ,MAAM;IAAEc,QAAQ,EAAC;EAAK,CAAC,CAAC;EACxCW,UAAU,EAAC,CAAC;IAACb,IAAI,EAACZ,MAAM;IAAEc,QAAQ,EAAC;EAAK,CAAC;AAC7C,CAAC,EAAC;EACEY,UAAU,EAAC;AACf,CAAC,CAAC;AAEF,MAAMC,QAAQ,GAAGC,iBAAQ,CAACC,KAAK,CAAC,WAAW,EAACpB,cAAc,CAAC;AAAC,IAAAqB,QAAA,GAC7CH,QAAQ;AAAAI,OAAA,CAAArC,OAAA,GAAAoC,QAAA","ignoreList":[]}},"mtime":1678545410605},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\Discount.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _DiscountController = _interopRequireDefault(require(\"../controllers/DiscountController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", _auth.default.verifyAdmin, _DiscountController.default.register);\nrouter.put(\"/update\", _auth.default.verifyAdmin, _DiscountController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _DiscountController.default.list);\nrouter.get(\"/config\", _auth.default.verifyAdmin, _DiscountController.default.config);\nrouter.get(\"/show\", _auth.default.verifyAdmin, _DiscountController.default.show);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _DiscountController.default.delete);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9EaXNjb3VudENvbnRyb2xsZXIiLCJfYXV0aCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJkaXNjb3VudENvbnRyb2xsZXIiLCJyZWdpc3RlciIsInB1dCIsInVwZGF0ZSIsImdldCIsImxpc3QiLCJjb25maWciLCJzaG93IiwiZGVsZXRlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiRGlzY291bnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IGRpc2NvdW50Q29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9EaXNjb3VudENvbnRyb2xsZXInXHJcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXHJcblxyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLGF1dGgudmVyaWZ5QWRtaW4sZGlzY291bnRDb250cm9sbGVyLnJlZ2lzdGVyKTtcclxucm91dGVyLnB1dChcIi91cGRhdGVcIixhdXRoLnZlcmlmeUFkbWluLGRpc2NvdW50Q29udHJvbGxlci51cGRhdGUpO1xyXG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIixhdXRoLnZlcmlmeUFkbWluLGRpc2NvdW50Q29udHJvbGxlci5saXN0KTtcclxucm91dGVyLmdldChcIi9jb25maWdcIixhdXRoLnZlcmlmeUFkbWluLGRpc2NvdW50Q29udHJvbGxlci5jb25maWcpO1xyXG5yb3V0ZXIuZ2V0KFwiL3Nob3dcIixhdXRoLnZlcmlmeUFkbWluLGRpc2NvdW50Q29udHJvbGxlci5zaG93KTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIixhdXRoLnZlcmlmeUFkbWluLGRpc2NvdW50Q29udHJvbGxlci5kZWxldGUpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLG1CQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBc0MsU0FBQUQsdUJBQUFJLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFdEMsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUV4QkQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNDLFFBQVEsQ0FBQztBQUNyRU4sTUFBTSxDQUFDTyxHQUFHLENBQUMsU0FBUyxFQUFDSixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNHLE1BQU0sQ0FBQztBQUNoRVIsTUFBTSxDQUFDUyxHQUFHLENBQUMsT0FBTyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNLLElBQUksQ0FBQztBQUM1RFYsTUFBTSxDQUFDUyxHQUFHLENBQUMsU0FBUyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNNLE1BQU0sQ0FBQztBQUNoRVgsTUFBTSxDQUFDUyxHQUFHLENBQUMsT0FBTyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNPLElBQUksQ0FBQztBQUM1RFosTUFBTSxDQUFDYSxNQUFNLENBQUMsU0FBUyxFQUFDVixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNRLE1BQU0sQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FFckRkLE1BQU07QUFBQWUsT0FBQSxDQUFBaEIsT0FBQSxHQUFBZSxRQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_DiscountController","_auth","obj","__esModule","default","router","routerx","post","auth","verifyAdmin","discountController","register","put","update","get","list","config","show","delete","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["Discount.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport discountController from '../controllers/DiscountController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n\r\nrouter.post(\"/register\",auth.verifyAdmin,discountController.register);\r\nrouter.put(\"/update\",auth.verifyAdmin,discountController.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,discountController.list);\r\nrouter.get(\"/config\",auth.verifyAdmin,discountController.config);\r\nrouter.get(\"/show\",auth.verifyAdmin,discountController.show);\r\nrouter.delete(\"/delete\",auth.verifyAdmin,discountController.delete);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,mBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACC,QAAQ,CAAC;AACrEN,MAAM,CAACO,GAAG,CAAC,SAAS,EAACJ,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACG,MAAM,CAAC;AAChER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACK,IAAI,CAAC;AAC5DV,MAAM,CAACS,GAAG,CAAC,SAAS,EAACN,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACM,MAAM,CAAC;AAChEX,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACO,IAAI,CAAC;AAC5DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAACV,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACQ,MAAM,CAAC;AAAC,IAAAC,QAAA,GAErDd,MAAM;AAAAe,OAAA,CAAAhB,OAAA,GAAAe,QAAA","ignoreList":[]}},"mtime":1677809088332},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\DiscountController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      var filter_a = [];\n      var filter_b = [];\n      //product_s = [\"id\",\"id\"]\n      //categorie_s = [\"id\",\"id\"]\n      if (data.type_segment == 1) {\n        filter_a.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n      } else {\n        filter_a.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n      }\n      // 5 - 8 marzo -> televisor - laptop\n      // 4 - 7 de marzo ->  refrigeradora\n\n      // 5 - 8 marzo -> televisor - laptop\n      // 7 - 9 de marzo -> televisor - refrigeradora\n      filter_a.push({\n        type_campaign: data.type_campaign,\n        start_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      filter_b.push({\n        type_campaign: data.type_campaign,\n        end_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      let exits_start_date = await _models.default.Discount.find({\n        $and: filter_a\n      }); //[]\n\n      let exits_end_date = await _models.default.Discount.find({\n        $and: filter_b\n      });\n      if (exits_start_date.length > 0 || exits_end_date.length > 0) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR ELIMINAR ALGUNAS OPCIONES\"\n        });\n        return;\n      }\n      let discount = await _models.default.Discount.create(data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL DESCUENTO SE REGISTRO CORRECTAMENTE\",\n        discount: discount\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      var filter_a = [];\n      var filter_b = [];\n      //product_s = [\"id\",\"id\"]\n      //categorie_s = [\"id\",\"id\"]\n      if (data.type_segment == 1) {\n        filter_a.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n      } else {\n        filter_a.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n      }\n      // 5 - 8 marzo -> televisor - laptop\n      // 4 - 7 de marzo ->  refrigeradora\n\n      // 5 - 8 marzo -> televisor - laptop\n      // 7 - 9 de marzo -> televisor - refrigeradora\n      filter_a.push({\n        type_campaign: data.type_campaign,\n        _id: {\n          $ne: data._id\n        },\n        start_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      filter_b.push({\n        type_campaign: data.type_campaign,\n        _id: {\n          $ne: data._id\n        },\n        end_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      let exits_start_date = await _models.default.Discount.find({\n        $and: filter_a\n      });\n      let exits_end_date = await _models.default.Discount.find({\n        $and: filter_b\n      });\n      if (exits_start_date.length > 0 || exits_end_date.length > 0) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR ELIMINAR ALGUNAS OPCIONES\"\n        });\n        return;\n      }\n      let discount = await _models.default.Discount.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL DESCUENTO SE REGISTRO CORRECTAMENTE\",\n        discount: discount\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Discount.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL DESCUENTO SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      // let search = req.query.search;\n\n      let discounts = await _models.default.Discount.find().sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        message: 200,\n        discounts: discounts\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  show: async (req, res) => {\n    try {\n      let discount_id = req.query.discount_id;\n      let discount = await _models.default.Discount.findOne({\n        _id: discount_id\n      });\n      res.status(200).json({\n        message: 200,\n        discount: discount\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  config: async (req, res) => {\n    try {\n      let Products = await _models.default.Product.find({\n        state: 2\n      });\n      let Categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      res.status(200).json({\n        message: 200,\n        products: Products,\n        categories: Categories\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwicmVnaXN0ZXIiLCJyZXEiLCJyZXMiLCJkYXRhIiwiYm9keSIsImZpbHRlcl9hIiwiZmlsdGVyX2IiLCJ0eXBlX3NlZ21lbnQiLCJwdXNoIiwiJGVsZW1NYXRjaCIsIl9pZCIsIiRpbiIsInByb2R1Y3RfcyIsImNhdGVnb3JpZV9zIiwidHlwZV9jYW1wYWlnbiIsInN0YXJ0X2RhdGVfbnVtIiwiJGd0ZSIsIiRsdGUiLCJlbmRfZGF0ZV9udW0iLCJleGl0c19zdGFydF9kYXRlIiwibW9kZWxzIiwiRGlzY291bnQiLCJmaW5kIiwiJGFuZCIsImV4aXRzX2VuZF9kYXRlIiwibGVuZ3RoIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJtZXNzYWdlX3RleHQiLCJkaXNjb3VudCIsImNyZWF0ZSIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInNlbmQiLCJ1cGRhdGUiLCIkbmUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsImRlbGV0ZSIsInF1ZXJ5IiwiZmluZEJ5SWRBbmREZWxldGUiLCJsaXN0IiwiZGlzY291bnRzIiwic29ydCIsInNob3ciLCJkaXNjb3VudF9pZCIsImZpbmRPbmUiLCJjb25maWciLCJQcm9kdWN0cyIsIlByb2R1Y3QiLCJzdGF0ZSIsIkNhdGVnb3JpZXMiLCJDYXRlZ29yaWUiLCJwcm9kdWN0cyIsImNhdGVnb3JpZXMiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJEaXNjb3VudENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHJlZ2lzdGVyOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuICAgICAgICAgICAgdmFyIGZpbHRlcl9hID0gW107XHJcbiAgICAgICAgICAgIHZhciBmaWx0ZXJfYiA9IFtdO1xyXG4gICAgICAgICAgICAvL3Byb2R1Y3RfcyA9IFtcImlkXCIsXCJpZFwiXVxyXG4gICAgICAgICAgICAvL2NhdGVnb3JpZV9zID0gW1wiaWRcIixcImlkXCJdXHJcbiAgICAgICAgICAgIGlmKGRhdGEudHlwZV9zZWdtZW50ID09IDEpe1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyX2EucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgXCJwcm9kdWN0c1wiOiB7JGVsZW1NYXRjaDoge19pZDogeyRpbjogZGF0YS5wcm9kdWN0X3N9fX1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyX2IucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwcm9kdWN0c1wiOiB7JGVsZW1NYXRjaDoge19pZDogeyRpbjogZGF0YS5wcm9kdWN0X3N9fX1cclxuICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGZpbHRlcl9hLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIFwiY2F0ZWdvcmllc1wiOiB7JGVsZW1NYXRjaDoge19pZDogeyRpbjogZGF0YS5jYXRlZ29yaWVfc319fVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJfYi5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBcImNhdGVnb3JpZXNcIjogeyRlbGVtTWF0Y2g6IHtfaWQ6IHskaW46IGRhdGEuY2F0ZWdvcmllX3N9fX1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIDUgLSA4IG1hcnpvIC0+IHRlbGV2aXNvciAtIGxhcHRvcFxyXG4gICAgICAgICAgICAvLyA0IC0gNyBkZSBtYXJ6byAtPiAgcmVmcmlnZXJhZG9yYVxyXG5cclxuICAgICAgICAgICAgLy8gNSAtIDggbWFyem8gLT4gdGVsZXZpc29yIC0gbGFwdG9wXHJcbiAgICAgICAgICAgIC8vIDcgLSA5IGRlIG1hcnpvIC0+IHRlbGV2aXNvciAtIHJlZnJpZ2VyYWRvcmFcclxuICAgICAgICAgICAgZmlsdGVyX2EucHVzaCh7XHJcbiAgICAgICAgICAgICAgICB0eXBlX2NhbXBhaWduOiBkYXRhLnR5cGVfY2FtcGFpZ24sXHJcbiAgICAgICAgICAgICAgICBzdGFydF9kYXRlX251bTogeyRndGU6IGRhdGEuc3RhcnRfZGF0ZV9udW0sJGx0ZTogZGF0YS5lbmRfZGF0ZV9udW19XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGZpbHRlcl9iLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjogZGF0YS50eXBlX2NhbXBhaWduLFxyXG4gICAgICAgICAgICAgICAgZW5kX2RhdGVfbnVtOiB7JGd0ZTogZGF0YS5zdGFydF9kYXRlX251bSwkbHRlOiBkYXRhLmVuZF9kYXRlX251bX1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgbGV0IGV4aXRzX3N0YXJ0X2RhdGUgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZCh7JGFuZDogZmlsdGVyX2F9KTsvL1tdXHJcblxyXG4gICAgICAgICAgICBsZXQgZXhpdHNfZW5kX2RhdGUgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZCh7JGFuZDogZmlsdGVyX2J9KTtcclxuXHJcbiAgICAgICAgICAgIGlmKGV4aXRzX3N0YXJ0X2RhdGUubGVuZ3RoID4gMCB8fCBleGl0c19lbmRfZGF0ZS5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOjQwMyxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgREVTQ1VFTlRPIE5PIFNFIFBVRURFIFBST0dSQU1BUiBFTElNSU5BUiBBTEdVTkFTIE9QQ0lPTkVTXCJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgZGlzY291bnQgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuY3JlYXRlKGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIERFU0NVRU5UTyBTRSBSRUdJU1RSTyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICBkaXNjb3VudDpkaXNjb3VudFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHVwZGF0ZTogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XHJcbiAgICAgICAgICAgIHZhciBmaWx0ZXJfYSA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgZmlsdGVyX2IgPSBbXTtcclxuICAgICAgICAgICAgLy9wcm9kdWN0X3MgPSBbXCJpZFwiLFwiaWRcIl1cclxuICAgICAgICAgICAgLy9jYXRlZ29yaWVfcyA9IFtcImlkXCIsXCJpZFwiXVxyXG4gICAgICAgICAgICBpZihkYXRhLnR5cGVfc2VnbWVudCA9PSAxKXtcclxuICAgICAgICAgICAgICAgIGZpbHRlcl9hLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgIFwicHJvZHVjdHNcIjogeyRlbGVtTWF0Y2g6IHtfaWQ6IHskaW46IGRhdGEucHJvZHVjdF9zfX19XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGZpbHRlcl9iLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIFwicHJvZHVjdHNcIjogeyRlbGVtTWF0Y2g6IHtfaWQ6IHskaW46IGRhdGEucHJvZHVjdF9zfX19XHJcbiAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJfYS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBcImNhdGVnb3JpZXNcIjogeyRlbGVtTWF0Y2g6IHtfaWQ6IHskaW46IGRhdGEuY2F0ZWdvcmllX3N9fX1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyX2IucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJjYXRlZ29yaWVzXCI6IHskZWxlbU1hdGNoOiB7X2lkOiB7JGluOiBkYXRhLmNhdGVnb3JpZV9zfX19XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyA1IC0gOCBtYXJ6byAtPiB0ZWxldmlzb3IgLSBsYXB0b3BcclxuICAgICAgICAgICAgLy8gNCAtIDcgZGUgbWFyem8gLT4gIHJlZnJpZ2VyYWRvcmFcclxuXHJcbiAgICAgICAgICAgIC8vIDUgLSA4IG1hcnpvIC0+IHRlbGV2aXNvciAtIGxhcHRvcFxyXG4gICAgICAgICAgICAvLyA3IC0gOSBkZSBtYXJ6byAtPiB0ZWxldmlzb3IgLSByZWZyaWdlcmFkb3JhXHJcbiAgICAgICAgICAgIGZpbHRlcl9hLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjogZGF0YS50eXBlX2NhbXBhaWduLFxyXG4gICAgICAgICAgICAgICAgX2lkOiB7JG5lOiBkYXRhLl9pZH0sXHJcbiAgICAgICAgICAgICAgICBzdGFydF9kYXRlX251bTogeyRndGU6IGRhdGEuc3RhcnRfZGF0ZV9udW0sJGx0ZTogZGF0YS5lbmRfZGF0ZV9udW19XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGZpbHRlcl9iLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjogZGF0YS50eXBlX2NhbXBhaWduLFxyXG4gICAgICAgICAgICAgICAgX2lkOiB7JG5lOiBkYXRhLl9pZH0sXHJcbiAgICAgICAgICAgICAgICBlbmRfZGF0ZV9udW06IHskZ3RlOiBkYXRhLnN0YXJ0X2RhdGVfbnVtLCRsdGU6IGRhdGEuZW5kX2RhdGVfbnVtfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBsZXQgZXhpdHNfc3RhcnRfZGF0ZSA9IGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kKHskYW5kOiBmaWx0ZXJfYX0pO1xyXG5cclxuICAgICAgICAgICAgbGV0IGV4aXRzX2VuZF9kYXRlID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmQoeyRhbmQ6IGZpbHRlcl9ifSk7XHJcblxyXG4gICAgICAgICAgICBpZihleGl0c19zdGFydF9kYXRlLmxlbmd0aCA+IDAgfHwgZXhpdHNfZW5kX2RhdGUubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTo0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIERFU0NVRU5UTyBOTyBTRSBQVUVERSBQUk9HUkFNQVIgRUxJTUlOQVIgQUxHVU5BUyBPUENJT05FU1wiXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGRpc2NvdW50ID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IGRhdGEuX2lkfSxkYXRhKTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBERVNDVUVOVE8gU0UgUkVHSVNUUk8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICAgICAgZGlzY291bnQ6ZGlzY291bnRcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgZGVsZXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IF9pZCA9IHJlcS5xdWVyeS5faWQ7XHJcblxyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZEJ5SWRBbmREZWxldGUoe19pZDogX2lkfSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgREVTQ1VFTlRPIFNFIEVMSU1JTk8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBsaXN0OiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gbGV0IHNlYXJjaCA9IHJlcS5xdWVyeS5zZWFyY2g7XHJcblxyXG4gICAgICAgICAgICBsZXQgZGlzY291bnRzID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmQoKS5zb3J0KHsnY3JlYXRlZEF0JzogLTF9KTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcclxuICAgICAgICAgICAgICAgIGRpc2NvdW50czogZGlzY291bnRzLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzaG93OiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRpc2NvdW50X2lkID0gcmVxLnF1ZXJ5LmRpc2NvdW50X2lkO1xyXG5cclxuICAgICAgICAgICAgbGV0IGRpc2NvdW50ID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRPbmUoe19pZDogZGlzY291bnRfaWR9KTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcclxuICAgICAgICAgICAgICAgIGRpc2NvdW50OiBkaXNjb3VudCxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgY29uZmlnOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuXHJcbiAgICAgICAgICAgIGxldCBQcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoe3N0YXRlOiAyfSk7XHJcbiAgICAgICAgICAgIGxldCBDYXRlZ29yaWVzID0gYXdhaXQgbW9kZWxzLkNhdGVnb3JpZS5maW5kKHtzdGF0ZToxfSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICBwcm9kdWN0czogUHJvZHVjdHMsXHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzOiBDYXRlZ29yaWVzLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUE4QixTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEsR0FF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","map":{"version":3,"names":["_models","_interopRequireDefault","require","obj","__esModule","default","_default","register","req","res","data","body","filter_a","filter_b","type_segment","push","$elemMatch","_id","$in","product_s","categorie_s","type_campaign","start_date_num","$gte","$lte","end_date_num","exits_start_date","models","Discount","find","$and","exits_end_date","length","status","json","message","message_text","discount","create","error","console","log","send","update","$ne","findByIdAndUpdate","delete","query","findByIdAndDelete","list","discounts","sort","show","discount_id","findOne","config","Products","Product","state","Categories","Categorie","products","categories","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["DiscountController.js"],"sourcesContent":["import models from \"../models\"\r\n\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            var filter_a = [];\r\n            var filter_b = [];\r\n            //product_s = [\"id\",\"id\"]\r\n            //categorie_s = [\"id\",\"id\"]\r\n            if(data.type_segment == 1){\r\n                filter_a.push({\r\n                 \"products\": {$elemMatch: {_id: {$in: data.product_s}}}\r\n                });\r\n                filter_b.push({\r\n                    \"products\": {$elemMatch: {_id: {$in: data.product_s}}}\r\n                   });\r\n            }else{\r\n                filter_a.push({\r\n                    \"categories\": {$elemMatch: {_id: {$in: data.categorie_s}}}\r\n                });\r\n                filter_b.push({\r\n                    \"categories\": {$elemMatch: {_id: {$in: data.categorie_s}}}\r\n                });\r\n            }\r\n            // 5 - 8 marzo -> televisor - laptop\r\n            // 4 - 7 de marzo ->  refrigeradora\r\n\r\n            // 5 - 8 marzo -> televisor - laptop\r\n            // 7 - 9 de marzo -> televisor - refrigeradora\r\n            filter_a.push({\r\n                type_campaign: data.type_campaign,\r\n                start_date_num: {$gte: data.start_date_num,$lte: data.end_date_num}\r\n            })\r\n            filter_b.push({\r\n                type_campaign: data.type_campaign,\r\n                end_date_num: {$gte: data.start_date_num,$lte: data.end_date_num}\r\n            })\r\n            let exits_start_date = await models.Discount.find({$and: filter_a});//[]\r\n\r\n            let exits_end_date = await models.Discount.find({$and: filter_b});\r\n\r\n            if(exits_start_date.length > 0 || exits_end_date.length > 0){\r\n                res.status(200).json({\r\n                    message:403,\r\n                    message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR ELIMINAR ALGUNAS OPCIONES\"\r\n                });\r\n                return;\r\n            }\r\n\r\n            let discount = await models.Discount.create(data);\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL DESCUENTO SE REGISTRO CORRECTAMENTE\",\r\n                discount:discount\r\n            });\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    update: async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            var filter_a = [];\r\n            var filter_b = [];\r\n            //product_s = [\"id\",\"id\"]\r\n            //categorie_s = [\"id\",\"id\"]\r\n            if(data.type_segment == 1){\r\n                filter_a.push({\r\n                 \"products\": {$elemMatch: {_id: {$in: data.product_s}}}\r\n                });\r\n                filter_b.push({\r\n                    \"products\": {$elemMatch: {_id: {$in: data.product_s}}}\r\n                   });\r\n            }else{\r\n                filter_a.push({\r\n                    \"categories\": {$elemMatch: {_id: {$in: data.categorie_s}}}\r\n                });\r\n                filter_b.push({\r\n                    \"categories\": {$elemMatch: {_id: {$in: data.categorie_s}}}\r\n                });\r\n            }\r\n            // 5 - 8 marzo -> televisor - laptop\r\n            // 4 - 7 de marzo ->  refrigeradora\r\n\r\n            // 5 - 8 marzo -> televisor - laptop\r\n            // 7 - 9 de marzo -> televisor - refrigeradora\r\n            filter_a.push({\r\n                type_campaign: data.type_campaign,\r\n                _id: {$ne: data._id},\r\n                start_date_num: {$gte: data.start_date_num,$lte: data.end_date_num}\r\n            })\r\n            filter_b.push({\r\n                type_campaign: data.type_campaign,\r\n                _id: {$ne: data._id},\r\n                end_date_num: {$gte: data.start_date_num,$lte: data.end_date_num}\r\n            })\r\n            let exits_start_date = await models.Discount.find({$and: filter_a});\r\n\r\n            let exits_end_date = await models.Discount.find({$and: filter_b});\r\n\r\n            if(exits_start_date.length > 0 || exits_end_date.length > 0){\r\n                res.status(200).json({\r\n                    message:403,\r\n                    message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR ELIMINAR ALGUNAS OPCIONES\"\r\n                });\r\n                return;\r\n            }\r\n\r\n            let discount = await models.Discount.findByIdAndUpdate({_id: data._id},data);\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL DESCUENTO SE REGISTRO CORRECTAMENTE\",\r\n                discount:discount\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    delete: async(req,res) => {\r\n        try {\r\n            let _id = req.query._id;\r\n\r\n            await models.Discount.findByIdAndDelete({_id: _id});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL DESCUENTO SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    list: async(req,res) => {\r\n        try {\r\n            // let search = req.query.search;\r\n\r\n            let discounts = await models.Discount.find().sort({'createdAt': -1});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                discounts: discounts,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    show: async(req,res) => {\r\n        try {\r\n            let discount_id = req.query.discount_id;\r\n\r\n            let discount = await models.Discount.findOne({_id: discount_id});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                discount: discount,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    config: async(req,res) => {\r\n        try {\r\n\r\n            let Products = await models.Product.find({state: 2});\r\n            let Categories = await models.Categorie.find({state:1});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                products: Products,\r\n                categories: Categories,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1677887742763},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\Home.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _HomeController = _interopRequireDefault(require(\"../controllers/HomeController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.get(\"/list\", _HomeController.default.list);\nrouter.get(\"/landing-product/:slug\", _HomeController.default.show_landing_product);\nrouter.post(\"/search_product\", _HomeController.default.search_product);\nrouter.get(\"/config_initial\", _HomeController.default.config_initial);\nrouter.post(\"/filter_products\", _HomeController.default.filter_products);\nrouter.post(\"/profile_client\", _auth.default.verifyEcommerce, _HomeController.default.profile_client);\nrouter.post(\"/update_client\", _auth.default.verifyEcommerce, _HomeController.default.update_client);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Ib21lQ29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwiZ2V0IiwiaG9tZUNvbnRyb2xsZXIiLCJsaXN0Iiwic2hvd19sYW5kaW5nX3Byb2R1Y3QiLCJwb3N0Iiwic2VhcmNoX3Byb2R1Y3QiLCJjb25maWdfaW5pdGlhbCIsImZpbHRlcl9wcm9kdWN0cyIsImF1dGgiLCJ2ZXJpZnlFY29tbWVyY2UiLCJwcm9maWxlX2NsaWVudCIsInVwZGF0ZV9jbGllbnQiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJIb21lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gJ2V4cHJlc3MtcHJvbWlzZS1yb3V0ZXInXHJcbmltcG9ydCBob21lQ29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9Ib21lQ29udHJvbGxlcidcclxuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCdcclxuXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuXHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGhvbWVDb250cm9sbGVyLmxpc3QpO1xyXG5yb3V0ZXIuZ2V0KFwiL2xhbmRpbmctcHJvZHVjdC86c2x1Z1wiLGhvbWVDb250cm9sbGVyLnNob3dfbGFuZGluZ19wcm9kdWN0KTtcclxucm91dGVyLnBvc3QoXCIvc2VhcmNoX3Byb2R1Y3RcIixob21lQ29udHJvbGxlci5zZWFyY2hfcHJvZHVjdCk7XHJcbnJvdXRlci5nZXQoXCIvY29uZmlnX2luaXRpYWxcIixob21lQ29udHJvbGxlci5jb25maWdfaW5pdGlhbCk7XHJcbnJvdXRlci5wb3N0KFwiL2ZpbHRlcl9wcm9kdWN0c1wiLGhvbWVDb250cm9sbGVyLmZpbHRlcl9wcm9kdWN0cyk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9wcm9maWxlX2NsaWVudFwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLGhvbWVDb250cm9sbGVyLnByb2ZpbGVfY2xpZW50KTtcclxucm91dGVyLnBvc3QoXCIvdXBkYXRlX2NsaWVudFwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLGhvbWVDb250cm9sbGVyLnVwZGF0ZV9jbGllbnQpO1xyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsZUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXRDLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFFeEJELE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLE9BQU8sRUFBQ0MsdUJBQWMsQ0FBQ0MsSUFBSSxDQUFDO0FBQ3ZDSixNQUFNLENBQUNFLEdBQUcsQ0FBQyx3QkFBd0IsRUFBQ0MsdUJBQWMsQ0FBQ0Usb0JBQW9CLENBQUM7QUFDeEVMLE1BQU0sQ0FBQ00sSUFBSSxDQUFDLGlCQUFpQixFQUFDSCx1QkFBYyxDQUFDSSxjQUFjLENBQUM7QUFDNURQLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLGlCQUFpQixFQUFDQyx1QkFBYyxDQUFDSyxjQUFjLENBQUM7QUFDM0RSLE1BQU0sQ0FBQ00sSUFBSSxDQUFDLGtCQUFrQixFQUFDSCx1QkFBYyxDQUFDTSxlQUFlLENBQUM7QUFFOURULE1BQU0sQ0FBQ00sSUFBSSxDQUFDLGlCQUFpQixFQUFDSSxhQUFJLENBQUNDLGVBQWUsRUFBQ1IsdUJBQWMsQ0FBQ1MsY0FBYyxDQUFDO0FBQ2pGWixNQUFNLENBQUNNLElBQUksQ0FBQyxnQkFBZ0IsRUFBQ0ksYUFBSSxDQUFDQyxlQUFlLEVBQUNSLHVCQUFjLENBQUNVLGFBQWEsQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FDakVkLE1BQU07QUFBQWUsT0FBQSxDQUFBaEIsT0FBQSxHQUFBZSxRQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_HomeController","_auth","obj","__esModule","default","router","routerx","get","homeController","list","show_landing_product","post","search_product","config_initial","filter_products","auth","verifyEcommerce","profile_client","update_client","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["Home.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport homeController from '../controllers/HomeController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n\r\nrouter.get(\"/list\",homeController.list);\r\nrouter.get(\"/landing-product/:slug\",homeController.show_landing_product);\r\nrouter.post(\"/search_product\",homeController.search_product);\r\nrouter.get(\"/config_initial\",homeController.config_initial);\r\nrouter.post(\"/filter_products\",homeController.filter_products);\r\n\r\nrouter.post(\"/profile_client\",auth.verifyEcommerce,homeController.profile_client);\r\nrouter.post(\"/update_client\",auth.verifyEcommerce,homeController.update_client);\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,GAAG,CAAC,OAAO,EAACC,uBAAc,CAACC,IAAI,CAAC;AACvCJ,MAAM,CAACE,GAAG,CAAC,wBAAwB,EAACC,uBAAc,CAACE,oBAAoB,CAAC;AACxEL,MAAM,CAACM,IAAI,CAAC,iBAAiB,EAACH,uBAAc,CAACI,cAAc,CAAC;AAC5DP,MAAM,CAACE,GAAG,CAAC,iBAAiB,EAACC,uBAAc,CAACK,cAAc,CAAC;AAC3DR,MAAM,CAACM,IAAI,CAAC,kBAAkB,EAACH,uBAAc,CAACM,eAAe,CAAC;AAE9DT,MAAM,CAACM,IAAI,CAAC,iBAAiB,EAACI,aAAI,CAACC,eAAe,EAACR,uBAAc,CAACS,cAAc,CAAC;AACjFZ,MAAM,CAACM,IAAI,CAAC,gBAAgB,EAACI,aAAI,CAACC,eAAe,EAACR,uBAAc,CAACU,aAAa,CAAC;AAAC,IAAAC,QAAA,GACjEd,MAAM;AAAAe,OAAA,CAAAhB,OAAA,GAAAe,QAAA","ignoreList":[]}},"mtime":1680991869393},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\HomeController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  list: async (req, res) => {\n    try {\n      var TIME_NOW = req.query.TIME_NOW;\n      let Sliders = await _models.default.Slider.find({\n        state: 1\n      });\n      Sliders = Sliders.map(slider => {\n        return _resources.default.Slider.slider_list(slider);\n      });\n      let Categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      Categories = Categories.map(categorie => {\n        return _resources.default.Categorie.categorie_list(categorie);\n      });\n      let CampaingDiscount = await _models.default.Discount.findOne({\n        type_campaign: 1,\n        start_date_num: {\n          $lte: TIME_NOW\n        },\n        // start_date_num >= TIME_NOW\n        end_date_num: {\n          $gte: TIME_NOW\n        } // >=\n      });\n      // console.log(CampaingDiscount);\n      let BestProducts = await _models.default.Product.find({\n        state: 2\n      }).sort({\n        \"createdAt\": -1\n      });\n      var ObjectBestProducts = [];\n      for (const Product of BestProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        let DISCOUNT_EXITS = null;\n        if (CampaingDiscount) {\n          if (CampaingDiscount.type_segment == 1) {\n            //por producto\n            let products_a = [];\n            CampaingDiscount.products.forEach(item => {\n              products_a.push(item._id);\n            });\n            if (products_a.includes(Product._id + \"\")) {\n              DISCOUNT_EXITS = CampaingDiscount;\n            }\n          } else {\n            //por categoria\n            let categories_a = [];\n            CampaingDiscount.categories.forEach(item => {\n              categories_a.push(item._id);\n            });\n            if (categories_a.includes(Product.categorie + \"\")) {\n              DISCOUNT_EXITS = CampaingDiscount;\n            }\n          }\n        }\n        ObjectBestProducts.push(_resources.default.Product.product_list(Product, VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n      }\n      let OursProducts = await _models.default.Product.find({\n        state: 2\n      }).sort({\n        \"createdAt\": 1\n      });\n      var ObjectOursProducts = [];\n      for (const Product of OursProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        let DISCOUNT_EXITS = null;\n        if (CampaingDiscount) {\n          if (CampaingDiscount.type_segment == 1) {\n            //por producto\n            let products_a = [];\n            CampaingDiscount.products.forEach(item => {\n              products_a.push(item._id);\n            });\n            if (products_a.includes(Product._id + \"\")) {\n              DISCOUNT_EXITS = CampaingDiscount;\n            }\n          } else {\n            //por categoria\n            let categories_a = [];\n            CampaingDiscount.categories.forEach(item => {\n              categories_a.push(item._id);\n            });\n            if (categories_a.includes(Product.categorie + \"\")) {\n              DISCOUNT_EXITS = CampaingDiscount;\n            }\n          }\n        }\n        ObjectOursProducts.push(_resources.default.Product.product_list(Product, VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n      }\n      // OursProducts = OursProducts.map(async (product) => {\n      //     let VARIEDADES = await models.Variedad.find({product: product._id});\n      //     return resource.Product.product_list(product,VARIEDADES);\n      // })\n\n      let FlashSale = await _models.default.Discount.findOne({\n        type_campaign: 2,\n        start_date_num: {\n          $lte: TIME_NOW\n        },\n        // start_date_num >= TIME_NOW\n        end_date_num: {\n          $gte: TIME_NOW\n        } // >=\n      });\n      let ProductList = [];\n      if (FlashSale) {\n        for (const product of FlashSale.products) {\n          var ObjecT = await _models.default.Product.findById({\n            _id: product._id\n          });\n          let VARIEDADES = await _models.default.Variedad.find({\n            product: product._id\n          });\n          ProductList.push(_resources.default.Product.product_list(ObjecT, VARIEDADES));\n        }\n      }\n      // console.log(FlashSale);\n      res.status(200).json({\n        sliders: Sliders,\n        categories: Categories,\n        best_products: ObjectBestProducts,\n        our_products: ObjectOursProducts,\n        FlashSale: FlashSale,\n        campaign_products: ProductList\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  show_landing_product: async (req, res) => {\n    try {\n      let SLUG = req.params.slug;\n      let DISCOUNT_ID = req.query._id;\n      console.log(DISCOUNT_ID);\n      let Product = await _models.default.Product.findOne({\n        slug: SLUG,\n        state: 2\n      });\n      let VARIEDADES = await _models.default.Variedad.find({\n        product: Product._id\n      });\n      let REVIEWS = await _models.default.Review.find({\n        product: Product._id\n      }).populate(\"user\");\n      let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n      let COUNT_REVIEW = REVIEWS.length;\n      let RelatedProducts = await _models.default.Product.find({\n        categorie: Product.categorie,\n        state: 2\n      });\n      var ObjectRelatedProducts = [];\n      for (const Product of RelatedProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        ObjectRelatedProducts.push(_resources.default.Product.product_list(Product, VARIEDADES));\n      }\n      let SALE_FLASH = null;\n      if (DISCOUNT_ID) {\n        SALE_FLASH = await _models.default.Discount.findById({\n          _id: DISCOUNT_ID\n        });\n      }\n      res.status(200).json({\n        product: _resources.default.Product.product_list(Product, VARIEDADES),\n        related_products: ObjectRelatedProducts,\n        SALE_FLASH: SALE_FLASH,\n        REVIEWS: REVIEWS,\n        AVG_REVIEW: AVG_REVIEW,\n        COUNT_REVIEW: COUNT_REVIEW\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  search_product: async (req, res) => {\n    try {\n      var TIME_NOW = req.query.TIME_NOW;\n      let search_product = req.body.search_product;\n      let OursProducts = await _models.default.Product.find({\n        state: 2,\n        title: new RegExp(search_product, 'i')\n      }).sort({\n        \"createdAt\": 1\n      });\n      let CampaingDiscount = await _models.default.Discount.findOne({\n        type_campaign: 1,\n        start_date_num: {\n          $lte: TIME_NOW\n        },\n        // start_date_num >= TIME_NOW\n        end_date_num: {\n          $gte: TIME_NOW\n        } // >=\n      });\n      var Products = [];\n      for (const Product of OursProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        let DISCOUNT_EXITS = null;\n        if (CampaingDiscount) {\n          if (CampaingDiscount.type_segment == 1) {\n            //por producto\n            let products_a = [];\n            CampaingDiscount.products.forEach(item => {\n              products_a.push(item._id);\n            });\n            if (products_a.includes(Product._id + \"\")) {\n              DISCOUNT_EXITS = CampaingDiscount;\n            }\n          } else {\n            //por categoria\n            let categories_a = [];\n            CampaingDiscount.categories.forEach(item => {\n              categories_a.push(item._id);\n            });\n            if (categories_a.includes(Product.categorie + \"\")) {\n              DISCOUNT_EXITS = CampaingDiscount;\n            }\n          }\n        }\n        Products.push(_resources.default.Product.product_list(Product, VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n      }\n      res.status(200).json({\n        products: Products\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"Ocurrio un error\"\n      });\n    }\n  },\n  profile_client: async (req, res) => {\n    try {\n      let user_id = req.body.user_id;\n      let Orders = await _models.default.Sale.find({\n        user: user_id\n      });\n      let sale_orders = [];\n      for (const order of Orders) {\n        let detail_orders = await _models.default.SaleDetail.find({\n          sale: order._id\n        }).populate({\n          path: \"product\",\n          populate: {\n            path: \"categorie\"\n          }\n        }).populate(\"variedad\");\n        let sale_address = await _models.default.SaleAddress.find({\n          sale: order._id\n        });\n        let collection_detail_orders = [];\n        for (const detail_order of detail_orders) {\n          let reviewS = await _models.default.Review.findOne({\n            sale_detail: detail_order._id\n          });\n          collection_detail_orders.push({\n            _id: detail_order._id,\n            product: {\n              _id: detail_order.product._id,\n              title: detail_order.product.title,\n              sku: detail_order.product.sku,\n              slug: detail_order.product.slug,\n              imagen: process.env.URL_BACKEND + '/api/products/uploads/product/' + detail_order.product.portada,\n              //*\n              categorie: detail_order.product.categorie,\n              price_soles: detail_order.product.price_soles,\n              price_usd: detail_order.product.price_usd\n            },\n            type_discount: detail_order.type_discount,\n            discount: detail_order.discount,\n            cantidad: detail_order.cantidad,\n            variedad: detail_order.variedad,\n            code_cupon: detail_order.code_cupon,\n            code_discount: detail_order.code_discount,\n            price_unitario: detail_order.price_unitario,\n            subtotal: detail_order.subtotal,\n            total: detail_order.total,\n            review: reviewS\n          });\n        }\n        sale_orders.push({\n          sale: order,\n          sale_details: collection_detail_orders,\n          sale_address: sale_address\n        });\n      }\n      let ADDRESS_CLIENT = await _models.default.AddressClient.find({\n        user: user_id\n      }).sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        sale_orders: sale_orders,\n        address_client: ADDRESS_CLIENT\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"Ocurrio un error\"\n      });\n    }\n  },\n  update_client: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('\\\\');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let User = await _models.default.User.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"SE GUARDO SU INFORMACIÓN CORRECTAMENTE\",\n        user: {\n          name: User.name,\n          surname: User.surname,\n          email: User.email,\n          _id: User._id\n        }\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"Ocurrio un error\"\n      });\n    }\n  },\n  config_initial: async (req, res) => {\n    try {\n      let categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      let variedades = await _models.default.Variedad.find({});\n      res.status(200).json({\n        categories: categories,\n        variedades: variedades\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"Ocurrio un error\"\n      });\n    }\n  },\n  filter_products: async (req, res) => {\n    try {\n      var TIME_NOW = req.query.TIME_NOW;\n      let search_product = req.body.search_product;\n      let categories_selecteds = req.body.categories_selecteds;\n      let is_discount = req.body.is_discount;\n      let variedad_selected = req.body.variedad_selected;\n      let price_min = req.body.price_min;\n      let price_max = req.body.price_max;\n      let filter = [{\n        state: 2\n      }];\n      var categories_s = [];\n      var products_s = [];\n      // {state: 2,title: new RegExp(search_product,'i')}\n      if (categories_selecteds.length > 0) {\n        categories_selecteds.forEach(categorie => {\n          categories_s.push(categorie);\n        });\n        // filter.push({\n        //     categorie: {$in: categories_selecteds},\n        // })\n      }\n      let CampaingDiscount = await _models.default.Discount.findOne({\n        type_campaign: 1,\n        start_date_num: {\n          $lte: TIME_NOW\n        },\n        // start_date_num >= TIME_NOW\n        end_date_num: {\n          $gte: TIME_NOW\n        } // >=\n      });\n      if (is_discount == 2) {\n        if (CampaingDiscount.type_segment == 1) {\n          CampaingDiscount.products.forEach(item => {\n            products_s.push(item._id);\n          });\n        } else {\n          CampaingDiscount.categories.forEach(item => {\n            categories_s.push(item._id);\n          });\n        }\n      }\n      if (variedad_selected) {\n        let VAR = await _models.default.Variedad.findById({\n          _id: variedad_selected._id\n        });\n        if (VAR) {\n          products_s.push(VAR.product);\n        }\n      }\n      if (categories_s.length > 0) {\n        filter.push({\n          categorie: {\n            $in: categories_s\n          }\n        });\n      }\n      if (products_s.length > 0) {\n        filter.push({\n          _id: {\n            $in: products_s\n          }\n        });\n      }\n      if (price_min > 0 && price_max > 0) {\n        filter.push({\n          price_usd: {\n            $gte: price_min,\n            $lte: price_max\n          }\n        });\n      }\n      let OursProducts = await _models.default.Product.find({\n        $and: filter\n      }).sort({\n        \"createdAt\": 1\n      });\n      var Products = [];\n      for (const Product of OursProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        let DISCOUNT_EXITS = null;\n        if (CampaingDiscount) {\n          if (CampaingDiscount.type_segment == 1) {\n            //por producto\n            let products_a = [];\n            CampaingDiscount.products.forEach(item => {\n              products_a.push(item._id);\n            });\n            if (products_a.includes(Product._id + \"\")) {\n              DISCOUNT_EXITS = CampaingDiscount;\n            }\n          } else {\n            //por categoria\n            let categories_a = [];\n            CampaingDiscount.categories.forEach(item => {\n              categories_a.push(item._id);\n            });\n            if (categories_a.includes(Product.categorie + \"\")) {\n              DISCOUNT_EXITS = CampaingDiscount;\n            }\n          }\n        }\n        Products.push(_resources.default.Product.product_list(Product, VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n      }\n      res.status(200).json({\n        products: Products\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"Ocurrio un error\"\n      });\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwiX2JjcnlwdGpzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImxpc3QiLCJyZXEiLCJyZXMiLCJUSU1FX05PVyIsInF1ZXJ5IiwiU2xpZGVycyIsIm1vZGVscyIsIlNsaWRlciIsImZpbmQiLCJzdGF0ZSIsIm1hcCIsInNsaWRlciIsInJlc291cmNlIiwic2xpZGVyX2xpc3QiLCJDYXRlZ29yaWVzIiwiQ2F0ZWdvcmllIiwiY2F0ZWdvcmllIiwiY2F0ZWdvcmllX2xpc3QiLCJDYW1wYWluZ0Rpc2NvdW50IiwiRGlzY291bnQiLCJmaW5kT25lIiwidHlwZV9jYW1wYWlnbiIsInN0YXJ0X2RhdGVfbnVtIiwiJGx0ZSIsImVuZF9kYXRlX251bSIsIiRndGUiLCJCZXN0UHJvZHVjdHMiLCJQcm9kdWN0Iiwic29ydCIsIk9iamVjdEJlc3RQcm9kdWN0cyIsIlZBUklFREFERVMiLCJWYXJpZWRhZCIsInByb2R1Y3QiLCJfaWQiLCJSRVZJRVdTIiwiUmV2aWV3IiwiQVZHX1JFVklFVyIsImxlbmd0aCIsIk1hdGgiLCJjZWlsIiwicmVkdWNlIiwic3VtIiwiaXRlbSIsImNhbnRpZGFkIiwiQ09VTlRfUkVWSUVXIiwiRElTQ09VTlRfRVhJVFMiLCJ0eXBlX3NlZ21lbnQiLCJwcm9kdWN0c19hIiwicHJvZHVjdHMiLCJmb3JFYWNoIiwicHVzaCIsImluY2x1ZGVzIiwiY2F0ZWdvcmllc19hIiwiY2F0ZWdvcmllcyIsInByb2R1Y3RfbGlzdCIsIk91cnNQcm9kdWN0cyIsIk9iamVjdE91cnNQcm9kdWN0cyIsIkZsYXNoU2FsZSIsIlByb2R1Y3RMaXN0IiwiT2JqZWNUIiwiZmluZEJ5SWQiLCJzdGF0dXMiLCJqc29uIiwic2xpZGVycyIsImJlc3RfcHJvZHVjdHMiLCJvdXJfcHJvZHVjdHMiLCJjYW1wYWlnbl9wcm9kdWN0cyIsImVycm9yIiwic2VuZCIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwic2hvd19sYW5kaW5nX3Byb2R1Y3QiLCJTTFVHIiwicGFyYW1zIiwic2x1ZyIsIkRJU0NPVU5UX0lEIiwicG9wdWxhdGUiLCJSZWxhdGVkUHJvZHVjdHMiLCJPYmplY3RSZWxhdGVkUHJvZHVjdHMiLCJTQUxFX0ZMQVNIIiwicmVsYXRlZF9wcm9kdWN0cyIsInNlYXJjaF9wcm9kdWN0IiwiYm9keSIsInRpdGxlIiwiUmVnRXhwIiwiUHJvZHVjdHMiLCJwcm9maWxlX2NsaWVudCIsInVzZXJfaWQiLCJPcmRlcnMiLCJTYWxlIiwidXNlciIsInNhbGVfb3JkZXJzIiwib3JkZXIiLCJkZXRhaWxfb3JkZXJzIiwiU2FsZURldGFpbCIsInNhbGUiLCJwYXRoIiwic2FsZV9hZGRyZXNzIiwiU2FsZUFkZHJlc3MiLCJjb2xsZWN0aW9uX2RldGFpbF9vcmRlcnMiLCJkZXRhaWxfb3JkZXIiLCJyZXZpZXdTIiwic2FsZV9kZXRhaWwiLCJza3UiLCJpbWFnZW4iLCJwcm9jZXNzIiwiZW52IiwiVVJMX0JBQ0tFTkQiLCJwb3J0YWRhIiwicHJpY2Vfc29sZXMiLCJwcmljZV91c2QiLCJ0eXBlX2Rpc2NvdW50IiwiZGlzY291bnQiLCJ2YXJpZWRhZCIsImNvZGVfY3Vwb24iLCJjb2RlX2Rpc2NvdW50IiwicHJpY2VfdW5pdGFyaW8iLCJzdWJ0b3RhbCIsInRvdGFsIiwicmV2aWV3Iiwic2FsZV9kZXRhaWxzIiwiQUREUkVTU19DTElFTlQiLCJBZGRyZXNzQ2xpZW50IiwiYWRkcmVzc19jbGllbnQiLCJ1cGRhdGVfY2xpZW50IiwiZmlsZXMiLCJpbWdfcGF0aCIsImF2YXRhciIsIm5hbWUiLCJzcGxpdCIsImF2YXRhcl9uYW1lIiwicGFzc3dvcmQiLCJiY3J5cHQiLCJoYXNoIiwiVXNlciIsImZpbmRCeUlkQW5kVXBkYXRlIiwic3VybmFtZSIsImVtYWlsIiwiY29uZmlnX2luaXRpYWwiLCJ2YXJpZWRhZGVzIiwiZmlsdGVyX3Byb2R1Y3RzIiwiY2F0ZWdvcmllc19zZWxlY3RlZHMiLCJpc19kaXNjb3VudCIsInZhcmllZGFkX3NlbGVjdGVkIiwicHJpY2VfbWluIiwicHJpY2VfbWF4IiwiZmlsdGVyIiwiY2F0ZWdvcmllc19zIiwicHJvZHVjdHNfcyIsIlZBUiIsIiRpbiIsIiRhbmQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJIb21lQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gJy4uL21vZGVscydcclxuaW1wb3J0IHJlc291cmNlIGZyb20gJy4uL3Jlc291cmNlcydcclxuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIGxpc3Q6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgVElNRV9OT1cgID0gcmVxLnF1ZXJ5LlRJTUVfTk9XO1xyXG5cclxuICAgICAgICAgICAgbGV0IFNsaWRlcnMgPSBhd2FpdCBtb2RlbHMuU2xpZGVyLmZpbmQoe3N0YXRlOjF9KTtcclxuXHJcbiAgICAgICAgICAgIFNsaWRlcnMgPSBTbGlkZXJzLm1hcCgoc2xpZGVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb3VyY2UuU2xpZGVyLnNsaWRlcl9saXN0KHNsaWRlcik7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICBsZXQgQ2F0ZWdvcmllcyA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZCh7c3RhdGU6MX0pO1xyXG5cclxuICAgICAgICAgICAgQ2F0ZWdvcmllcyA9IENhdGVnb3JpZXMubWFwKChjYXRlZ29yaWUpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvdXJjZS5DYXRlZ29yaWUuY2F0ZWdvcmllX2xpc3QoY2F0ZWdvcmllKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBDYW1wYWluZ0Rpc2NvdW50ID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjogMSxcclxuICAgICAgICAgICAgICAgIHN0YXJ0X2RhdGVfbnVtOiB7JGx0ZTogVElNRV9OT1d9LC8vIHN0YXJ0X2RhdGVfbnVtID49IFRJTUVfTk9XXHJcbiAgICAgICAgICAgICAgICBlbmRfZGF0ZV9udW06IHskZ3RlOiBUSU1FX05PV30sLy8gPj1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKENhbXBhaW5nRGlzY291bnQpO1xyXG4gICAgICAgICAgICBsZXQgQmVzdFByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7c3RhdGU6IDJ9KS5zb3J0KHtcImNyZWF0ZWRBdFwiOiAtMX0pO1xyXG5cclxuICAgICAgICAgICAgdmFyIE9iamVjdEJlc3RQcm9kdWN0cyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFByb2R1Y3Qgb2YgQmVzdFByb2R1Y3RzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgVkFSSUVEQURFUyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHtwcm9kdWN0OiBQcm9kdWN0Ll9pZH0pO1xyXG4gICAgICAgICAgICAgICAgbGV0IFJFVklFV1MgPSBhd2FpdCBtb2RlbHMuUmV2aWV3LmZpbmQoe3Byb2R1Y3Q6IFByb2R1Y3QuX2lkfSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgQVZHX1JFVklFVyA9IFJFVklFV1MubGVuZ3RoID4gMCA/IE1hdGguY2VpbChSRVZJRVdTLnJlZHVjZSgoc3VtLGl0ZW0pID0+IHN1bSArIGl0ZW0uY2FudGlkYWQsMCkvUkVWSUVXUy5sZW5ndGgpIDogMDtcclxuICAgICAgICAgICAgICAgIGxldCBDT1VOVF9SRVZJRVcgPSBSRVZJRVdTLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIGxldCBESVNDT1VOVF9FWElUUyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBpZihDYW1wYWluZ0Rpc2NvdW50KXtcclxuICAgICAgICAgICAgICAgICAgICBpZihDYW1wYWluZ0Rpc2NvdW50LnR5cGVfc2VnbWVudCA9PSAxKXsvL3BvciBwcm9kdWN0b1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcHJvZHVjdHNfYSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDYW1wYWluZ0Rpc2NvdW50LnByb2R1Y3RzLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c19hLnB1c2goaXRlbS5faWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihwcm9kdWN0c19hLmluY2x1ZGVzKFByb2R1Y3QuX2lkK1wiXCIpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERJU0NPVU5UX0VYSVRTID0gQ2FtcGFpbmdEaXNjb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNley8vcG9yIGNhdGVnb3JpYVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2F0ZWdvcmllc19hID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIENhbXBhaW5nRGlzY291bnQuY2F0ZWdvcmllcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllc19hLnB1c2goaXRlbS5faWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihjYXRlZ29yaWVzX2EuaW5jbHVkZXMoUHJvZHVjdC5jYXRlZ29yaWUrXCJcIikpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRElTQ09VTlRfRVhJVFMgPSBDYW1wYWluZ0Rpc2NvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgT2JqZWN0QmVzdFByb2R1Y3RzLnB1c2gocmVzb3VyY2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUHJvZHVjdCxWQVJJRURBREVTLEFWR19SRVZJRVcsQ09VTlRfUkVWSUVXLERJU0NPVU5UX0VYSVRTKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBPdXJzUHJvZHVjdHMgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kKHtzdGF0ZTogMn0pLnNvcnQoe1wiY3JlYXRlZEF0XCI6IDF9KTtcclxuXHJcbiAgICAgICAgICAgIHZhciBPYmplY3RPdXJzUHJvZHVjdHMgPSBbXTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBQcm9kdWN0IG9mIE91cnNQcm9kdWN0cykge1xyXG4gICAgICAgICAgICAgICAgbGV0IFZBUklFREFERVMgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZCh7cHJvZHVjdDogUHJvZHVjdC5faWR9KTtcclxuICAgICAgICAgICAgICAgIGxldCBSRVZJRVdTID0gYXdhaXQgbW9kZWxzLlJldmlldy5maW5kKHtwcm9kdWN0OiBQcm9kdWN0Ll9pZH0pO1xyXG4gICAgICAgICAgICAgICAgbGV0IEFWR19SRVZJRVcgPSBSRVZJRVdTLmxlbmd0aCA+IDAgPyBNYXRoLmNlaWwoUkVWSUVXUy5yZWR1Y2UoKHN1bSxpdGVtKSA9PiBzdW0gKyBpdGVtLmNhbnRpZGFkLDApL1JFVklFV1MubGVuZ3RoKSA6IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgQ09VTlRfUkVWSUVXID0gUkVWSUVXUy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBsZXQgRElTQ09VTlRfRVhJVFMgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgaWYoQ2FtcGFpbmdEaXNjb3VudCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoQ2FtcGFpbmdEaXNjb3VudC50eXBlX3NlZ21lbnQgPT0gMSl7Ly9wb3IgcHJvZHVjdG9cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RzX2EgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQ2FtcGFpbmdEaXNjb3VudC5wcm9kdWN0cy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHNfYS5wdXNoKGl0ZW0uX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYocHJvZHVjdHNfYS5pbmNsdWRlcyhQcm9kdWN0Ll9pZCtcIlwiKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBESVNDT1VOVF9FWElUUyA9IENhbXBhaW5nRGlzY291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXsvL3BvciBjYXRlZ29yaWFcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNhdGVnb3JpZXNfYSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDYW1wYWluZ0Rpc2NvdW50LmNhdGVnb3JpZXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNfYS5wdXNoKGl0ZW0uX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2F0ZWdvcmllc19hLmluY2x1ZGVzKFByb2R1Y3QuY2F0ZWdvcmllK1wiXCIpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERJU0NPVU5UX0VYSVRTID0gQ2FtcGFpbmdEaXNjb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIE9iamVjdE91cnNQcm9kdWN0cy5wdXNoKHJlc291cmNlLlByb2R1Y3QucHJvZHVjdF9saXN0KFByb2R1Y3QsVkFSSUVEQURFUyxBVkdfUkVWSUVXLENPVU5UX1JFVklFVyxESVNDT1VOVF9FWElUUykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIE91cnNQcm9kdWN0cyA9IE91cnNQcm9kdWN0cy5tYXAoYXN5bmMgKHByb2R1Y3QpID0+IHtcclxuICAgICAgICAgICAgLy8gICAgIGxldCBWQVJJRURBREVTID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoe3Byb2R1Y3Q6IHByb2R1Y3QuX2lkfSk7XHJcbiAgICAgICAgICAgIC8vICAgICByZXR1cm4gcmVzb3VyY2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QocHJvZHVjdCxWQVJJRURBREVTKTtcclxuICAgICAgICAgICAgLy8gfSlcclxuXHJcbiAgICAgICAgICAgIGxldCBGbGFzaFNhbGUgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZE9uZSh7XHJcbiAgICAgICAgICAgICAgICB0eXBlX2NhbXBhaWduOiAyLFxyXG4gICAgICAgICAgICAgICAgc3RhcnRfZGF0ZV9udW06IHskbHRlOiBUSU1FX05PV30sLy8gc3RhcnRfZGF0ZV9udW0gPj0gVElNRV9OT1dcclxuICAgICAgICAgICAgICAgIGVuZF9kYXRlX251bTogeyRndGU6IFRJTUVfTk9XfSwvLyA+PVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBQcm9kdWN0TGlzdCA9IFtdO1xyXG4gICAgICAgICAgICBpZihGbGFzaFNhbGUpe1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwcm9kdWN0IG9mIEZsYXNoU2FsZS5wcm9kdWN0cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBPYmplY1QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kQnlJZCh7X2lkOiBwcm9kdWN0Ll9pZH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBWQVJJRURBREVTID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoe3Byb2R1Y3Q6IHByb2R1Y3QuX2lkfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvZHVjdExpc3QucHVzaChyZXNvdXJjZS5Qcm9kdWN0LnByb2R1Y3RfbGlzdChPYmplY1QsVkFSSUVEQURFUykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKEZsYXNoU2FsZSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIHNsaWRlcnM6IFNsaWRlcnMsXHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzOiBDYXRlZ29yaWVzLFxyXG4gICAgICAgICAgICAgICAgYmVzdF9wcm9kdWN0czogT2JqZWN0QmVzdFByb2R1Y3RzLFxyXG4gICAgICAgICAgICAgICAgb3VyX3Byb2R1Y3RzOiBPYmplY3RPdXJzUHJvZHVjdHMsXHJcbiAgICAgICAgICAgICAgICBGbGFzaFNhbGU6IEZsYXNoU2FsZSxcclxuICAgICAgICAgICAgICAgIGNhbXBhaWduX3Byb2R1Y3RzOiBQcm9kdWN0TGlzdCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTpcIk9DVVJSSU8gRVJST1JcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzaG93X2xhbmRpbmdfcHJvZHVjdDphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IFNMVUcgPSByZXEucGFyYW1zLnNsdWc7XHJcbiAgICAgICAgICAgIGxldCBESVNDT1VOVF9JRCA9IHJlcS5xdWVyeS5faWQ7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKERJU0NPVU5UX0lEKTtcclxuICAgICAgICAgICAgbGV0IFByb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kT25lKHtzbHVnOiBTTFVHLHN0YXRlOiAyfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgVkFSSUVEQURFUyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHtwcm9kdWN0OiBQcm9kdWN0Ll9pZH0pO1xyXG5cclxuICAgICAgICAgICAgbGV0IFJFVklFV1MgPSBhd2FpdCBtb2RlbHMuUmV2aWV3LmZpbmQoe3Byb2R1Y3Q6IFByb2R1Y3QuX2lkfSkucG9wdWxhdGUoXCJ1c2VyXCIpO1xyXG4gICAgICAgICAgICBsZXQgQVZHX1JFVklFVyA9IFJFVklFV1MubGVuZ3RoID4gMCA/IE1hdGguY2VpbChSRVZJRVdTLnJlZHVjZSgoc3VtLGl0ZW0pID0+IHN1bSArIGl0ZW0uY2FudGlkYWQsMCkvUkVWSUVXUy5sZW5ndGgpIDogMDtcclxuICAgICAgICAgICAgbGV0IENPVU5UX1JFVklFVyA9IFJFVklFV1MubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgbGV0IFJlbGF0ZWRQcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoe2NhdGVnb3JpZTogUHJvZHVjdC5jYXRlZ29yaWUsc3RhdGU6IDJ9KTtcclxuICAgICAgICAgICAgdmFyIE9iamVjdFJlbGF0ZWRQcm9kdWN0cyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFByb2R1Y3Qgb2YgUmVsYXRlZFByb2R1Y3RzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgVkFSSUVEQURFUyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHtwcm9kdWN0OiBQcm9kdWN0Ll9pZH0pO1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0UmVsYXRlZFByb2R1Y3RzLnB1c2gocmVzb3VyY2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUHJvZHVjdCxWQVJJRURBREVTKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IFNBTEVfRkxBU0ggPSBudWxsO1xyXG4gICAgICAgICAgICBpZihESVNDT1VOVF9JRCl7XHJcbiAgICAgICAgICAgICAgICBTQUxFX0ZMQVNIID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRCeUlkKHtfaWQ6IERJU0NPVU5UX0lEfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgcHJvZHVjdDogcmVzb3VyY2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUHJvZHVjdCxWQVJJRURBREVTKSxcclxuICAgICAgICAgICAgICAgIHJlbGF0ZWRfcHJvZHVjdHM6IE9iamVjdFJlbGF0ZWRQcm9kdWN0cyxcclxuICAgICAgICAgICAgICAgIFNBTEVfRkxBU0g6IFNBTEVfRkxBU0gsXHJcbiAgICAgICAgICAgICAgICBSRVZJRVdTOiBSRVZJRVdTLFxyXG4gICAgICAgICAgICAgICAgQVZHX1JFVklFVzogQVZHX1JFVklFVyxcclxuICAgICAgICAgICAgICAgIENPVU5UX1JFVklFVzogQ09VTlRfUkVWSUVXLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6XCJPQ1VSUklPIEVSUk9SXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2VhcmNoX3Byb2R1Y3Q6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBUSU1FX05PVyAgPSByZXEucXVlcnkuVElNRV9OT1c7XHJcbiAgICAgICAgICAgIGxldCBzZWFyY2hfcHJvZHVjdCA9IHJlcS5ib2R5LnNlYXJjaF9wcm9kdWN0O1xyXG4gICAgICAgICAgICBsZXQgT3Vyc1Byb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7c3RhdGU6IDIsdGl0bGU6IG5ldyBSZWdFeHAoc2VhcmNoX3Byb2R1Y3QsJ2knKX0pLnNvcnQoe1wiY3JlYXRlZEF0XCI6IDF9KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBDYW1wYWluZ0Rpc2NvdW50ID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjogMSxcclxuICAgICAgICAgICAgICAgIHN0YXJ0X2RhdGVfbnVtOiB7JGx0ZTogVElNRV9OT1d9LC8vIHN0YXJ0X2RhdGVfbnVtID49IFRJTUVfTk9XXHJcbiAgICAgICAgICAgICAgICBlbmRfZGF0ZV9udW06IHskZ3RlOiBUSU1FX05PV30sLy8gPj1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgUHJvZHVjdHMgPSBbXTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBQcm9kdWN0IG9mIE91cnNQcm9kdWN0cykge1xyXG4gICAgICAgICAgICAgICAgbGV0IFZBUklFREFERVMgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZCh7cHJvZHVjdDogUHJvZHVjdC5faWR9KTtcclxuICAgICAgICAgICAgICAgIGxldCBSRVZJRVdTID0gYXdhaXQgbW9kZWxzLlJldmlldy5maW5kKHtwcm9kdWN0OiBQcm9kdWN0Ll9pZH0pO1xyXG4gICAgICAgICAgICAgICAgbGV0IEFWR19SRVZJRVcgPSBSRVZJRVdTLmxlbmd0aCA+IDAgPyBNYXRoLmNlaWwoUkVWSUVXUy5yZWR1Y2UoKHN1bSxpdGVtKSA9PiBzdW0gKyBpdGVtLmNhbnRpZGFkLDApL1JFVklFV1MubGVuZ3RoKSA6IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgQ09VTlRfUkVWSUVXID0gUkVWSUVXUy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBsZXQgRElTQ09VTlRfRVhJVFMgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgaWYoQ2FtcGFpbmdEaXNjb3VudCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoQ2FtcGFpbmdEaXNjb3VudC50eXBlX3NlZ21lbnQgPT0gMSl7Ly9wb3IgcHJvZHVjdG9cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RzX2EgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQ2FtcGFpbmdEaXNjb3VudC5wcm9kdWN0cy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHNfYS5wdXNoKGl0ZW0uX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYocHJvZHVjdHNfYS5pbmNsdWRlcyhQcm9kdWN0Ll9pZCtcIlwiKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBESVNDT1VOVF9FWElUUyA9IENhbXBhaW5nRGlzY291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXsvL3BvciBjYXRlZ29yaWFcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNhdGVnb3JpZXNfYSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDYW1wYWluZ0Rpc2NvdW50LmNhdGVnb3JpZXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNfYS5wdXNoKGl0ZW0uX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2F0ZWdvcmllc19hLmluY2x1ZGVzKFByb2R1Y3QuY2F0ZWdvcmllK1wiXCIpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERJU0NPVU5UX0VYSVRTID0gQ2FtcGFpbmdEaXNjb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFByb2R1Y3RzLnB1c2gocmVzb3VyY2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUHJvZHVjdCxWQVJJRURBREVTLEFWR19SRVZJRVcsQ09VTlRfUkVWSUVXLERJU0NPVU5UX0VYSVRTKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgcHJvZHVjdHM6IFByb2R1Y3RzLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT2N1cnJpbyB1biBlcnJvclwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgcHJvZmlsZV9jbGllbnQ6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgdXNlcl9pZCA9IHJlcS5ib2R5LnVzZXJfaWQ7XHJcblxyXG4gICAgICAgICAgICBsZXQgT3JkZXJzID0gYXdhaXQgbW9kZWxzLlNhbGUuZmluZCh7dXNlcjogdXNlcl9pZH0pO1xyXG5cclxuICAgICAgICAgICAgbGV0IHNhbGVfb3JkZXJzID0gW107XHJcblxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IG9yZGVyIG9mIE9yZGVycykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGRldGFpbF9vcmRlcnMgPSBhd2FpdCBtb2RlbHMuU2FsZURldGFpbC5maW5kKHtzYWxlOiBvcmRlci5faWR9KS5wb3B1bGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogXCJwcm9kdWN0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgcG9wdWxhdGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogXCJjYXRlZ29yaWVcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9KS5wb3B1bGF0ZShcInZhcmllZGFkXCIpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNhbGVfYWRkcmVzcyA9IGF3YWl0IG1vZGVscy5TYWxlQWRkcmVzcy5maW5kKHtzYWxlOiBvcmRlci5faWR9KTtcclxuICAgICAgICAgICAgICAgIGxldCBjb2xsZWN0aW9uX2RldGFpbF9vcmRlcnMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZGV0YWlsX29yZGVyIG9mIGRldGFpbF9vcmRlcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcmV2aWV3UyA9IGF3YWl0IG1vZGVscy5SZXZpZXcuZmluZE9uZSh7c2FsZV9kZXRhaWw6IGRldGFpbF9vcmRlci5faWR9KTtcclxuICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uX2RldGFpbF9vcmRlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZDogZGV0YWlsX29yZGVyLl9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2lkOiBkZXRhaWxfb3JkZXIucHJvZHVjdC5faWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogZGV0YWlsX29yZGVyLnByb2R1Y3QudGl0bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBza3U6IGRldGFpbF9vcmRlci5wcm9kdWN0LnNrdSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsdWc6IGRldGFpbF9vcmRlci5wcm9kdWN0LnNsdWcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZW46IHByb2Nlc3MuZW52LlVSTF9CQUNLRU5EKycvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC8nK2RldGFpbF9vcmRlci5wcm9kdWN0LnBvcnRhZGEsLy8qXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWU6IGRldGFpbF9vcmRlci5wcm9kdWN0LmNhdGVnb3JpZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlX3NvbGVzOiBkZXRhaWxfb3JkZXIucHJvZHVjdC5wcmljZV9zb2xlcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlX3VzZDogZGV0YWlsX29yZGVyLnByb2R1Y3QucHJpY2VfdXNkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlX2Rpc2NvdW50OiBkZXRhaWxfb3JkZXIudHlwZV9kaXNjb3VudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzY291bnQ6IGRldGFpbF9vcmRlci5kaXNjb3VudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FudGlkYWQ6IGRldGFpbF9vcmRlci5jYW50aWRhZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWVkYWQ6IGRldGFpbF9vcmRlci52YXJpZWRhZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZV9jdXBvbjogZGV0YWlsX29yZGVyLmNvZGVfY3Vwb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVfZGlzY291bnQ6IGRldGFpbF9vcmRlci5jb2RlX2Rpc2NvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmljZV91bml0YXJpbzogZGV0YWlsX29yZGVyLnByaWNlX3VuaXRhcmlvLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0b3RhbDogZGV0YWlsX29yZGVyLnN1YnRvdGFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbDogZGV0YWlsX29yZGVyLnRvdGFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXZpZXc6IHJldmlld1MsXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNhbGVfb3JkZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIHNhbGU6IG9yZGVyLFxyXG4gICAgICAgICAgICAgICAgICAgIHNhbGVfZGV0YWlsczogY29sbGVjdGlvbl9kZXRhaWxfb3JkZXJzLFxyXG4gICAgICAgICAgICAgICAgICAgIHNhbGVfYWRkcmVzczogc2FsZV9hZGRyZXNzLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IEFERFJFU1NfQ0xJRU5UID0gYXdhaXQgbW9kZWxzLkFkZHJlc3NDbGllbnQuZmluZCh7dXNlcjogdXNlcl9pZH0pLnNvcnQoeydjcmVhdGVkQXQnOiAtMX0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBzYWxlX29yZGVyczogc2FsZV9vcmRlcnMsXHJcbiAgICAgICAgICAgICAgICBhZGRyZXNzX2NsaWVudDogQUREUkVTU19DTElFTlQsXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPY3VycmlvIHVuIGVycm9yXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB1cGRhdGVfY2xpZW50OiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYocmVxLmZpbGVzKXtcclxuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5hdmF0YXIucGF0aDtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJ1xcXFwnKTtcclxuICAgICAgICAgICAgICAgIHZhciBhdmF0YXJfbmFtZSA9IG5hbWVbMl07XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhdmF0YXJfbmFtZSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihyZXEuYm9keS5wYXNzd29yZCl7XHJcbiAgICAgICAgICAgICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLDEwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuVXNlci5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiByZXEuYm9keS5faWR9LHJlcS5ib2R5KTtcclxuICAgICAgICAgICAgbGV0IFVzZXIgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kT25lKHtfaWQ6IHJlcS5ib2R5Ll9pZH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlNFIEdVQVJETyBTVSBJTkZPUk1BQ0nDk04gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICAgICAgdXNlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFVzZXIubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBzdXJuYW1lOiBVc2VyLnN1cm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6VXNlci5lbWFpbCxcclxuICAgICAgICAgICAgICAgICAgICBfaWQ6VXNlci5faWQsXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPY3VycmlvIHVuIGVycm9yXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBjb25maWdfaW5pdGlhbDphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGNhdGVnb3JpZXMgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmZpbmQoe3N0YXRlOiAxfSk7XHJcbiAgICAgICAgICAgIGxldCB2YXJpZWRhZGVzID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoe30pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzOiBjYXRlZ29yaWVzLFxyXG4gICAgICAgICAgICAgICAgdmFyaWVkYWRlczogdmFyaWVkYWRlcyxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9jdXJyaW8gdW4gZXJyb3JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGZpbHRlcl9wcm9kdWN0czphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIFRJTUVfTk9XICA9IHJlcS5xdWVyeS5USU1FX05PVztcclxuICAgICAgICAgICAgbGV0IHNlYXJjaF9wcm9kdWN0ID0gcmVxLmJvZHkuc2VhcmNoX3Byb2R1Y3Q7XHJcblxyXG4gICAgICAgICAgICBsZXQgY2F0ZWdvcmllc19zZWxlY3RlZHMgPSByZXEuYm9keS5jYXRlZ29yaWVzX3NlbGVjdGVkcztcclxuICAgICAgICAgICAgbGV0IGlzX2Rpc2NvdW50ID0gcmVxLmJvZHkuaXNfZGlzY291bnQ7XHJcbiAgICAgICAgICAgIGxldCB2YXJpZWRhZF9zZWxlY3RlZCA9IHJlcS5ib2R5LnZhcmllZGFkX3NlbGVjdGVkO1xyXG4gICAgICAgICAgICBsZXQgcHJpY2VfbWluID0gcmVxLmJvZHkucHJpY2VfbWluO1xyXG4gICAgICAgICAgICBsZXQgcHJpY2VfbWF4ID0gcmVxLmJvZHkucHJpY2VfbWF4O1xyXG5cclxuICAgICAgICAgICAgbGV0IGZpbHRlciA9IFtcclxuICAgICAgICAgICAgICAgIHtzdGF0ZTogMn0sXHJcbiAgICAgICAgICAgIF07XHJcblxyXG4gICAgICAgICAgICB2YXIgY2F0ZWdvcmllc19zID0gW107XHJcbiAgICAgICAgICAgIHZhciBwcm9kdWN0c19zID0gW107XHJcbiAgICAgICAgICAgIC8vIHtzdGF0ZTogMix0aXRsZTogbmV3IFJlZ0V4cChzZWFyY2hfcHJvZHVjdCwnaScpfVxyXG4gICAgICAgICAgICBpZihjYXRlZ29yaWVzX3NlbGVjdGVkcy5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNfc2VsZWN0ZWRzLmZvckVhY2goKGNhdGVnb3JpZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNfcy5wdXNoKGNhdGVnb3JpZSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLy8gZmlsdGVyLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGNhdGVnb3JpZTogeyRpbjogY2F0ZWdvcmllc19zZWxlY3RlZHN9LFxyXG4gICAgICAgICAgICAgICAgLy8gfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgQ2FtcGFpbmdEaXNjb3VudCA9IGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kT25lKHtcclxuICAgICAgICAgICAgICAgIHR5cGVfY2FtcGFpZ246IDEsXHJcbiAgICAgICAgICAgICAgICBzdGFydF9kYXRlX251bTogeyRsdGU6IFRJTUVfTk9XfSwvLyBzdGFydF9kYXRlX251bSA+PSBUSU1FX05PV1xyXG4gICAgICAgICAgICAgICAgZW5kX2RhdGVfbnVtOiB7JGd0ZTogVElNRV9OT1d9LC8vID49XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYoaXNfZGlzY291bnQgPT0gMil7XHJcbiAgICAgICAgICAgICAgICBpZihDYW1wYWluZ0Rpc2NvdW50LnR5cGVfc2VnbWVudCA9PSAxKXtcclxuICAgICAgICAgICAgICAgICAgICBDYW1wYWluZ0Rpc2NvdW50LnByb2R1Y3RzLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzX3MucHVzaChpdGVtLl9pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIENhbXBhaW5nRGlzY291bnQuY2F0ZWdvcmllcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzX3MucHVzaChpdGVtLl9pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZih2YXJpZWRhZF9zZWxlY3RlZCl7XHJcbiAgICAgICAgICAgICAgICBsZXQgVkFSID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkKHtfaWQ6IHZhcmllZGFkX3NlbGVjdGVkLl9pZH0pO1xyXG4gICAgICAgICAgICAgICAgaWYoVkFSKXtcclxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c19zLnB1c2goVkFSLnByb2R1Y3QpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKGNhdGVnb3JpZXNfcy5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgICAgIGZpbHRlci5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWU6IHskaW46IGNhdGVnb3JpZXNfc30sXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihwcm9kdWN0c19zLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIF9pZDogeyRpbjogcHJvZHVjdHNfc31cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHByaWNlX21pbiA+IDAgJiYgcHJpY2VfbWF4ID4gMCl7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXIucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJpY2VfdXNkOiB7JGd0ZTogcHJpY2VfbWluLCAkbHRlOiBwcmljZV9tYXh9LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IE91cnNQcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoeyRhbmQ6IGZpbHRlcn0pLnNvcnQoe1wiY3JlYXRlZEF0XCI6IDF9KTtcclxuXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB2YXIgUHJvZHVjdHMgPSBbXTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBQcm9kdWN0IG9mIE91cnNQcm9kdWN0cykge1xyXG4gICAgICAgICAgICAgICAgbGV0IFZBUklFREFERVMgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZCh7cHJvZHVjdDogUHJvZHVjdC5faWR9KTtcclxuICAgICAgICAgICAgICAgIGxldCBSRVZJRVdTID0gYXdhaXQgbW9kZWxzLlJldmlldy5maW5kKHtwcm9kdWN0OiBQcm9kdWN0Ll9pZH0pO1xyXG4gICAgICAgICAgICAgICAgbGV0IEFWR19SRVZJRVcgPSBSRVZJRVdTLmxlbmd0aCA+IDAgPyBNYXRoLmNlaWwoUkVWSUVXUy5yZWR1Y2UoKHN1bSxpdGVtKSA9PiBzdW0gKyBpdGVtLmNhbnRpZGFkLDApL1JFVklFV1MubGVuZ3RoKSA6IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgQ09VTlRfUkVWSUVXID0gUkVWSUVXUy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBsZXQgRElTQ09VTlRfRVhJVFMgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgaWYoQ2FtcGFpbmdEaXNjb3VudCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoQ2FtcGFpbmdEaXNjb3VudC50eXBlX3NlZ21lbnQgPT0gMSl7Ly9wb3IgcHJvZHVjdG9cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RzX2EgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQ2FtcGFpbmdEaXNjb3VudC5wcm9kdWN0cy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHNfYS5wdXNoKGl0ZW0uX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYocHJvZHVjdHNfYS5pbmNsdWRlcyhQcm9kdWN0Ll9pZCtcIlwiKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBESVNDT1VOVF9FWElUUyA9IENhbXBhaW5nRGlzY291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXsvL3BvciBjYXRlZ29yaWFcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNhdGVnb3JpZXNfYSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDYW1wYWluZ0Rpc2NvdW50LmNhdGVnb3JpZXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNfYS5wdXNoKGl0ZW0uX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2F0ZWdvcmllc19hLmluY2x1ZGVzKFByb2R1Y3QuY2F0ZWdvcmllK1wiXCIpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERJU0NPVU5UX0VYSVRTID0gQ2FtcGFpbmdEaXNjb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFByb2R1Y3RzLnB1c2gocmVzb3VyY2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUHJvZHVjdCxWQVJJRURBREVTLEFWR19SRVZJRVcsQ09VTlRfUkVWSUVXLERJU0NPVU5UX0VYSVRTKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgcHJvZHVjdHM6IFByb2R1Y3RzLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT2N1cnJpbyB1biBlcnJvclwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAg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QUFNO1FBQ2pDLElBQUlRLGNBQWMsR0FBRyxJQUFJO1FBQ3pCLElBQUczQixnQkFBZ0IsRUFBQztVQUNoQixJQUFHQSxnQkFBZ0IsQ0FBQzRCLFlBQVksSUFBSSxDQUFDLEVBQUM7WUFBQztZQUNuQyxJQUFJQyxVQUFVLEdBQUcsRUFBRTtZQUNuQjdCLGdCQUFnQixDQUFDOEIsUUFBUSxDQUFDQyxPQUFPLENBQUNQLElBQUksSUFBSTtjQUN0Q0ssVUFBVSxDQUFDRyxJQUFJLENBQUNSLElBQUksQ0FBQ1QsR0FBRyxDQUFDO1lBQzdCLENBQUMsQ0FBQztZQUNGLElBQUdjLFVBQVUsQ0FBQ0ksUUFBUSxDQUFDeEIsT0FBTyxDQUFDTSxHQUFHLEdBQUMsRUFBRSxDQUFDLEVBQUM7Y0FDbkNZLGNBQWMsR0FBRzNCLGdCQUFnQjtZQUNyQztVQUNKLENBQUMsTUFBSTtZQUFDO1lBQ0YsSUFBSWtDLFlBQVksR0FBRyxFQUFFO1lBQ3JCbEMsZ0JBQWdCLENBQUNtQyxVQUFVLENBQUNKLE9BQU8sQ0FBQ1AsSUFBSSxJQUFJO2NBQ3hDVSxZQUFZLENBQUNGLElBQUksQ0FBQ1IsSUFBSSxDQUFDVCxHQUFHLENBQUM7WUFDL0IsQ0FBQyxDQUFDO1lBQ0YsSUFBR21CLFlBQVksQ0FBQ0QsUUFBUSxDQUFDeEIsT0FBTyxDQUFDWCxTQUFTLEdBQUMsRUFBRSxDQUFDLEVBQUM7Y0FDM0M2QixjQUFjLEdBQUczQixnQkFBZ0I7WUFDckM7VUFDSjtRQUNKO1FBQ0FvRSxRQUFRLENBQUNwQyxJQUFJLENBQUN0QyxrQkFBUSxDQUFDZSxPQUFPLENBQUMyQixZQUFZLENBQUMzQixPQUFPLEVBQUNHLFVBQVUsRUFBQ00sVUFBVSxFQUFDUSxZQUFZLEVBQUNDLGNBQWMsQ0FBQyxDQUFDO01BQzNHO01BQ0EzQyxHQUFHLENBQUMyRCxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQmQsUUFBUSxFQUFFc0M7TUFDZCxDQUFDLENBQUM7SUFDTixDQUFDLENBQUMsT0FBT25CLEtBQUssRUFBRTtNQUNaRyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0osS0FBSyxDQUFDO01BQ2xCakUsR0FBRyxDQUFDMkQsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDTyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztJQUNOO0VBQ0o7QUFDSixDQUFDO0FBQUFvRixPQUFBLENBQUEzSixPQUFBLEdBQUFDLFFBQUEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","_bcryptjs","obj","__esModule","default","_default","list","req","res","TIME_NOW","query","Sliders","models","Slider","find","state","map","slider","resource","slider_list","Categories","Categorie","categorie","categorie_list","CampaingDiscount","Discount","findOne","type_campaign","start_date_num","$lte","end_date_num","$gte","BestProducts","Product","sort","ObjectBestProducts","VARIEDADES","Variedad","product","_id","REVIEWS","Review","AVG_REVIEW","length","Math","ceil","reduce","sum","item","cantidad","COUNT_REVIEW","DISCOUNT_EXITS","type_segment","products_a","products","forEach","push","includes","categories_a","categories","product_list","OursProducts","ObjectOursProducts","FlashSale","ProductList","ObjecT","findById","status","json","sliders","best_products","our_products","campaign_products","error","send","message","console","log","show_landing_product","SLUG","params","slug","DISCOUNT_ID","populate","RelatedProducts","ObjectRelatedProducts","SALE_FLASH","related_products","search_product","body","title","RegExp","Products","profile_client","user_id","Orders","Sale","user","sale_orders","order","detail_orders","SaleDetail","sale","path","sale_address","SaleAddress","collection_detail_orders","detail_order","reviewS","sale_detail","sku","imagen","process","env","URL_BACKEND","portada","price_soles","price_usd","type_discount","discount","variedad","code_cupon","code_discount","price_unitario","subtotal","total","review","sale_details","ADDRESS_CLIENT","AddressClient","address_client","update_client","files","img_path","avatar","name","split","avatar_name","password","bcrypt","hash","User","findByIdAndUpdate","surname","email","config_initial","variedades","filter_products","categories_selecteds","is_discount","variedad_selected","price_min","price_max","filter","categories_s","products_s","VAR","$in","$and","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["HomeController.js"],"sourcesContent":["import models from '../models'\r\nimport resource from '../resources'\r\nimport bcrypt from 'bcryptjs'\r\n\r\nexport default {\r\n    list:async(req,res) => {\r\n        try {\r\n\r\n            var TIME_NOW  = req.query.TIME_NOW;\r\n\r\n            let Sliders = await models.Slider.find({state:1});\r\n\r\n            Sliders = Sliders.map((slider) => {\r\n                return resource.Slider.slider_list(slider);\r\n            })\r\n\r\n            let Categories = await models.Categorie.find({state:1});\r\n\r\n            Categories = Categories.map((categorie) => {\r\n                return resource.Categorie.categorie_list(categorie);\r\n            })\r\n            \r\n            let CampaingDiscount = await models.Discount.findOne({\r\n                type_campaign: 1,\r\n                start_date_num: {$lte: TIME_NOW},// start_date_num >= TIME_NOW\r\n                end_date_num: {$gte: TIME_NOW},// >=\r\n            });\r\n            // console.log(CampaingDiscount);\r\n            let BestProducts = await models.Product.find({state: 2}).sort({\"createdAt\": -1});\r\n\r\n            var ObjectBestProducts = [];\r\n            for (const Product of BestProducts) {\r\n                let VARIEDADES = await models.Variedad.find({product: Product._id});\r\n                let REVIEWS = await models.Review.find({product: Product._id});\r\n                let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length) : 0;\r\n                let COUNT_REVIEW = REVIEWS.length;\r\n                let DISCOUNT_EXITS = null;\r\n                if(CampaingDiscount){\r\n                    if(CampaingDiscount.type_segment == 1){//por producto\r\n                        let products_a = [];\r\n                        CampaingDiscount.products.forEach(item => {\r\n                            products_a.push(item._id);\r\n                        })\r\n                        if(products_a.includes(Product._id+\"\")){\r\n                            DISCOUNT_EXITS = CampaingDiscount;\r\n                        }\r\n                    }else{//por categoria\r\n                        let categories_a = [];\r\n                        CampaingDiscount.categories.forEach(item => {\r\n                            categories_a.push(item._id);\r\n                        })\r\n                        if(categories_a.includes(Product.categorie+\"\")){\r\n                            DISCOUNT_EXITS = CampaingDiscount;\r\n                        }\r\n                    }\r\n                }\r\n                ObjectBestProducts.push(resource.Product.product_list(Product,VARIEDADES,AVG_REVIEW,COUNT_REVIEW,DISCOUNT_EXITS));\r\n            }\r\n\r\n            let OursProducts = await models.Product.find({state: 2}).sort({\"createdAt\": 1});\r\n\r\n            var ObjectOursProducts = [];\r\n            for (const Product of OursProducts) {\r\n                let VARIEDADES = await models.Variedad.find({product: Product._id});\r\n                let REVIEWS = await models.Review.find({product: Product._id});\r\n                let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length) : 0;\r\n                let COUNT_REVIEW = REVIEWS.length;\r\n                let DISCOUNT_EXITS = null;\r\n                if(CampaingDiscount){\r\n                    if(CampaingDiscount.type_segment == 1){//por producto\r\n                        let products_a = [];\r\n                        CampaingDiscount.products.forEach(item => {\r\n                            products_a.push(item._id);\r\n                        })\r\n                        if(products_a.includes(Product._id+\"\")){\r\n                            DISCOUNT_EXITS = CampaingDiscount;\r\n                        }\r\n                    }else{//por categoria\r\n                        let categories_a = [];\r\n                        CampaingDiscount.categories.forEach(item => {\r\n                            categories_a.push(item._id);\r\n                        })\r\n                        if(categories_a.includes(Product.categorie+\"\")){\r\n                            DISCOUNT_EXITS = CampaingDiscount;\r\n                        }\r\n                    }\r\n                }\r\n                ObjectOursProducts.push(resource.Product.product_list(Product,VARIEDADES,AVG_REVIEW,COUNT_REVIEW,DISCOUNT_EXITS));\r\n            }\r\n            // OursProducts = OursProducts.map(async (product) => {\r\n            //     let VARIEDADES = await models.Variedad.find({product: product._id});\r\n            //     return resource.Product.product_list(product,VARIEDADES);\r\n            // })\r\n\r\n            let FlashSale = await models.Discount.findOne({\r\n                type_campaign: 2,\r\n                start_date_num: {$lte: TIME_NOW},// start_date_num >= TIME_NOW\r\n                end_date_num: {$gte: TIME_NOW},// >=\r\n            });\r\n\r\n            let ProductList = [];\r\n            if(FlashSale){\r\n                for (const product of FlashSale.products) {\r\n                    var ObjecT = await models.Product.findById({_id: product._id});\r\n                    let VARIEDADES = await models.Variedad.find({product: product._id});\r\n                    ProductList.push(resource.Product.product_list(ObjecT,VARIEDADES));\r\n                }\r\n            }\r\n            // console.log(FlashSale);\r\n            res.status(200).json({\r\n                sliders: Sliders,\r\n                categories: Categories,\r\n                best_products: ObjectBestProducts,\r\n                our_products: ObjectOursProducts,\r\n                FlashSale: FlashSale,\r\n                campaign_products: ProductList,\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO ERROR\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    show_landing_product:async(req,res) => {\r\n        try {\r\n            let SLUG = req.params.slug;\r\n            let DISCOUNT_ID = req.query._id;\r\n            console.log(DISCOUNT_ID);\r\n            let Product = await models.Product.findOne({slug: SLUG,state: 2});\r\n            \r\n            let VARIEDADES = await models.Variedad.find({product: Product._id});\r\n\r\n            let REVIEWS = await models.Review.find({product: Product._id}).populate(\"user\");\r\n            let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length) : 0;\r\n            let COUNT_REVIEW = REVIEWS.length;\r\n\r\n            let RelatedProducts = await models.Product.find({categorie: Product.categorie,state: 2});\r\n            var ObjectRelatedProducts = [];\r\n            for (const Product of RelatedProducts) {\r\n                let VARIEDADES = await models.Variedad.find({product: Product._id});\r\n                ObjectRelatedProducts.push(resource.Product.product_list(Product,VARIEDADES));\r\n            }\r\n            let SALE_FLASH = null;\r\n            if(DISCOUNT_ID){\r\n                SALE_FLASH = await models.Discount.findById({_id: DISCOUNT_ID});\r\n            }\r\n            res.status(200).json({\r\n                product: resource.Product.product_list(Product,VARIEDADES),\r\n                related_products: ObjectRelatedProducts,\r\n                SALE_FLASH: SALE_FLASH,\r\n                REVIEWS: REVIEWS,\r\n                AVG_REVIEW: AVG_REVIEW,\r\n                COUNT_REVIEW: COUNT_REVIEW,\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO ERROR\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    search_product:async(req,res) => {\r\n        try {\r\n            var TIME_NOW  = req.query.TIME_NOW;\r\n            let search_product = req.body.search_product;\r\n            let OursProducts = await models.Product.find({state: 2,title: new RegExp(search_product,'i')}).sort({\"createdAt\": 1});\r\n\r\n            let CampaingDiscount = await models.Discount.findOne({\r\n                type_campaign: 1,\r\n                start_date_num: {$lte: TIME_NOW},// start_date_num >= TIME_NOW\r\n                end_date_num: {$gte: TIME_NOW},// >=\r\n            });\r\n\r\n            var Products = [];\r\n            for (const Product of OursProducts) {\r\n                let VARIEDADES = await models.Variedad.find({product: Product._id});\r\n                let REVIEWS = await models.Review.find({product: Product._id});\r\n                let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length) : 0;\r\n                let COUNT_REVIEW = REVIEWS.length;\r\n                let DISCOUNT_EXITS = null;\r\n                if(CampaingDiscount){\r\n                    if(CampaingDiscount.type_segment == 1){//por producto\r\n                        let products_a = [];\r\n                        CampaingDiscount.products.forEach(item => {\r\n                            products_a.push(item._id);\r\n                        })\r\n                        if(products_a.includes(Product._id+\"\")){\r\n                            DISCOUNT_EXITS = CampaingDiscount;\r\n                        }\r\n                    }else{//por categoria\r\n                        let categories_a = [];\r\n                        CampaingDiscount.categories.forEach(item => {\r\n                            categories_a.push(item._id);\r\n                        })\r\n                        if(categories_a.includes(Product.categorie+\"\")){\r\n                            DISCOUNT_EXITS = CampaingDiscount;\r\n                        }\r\n                    }\r\n                }\r\n                Products.push(resource.Product.product_list(Product,VARIEDADES,AVG_REVIEW,COUNT_REVIEW,DISCOUNT_EXITS));\r\n            }\r\n            res.status(200).json({\r\n                products: Products,\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"Ocurrio un error\",\r\n            });\r\n        }\r\n    },\r\n    profile_client:async(req,res) => {\r\n        try {\r\n            \r\n            let user_id = req.body.user_id;\r\n\r\n            let Orders = await models.Sale.find({user: user_id});\r\n\r\n            let sale_orders = [];\r\n\r\n            for (const order of Orders) {\r\n                let detail_orders = await models.SaleDetail.find({sale: order._id}).populate({\r\n                    path: \"product\",\r\n                    populate: {\r\n                        path: \"categorie\"\r\n                    },\r\n                }).populate(\"variedad\");\r\n                let sale_address = await models.SaleAddress.find({sale: order._id});\r\n                let collection_detail_orders = [];\r\n                for (const detail_order of detail_orders) {\r\n                    let reviewS = await models.Review.findOne({sale_detail: detail_order._id});\r\n                    collection_detail_orders.push({\r\n                        _id: detail_order._id,\r\n                        product: {\r\n                            _id: detail_order.product._id,\r\n                            title: detail_order.product.title,\r\n                            sku: detail_order.product.sku,\r\n                            slug: detail_order.product.slug,\r\n                            imagen: process.env.URL_BACKEND+'/api/products/uploads/product/'+detail_order.product.portada,//*\r\n                            categorie: detail_order.product.categorie,\r\n                            price_soles: detail_order.product.price_soles,\r\n                            price_usd: detail_order.product.price_usd,\r\n                        },\r\n                        type_discount: detail_order.type_discount,\r\n                        discount: detail_order.discount,\r\n                        cantidad: detail_order.cantidad,\r\n                        variedad: detail_order.variedad,\r\n                        code_cupon: detail_order.code_cupon,\r\n                        code_discount: detail_order.code_discount,\r\n                        price_unitario: detail_order.price_unitario,\r\n                        subtotal: detail_order.subtotal,\r\n                        total: detail_order.total,\r\n                        review: reviewS,\r\n                    })\r\n                }\r\n                sale_orders.push({\r\n                    sale: order,\r\n                    sale_details: collection_detail_orders,\r\n                    sale_address: sale_address,\r\n                });\r\n            }\r\n            let ADDRESS_CLIENT = await models.AddressClient.find({user: user_id}).sort({'createdAt': -1});\r\n            res.status(200).json({\r\n                sale_orders: sale_orders,\r\n                address_client: ADDRESS_CLIENT,\r\n            })\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"Ocurrio un error\",\r\n            });\r\n        }\r\n    },\r\n    update_client: async(req,res) => {\r\n        try {\r\n            if(req.files){\r\n                var img_path = req.files.avatar.path;\r\n                var name = img_path.split('\\\\');\r\n                var avatar_name = name[2];\r\n                console.log(avatar_name)\r\n            }\r\n            if(req.body.password){\r\n                req.body.password = await bcrypt.hash(req.body.password,10);\r\n            }\r\n            await models.User.findByIdAndUpdate({_id: req.body._id},req.body);\r\n            let User = await models.User.findOne({_id: req.body._id});\r\n            res.status(200).json({\r\n                message: \"SE GUARDO SU INFORMACIÓN CORRECTAMENTE\",\r\n                user: {\r\n                    name: User.name,\r\n                    surname: User.surname,\r\n                    email:User.email,\r\n                    _id:User._id,\r\n                }\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"Ocurrio un error\",\r\n            });\r\n        }\r\n    },\r\n    config_initial:async(req,res) => {\r\n        try {\r\n            let categories = await models.Categorie.find({state: 1});\r\n            let variedades = await models.Variedad.find({});\r\n            res.status(200).json({\r\n                categories: categories,\r\n                variedades: variedades,\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"Ocurrio un error\",\r\n            });\r\n        }\r\n    },\r\n    filter_products:async(req,res) => {\r\n        try {\r\n            var TIME_NOW  = req.query.TIME_NOW;\r\n            let search_product = req.body.search_product;\r\n\r\n            let categories_selecteds = req.body.categories_selecteds;\r\n            let is_discount = req.body.is_discount;\r\n            let variedad_selected = req.body.variedad_selected;\r\n            let price_min = req.body.price_min;\r\n            let price_max = req.body.price_max;\r\n\r\n            let filter = [\r\n                {state: 2},\r\n            ];\r\n\r\n            var categories_s = [];\r\n            var products_s = [];\r\n            // {state: 2,title: new RegExp(search_product,'i')}\r\n            if(categories_selecteds.length > 0){\r\n                categories_selecteds.forEach((categorie) => {\r\n                    categories_s.push(categorie);\r\n                })\r\n                // filter.push({\r\n                //     categorie: {$in: categories_selecteds},\r\n                // })\r\n            }\r\n            let CampaingDiscount = await models.Discount.findOne({\r\n                type_campaign: 1,\r\n                start_date_num: {$lte: TIME_NOW},// start_date_num >= TIME_NOW\r\n                end_date_num: {$gte: TIME_NOW},// >=\r\n            });\r\n            \r\n            if(is_discount == 2){\r\n                if(CampaingDiscount.type_segment == 1){\r\n                    CampaingDiscount.products.forEach(item => {\r\n                        products_s.push(item._id);\r\n                    })\r\n                }else{\r\n                    CampaingDiscount.categories.forEach(item => {\r\n                        categories_s.push(item._id);\r\n                    })\r\n                }\r\n            }\r\n            if(variedad_selected){\r\n                let VAR = await models.Variedad.findById({_id: variedad_selected._id});\r\n                if(VAR){\r\n                    products_s.push(VAR.product);\r\n                }\r\n            }\r\n            if(categories_s.length > 0){\r\n                filter.push({\r\n                    categorie: {$in: categories_s},\r\n                });\r\n            }\r\n            if(products_s.length > 0){\r\n                filter.push({\r\n                    _id: {$in: products_s}\r\n                });\r\n            }\r\n            if(price_min > 0 && price_max > 0){\r\n                filter.push({\r\n                    price_usd: {$gte: price_min, $lte: price_max},\r\n                });\r\n            }\r\n            let OursProducts = await models.Product.find({$and: filter}).sort({\"createdAt\": 1});\r\n\r\n            \r\n            var Products = [];\r\n            for (const Product of OursProducts) {\r\n                let VARIEDADES = await models.Variedad.find({product: Product._id});\r\n                let REVIEWS = await models.Review.find({product: Product._id});\r\n                let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length) : 0;\r\n                let COUNT_REVIEW = REVIEWS.length;\r\n                let DISCOUNT_EXITS = null;\r\n                if(CampaingDiscount){\r\n                    if(CampaingDiscount.type_segment == 1){//por producto\r\n                        let products_a = [];\r\n                        CampaingDiscount.products.forEach(item => {\r\n                            products_a.push(item._id);\r\n                        })\r\n                        if(products_a.includes(Product._id+\"\")){\r\n                            DISCOUNT_EXITS = CampaingDiscount;\r\n                        }\r\n                    }else{//por categoria\r\n                        let categories_a = [];\r\n                        CampaingDiscount.categories.forEach(item => {\r\n                            categories_a.push(item._id);\r\n                        })\r\n                        if(categories_a.includes(Product.categorie+\"\")){\r\n                            DISCOUNT_EXITS = CampaingDiscount;\r\n                        }\r\n                    }\r\n                }\r\n                Products.push(resource.Product.product_list(Product,VARIEDADES,AVG_REVIEW,COUNT_REVIEW,DISCOUNT_EXITS));\r\n            }\r\n            res.status(200).json({\r\n                products: Products,\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"Ocurrio un error\",\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1681165444925},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  register: async (req, res) => {\n    try {\n      // rol\n      // name\n      // surname\n      // email\n      // password\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      const user = await _models.default.User.create(req.body);\n      res.status(200).json(user);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_admin: async (req, res) => {\n    try {\n      // rol\n      // name\n      // surname\n      // email\n      // password\n      const userV = await _models.default.User.findOne({\n        email: req.body.email\n      });\n      if (userV) {\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"admin\";\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      let user = await _models.default.User.create(req.body);\n      res.status(200).json({\n        user: _resources.default.User.user_list(user)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1\n      });\n      if (user) {\n        //SI ESTA RGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login_admin: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1,\n        rol: \"admin\"\n      });\n      if (user) {\n        //SI ESTA RGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar,\n              rol: user.rol\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('\\\\');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let UserT = await _models.default.User.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n        user: _resources.default.User.user_list(UserT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Users = await _models.default.User.find({\n        $or: [{\n          \"name\": new RegExp(search, \"i\")\n        }, {\n          \"surname\": new RegExp(search, \"i\")\n        }, {\n          \"email\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Users = Users.map(user => {\n        return _resources.default.User.user_list(user);\n      });\n      res.status(200).json({\n        users: Users\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      const User = await _models.default.User.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYmNyeXB0anMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9tb2RlbHMiLCJfdG9rZW4iLCJfcmVzb3VyY2VzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiYm9keSIsInBhc3N3b3JkIiwiYmNyeXB0IiwiaGFzaCIsInVzZXIiLCJtb2RlbHMiLCJVc2VyIiwiY3JlYXRlIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwic2VuZCIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwicmVnaXN0ZXJfYWRtaW4iLCJ1c2VyViIsImZpbmRPbmUiLCJlbWFpbCIsInJvbCIsInJlc291cmNlIiwidXNlcl9saXN0IiwibG9naW4iLCJzdGF0ZSIsImNvbXBhcmUiLCJ0b2tlblQiLCJ0b2tlbiIsImVuY29kZSIsIl9pZCIsIlVTRVJfRlJPTlRFRCIsIm5hbWUiLCJzdXJuYW1lIiwiYXZhdGFyIiwibG9naW5fYWRtaW4iLCJ1cGRhdGUiLCJmaWxlcyIsImltZ19wYXRoIiwicGF0aCIsInNwbGl0IiwiYXZhdGFyX25hbWUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIlVzZXJUIiwibGlzdCIsInNlYXJjaCIsInF1ZXJ5IiwiVXNlcnMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwic29ydCIsIm1hcCIsInVzZXJzIiwicmVtb3ZlIiwiZmluZEJ5SWRBbmREZWxldGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJVc2VyQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJ1xyXG5pbXBvcnQgbW9kZWxzIGZyb20gJy4uL21vZGVscydcclxuaW1wb3J0IHRva2VuIGZyb20gJy4uL3NlcnZpY2VzL3Rva2VuJ1xyXG5pbXBvcnQgcmVzb3VyY2UgZnJvbSAnLi4vcmVzb3VyY2VzJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyByb2xcclxuICAgICAgICAgICAgLy8gbmFtZVxyXG4gICAgICAgICAgICAvLyBzdXJuYW1lXHJcbiAgICAgICAgICAgIC8vIGVtYWlsXHJcbiAgICAgICAgICAgIC8vIHBhc3N3b3JkXHJcbiAgICAgICAgICAgIHJlcS5ib2R5LnBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocmVxLmJvZHkucGFzc3dvcmQsMTApO1xyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuY3JlYXRlKHJlcS5ib2R5KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24odXNlcik7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgcmVnaXN0ZXJfYWRtaW46IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyByb2xcclxuICAgICAgICAgICAgLy8gbmFtZVxyXG4gICAgICAgICAgICAvLyBzdXJuYW1lXHJcbiAgICAgICAgICAgIC8vIGVtYWlsXHJcbiAgICAgICAgICAgIC8vIHBhc3N3b3JkXHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXJWID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsfSk7XHJcbiAgICAgICAgICAgIGlmKHVzZXJWKXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gWUEgRVhJU1RFXCJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlcS5ib2R5LnJvbCA9IFwiYWRtaW5cIjtcclxuICAgICAgICAgICAgcmVxLmJvZHkucGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChyZXEuYm9keS5wYXNzd29yZCwxMCk7XHJcbiAgICAgICAgICAgIGxldCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuY3JlYXRlKHJlcS5ib2R5KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgdXNlcjogcmVzb3VyY2UuVXNlci51c2VyX2xpc3QodXNlcilcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbG9naW46IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsLHN0YXRlOjF9KTtcclxuICAgICAgICAgICAgaWYodXNlcil7XHJcbiAgICAgICAgICAgICAgICAvL1NJIEVTVEEgUkdJU1RSQURPIEVOIEVMIFNJU1RFTUFcclxuICAgICAgICAgICAgICAgIGxldCBjb21wYXJlID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocmVxLmJvZHkucGFzc3dvcmQsdXNlci5wYXNzd29yZCk7XHJcbiAgICAgICAgICAgICAgICBpZihjb21wYXJlKXtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdG9rZW5UID0gYXdhaXQgdG9rZW4uZW5jb2RlKHVzZXIuX2lkLHVzZXIucm9sLHVzZXIuZW1haWwpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBVU0VSX0ZST05URUQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOnRva2VuVCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdXJuYW1lOiB1c2VyLnN1cm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmF0YXI6IHVzZXIuYXZhdGFyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBVU0VSX0ZST05URUQ6VVNFUl9GUk9OVEVELFxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBOTyBFWElTVEVcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVhJU1RFXCJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbG9naW5fYWRtaW46IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsLHN0YXRlOjEscm9sOiBcImFkbWluXCJ9KTtcclxuICAgICAgICAgICAgaWYodXNlcil7XHJcbiAgICAgICAgICAgICAgICAvL1NJIEVTVEEgUkdJU1RSQURPIEVOIEVMIFNJU1RFTUFcclxuICAgICAgICAgICAgICAgIGxldCBjb21wYXJlID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocmVxLmJvZHkucGFzc3dvcmQsdXNlci5wYXNzd29yZCk7XHJcbiAgICAgICAgICAgICAgICBpZihjb21wYXJlKXtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdG9rZW5UID0gYXdhaXQgdG9rZW4uZW5jb2RlKHVzZXIuX2lkLHVzZXIucm9sLHVzZXIuZW1haWwpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBVU0VSX0ZST05URUQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOnRva2VuVCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdXJuYW1lOiB1c2VyLnN1cm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmF0YXI6IHVzZXIuYXZhdGFyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sOiB1c2VyLnJvbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVVNFUl9GUk9OVEVEOlVTRVJfRlJPTlRFRCxcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVhJU1RFXCJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHVwZGF0ZTogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmKHJlcS5maWxlcyl7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMuYXZhdGFyLnBhdGg7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXZhdGFyX25hbWUgPSBuYW1lWzJdO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYXZhdGFyX25hbWUpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYocmVxLmJvZHkucGFzc3dvcmQpe1xyXG4gICAgICAgICAgICAgICAgcmVxLmJvZHkucGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChyZXEuYm9keS5wYXNzd29yZCwxMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlVzZXIuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogcmVxLmJvZHkuX2lkfSxyZXEuYm9keSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgVXNlclQgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kT25lKHtfaWQ6IHJlcS5ib2R5Ll9pZH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gU0UgSEEgTU9ESUZJQ0FETyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICB1c2VyOiByZXNvdXJjZS5Vc2VyLnVzZXJfbGlzdChVc2VyVCksXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGxpc3Q6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaDtcclxuICAgICAgICAgICAgbGV0IFVzZXJzID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZCh7XHJcbiAgICAgICAgICAgICAgICAkb3I6W1xyXG4gICAgICAgICAgICAgICAgICAgIHtcIm5hbWVcIjogbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXHJcbiAgICAgICAgICAgICAgICAgICAge1wic3VybmFtZVwiOiBuZXcgUmVnRXhwKHNlYXJjaCwgXCJpXCIpfSxcclxuICAgICAgICAgICAgICAgICAgICB7XCJlbWFpbFwiOiBuZXcgUmVnRXhwKHNlYXJjaCwgXCJpXCIpfSxcclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSkuc29ydCh7J2NyZWF0ZWRBdCc6IC0xfSk7XHJcblxyXG4gICAgICAgICAgICBVc2VycyA9IFVzZXJzLm1hcCgodXNlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlLlVzZXIudXNlcl9saXN0KHVzZXIpO1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgdXNlcnM6IFVzZXJzXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHJlbW92ZTogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IFVzZXIgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kQnlJZEFuZERlbGV0ZSh7X2lkOiByZXEucXVlcnkuX2lkfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBTRSBFTElNSU5PIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLE9BQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLE1BQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFVBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUFtQyxTQUFBRCx1QkFBQUssR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEsR0FFcEI7RUFDWEMsUUFBUSxFQUFFLE1BQUFBLENBQU1DLEdBQUcsRUFBQ0MsR0FB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","map":{"version":3,"names":["_bcryptjs","_interopRequireDefault","require","_models","_token","_resources","obj","__esModule","default","_default","register","req","res","body","password","bcrypt","hash","user","models","User","create","status","json","error","send","message","console","log","register_admin","userV","findOne","email","rol","resource","user_list","login","state","compare","tokenT","token","encode","_id","USER_FRONTED","name","surname","avatar","login_admin","update","files","img_path","path","split","avatar_name","findByIdAndUpdate","UserT","list","search","query","Users","find","$or","RegExp","sort","map","users","remove","findByIdAndDelete","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["UserController.js"],"sourcesContent":["import bcrypt from 'bcryptjs'\r\nimport models from '../models'\r\nimport token from '../services/token'\r\nimport resource from '../resources'\r\n\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            // rol\r\n            // name\r\n            // surname\r\n            // email\r\n            // password\r\n            req.body.password = await bcrypt.hash(req.body.password,10);\r\n            const user = await models.User.create(req.body);\r\n            res.status(200).json(user);\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    register_admin: async(req,res) => {\r\n        try {\r\n            // rol\r\n            // name\r\n            // surname\r\n            // email\r\n            // password\r\n            const userV = await models.User.findOne({email: req.body.email});\r\n            if(userV){\r\n                res.status(500).send({\r\n                    message: \"EL USUARIO YA EXISTE\"\r\n                });\r\n            }\r\n            req.body.rol = \"admin\";\r\n            req.body.password = await bcrypt.hash(req.body.password,10);\r\n            let user = await models.User.create(req.body);\r\n            res.status(200).json({\r\n                user: resource.User.user_list(user)\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    login: async(req,res) => {\r\n        try {\r\n            const user = await models.User.findOne({email: req.body.email,state:1});\r\n            if(user){\r\n                //SI ESTA RGISTRADO EN EL SISTEMA\r\n                let compare = await bcrypt.compare(req.body.password,user.password);\r\n                if(compare){\r\n                    let tokenT = await token.encode(user._id,user.rol,user.email);\r\n\r\n                    const USER_FRONTED = {\r\n                        token:tokenT,\r\n                        user: {\r\n                            name: user.name,\r\n                            email: user.email,\r\n                            surname: user.surname,\r\n                            avatar: user.avatar,\r\n                        },\r\n                    }\r\n\r\n                    res.status(200).json({\r\n                        USER_FRONTED:USER_FRONTED,\r\n                    })\r\n                }else{\r\n                    res.status(500).send({\r\n                        message: \"EL USUARIO NO EXISTE\"\r\n                    });\r\n                }\r\n            }else{\r\n                res.status(500).send({\r\n                    message: \"EL USUARIO NO EXISTE\"\r\n                });\r\n            }\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    login_admin: async(req,res) => {\r\n        try {\r\n            const user = await models.User.findOne({email: req.body.email,state:1,rol: \"admin\"});\r\n            if(user){\r\n                //SI ESTA RGISTRADO EN EL SISTEMA\r\n                let compare = await bcrypt.compare(req.body.password,user.password);\r\n                if(compare){\r\n                    let tokenT = await token.encode(user._id,user.rol,user.email);\r\n\r\n                    const USER_FRONTED = {\r\n                        token:tokenT,\r\n                        user: {\r\n                            name: user.name,\r\n                            email: user.email,\r\n                            surname: user.surname,\r\n                            avatar: user.avatar,\r\n                            rol: user.rol,\r\n                        },\r\n                    }\r\n\r\n                    res.status(200).json({\r\n                        USER_FRONTED:USER_FRONTED,\r\n                    })\r\n                }else{\r\n                    res.status(500).send({\r\n                        message: \"EL USUARIO NO EXISTE\"\r\n                    });\r\n                }\r\n            }else{\r\n                res.status(500).send({\r\n                    message: \"EL USUARIO NO EXISTE\"\r\n                });\r\n            }\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    update: async(req,res) => {\r\n        try {\r\n            if(req.files){\r\n                var img_path = req.files.avatar.path;\r\n                var name = img_path.split('\\\\');\r\n                var avatar_name = name[2];\r\n                console.log(avatar_name)\r\n            }\r\n            if(req.body.password){\r\n                req.body.password = await bcrypt.hash(req.body.password,10);\r\n            }\r\n            await models.User.findByIdAndUpdate({_id: req.body._id},req.body);\r\n\r\n            let UserT = await models.User.findOne({_id: req.body._id});\r\n            res.status(200).json({\r\n                message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\r\n                user: resource.User.user_list(UserT),\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    list: async(req,res) => {\r\n        try {\r\n            var search = req.query.search;\r\n            let Users = await models.User.find({\r\n                $or:[\r\n                    {\"name\": new RegExp(search, \"i\")},\r\n                    {\"surname\": new RegExp(search, \"i\")},\r\n                    {\"email\": new RegExp(search, \"i\")},\r\n                ]\r\n            }).sort({'createdAt': -1});\r\n\r\n            Users = Users.map((user) => {\r\n                return resource.User.user_list(user);\r\n            })\r\n\r\n            res.status(200).json({\r\n                users: Users\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    remove: async(req,res) => {\r\n        try {\r\n            const User = await models.User.findByIdAndDelete({_id: req.query._id});\r\n            res.status(200).json({\r\n                message: \"EL USUARIO SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    }\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1676356037561},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Cart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst CartSchema = new _mongoose.Schema({\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  type_discount: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es por porcentaje y 2 es por moneda\n  discount: {\n    type: Number,\n    default: 0\n  },\n  //50%\n  cantidad: {\n    type: Number,\n    required: true\n  },\n  //2\n  variedad: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'variedad',\n    required: false\n  },\n  code_cupon: {\n    type: String,\n    required: false\n  },\n  code_discount: {\n    type: String,\n    required: false\n  },\n  price_unitario: {\n    type: Number,\n    required: true\n  },\n  //60\n  subtotal: {\n    type: Number,\n    required: true\n  },\n  //30\n  total: {\n    type: Number,\n    required: true\n  } //60\n}, {\n  timestamps: true\n});\nconst Cart = _mongoose.default.model(\"cart\", CartSchema);\nvar _default = Cart;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiQ2FydFNjaGVtYSIsIlNjaGVtYSIsInVzZXIiLCJ0eXBlIiwiT2JqZWN0SWQiLCJyZWYiLCJyZXF1aXJlZCIsInByb2R1Y3QiLCJ0eXBlX2Rpc2NvdW50IiwiTnVtYmVyIiwiZGlzY291bnQiLCJjYW50aWRhZCIsInZhcmllZGFkIiwiY29kZV9jdXBvbiIsIlN0cmluZyIsImNvZGVfZGlzY291bnQiLCJwcmljZV91bml0YXJpbyIsInN1YnRvdGFsIiwidG90YWwiLCJ0aW1lc3RhbXBzIiwiQ2FydCIsIm1vbmdvb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXG1vZGVsc1xcIiwic291cmNlcyI6WyJDYXJ0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSwge1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCBDYXJ0U2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICB1c2VyOiB7dHlwZTogU2NoZW1hLk9iamVjdElkLHJlZjogJ3VzZXInLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgcHJvZHVjdDoge3R5cGU6IFNjaGVtYS5PYmplY3RJZCwgcmVmOiAncHJvZHVjdCcscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICB0eXBlX2Rpc2NvdW50OiB7dHlwZTpOdW1iZXIscmVxdWlyZWQ6ZmFsc2UsZGVmYXVsdDogMX0sLy8xIGVzIHBvciBwb3JjZW50YWplIHkgMiBlcyBwb3IgbW9uZWRhXHJcbiAgICBkaXNjb3VudDp7dHlwZTpOdW1iZXIsZGVmYXVsdDogMH0sLy81MCVcclxuICAgIGNhbnRpZGFkOiB7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sLy8yXHJcbiAgICB2YXJpZWRhZDoge3R5cGU6U2NoZW1hLk9iamVjdElkLCByZWY6ICd2YXJpZWRhZCcsIHJlcXVpcmVkOiBmYWxzZX0sXHJcbiAgICBjb2RlX2N1cG9uOiB7dHlwZTpTdHJpbmcscmVxdWlyZWQ6ZmFsc2V9LFxyXG4gICAgY29kZV9kaXNjb3VudDoge3R5cGU6U3RyaW5nLHJlcXVpcmVkOmZhbHNlfSxcclxuICAgIHByaWNlX3VuaXRhcmlvOiB7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sLy82MFxyXG4gICAgc3VidG90YWw6IHt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSwvLzMwXHJcbiAgICB0b3RhbDoge3R5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWV9LC8vNjBcclxufSx7XHJcbiAgICB0aW1lc3RhbXBzOnRydWVcclxufSk7XHJcblxyXG5jb25zdCBDYXJ0ID0gbW9uZ29vc2UubW9kZWwoXCJjYXJ0XCIsQ2FydFNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IENhcnQ7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBMEMsU0FBQUMseUJBQUFDLFdBQUEsZUFBQUMsT0FBQSxrQ0FBQUMsaUJBQUEsT0FBQUQsT0FBQSxRQUFBRSxnQkFBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLFdBQUEsV0FBQUEsV0FB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","CartSchema","Schema","user","type","ObjectId","ref","required","product","type_discount","Number","discount","cantidad","variedad","code_cupon","String","code_discount","price_unitario","subtotal","total","timestamps","Cart","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Cart.js"],"sourcesContent":["import mongoose, {Schema} from \"mongoose\";\r\n\r\nconst CartSchema = new Schema({\r\n    user: {type: Schema.ObjectId,ref: 'user',required:true},\r\n    product: {type: Schema.ObjectId, ref: 'product',required:true},\r\n    type_discount: {type:Number,required:false,default: 1},//1 es por porcentaje y 2 es por moneda\r\n    discount:{type:Number,default: 0},//50%\r\n    cantidad: {type:Number,required:true},//2\r\n    variedad: {type:Schema.ObjectId, ref: 'variedad', required: false},\r\n    code_cupon: {type:String,required:false},\r\n    code_discount: {type:String,required:false},\r\n    price_unitario: {type:Number,required:true},//60\r\n    subtotal: {type:Number,required:true},//30\r\n    total: {type:Number,required:true},//60\r\n},{\r\n    timestamps:true\r\n});\r\n\r\nconst Cart = mongoose.model(\"cart\",CartSchema);\r\nexport default Cart;"],"mappings":"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","ignoreList":[]}},"mtime":1679240384767},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\AddressClient.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst AddressClientSchema = new _mongoose.Schema({\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  pais: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  address: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  referencia: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  ciudad: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  region: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  telefono: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  nota: {\n    type: String,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst AddressClient = _mongoose.default.model(\"address_client\", AddressClientSchema);\nvar _default = AddressClient;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiQWRkcmVzc0NsaWVudFNjaGVtYSIsIlNjaGVtYSIsInVzZXIiLCJ0eXBlIiwiT2JqZWN0SWQiLCJyZWYiLCJyZXF1aXJlZCIsIm5hbWUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJzdXJuYW1lIiwicGFpcyIsImFkZHJlc3MiLCJyZWZlcmVuY2lhIiwiY2l1ZGFkIiwicmVnaW9uIiwidGVsZWZvbm8iLCJlbWFpbCIsIm5vdGEiLCJ0aW1lc3RhbXBzIiwiQWRkcmVzc0NsaWVudCIsIm1vbmdvb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXG1vZGVsc1xcIiwic291cmNlcyI6WyJBZGRyZXNzQ2xpZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IEFkZHJlc3NDbGllbnRTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIHVzZXI6e3R5cGU6U2NoZW1hLk9iamVjdElkLHJlZjogJ3VzZXInLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgbmFtZTp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoIDogMjUwLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgc3VybmFtZTp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoIDogMjUwLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgcGFpczp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgYWRkcmVzczp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgcmVmZXJlbmNpYTp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOmZhbHNlfSxcclxuICAgIGNpdWRhZDp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgcmVnaW9uOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICB0ZWxlZm9ubzp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgZW1haWw6e3R5cGU6U3RyaW5nLG1heGxlbmd0aDogMjUwLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIG5vdGE6e3R5cGU6U3RyaW5nLCByZXF1aXJlZDpmYWxzZX0sXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczogdHJ1ZVxyXG59KTtcclxuXHJcbmNvbnN0IEFkZHJlc3NDbGllbnQgPSBtb25nb29zZS5tb2RlbChcImFkZHJlc3NfY2xpZW50XCIsQWRkcmVzc0NsaWVudFNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IEFkZHJlc3NDbGllbnQ7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBeUMsU0FBQUMseUJBQUFDLFdBQUEsZUFBQUMsT0FBQSxrQ0FBQUMsaUJBQUEsT0FBQUQsT0FBQSxRQUFBRSxnQkFBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLFdBQUEsV0FBQUEsV0FBQSxHQUFBRyxnQkFBQSxHQUFBRCxpQkFBQSxLQUFBRixXQUFBO0FBQUEsU0FBQUgsd0JBQUFPLEdBQUEsRUFBQUosV0FBQSxTQUFBQSxXQUFBLElBQUFJLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLFdBQUFELEdBQUEsUUFBQUEsR0FBQSxvQkFBQUEsR0FBQSx3QkFBQUEsR0FBQSw0QkFBQUUsT0FBQSxFQUFBRixHQUFBLFVBQUFHLEtBQUEsR0FBQVIsd0JBQUEsQ0FBQUMsV0FBQSxPQUFBTyxLQUFBLElBQUFBLEtBQUEsQ0FBQUMsR0FBQSxDQUFBSixHQUFBLFlBQUFHLEtBQUEsQ0FBQUUsR0FBQSxDQUFBTCxHQUFBLFNBQUFNLE1BQUEsV0FBQUMscUJBQUEsR0FBQUMsTUFBQSxDQUFBQyxjQUFBLElBQUFELE1BQUEsQ0FBQUUsd0JBQUEsV0FBQUMsR0FBQSxJQUFBWCxHQUFBLFFBQUFXLEdBQUEsa0JBQUFILE1BQUEsQ0FBQUksU0FBQSxDQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQWQsR0FBQSxFQUFBVyxHQUFBLFNBQUFJLElBQUEsR0FBQVIscUJBQUEsR0FBQUMsTUFBQSxDQUFBRSx3QkFBQSxDQUFBVixHQUFBLEVBQUFXLEdBQUEsY0FBQUksSUFBQSxLQUFBQSxJQUFBLENBQUFWLEdBQUEsSUFBQVUsSUFBQSxDQUFBQyxHQUFBLEtBQUFSLE1BQUEsQ0FBQUMsY0FBQSxDQUFBSCxNQUFBLEVBQUFLLEdBQUEsRUFBQUksSUFBQSxZQUFBVCxNQUFBLENBQUFLLEdBQUEsSUFBQVgsR0FBQSxDQUFBVyxHQUFBLFNBQUFMLE1BQUEsQ0FBQUosT0FBQSxHQUFBRixHQUFBLE1BQUFHLEtBQUEsSUFBQUEsS0FBQSxDQUFBYSxHQUFBLENBQUFoQixHQUFBLEVBQUFNLE1BQUEsWUFBQUEsTUFBQTtBQUV6QyxNQUFNVyxtQkFBbUIsR0FBRyxJQUFJQyxnQkFBTSxDQUFDO0VBQ25DQyxJQUFJLEVBQUM7SUFBQ0MsSUFBSSxFQUFDRixnQkFBTSxDQUFDRyxRQUFRO0lBQUNDLEdBQUcsRUFBRSxNQUFNO0lBQUNDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDckRDLElBQUksRUFBQztJQUFDSixJQUFJLEVBQUNLLE1BQU07SUFBQ0MsU0FBUyxFQUFHLEdBQUc7SUFBQ0gsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNoREksT0FBTyxFQUFDO0lBQUNQLElBQUksRUFBQ0ssTUFBTTtJQUFDQyxTQUFTLEVBQUcsR0FBRztJQUFDSCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ25ESyxJQUFJLEVBQUM7SUFBQ1IsSUFBSSxFQUFDSyxNQUFNO0lBQUNDLFNBQVMsRUFBRSxHQUFHO0lBQUVILFFBQVEsRUFBQztFQUFJLENBQUM7RUFDaERNLE9BQU8sRUFBQztJQUFDVCxJQUFJLEVBQUNLLE1BQU07SUFBQ0MsU0FBUyxFQUFFLEdBQUc7SUFBRUgsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNuRE8sVUFBVSxFQUFDO0lBQUNWLElBQUksRUFBQ0ssTUFBTTtJQUFDQyxTQUFTLEVBQUUsR0FBRztJQUFFSCxRQUFRLEVBQUM7RUFBSyxDQUFDO0VBQ3ZEUSxNQUFNLEVBQUM7SUFBQ1gsSUFBSSxFQUFDSyxNQUFNO0lBQUNDLFNBQVMsRUFBRSxHQUFHO0lBQUVILFFBQVEsRUFBQztFQUFJLENBQUM7RUFDbERTLE1BQU0sRUFBQztJQUFDWixJQUFJLEVBQUNLLE1BQU07SUFBQ0MsU0FBUyxFQUFFLEdBQUc7SUFBRUgsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNsRFUsUUFBUSxFQUFDO0lBQUNiLElBQUksRUFBQ0ssTUFBTTtJQUFDQyxTQUFTLEVBQUUsR0FBRztJQUFFSCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ3BEVyxLQUFLLEVBQUM7SUFBQ2QsSUFBSSxFQUFDSyxNQUFNO0lBQUNDLFNBQVMsRUFBRSxHQUFHO0lBQUVILFFBQVEsRUFBQztFQUFJLENBQUM7RUFDakRZLElBQUksRUFBQztJQUFDZixJQUFJLEVBQUNLLE1BQU07SUFBRUYsUUFBUSxFQUFDO0VBQUs7QUFDckMsQ0FBQyxFQUFDO0VBQ0VhLFVBQVUsRUFBRTtBQUNoQixDQUFDLENBQUM7QUFFRixNQUFNQyxhQUFhLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxnQkFBZ0IsRUFBQ3RCLG1CQUFtQixDQUFDO0FBQUMsSUFBQXVCLFFBQUEsR0FDNURILGFBQWE7QUFBQUksT0FBQSxDQUFBdkMsT0FBQSxHQUFBc0MsUUFBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","AddressClientSchema","Schema","user","type","ObjectId","ref","required","name","String","maxlength","surname","pais","address","referencia","ciudad","region","telefono","email","nota","timestamps","AddressClient","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["AddressClient.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst AddressClientSchema = new Schema({\r\n    user:{type:Schema.ObjectId,ref: 'user',required:true},\r\n    name:{type:String,maxlength : 250,required:true},\r\n    surname:{type:String,maxlength : 250,required:true},\r\n    pais:{type:String,maxlength: 250, required:true},\r\n    address:{type:String,maxlength: 250, required:true},\r\n    referencia:{type:String,maxlength: 250, required:false},\r\n    ciudad:{type:String,maxlength: 250, required:true},\r\n    region:{type:String,maxlength: 250, required:true},\r\n    telefono:{type:String,maxlength: 250, required:true},\r\n    email:{type:String,maxlength: 250, required:true},\r\n    nota:{type:String, required:false},\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst AddressClient = mongoose.model(\"address_client\",AddressClientSchema);\r\nexport default AddressClient;"],"mappings":"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","ignoreList":[]}},"mtime":1679756615219},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Sale.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst SaleSchema = new _mongoose.Schema({\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  currency_payment: {\n    type: String,\n    default: 'USD'\n  },\n  method_payment: {\n    type: String,\n    maxlength: 50,\n    required: true\n  },\n  n_transacccion: {\n    type: String,\n    maxlength: 200,\n    required: true\n  },\n  total: {\n    type: Number,\n    required: true\n  },\n  // \n  currency_total: {\n    type: String,\n    maxlength: 50,\n    default: 'USD'\n  },\n  price_dolar: {\n    type: Number,\n    default: 0\n  }\n}, {\n  timestamps: true\n});\nconst Sale = _mongoose.default.model(\"sale\", SaleSchema);\nvar _default = Sale;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiU2FsZVNjaGVtYSIsIlNjaGVtYSIsInVzZXIiLCJ0eXBlIiwiT2JqZWN0SWQiLCJyZWYiLCJyZXF1aXJlZCIsImN1cnJlbmN5X3BheW1lbnQiLCJTdHJpbmciLCJtZXRob2RfcGF5bWVudCIsIm1heGxlbmd0aCIsIm5fdHJhbnNhY2NjaW9uIiwidG90YWwiLCJOdW1iZXIiLCJjdXJyZW5jeV90b3RhbCIsInByaWNlX2RvbGFyIiwidGltZXN0YW1wcyIsIlNhbGUiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiU2FsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2Use1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCBTYWxlU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICB1c2VyOnt0eXBlOiBTY2hlbWEuT2JqZWN0SWQscmVmOid1c2VyJyxyZXF1aXJlZDp0cnVlfSxcclxuICAgIGN1cnJlbmN5X3BheW1lbnQ6e3R5cGU6IFN0cmluZyxkZWZhdWx0OiAnVVNEJ30sXHJcbiAgICBtZXRob2RfcGF5bWVudDp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiA1MCxyZXF1aXJlZDp0cnVlfSxcclxuICAgIG5fdHJhbnNhY2NjaW9uOiB7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyMDAscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICB0b3RhbDp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICAvLyBcclxuICAgIGN1cnJlbmN5X3RvdGFsOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6IDUwLCBkZWZhdWx0OiAnVVNEJ30sXHJcbiAgICBwcmljZV9kb2xhcjp7dHlwZTpOdW1iZXIsZGVmYXVsdDogMH0sXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczogdHJ1ZSxcclxufSk7XHJcblxyXG5jb25zdCBTYWxlID0gbW9uZ29vc2UubW9kZWwoXCJzYWxlXCIsU2FsZVNjaGVtYSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTYWxlOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQXlDLFNBQUFDLHlCQUFBQyxXQUFBLGVBQUFDLE9BQUEsa0NBQUFDLGlCQUFBLE9BQUFELE9BQUEsUUFBQUUsZ0JBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxXQUFBLFdBQUFBLFdBQUEsR0FBQUcsZ0JBQUEsR0FBQUQsaUJBQUEsS0FBQUYsV0FBQTtBQUFBLFNBQUFILHdCQUFBTyxHQUFBLEVBQUFKLFdBQUEsU0FBQUEsV0FBQSxJQUFBSSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxXQUFBRCxHQUFBLFFBQUFBLEdBQUEsb0JBQUFBLEdBQUEsd0JBQUFBLEdBQUEsNEJBQUFFLE9BQUEsRUFBQUYsR0FBQSxVQUFBRyxLQUFBLEdBQUFSLHdCQUFBLENBQUFDLFdBQUEsT0FBQU8sS0FBQSxJQUFBQSxLQUFBLENBQUFDLEdBQUEsQ0FBQUosR0FBQSxZQUFBRyxLQUFBLENBQUFFLEdBQUEsQ0FBQUwsR0FBQSxTQUFBTSxNQUFBLFdBQUFDLHFCQUFBLEdBQUFDLE1BQUEsQ0FBQUMsY0FBQSxJQUFBRCxNQUFBLENBQUFFLHdCQUFBLFdBQUFDLEdBQUEsSUFBQVgsR0FBQSxRQUFBVyxHQUFBLGtCQUFBSCxNQUFBLENBQUFJLFNBQUEsQ0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFkLEdBQUEsRUFBQVcsR0FBQSxTQUFBSSxJQUFBLEdBQUFSLHFCQUFBLEdBQUFDLE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQVYsR0FBQSxFQUFBVyxHQUFBLGNBQUFJLElBQUEsS0FBQUEsSUFBQSxDQUFBVixHQUFBLElBQUFVLElBQUEsQ0FBQUMsR0FBQSxLQUFBUixNQUFBLENBQUFDLGNBQUEsQ0FBQUgsTUFBQSxFQUFBSyxHQUFBLEVBQUFJLElBQUEsWUFBQVQsTUFBQSxDQUFBSyxHQUFBLElBQUFYLEdBQUEsQ0FBQVcsR0FBQSxTQUFBTCxNQUFBLENBQUFKLE9BQUEsR0FBQUYsR0FBQSxNQUFBRyxLQUFBLElBQUFBLEtBQUEsQ0FBQWEsR0FBQSxDQUFBaEIsR0FBQSxFQUFBTSxNQUFBLFlBQUFBLE1BQUE7QUFFekMsTUFBTVcsVUFBVSxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDMUJDLElBQUksRUFBQztJQUFDQyxJQUFJLEVBQUVGLGdCQUFNLENBQUNHLFFBQVE7SUFBQ0MsR0FBRyxFQUFDLE1BQU07SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNyREMsZ0JBQWdCLEVBQUM7SUFBQ0osSUFBSSxFQUFFSyxNQUFNO0lBQUN2QixPQUFPLEVBQUU7RUFBSyxDQUFDO0VBQzlDd0IsY0FBYyxFQUFDO0lBQUNOLElBQUksRUFBQ0ssTUFBTTtJQUFDRSxTQUFTLEVBQUUsRUFBRTtJQUFDSixRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ3hESyxjQUFjLEVBQUU7SUFBQ1IsSUFBSSxFQUFDSyxNQUFNO0lBQUNFLFNBQVMsRUFBRSxHQUFHO0lBQUNKLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDMURNLEtBQUssRUFBQztJQUFDVCxJQUFJLEVBQUNVLE1BQU07SUFBQ1AsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNqQztFQUNBUSxjQUFjLEVBQUU7SUFBQ1gsSUFBSSxFQUFFSyxNQUFNO0lBQUVFLFNBQVMsRUFBRSxFQUFFO0lBQUV6QixPQUFPLEVBQUU7RUFBSyxDQUFDO0VBQzdEOEIsV0FBVyxFQUFDO0lBQUNaLElBQUksRUFBQ1UsTUFBTTtJQUFDNUIsT0FBTyxFQUFFO0VBQUM7QUFDdkMsQ0FBQyxFQUFDO0VBQ0UrQixVQUFVLEVBQUU7QUFDaEIsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsSUFBSSxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsTUFBTSxFQUFDbkIsVUFBVSxDQUFDO0FBQUMsSUFBQW9CLFFBQUEsR0FFaENILElBQUk7QUFBQUksT0FBQSxDQUFBcEMsT0FBQSxHQUFBbUMsUUFBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","SaleSchema","Schema","user","type","ObjectId","ref","required","currency_payment","String","method_payment","maxlength","n_transacccion","total","Number","currency_total","price_dolar","timestamps","Sale","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Sale.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst SaleSchema = new Schema({\r\n    user:{type: Schema.ObjectId,ref:'user',required:true},\r\n    currency_payment:{type: String,default: 'USD'},\r\n    method_payment:{type:String,maxlength: 50,required:true},\r\n    n_transacccion: {type:String,maxlength: 200,required:true},\r\n    total:{type:Number,required:true},\r\n    // \r\n    currency_total: {type: String, maxlength: 50, default: 'USD'},\r\n    price_dolar:{type:Number,default: 0},\r\n},{\r\n    timestamps: true,\r\n});\r\n\r\nconst Sale = mongoose.model(\"sale\",SaleSchema);\r\n\r\nexport default Sale;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAH,wBAAAO,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,CAAAJ,OAAA,GAAAF,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAEzC,MAAMW,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC1BC,IAAI,EAAC;IAACC,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EACrDC,gBAAgB,EAAC;IAACJ,IAAI,EAAEK,MAAM;IAACvB,OAAO,EAAE;EAAK,CAAC;EAC9CwB,cAAc,EAAC;IAACN,IAAI,EAACK,MAAM;IAACE,SAAS,EAAE,EAAE;IAACJ,QAAQ,EAAC;EAAI,CAAC;EACxDK,cAAc,EAAE;IAACR,IAAI,EAACK,MAAM;IAACE,SAAS,EAAE,GAAG;IAACJ,QAAQ,EAAC;EAAI,CAAC;EAC1DM,KAAK,EAAC;IAACT,IAAI,EAACU,MAAM;IAACP,QAAQ,EAAC;EAAI,CAAC;EACjC;EACAQ,cAAc,EAAE;IAACX,IAAI,EAAEK,MAAM;IAAEE,SAAS,EAAE,EAAE;IAAEzB,OAAO,EAAE;EAAK,CAAC;EAC7D8B,WAAW,EAAC;IAACZ,IAAI,EAACU,MAAM;IAAC5B,OAAO,EAAE;EAAC;AACvC,CAAC,EAAC;EACE+B,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAACnB,UAAU,CAAC;AAAC,IAAAoB,QAAA,GAEhCH,IAAI;AAAAI,OAAA,CAAApC,OAAA,GAAAmC,QAAA","ignoreList":[]}},"mtime":1679842300790},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\SaleDetail.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst SaleDetailSchema = new _mongoose.Schema({\n  sale: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'sale',\n    required: true\n  },\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  type_discount: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es por porcentaje y 2 es por moneda\n  discount: {\n    type: Number,\n    default: 0\n  },\n  //50%\n  cantidad: {\n    type: Number,\n    required: true\n  },\n  //2\n  variedad: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'variedad',\n    required: false\n  },\n  code_cupon: {\n    type: String,\n    required: false\n  },\n  code_discount: {\n    type: String,\n    required: false\n  },\n  price_unitario: {\n    type: Number,\n    required: true\n  },\n  //60\n  subtotal: {\n    type: Number,\n    required: true\n  },\n  //30\n  total: {\n    type: Number,\n    required: true\n  } //60\n}, {\n  timestamps: true\n});\nconst SaleDetail = _mongoose.default.model(\"sale_detail\", SaleDetailSchema);\nvar _default = SaleDetail;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiU2FsZURldGFpbFNjaGVtYSIsIlNjaGVtYSIsInNhbGUiLCJ0eXBlIiwiT2JqZWN0SWQiLCJyZWYiLCJyZXF1aXJlZCIsInByb2R1Y3QiLCJ0eXBlX2Rpc2NvdW50IiwiTnVtYmVyIiwiZGlzY291bnQiLCJjYW50aWRhZCIsInZhcmllZGFkIiwiY29kZV9jdXBvbiIsIlN0cmluZyIsImNvZGVfZGlzY291bnQiLCJwcmljZV91bml0YXJpbyIsInN1YnRvdGFsIiwidG90YWwiLCJ0aW1lc3RhbXBzIiwiU2FsZURldGFpbCIsIm1vbmdvb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXG1vZGVsc1xcIiwic291cmNlcyI6WyJTYWxlRGV0YWlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IFNhbGVEZXRhaWxTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIHNhbGU6IHt0eXBlOiBTY2hlbWEuT2JqZWN0SWQscmVmOiAnc2FsZScscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBwcm9kdWN0OiB7dHlwZTogU2NoZW1hLk9iamVjdElkLCByZWY6ICdwcm9kdWN0JyxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHR5cGVfZGlzY291bnQ6IHt0eXBlOk51bWJlcixyZXF1aXJlZDpmYWxzZSxkZWZhdWx0OiAxfSwvLzEgZXMgcG9yIHBvcmNlbnRhamUgeSAyIGVzIHBvciBtb25lZGFcclxuICAgIGRpc2NvdW50Ont0eXBlOk51bWJlcixkZWZhdWx0OiAwfSwvLzUwJVxyXG4gICAgY2FudGlkYWQ6IHt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSwvLzJcclxuICAgIHZhcmllZGFkOiB7dHlwZTpTY2hlbWEuT2JqZWN0SWQsIHJlZjogJ3ZhcmllZGFkJywgcmVxdWlyZWQ6IGZhbHNlfSxcclxuICAgIGNvZGVfY3Vwb246IHt0eXBlOlN0cmluZyxyZXF1aXJlZDpmYWxzZX0sXHJcbiAgICBjb2RlX2Rpc2NvdW50OiB7dHlwZTpTdHJpbmcscmVxdWlyZWQ6ZmFsc2V9LFxyXG4gICAgcHJpY2VfdW5pdGFyaW86IHt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSwvLzYwXHJcbiAgICBzdWJ0b3RhbDoge3R5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWV9LC8vMzBcclxuICAgIHRvdGFsOiB7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sLy82MFxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6dHJ1ZSxcclxufSk7XHJcblxyXG5jb25zdCBTYWxlRGV0YWlsID0gbW9uZ29vc2UubW9kZWwoXCJzYWxlX2RldGFpbFwiLFNhbGVEZXRhaWxTY2hlbWEpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2FsZURldGFpbDsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBQyx5QkFBQUMsV0FBQSxlQUFBQyxPQUFBLGtDQUFBQyxpQkFBQSxPQUFBRCxPQUFBLFFBQUFFLGdC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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","SaleDetailSchema","Schema","sale","type","ObjectId","ref","required","product","type_discount","Number","discount","cantidad","variedad","code_cupon","String","code_discount","price_unitario","subtotal","total","timestamps","SaleDetail","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["SaleDetail.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst SaleDetailSchema = new Schema({\r\n    sale: {type: Schema.ObjectId,ref: 'sale',required:true},\r\n    product: {type: Schema.ObjectId, ref: 'product',required:true},\r\n    type_discount: {type:Number,required:false,default: 1},//1 es por porcentaje y 2 es por moneda\r\n    discount:{type:Number,default: 0},//50%\r\n    cantidad: {type:Number,required:true},//2\r\n    variedad: {type:Schema.ObjectId, ref: 'variedad', required: false},\r\n    code_cupon: {type:String,required:false},\r\n    code_discount: {type:String,required:false},\r\n    price_unitario: {type:Number,required:true},//60\r\n    subtotal: {type:Number,required:true},//30\r\n    total: {type:Number,required:true},//60\r\n},{\r\n    timestamps:true,\r\n});\r\n\r\nconst SaleDetail = mongoose.model(\"sale_detail\",SaleDetailSchema);\r\n\r\nexport default SaleDetail;"],"mappings":"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","ignoreList":[]}},"mtime":1679842349406},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\SaleAddress.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst SaleAddressSchema = new _mongoose.Schema({\n  sale: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'sale',\n    required: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  pais: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  address: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  referencia: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  ciudad: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  region: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  telefono: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  nota: {\n    type: String,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst SaleAddress = _mongoose.default.model(\"sale_address\", SaleAddressSchema);\nvar _default = SaleAddress;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiU2FsZUFkZHJlc3NTY2hlbWEiLCJTY2hlbWEiLCJzYWxlIiwidHlwZSIsIk9iamVjdElkIiwicmVmIiwicmVxdWlyZWQiLCJuYW1lIiwiU3RyaW5nIiwibWF4bGVuZ3RoIiwic3VybmFtZSIsInBhaXMiLCJhZGRyZXNzIiwicmVmZXJlbmNpYSIsImNpdWRhZCIsInJlZ2lvbiIsInRlbGVmb25vIiwiZW1haWwiLCJub3RhIiwidGltZXN0YW1wcyIsIlNhbGVBZGRyZXNzIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIlNhbGVBZGRyZXNzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IFNhbGVBZGRyZXNzU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICBzYWxlOnt0eXBlOlNjaGVtYS5PYmplY3RJZCxyZWY6ICdzYWxlJyxyZXF1aXJlZDp0cnVlfSxcclxuICAgIG5hbWU6e3R5cGU6U3RyaW5nLG1heGxlbmd0aCA6IDI1MCxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHN1cm5hbWU6e3R5cGU6U3RyaW5nLG1heGxlbmd0aCA6IDI1MCxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHBhaXM6e3R5cGU6U3RyaW5nLG1heGxlbmd0aDogMjUwLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIGFkZHJlc3M6e3R5cGU6U3RyaW5nLG1heGxlbmd0aDogMjUwLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIHJlZmVyZW5jaWE6e3R5cGU6U3RyaW5nLG1heGxlbmd0aDogMjUwLCByZXF1aXJlZDpmYWxzZX0sXHJcbiAgICBjaXVkYWQ6e3R5cGU6U3RyaW5nLG1heGxlbmd0aDogMjUwLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIHJlZ2lvbjp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgdGVsZWZvbm86e3R5cGU6U3RyaW5nLG1heGxlbmd0aDogMjUwLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIGVtYWlsOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBub3RhOnt0eXBlOlN0cmluZywgcmVxdWlyZWQ6ZmFsc2V9LFxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6IHRydWVcclxufSk7XHJcblxyXG5jb25zdCBTYWxlQWRkcmVzcyA9IG1vbmdvb3NlLm1vZGVsKFwic2FsZV9hZGRyZXNzXCIsU2FsZUFkZHJlc3NTY2hlbWEpO1xyXG5leHBvcnQgZGVmYXVsdCBTYWxlQWRkcmVzczsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBQyx5QkFBQUMsV0FBQSxlQUFBQyxPQUFBLGtDQUFBQyxpQkFBQSxPQUFBRCxPQUFBLFFBQUFFLGdCQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsV0FBQSxXQUFBQSxXQUFBLEdBQUFHLGdCQUFBLEdBQUFELGlCQUFBLEtBQUFGLFdBQUE7QUFBQSxTQUFBSCx3QkFBQU8sR0FBQSxFQUFBSixXQUFBLFNBQUFBLFdBQUEsSUFBQUksR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsV0FBQUQsR0FBQSxRQUFBQSxHQUFBLG9CQUFBQSxHQUFBLHdCQUFBQSxHQUFBLDRCQUFBRSxPQUFBLEVBQUFGLEdBQUEsVUFBQUcsS0FBQSxHQUFBUix3QkFBQSxDQUFBQyxXQUFBLE9BQUFPLEtBQUEsSUFBQUEsS0FBQSxDQUFBQyxHQUFBLENBQUFKLEdBQUEsWUFBQUcsS0FBQSxDQUFBRSxHQUFBLENBQUFMLEdBQUEsU0FBQU0sTUFBQSxXQUFBQyxxQkFBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxHQUFBLElBQUFYLEdBQUEsUUFBQVcsR0FBQSxrQkFBQUgsTUFBQSxDQUFBSSxTQUFBLENBQUFDLGNBQUEsQ0FBQUMsSUFBQSxDQUFBZCxHQUFBLEVBQUFXLEdBQUEsU0FBQUksSUFBQSxHQUFBUixxQkFBQSxHQUFBQyxNQUFBLENBQUFFLHdCQUFBLENBQUFWLEdBQUEsRUFBQVcsR0FBQSxjQUFBSSxJQUFBLEtBQUFBLElBQUEsQ0FBQVYsR0FBQSxJQUFBVSxJQUFBLENBQUFDLEdBQUEsS0FBQVIsTUFBQSxDQUFBQyxjQUFBLENBQUFILE1BQUEsRUFBQUssR0FBQSxFQUFBSSxJQUFBLFlBQUFULE1BQUEsQ0FBQUssR0FBQSxJQUFBWCxHQUFBLENBQUFXLEdBQUEsU0FBQUwsTUFBQSxDQUFBSixPQUFBLEdBQUFGLEdBQUEsTUFBQUcsS0FBQSxJQUFBQSxLQUFBLENBQUFhLEdBQUEsQ0FBQWhCLEdBQUEsRUFBQU0sTUFBQSxZQUFBQSxNQUFBO0FBRXpDLE1BQU1XLGlCQUFpQixHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDakNDLElBQUksRUFBQztJQUFDQyxJQUFJLEVBQUNGLGdCQUFNLENBQUNHLFFBQVE7SUFBQ0MsR0FBRyxFQUFFLE1BQU07SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNyREMsSUFBSSxFQUFDO0lBQUNKLElBQUksRUFBQ0ssTUFBTTtJQUFDQyxTQUFTLEVBQUcsR0FBRztJQUFDSCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2hESSxPQUFPLEVBQUM7SUFBQ1AsSUFBSSxFQUFDSyxNQUFNO0lBQUNDLFNBQVMsRUFBRyxHQUFHO0lBQUNILFFBQVEsRUFBQztFQUFJLENBQUM7RUFDbkRLLElBQUksRUFBQztJQUFDUixJQUFJLEVBQUNLLE1BQU07SUFBQ0MsU0FBUyxFQUFFLEdBQUc7SUFBRUgsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNoRE0sT0FBTyxFQUFDO0lBQUNULElBQUksRUFBQ0ssTUFBTTtJQUFDQyxTQUFTLEVBQUUsR0FBRztJQUFFSCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ25ETyxVQUFVLEVBQUM7SUFBQ1YsSUFBSSxFQUFDSyxNQUFNO0lBQUNDLFNBQVMsRUFBRSxHQUFHO0lBQUVILFFBQVEsRUFBQztFQUFLLENBQUM7RUFDdkRRLE1BQU0sRUFBQztJQUFDWCxJQUFJLEVBQUNLLE1BQU07SUFBQ0MsU0FBUyxFQUFFLEdBQUc7SUFBRUgsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNsRFMsTUFBTSxFQUFDO0lBQUNaLElBQUksRUFBQ0ssTUFBTTtJQUFDQyxTQUFTLEVBQUUsR0FBRztJQUFFSCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2xEVSxRQUFRLEVBQUM7SUFBQ2IsSUFBSSxFQUFDSyxNQUFNO0lBQUNDLFNBQVMsRUFBRSxHQUFHO0lBQUVILFFBQVEsRUFBQztFQUFJLENBQUM7RUFDcERXLEtBQUssRUFBQztJQUFDZCxJQUFJLEVBQUNLLE1BQU07SUFBQ0MsU0FBUyxFQUFFLEdBQUc7SUFBRUgsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNqRFksSUFBSSxFQUFDO0lBQUNmLElBQUksRUFBQ0ssTUFBTTtJQUFFRixRQUFRLEVBQUM7RUFBSztBQUNyQyxDQUFDLEVBQUM7RUFDRWEsVUFBVSxFQUFFO0FBQ2hCLENBQUMsQ0FBQztBQUVGLE1BQU1DLFdBQVcsR0FBR0MsaUJBQVEsQ0FBQ0MsS0FBSyxDQUFDLGNBQWMsRUFBQ3RCLGlCQUFpQixDQUFDO0FBQUMsSUFBQXVCLFFBQUEsR0FDdERILFdBQVc7QUFBQUksT0FBQSxDQUFBdkMsT0FBQSxHQUFBc0MsUUFBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","SaleAddressSchema","Schema","sale","type","ObjectId","ref","required","name","String","maxlength","surname","pais","address","referencia","ciudad","region","telefono","email","nota","timestamps","SaleAddress","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["SaleAddress.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst SaleAddressSchema = new Schema({\r\n    sale:{type:Schema.ObjectId,ref: 'sale',required:true},\r\n    name:{type:String,maxlength : 250,required:true},\r\n    surname:{type:String,maxlength : 250,required:true},\r\n    pais:{type:String,maxlength: 250, required:true},\r\n    address:{type:String,maxlength: 250, required:true},\r\n    referencia:{type:String,maxlength: 250, required:false},\r\n    ciudad:{type:String,maxlength: 250, required:true},\r\n    region:{type:String,maxlength: 250, required:true},\r\n    telefono:{type:String,maxlength: 250, required:true},\r\n    email:{type:String,maxlength: 250, required:true},\r\n    nota:{type:String, required:false},\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst SaleAddress = mongoose.model(\"sale_address\",SaleAddressSchema);\r\nexport default SaleAddress;"],"mappings":"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","ignoreList":[]}},"mtime":1679842388462},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Review.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst ReviewSchema = new _mongoose.Schema({\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  sale_detail: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'sale_detail',\n    required: true\n  },\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  cantidad: {\n    type: Number,\n    maxlength: 2,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst Review = _mongoose.default.model(\"review\", ReviewSchema);\nvar _default = Review;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiUmV2aWV3U2NoZW1hIiwiU2NoZW1hIiwicHJvZHVjdCIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwic2FsZV9kZXRhaWwiLCJ1c2VyIiwiY2FudGlkYWQiLCJOdW1iZXIiLCJtYXhsZW5ndGgiLCJkZXNjcmlwdGlvbiIsIlN0cmluZyIsInRpbWVzdGFtcHMiLCJSZXZpZXciLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiUmV2aWV3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IFJldmlld1NjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgcHJvZHVjdDp7dHlwZTpTY2hlbWEuT2JqZWN0SWQscmVmOidwcm9kdWN0JyxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHNhbGVfZGV0YWlsOnt0eXBlOlNjaGVtYS5PYmplY3RJZCxyZWY6J3NhbGVfZGV0YWlsJywgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICB1c2VyOnt0eXBlOlNjaGVtYS5PYmplY3RJZCxyZWY6J3VzZXInLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIGNhbnRpZGFkOnt0eXBlOk51bWJlcixtYXhsZW5ndGg6MixyZXF1aXJlZDp0cnVlfSxcclxuICAgIGRlc2NyaXB0aW9uOnt0eXBlOlN0cmluZyxyZXF1aXJlZDp0cnVlfSxcclxufSx7XHJcbiAgICB0aW1lc3RhbXBzOiB0cnVlXHJcbn0pO1xyXG5cclxuY29uc3QgUmV2aWV3ID0gbW9uZ29vc2UubW9kZWwoXCJyZXZpZXdcIixSZXZpZXdTY2hlbWEpO1xyXG5leHBvcnQgZGVmYXVsdCBSZXZpZXc7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBeUMsU0FBQUMseUJBQUFDLFdBQUEsZUFBQUMsT0FBQSxrQ0FBQUMsaUJBQUEsT0FBQUQsT0FBQSxRQUFBRSxnQkFBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLFdBQUEsV0FBQUEsV0FBQSxHQUFBRyxnQkFBQSxHQUFBRCxpQkFBQSxLQUFBRixXQUFBO0FBQUEsU0FBQUgsd0JBQUFPLEdBQUEsRUFBQUosV0FBQSxTQUFBQSxXQUFBLElBQUFJLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLFdBQUFELEdBQUEsUUFBQUEsR0FBQSxvQkFBQUEsR0FBQSx3QkFBQUEsR0FBQSw0QkFBQUUsT0FBQSxFQUFBRixHQUFBLFVBQUFHLEtBQUEsR0FBQVIsd0JBQUEsQ0FBQUMsV0FBQSxPQUFBTyxLQUFBLElBQUFBLEtBQUEsQ0FBQUMsR0FBQSxDQUFBSixHQUFBLFlBQUFHLEtBQUEsQ0FBQUUsR0FBQSxDQUFBTCxHQUFBLFNBQUFNLE1BQUEsV0FBQUMscUJBQUEsR0FBQUMsTUFBQSxDQUFBQyxjQUFBLElBQUFELE1BQUEsQ0FBQUUsd0JBQUEsV0FBQUMsR0FBQSxJQUFBWCxHQUFBLFFBQUFXLEdBQUEsa0JBQUFILE1BQUEsQ0FBQUksU0FBQSxDQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQWQsR0FBQSxFQUFBVyxHQUFBLFNBQUFJLElBQUEsR0FBQVIscUJBQUEsR0FBQUMsTUFBQSxDQUFBRSx3QkFBQSxDQUFBVixHQUFBLEVBQUFXLEdBQUEsY0FBQUksSUFBQSxLQUFBQSxJQUFBLENBQUFWLEdBQUEsSUFBQVUsSUFBQSxDQUFBQyxHQUFBLEtBQUFSLE1BQUEsQ0FBQUMsY0FBQSxDQUFBSCxNQUFBLEVBQUFLLEdBQUEsRUFBQUksSUFBQSxZQUFBVCxNQUFBLENBQUFLLEdBQUEsSUFBQVgsR0FBQSxDQUFBVyxHQUFBLFNBQUFMLE1BQUEsQ0FBQUosT0FBQSxHQUFBRixHQUFBLE1BQUFHLEtBQUEsSUFBQUEsS0FBQSxDQUFBYSxHQUFBLENBQUFoQixHQUFBLEVBQUFNLE1BQUEsWUFBQUEsTUFBQTtBQUV6QyxNQUFNVyxZQUFZLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUM1QkMsT0FBTyxFQUFDO0lBQUNDLElBQUksRUFBQ0YsZ0JBQU0sQ0FBQ0csUUFBUTtJQUFDQyxHQUFHLEVBQUMsU0FBUztJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQzFEQyxXQUFXLEVBQUM7SUFBQ0osSUFBSSxFQUFDRixnQkFBTSxDQUFDRyxRQUFRO0lBQUNDLEdBQUcsRUFBQyxhQUFhO0lBQUVDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDbkVFLElBQUksRUFBQztJQUFDTCxJQUFJLEVBQUNGLGdCQUFNLENBQUNHLFFBQVE7SUFBQ0MsR0FBRyxFQUFDLE1BQU07SUFBRUMsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNyREcsUUFBUSxFQUFDO0lBQUNOLElBQUksRUFBQ08sTUFBTTtJQUFDQyxTQUFTLEVBQUMsQ0FBQztJQUFDTCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2hETSxXQUFXLEVBQUM7SUFBQ1QsSUFBSSxFQUFDVSxNQUFNO0lBQUNQLFFBQVEsRUFBQztFQUFJO0FBQzFDLENBQUMsRUFBQztFQUNFUSxVQUFVLEVBQUU7QUFDaEIsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsTUFBTSxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsUUFBUSxFQUFDakIsWUFBWSxDQUFDO0FBQUMsSUFBQWtCLFFBQUEsR0FDdENILE1BQU07QUFBQUksT0FBQSxDQUFBbEMsT0FBQSxHQUFBaUMsUUFBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ReviewSchema","Schema","product","type","ObjectId","ref","required","sale_detail","user","cantidad","Number","maxlength","description","String","timestamps","Review","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Review.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst ReviewSchema = new Schema({\r\n    product:{type:Schema.ObjectId,ref:'product',required:true},\r\n    sale_detail:{type:Schema.ObjectId,ref:'sale_detail', required:true},\r\n    user:{type:Schema.ObjectId,ref:'user', required:true},\r\n    cantidad:{type:Number,maxlength:2,required:true},\r\n    description:{type:String,required:true},\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst Review = mongoose.model(\"review\",ReviewSchema);\r\nexport default Review;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAH,wBAAAO,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,CAAAJ,OAAA,GAAAF,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAEzC,MAAMW,YAAY,GAAG,IAAIC,gBAAM,CAAC;EAC5BC,OAAO,EAAC;IAACC,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,SAAS;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC1DC,WAAW,EAAC;IAACJ,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,aAAa;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACnEE,IAAI,EAAC;IAACL,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,MAAM;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACrDG,QAAQ,EAAC;IAACN,IAAI,EAACO,MAAM;IAACC,SAAS,EAAC,CAAC;IAACL,QAAQ,EAAC;EAAI,CAAC;EAChDM,WAAW,EAAC;IAACT,IAAI,EAACU,MAAM;IAACP,QAAQ,EAAC;EAAI;AAC1C,CAAC,EAAC;EACEQ,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAGC,iBAAQ,CAACC,KAAK,CAAC,QAAQ,EAACjB,YAAY,CAAC;AAAC,IAAAkB,QAAA,GACtCH,MAAM;AAAAI,OAAA,CAAAlC,OAAA,GAAAiC,QAAA","ignoreList":[]}},"mtime":1680709802540},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\Cart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  cart_list: cart => {\n    return {\n      _id: cart._id,\n      user: cart.user,\n      product: {\n        _id: cart.product._id,\n        title: cart.product.title,\n        sku: cart.product.sku,\n        slug: cart.product.slug,\n        imagen: process.env.URL_BACKEND + '/api/products/uploads/product/' + cart.product.portada,\n        //*\n        categorie: cart.product.categorie,\n        price_soles: cart.product.price_soles,\n        price_usd: cart.product.price_usd\n      },\n      type_discount: cart.type_discount,\n      discount: cart.discount,\n      cantidad: cart.cantidad,\n      variedad: cart.variedad,\n      code_cupon: cart.code_cupon,\n      code_discount: cart.code_discount,\n      price_unitario: cart.price_unitario,\n      subtotal: cart.subtotal,\n      total: cart.total\n    };\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXJ0X2xpc3QiLCJjYXJ0IiwiX2lkIiwidXNlciIsInByb2R1Y3QiLCJ0aXRsZSIsInNrdSIsInNsdWciLCJpbWFnZW4iLCJwcm9jZXNzIiwiZW52IiwiVVJMX0JBQ0tFTkQiLCJwb3J0YWRhIiwiY2F0ZWdvcmllIiwicHJpY2Vfc29sZXMiLCJwcmljZV91c2QiLCJ0eXBlX2Rpc2NvdW50IiwiZGlzY291bnQiLCJjYW50aWRhZCIsInZhcmllZGFkIiwiY29kZV9jdXBvbiIsImNvZGVfZGlzY291bnQiLCJwcmljZV91bml0YXJpbyIsInN1YnRvdGFsIiwidG90YWwiLCJleHBvcnRzIiwiZGVmYXVsdCIsIl9kZWZhdWx0Il0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxyZXNvdXJjZXNcXCIsInNvdXJjZXMiOlsiQ2FydC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XHJcbiAgICBjYXJ0X2xpc3Q6IChjYXJ0KSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgX2lkOiBjYXJ0Ll9pZCxcclxuICAgICAgICAgICAgdXNlcjogY2FydC51c2VyLFxyXG4gICAgICAgICAgICBwcm9kdWN0OiB7XHJcbiAgICAgICAgICAgICAgICBfaWQ6IGNhcnQucHJvZHVjdC5faWQsXHJcbiAgICAgICAgICAgICAgICB0aXRsZTogY2FydC5wcm9kdWN0LnRpdGxlLFxyXG4gICAgICAgICAgICAgICAgc2t1OiBjYXJ0LnByb2R1Y3Quc2t1LFxyXG4gICAgICAgICAgICAgICAgc2x1ZzogY2FydC5wcm9kdWN0LnNsdWcsXHJcbiAgICAgICAgICAgICAgICBpbWFnZW46IHByb2Nlc3MuZW52LlVSTF9CQUNLRU5EKycvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC8nK2NhcnQucHJvZHVjdC5wb3J0YWRhLC8vKlxyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllOiBjYXJ0LnByb2R1Y3QuY2F0ZWdvcmllLFxyXG4gICAgICAgICAgICAgICAgcHJpY2Vfc29sZXM6IGNhcnQucHJvZHVjdC5wcmljZV9zb2xlcyxcclxuICAgICAgICAgICAgICAgIHByaWNlX3VzZDogY2FydC5wcm9kdWN0LnByaWNlX3VzZCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdHlwZV9kaXNjb3VudDogY2FydC50eXBlX2Rpc2NvdW50LFxyXG4gICAgICAgICAgICBkaXNjb3VudDogY2FydC5kaXNjb3VudCxcclxuICAgICAgICAgICAgY2FudGlkYWQ6IGNhcnQuY2FudGlkYWQsXHJcbiAgICAgICAgICAgIHZhcmllZGFkOiBjYXJ0LnZhcmllZGFkLFxyXG4gICAgICAgICAgICBjb2RlX2N1cG9uOiBjYXJ0LmNvZGVfY3Vwb24sXHJcbiAgICAgICAgICAgIGNvZGVfZGlzY291bnQ6IGNhcnQuY29kZV9kaXNjb3VudCxcclxuICAgICAgICAgICAgcHJpY2VfdW5pdGFyaW86IGNhcnQucHJpY2VfdW5pdGFyaW8sXHJcbiAgICAgICAgICAgIHN1YnRvdGFsOiBjYXJ0LnN1YnRvdGFsLFxyXG4gICAgICAgICAgICB0b3RhbDogY2FydC50b3RhbCxcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztlQUFlO0VBQ1hBLFNBQVMsRUFBR0MsSUFBSSxJQUFLO0lBQ2pCLE9BQU87TUFDSEMsR0FBRyxFQUFFRCxJQUFJLENBQUNDLEdBQUc7TUFDYkMsSUFBSSxFQUFFRixJQUFJLENBQUNFLElBQUk7TUFDZkMsT0FBTyxFQUFFO1FBQ0xGLEdBQUcsRUFBRUQsSUFBSSxDQUFDRyxPQUFPLENBQUNGLEdBQUc7UUFDckJHLEtBQUssRUFBRUosSUFBSSxDQUFDRyxPQUFPLENBQUNDLEtBQUs7UUFDekJDLEdBQUcsRUFBRUwsSUFBSSxDQUFDRyxPQUFPLENBQUNFLEdBQUc7UUFDckJDLElBQUksRUFBRU4sSUFBSSxDQUFDRyxPQUFPLENBQUNHLElBQUk7UUFDdkJDLE1BQU0sRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFdBQVcsR0FBQyxnQ0FBZ0MsR0FBQ1YsSUFBSSxDQUFDRyxPQUFPLENBQUNRLE9BQU87UUFBQztRQUN0RkMsU0FBUyxFQUFFWixJQUFJLENBQUNHLE9BQU8sQ0FBQ1MsU0FBUztRQUNqQ0MsV0FBVyxFQUFFYixJQUFJLENBQUNHLE9BQU8sQ0FBQ1UsV0FBVztRQUNyQ0MsU0FBUyxFQUFFZCxJQUFJLENBQUNHLE9BQU8sQ0FBQ1c7TUFDNUIsQ0FBQztNQUNEQyxhQUFhLEVBQUVmLElBQUksQ0FBQ2UsYUFBYTtNQUNqQ0MsUUFBUSxFQUFFaEIsSUFBSSxDQUFDZ0IsUUFBUTtNQUN2QkMsUUFBUSxFQUFFakIsSUFBSSxDQUFDaUIsUUFBUTtNQUN2QkMsUUFBUSxFQUFFbEIsSUFBSSxDQUFDa0IsUUFBUTtNQUN2QkMsVUFBVSxFQUFFbkIsSUFBSSxDQUFDbUIsVUFBVTtNQUMzQkMsYUFBYSxFQUFFcEIsSUFBSSxDQUFDb0IsYUFBYTtNQUNqQ0MsY0FBYyxFQUFFckIsSUFBSSxDQUFDcUIsY0FBYztNQUNuQ0MsUUFBUSxFQUFFdEIsSUFBSSxDQUFDc0IsUUFBUTtNQUN2QkMsS0FBSyxFQUFFdkIsSUFBSSxDQUFDdUI7SUFDaEIsQ0FBQztFQUNMO0FBQ0osQ0FBQztBQUFBQyxPQUFBLENBQUFDLE9BQUEsR0FBQUMsUUFBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["cart_list","cart","_id","user","product","title","sku","slug","imagen","process","env","URL_BACKEND","portada","categorie","price_soles","price_usd","type_discount","discount","cantidad","variedad","code_cupon","code_discount","price_unitario","subtotal","total","exports","default","_default"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\resources\\","sources":["Cart.js"],"sourcesContent":["export default {\r\n    cart_list: (cart) => {\r\n        return {\r\n            _id: cart._id,\r\n            user: cart.user,\r\n            product: {\r\n                _id: cart.product._id,\r\n                title: cart.product.title,\r\n                sku: cart.product.sku,\r\n                slug: cart.product.slug,\r\n                imagen: process.env.URL_BACKEND+'/api/products/uploads/product/'+cart.product.portada,//*\r\n                categorie: cart.product.categorie,\r\n                price_soles: cart.product.price_soles,\r\n                price_usd: cart.product.price_usd,\r\n            },\r\n            type_discount: cart.type_discount,\r\n            discount: cart.discount,\r\n            cantidad: cart.cantidad,\r\n            variedad: cart.variedad,\r\n            code_cupon: cart.code_cupon,\r\n            code_discount: cart.code_discount,\r\n            price_unitario: cart.price_unitario,\r\n            subtotal: cart.subtotal,\r\n            total: cart.total,\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;eAAe;EACXA,SAAS,EAAGC,IAAI,IAAK;IACjB,OAAO;MACHC,GAAG,EAAED,IAAI,CAACC,GAAG;MACbC,IAAI,EAAEF,IAAI,CAACE,IAAI;MACfC,OAAO,EAAE;QACLF,GAAG,EAAED,IAAI,CAACG,OAAO,CAACF,GAAG;QACrBG,KAAK,EAAEJ,IAAI,CAACG,OAAO,CAACC,KAAK;QACzBC,GAAG,EAAEL,IAAI,CAACG,OAAO,CAACE,GAAG;QACrBC,IAAI,EAAEN,IAAI,CAACG,OAAO,CAACG,IAAI;QACvBC,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,gCAAgC,GAACV,IAAI,CAACG,OAAO,CAACQ,OAAO;QAAC;QACtFC,SAAS,EAAEZ,IAAI,CAACG,OAAO,CAACS,SAAS;QACjCC,WAAW,EAAEb,IAAI,CAACG,OAAO,CAACU,WAAW;QACrCC,SAAS,EAAEd,IAAI,CAACG,OAAO,CAACW;MAC5B,CAAC;MACDC,aAAa,EAAEf,IAAI,CAACe,aAAa;MACjCC,QAAQ,EAAEhB,IAAI,CAACgB,QAAQ;MACvBC,QAAQ,EAAEjB,IAAI,CAACiB,QAAQ;MACvBC,QAAQ,EAAElB,IAAI,CAACkB,QAAQ;MACvBC,UAAU,EAAEnB,IAAI,CAACmB,UAAU;MAC3BC,aAAa,EAAEpB,IAAI,CAACoB,aAAa;MACjCC,cAAc,EAAErB,IAAI,CAACqB,cAAc;MACnCC,QAAQ,EAAEtB,IAAI,CAACsB,QAAQ;MACvBC,KAAK,EAAEvB,IAAI,CAACuB;IAChB,CAAC;EACL;AACJ,CAAC;AAAAC,OAAA,CAAAC,OAAA,GAAAC,QAAA","ignoreList":[]}},"mtime":1681165454339},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\Cart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CartController = _interopRequireDefault(require(\"../controllers/CartController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.get(\"/list\", _auth.default.verifyEcommerce, _CartController.default.list);\nrouter.post(\"/register\", _auth.default.verifyEcommerce, _CartController.default.register);\nrouter.put(\"/update\", _auth.default.verifyEcommerce, _CartController.default.update);\nrouter.delete(\"/delete/:id\", _auth.default.verifyEcommerce, _CartController.default.delete);\nrouter.post(\"/aplicar_cupon\", _auth.default.verifyEcommerce, _CartController.default.applyCupon);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DYXJ0Q29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwiZ2V0IiwiYXV0aCIsInZlcmlmeUVjb21tZXJjZSIsImNhcnRDb250cm9sbGVyIiwibGlzdCIsInBvc3QiLCJyZWdpc3RlciIsInB1dCIsInVwZGF0ZSIsImRlbGV0ZSIsImFwcGx5Q3Vwb24iLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJDYXJ0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gJ2V4cHJlc3MtcHJvbWlzZS1yb3V0ZXInXHJcbmltcG9ydCBjYXJ0Q29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9DYXJ0Q29udHJvbGxlcidcclxuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCdcclxuXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuXHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLGNhcnRDb250cm9sbGVyLmxpc3QpO1xyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLGNhcnRDb250cm9sbGVyLnJlZ2lzdGVyKTtcclxucm91dGVyLnB1dChcIi91cGRhdGVcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxjYXJ0Q29udHJvbGxlci51cGRhdGUpO1xyXG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZS86aWRcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxjYXJ0Q29udHJvbGxlci5kZWxldGUpO1xyXG5yb3V0ZXIucG9zdChcIi9hcGxpY2FyX2N1cG9uXCIsYXV0aC52ZXJpZnlFY29tbWVyY2UsY2FydENvbnRyb2xsZXIuYXBwbHlDdXBvbik7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsZUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXRDLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFFeEJELE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLE9BQU8sRUFBQ0MsYUFBSSxDQUFDQyxlQUFlLEVBQUNDLHVCQUFjLENBQUNDLElBQUksQ0FBQztBQUM1RE4sTUFBTSxDQUFDTyxJQUFJLENBQUMsV0FBVyxFQUFDSixhQUFJLENBQUNDLGVBQWUsRUFBQ0MsdUJBQWMsQ0FBQ0csUUFBUSxDQUFDO0FBQ3JFUixNQUFNLENBQUNTLEdBQUcsQ0FBQyxTQUFTLEVBQUNOLGFBQUksQ0FBQ0MsZUFBZSxFQUFDQyx1QkFBYyxDQUFDSyxNQUFNLENBQUM7QUFDaEVWLE1BQU0sQ0FBQ1csTUFBTSxDQUFDLGFBQWEsRUFBQ1IsYUFBSSxDQUFDQyxlQUFlLEVBQUNDLHVCQUFjLENBQUNNLE1BQU0sQ0FBQztBQUN2RVgsTUFBTSxDQUFDTyxJQUFJLENBQUMsZ0JBQWdCLEVBQUNKLGFBQUksQ0FBQ0MsZUFBZSxFQUFDQyx1QkFBYyxDQUFDTyxVQUFVLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBRTlEYixNQUFNO0FBQUFjLE9BQUEsQ0FBQWYsT0FBQSxHQUFBYyxRQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CartController","_auth","obj","__esModule","default","router","routerx","get","auth","verifyEcommerce","cartController","list","post","register","put","update","delete","applyCupon","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["Cart.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport cartController from '../controllers/CartController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n\r\nrouter.get(\"/list\",auth.verifyEcommerce,cartController.list);\r\nrouter.post(\"/register\",auth.verifyEcommerce,cartController.register);\r\nrouter.put(\"/update\",auth.verifyEcommerce,cartController.update);\r\nrouter.delete(\"/delete/:id\",auth.verifyEcommerce,cartController.delete);\r\nrouter.post(\"/aplicar_cupon\",auth.verifyEcommerce,cartController.applyCupon);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,GAAG,CAAC,OAAO,EAACC,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACC,IAAI,CAAC;AAC5DN,MAAM,CAACO,IAAI,CAAC,WAAW,EAACJ,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACG,QAAQ,CAAC;AACrER,MAAM,CAACS,GAAG,CAAC,SAAS,EAACN,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACK,MAAM,CAAC;AAChEV,MAAM,CAACW,MAAM,CAAC,aAAa,EAACR,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACM,MAAM,CAAC;AACvEX,MAAM,CAACO,IAAI,CAAC,gBAAgB,EAACJ,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACO,UAAU,CAAC;AAAC,IAAAC,QAAA,GAE9Db,MAAM;AAAAc,OAAA,CAAAf,OAAA,GAAAc,QAAA","ignoreList":[]}},"mtime":1679241548364},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\CartController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  list: async (req, res) => {\n    try {\n      let user_id = req.query.user_id;\n      let CARTS = await _models.default.Cart.find({\n        user: user_id\n      }).populate(\"variedad\").populate({\n        path: \"product\",\n        populate: {\n          path: \"categorie\"\n        }\n      });\n      CARTS = CARTS.map(cart => {\n        return _resources.default.Cart.cart_list(cart);\n      });\n      res.status(200).json({\n        carts: CARTS\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      //PRIMERO VAMOS A VALIDAR SI EL PRODUCTO EXISTE EN EL CARRITO DE COMPRA\n      if (data.variedad) {\n        let valid_cart = await _models.default.Cart.findOne({\n          user: data.user,\n          variedad: data.variedad,\n          product: data.product\n        });\n        if (valid_cart) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL PRODUCTO CON LA VARIEDAD YA EXISTE EN EL CARRITO DE COMPRA\"\n          });\n          return;\n        }\n      } else {\n        let valid_cart = await _models.default.Cart.findOne({\n          user: data.user,\n          product: data.product\n        });\n        if (valid_cart) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL PRODUCTO YA EXISTE EN EL CARRITO DE COMPRA\"\n          });\n          return;\n        }\n      }\n\n      //SEGUNDO VAMOS A VALIDAR SI EL STOCK ESTA DISPONIBLE\n\n      if (data.variedad) {\n        let valid_variedad = await _models.default.Variedad.findOne({\n          id_: data.variedad\n        });\n        if (valid_variedad.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL STOCK NO ESTA DISPONIBLE\"\n          });\n          return;\n        }\n      } else {\n        let valid_product = await _models.default.Product.findOne({\n          _id: data.product\n        });\n        if (valid_product.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL STOCK NO ESTA DISPONIBLE\"\n          });\n          return;\n        }\n      }\n      let CART = await _models.default.Cart.create(data);\n      let NEW_CART = await _models.default.Cart.findById({\n        _id: CART._id\n      }).populate(\"variedad\").populate({\n        path: \"product\",\n        populate: {\n          path: \"categorie\"\n        }\n      });\n      res.status(200).json({\n        cart: _resources.default.Cart.cart_list(NEW_CART),\n        message_text: \"EL CARRITO SE REGISTRO CON EXITO\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n\n      //SEGUNDO VAMOS A VALIDAR SI EL STOCK ESTA DISPONIBLE\n\n      if (data.variedad) {\n        let valid_variedad = await _models.default.Variedad.findOne({\n          id_: data.variedad\n        });\n        if (valid_variedad.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL STOCK NO ESTA DISPONIBLE\"\n          });\n          return;\n        }\n      } else {\n        let valid_product = await _models.default.Product.findOne({\n          _id: data.product\n        });\n        if (valid_product.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL STOCK NO ESTA DISPONIBLE\"\n          });\n          return;\n        }\n      }\n      let CART = await _models.default.Cart.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let NEW_CART = await _models.default.Cart.findById({\n        _id: CART._id\n      }).populate(\"variedad\").populate({\n        path: \"product\",\n        populate: {\n          path: \"categorie\"\n        }\n      });\n      res.status(200).json({\n        cart: _resources.default.Cart.cart_list(NEW_CART),\n        message_text: \"EL CARRITO SE ACTUALIZO CON EXITO\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.params.id;\n      let CART = await _models.default.Cart.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message_text: \"EL CARRITO SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  applyCupon: async (req, res) => {\n    try {\n      let data = req.body;\n      // LA PRIMERA VALIDACIÓN TIENE QUE VER CON LA EXISTENCIA DEL CUPON\n      let CUPON = await _models.default.Cupone.findOne({\n        code: data.code\n      });\n      if (!CUPON) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL CUPON INGRESADO NO EXISTE, DIGITE OTRO NUEVAMENTE\"\n        });\n        return;\n      }\n      // TIENE CON EL USO DEL CUPON -- ESPERA \n\n      //la parte operativa\n\n      let carts = await _models.default.Cart.find({\n        user: data.user_id\n      }).populate(\"product\");\n      console.log(carts);\n      let products = [];\n      let categories = [];\n      CUPON.products.forEach(product => {\n        products.push(product._id);\n      });\n      //[837373.838383]\n      //[{_id: 837373},{_id: 838383}].includes\n      CUPON.categories.forEach(categorie => {\n        categories.push(categorie._id);\n      });\n      console.log(products);\n      console.log(categories);\n      for (const cart of carts) {\n        if (products.length > 0) {\n          if (products.includes(cart.product._id + \"\")) {\n            let subtotal = 0;\n            let total = 0;\n            if (CUPON.type_discount == 1) {\n              //PORCENTAJE\n              subtotal = cart.price_unitario - cart.price_unitario * (CUPON.discount * 0.01);\n            } else {\n              //POR MONEDA\n              subtotal = cart.price_unitario - CUPON.discount;\n            }\n            total = subtotal * cart.cantidad;\n            await _models.default.Cart.findByIdAndUpdate({\n              _id: cart._id\n            }, {\n              subtotal: subtotal,\n              total: total,\n              type_discount: CUPON.type_discount,\n              discount: CUPON.discount,\n              code_cupon: CUPON.code\n            });\n          }\n        }\n        if (categories.length > 0) {\n          if (categories.includes(cart.product.categorie + \"\")) {\n            let subtotal = 0;\n            let total = 0;\n            if (CUPON.type_discount == 1) {\n              //PORCENTAJE\n              subtotal = cart.price_unitario - cart.price_unitario * (CUPON.discount * 0.01);\n            } else {\n              //POR MONEDA\n              subtotal = cart.price_unitario - CUPON.discount;\n            }\n            total = subtotal * cart.cantidad;\n            await _models.default.Cart.findByIdAndUpdate({\n              _id: cart._id\n            }, {\n              subtotal: subtotal,\n              total: total,\n              type_discount: CUPON.type_discount,\n              discount: CUPON.discount,\n              code_cupon: CUPON.code\n            });\n          }\n        }\n      }\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL CUPON SE APLICADO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImxpc3QiLCJyZXEiLCJyZXMiLCJ1c2VyX2lkIiwicXVlcnkiLCJDQVJUUyIsIm1vZGVscyIsIkNhcnQiLCJmaW5kIiwidXNlciIsInBvcHVsYXRlIiwicGF0aCIsIm1hcCIsImNhcnQiLCJyZXNvdXJjZSIsImNhcnRfbGlzdCIsInN0YXR1cyIsImpzb24iLCJjYXJ0cyIsImVycm9yIiwic2VuZCIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwicmVnaXN0ZXIiLCJkYXRhIiwiYm9keSIsInZhcmllZGFkIiwidmFsaWRfY2FydCIsImZpbmRPbmUiLCJwcm9kdWN0IiwibWVzc2FnZV90ZXh0IiwidmFsaWRfdmFyaWVkYWQiLCJWYXJpZWRhZCIsImlkXyIsInN0b2NrIiwiY2FudGlkYWQiLCJ2YWxpZF9wcm9kdWN0IiwiUHJvZHVjdCIsIl9pZCIsIkNBUlQiLCJjcmVhdGUiLCJORVdfQ0FSVCIsImZpbmRCeUlkIiwidXBkYXRlIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJkZWxldGUiLCJwYXJhbXMiLCJpZCIsImZpbmRCeUlkQW5kRGVsZXRlIiwiYXBwbHlDdXBvbiIsIkNVUE9OIiwiQ3Vwb25lIiwiY29kZSIsInByb2R1Y3RzIiwiY2F0ZWdvcmllcyIsImZvckVhY2giLCJwdXNoIiwiY2F0ZWdvcmllIiwibGVuZ3RoIiwiaW5jbHVkZXMiLCJzdWJ0b3RhbCIsInRvdGFsIiwidHlwZV9kaXNjb3VudCIsInByaWNlX3VuaXRhcmlvIiwiZGlzY291bnQiLCJjb2RlX2N1cG9uIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiQ2FydENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnXHJcbmltcG9ydCByZXNvdXJjZSBmcm9tICcuLi9yZXNvdXJjZXMnXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIGxpc3Q6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCB1c2VyX2lkID0gcmVxLnF1ZXJ5LnVzZXJfaWQ7XHJcbiAgICAgICAgICAgIGxldCBDQVJUUyA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmQoe1xyXG4gICAgICAgICAgICAgICAgdXNlcjogdXNlcl9pZCxcclxuICAgICAgICAgICAgfSkucG9wdWxhdGUoXCJ2YXJpZWRhZFwiKS5wb3B1bGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBwYXRoOiBcInByb2R1Y3RcIixcclxuICAgICAgICAgICAgICAgIHBvcHVsYXRlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogXCJjYXRlZ29yaWVcIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBDQVJUUyA9IENBUlRTLm1hcCgoY2FydCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlLkNhcnQuY2FydF9saXN0KGNhcnQpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIGNhcnRzOiBDQVJUUyxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICByZWdpc3Rlcjphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuICAgICAgICAgICAgLy9QUklNRVJPIFZBTU9TIEEgVkFMSURBUiBTSSBFTCBQUk9EVUNUTyBFWElTVEUgRU4gRUwgQ0FSUklUTyBERSBDT01QUkFcclxuICAgICAgICAgICAgaWYoZGF0YS52YXJpZWRhZCl7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsaWRfY2FydCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXI6IGRhdGEudXNlcixcclxuICAgICAgICAgICAgICAgICAgICB2YXJpZWRhZDogZGF0YS52YXJpZWRhZCxcclxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiBkYXRhLnByb2R1Y3QsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlmKHZhbGlkX2NhcnQpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogNDAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgUFJPRFVDVE8gQ09OIExBIFZBUklFREFEIFlBIEVYSVNURSBFTiBFTCBDQVJSSVRPIERFIENPTVBSQVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGxldCB2YWxpZF9jYXJ0ID0gYXdhaXQgbW9kZWxzLkNhcnQuZmluZE9uZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcjogZGF0YS51c2VyLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6IGRhdGEucHJvZHVjdCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYodmFsaWRfY2FydCl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiA0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBQUk9EVUNUTyBZQSBFWElTVEUgRU4gRUwgQ0FSUklUTyBERSBDT01QUkFcIixcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9TRUdVTkRPIFZBTU9TIEEgVkFMSURBUiBTSSBFTCBTVE9DSyBFU1RBIERJU1BPTklCTEVcclxuXHJcbiAgICAgICAgICAgIGlmKGRhdGEudmFyaWVkYWQpe1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbGlkX3ZhcmllZGFkID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIGlkXzogZGF0YS52YXJpZWRhZCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYodmFsaWRfdmFyaWVkYWQuc3RvY2sgPCBkYXRhLmNhbnRpZGFkKXtcclxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDQwMyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIFNUT0NLIE5PIEVTVEEgRElTUE9OSUJMRVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbGlkX3Byb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kT25lKHtcclxuICAgICAgICAgICAgICAgICAgICBfaWQ6IGRhdGEucHJvZHVjdCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYodmFsaWRfcHJvZHVjdC5zdG9jayA8IGRhdGEuY2FudGlkYWQpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogNDAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgU1RPQ0sgTk8gRVNUQSBESVNQT05JQkxFXCJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IENBUlQgPSBhd2FpdCBtb2RlbHMuQ2FydC5jcmVhdGUoZGF0YSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgTkVXX0NBUlQgPSBhd2FpdCBtb2RlbHMuQ2FydC5maW5kQnlJZCh7X2lkOiBDQVJULl9pZH0pLnBvcHVsYXRlKFwidmFyaWVkYWRcIikucG9wdWxhdGUoe1xyXG4gICAgICAgICAgICAgICAgcGF0aDogXCJwcm9kdWN0XCIsXHJcbiAgICAgICAgICAgICAgICBwb3B1bGF0ZToge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IFwiY2F0ZWdvcmllXCJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBjYXJ0OiByZXNvdXJjZS5DYXJ0LmNhcnRfbGlzdChORVdfQ0FSVCksXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgQ0FSUklUTyBTRSBSRUdJU1RSTyBDT04gRVhJVE9cIixcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB1cGRhdGU6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XHJcblxyXG4gICAgICAgICAgICAvL1NFR1VORE8gVkFNT1MgQSBWQUxJREFSIFNJIEVMIFNUT0NLIEVTVEEgRElTUE9OSUJMRVxyXG5cclxuICAgICAgICAgICAgaWYoZGF0YS52YXJpZWRhZCl7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsaWRfdmFyaWVkYWQgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZE9uZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgaWRfOiBkYXRhLnZhcmllZGFkLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZih2YWxpZF92YXJpZWRhZC5zdG9jayA8IGRhdGEuY2FudGlkYWQpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogNDAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgU1RPQ0sgTk8gRVNUQSBESVNQT05JQkxFXCJcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsaWRfcHJvZHVjdCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIF9pZDogZGF0YS5wcm9kdWN0LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZih2YWxpZF9wcm9kdWN0LnN0b2NrIDwgZGF0YS5jYW50aWRhZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiA0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBTVE9DSyBOTyBFU1RBIERJU1BPTklCTEVcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgQ0FSVCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IGRhdGEuX2lkfSxkYXRhKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBORVdfQ0FSVCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkKHtfaWQ6IENBUlQuX2lkfSkucG9wdWxhdGUoXCJ2YXJpZWRhZFwiKS5wb3B1bGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBwYXRoOiBcInByb2R1Y3RcIixcclxuICAgICAgICAgICAgICAgIHBvcHVsYXRlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogXCJjYXRlZ29yaWVcIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIGNhcnQ6IHJlc291cmNlLkNhcnQuY2FydF9saXN0KE5FV19DQVJUKSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBDQVJSSVRPIFNFIEFDVFVBTElaTyBDT04gRVhJVE9cIixcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBkZWxldGU6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBfaWQgPSByZXEucGFyYW1zLmlkO1xyXG4gICAgICAgICAgICBsZXQgQ0FSVCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IF9pZH0pO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENBUlJJVE8gU0UgRUxJTUlOTyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6XCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGFwcGx5Q3Vwb246YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XHJcbiAgICAgICAgICAgIC8vIExBIFBSSU1FUkEgVkFMSURBQ0nDk04gVElFTkUgUVVFIFZFUiBDT04gTEEgRVhJU1RFTkNJQSBERUwgQ1VQT05cclxuICAgICAgICAgICAgbGV0IENVUE9OID0gYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kT25lKHtcclxuICAgICAgICAgICAgICAgIGNvZGU6IGRhdGEuY29kZSxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgaWYoIUNVUE9OKXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiA0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENVUE9OIElOR1JFU0FETyBOTyBFWElTVEUsIERJR0lURSBPVFJPIE5VRVZBTUVOVEVcIlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gVElFTkUgQ09OIEVMIFVTTyBERUwgQ1VQT04gLS0gRVNQRVJBIFxyXG5cclxuICAgICAgICAgICAgLy9sYSBwYXJ0ZSBvcGVyYXRpdmFcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBjYXJ0cyA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmQoe3VzZXI6IGRhdGEudXNlcl9pZH0pLnBvcHVsYXRlKFwicHJvZHVjdFwiKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coY2FydHMpO1xyXG4gICAgICAgICAgICBsZXQgcHJvZHVjdHMgPSBbXTtcclxuICAgICAgICAgICAgbGV0IGNhdGVnb3JpZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIENVUE9OLnByb2R1Y3RzLmZvckVhY2goKHByb2R1Y3QpID0+IHtcclxuICAgICAgICAgICAgICAgIHByb2R1Y3RzLnB1c2gocHJvZHVjdC5faWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy9bODM3MzczLjgzODM4M11cclxuICAgICAgICAgICAgLy9be19pZDogODM3MzczfSx7X2lkOiA4MzgzODN9XS5pbmNsdWRlc1xyXG4gICAgICAgICAgICBDVVBPTi5jYXRlZ29yaWVzLmZvckVhY2goKGNhdGVnb3JpZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllcy5wdXNoKGNhdGVnb3JpZS5faWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocHJvZHVjdHMpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjYXRlZ29yaWVzKTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBjYXJ0IG9mIGNhcnRzKSB7XHJcbiAgICAgICAgICAgICAgICBpZihwcm9kdWN0cy5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihwcm9kdWN0cy5pbmNsdWRlcyhjYXJ0LnByb2R1Y3QuX2lkK1wiXCIpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN1YnRvdGFsID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRvdGFsID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoQ1VQT04udHlwZV9kaXNjb3VudCA9PSAxKXsvL1BPUkNFTlRBSkVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRvdGFsID0gY2FydC5wcmljZV91bml0YXJpbyAtIGNhcnQucHJpY2VfdW5pdGFyaW8qKENVUE9OLmRpc2NvdW50KjAuMDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsvL1BPUiBNT05FREFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRvdGFsID0gY2FydC5wcmljZV91bml0YXJpbyAtIENVUE9OLmRpc2NvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsID0gc3VidG90YWwgKiBjYXJ0LmNhbnRpZGFkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgbW9kZWxzLkNhcnQuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogY2FydC5faWR9LHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRvdGFsOiBzdWJ0b3RhbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsOiB0b3RhbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVfZGlzY291bnQ6IENVUE9OLnR5cGVfZGlzY291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudDogQ1VQT04uZGlzY291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlX2N1cG9uOiBDVVBPTi5jb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZihjYXRlZ29yaWVzLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGNhdGVnb3JpZXMuaW5jbHVkZXMoY2FydC5wcm9kdWN0LmNhdGVnb3JpZStcIlwiKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdWJ0b3RhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0b3RhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKENVUE9OLnR5cGVfZGlzY291bnQgPT0gMSl7Ly9QT1JDRU5UQUpFXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0b3RhbCA9IGNhcnQucHJpY2VfdW5pdGFyaW8gLSBjYXJ0LnByaWNlX3VuaXRhcmlvKihDVVBPTi5kaXNjb3VudCowLjAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7Ly9QT1IgTU9ORURBXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0b3RhbCA9IGNhcnQucHJpY2VfdW5pdGFyaW8gLSBDVVBPTi5kaXNjb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCA9IHN1YnRvdGFsICogY2FydC5jYW50aWRhZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IGNhcnQuX2lkfSx7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0b3RhbDogc3VidG90YWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbDogdG90YWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlX2Rpc2NvdW50OiBDVVBPTi50eXBlX2Rpc2NvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzY291bnQ6IENVUE9OLmRpc2NvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZV9jdXBvbjogQ1VQT04uY29kZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgQ1VQT04gU0UgQVBMSUNBRE8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOyBcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBbUMsU0FBQUQsdUJBQUFHLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQ3BCO0VBQ1hDLElBQUksRUFBQyxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUNuQixJQUFJO01BQ0EsSUFBSUMsT0FBTyxHQUFHRixHQUFHLENBQUNHLEtBQUssQ0FBQ0QsT0FBTztNQUMvQixJQUFJRSxLQUFLLEdBQUcsTUFBTUMsZUFBTSxDQUFDQyxJQUFJLENBQUNDLElBQUksQ0FBQztRQUMvQkMsSUFBSSxFQUFFTjtNQUNWLENBQUMsQ0FBQyxDQUFDTyxRQUFRLENBQUMsVUFBVSxDQUFDLENBQUNBLFFBQVEsQ0FBQztRQUM3QkMsSUFBSSxFQUFFLFNBQVM7UUFDZkQsUUFBUSxFQUFFO1VBQ05DLElBQUksRUFBRTtRQUNWO01BQ0osQ0FBQyxDQUFDO01BRUZOLEtBQUssR0FBR0EsS0FBSyxDQUFDTyxHQUFHLENBQUVDLElBQUksSUFBSztRQUN4QixPQUFPQyxrQkFBUSxDQUFDUCxJQUFJLENBQUNRLFNBQVMsQ0FBQ0YsSUFBSSxDQUFDO01BQ3hDLENBQUMsQ0FBQztNQUVGWCxHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxLQUFLLEVBQUViO01BQ1gsQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDLE9BQU9jLEtBQUssRUFBRTtNQUNaakIsR0FBRyxDQUFDYyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNJLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFDO01BQ1osQ0FBQyxDQUFDO01BQ0ZDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSixLQUFLLENBQUM7SUFDdEI7RUFDSixDQUFDO0VBQ0RLLFFBQVEsRUFBQyxNQUFBQSxDQUFNdkIsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDdkIsSUFBSTtNQUNBLElBQUl1QixJQUFJLEdBQUd4QixHQUFHLENBQUN5QixJQUFJO01BQ25CO01BQ0EsSUFBR0QsSUFBSSxDQUFDRSxRQUFRLEVBQUM7UUFDYixJQUFJQyxVQUFVLEdBQUcsTUFBTXRCLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDc0IsT0FBTyxDQUFDO1VBQ3ZDcEIsSUFBSSxFQUFFZ0IsSUFBSSxDQUFDaEIsSUFBSTtVQUNma0IsUUFBUSxFQUFFRixJQUFJLENBQUNFLFFBQVE7VUFDdkJHLE9BQU8sRUFBRUwsSUFBSSxDQUFDSztRQUNsQixDQUFDLENBQUM7UUFDRixJQUFHRixVQUFVLEVBQUM7VUFDVjFCLEdBQUcsQ0FBQ2MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7WUFDakJJLE9BQU8sRUFBRSxHQUFHO1lBQ1pVLFlBQVksRUFBRTtVQUNsQixDQUFDLENBQUM7VUFDRjtRQUNKO01BQ0osQ0FBQyxNQUFJO1FBQ0QsSUFBSUgsVUFBVSxHQUFHLE1BQU10QixlQUFNLENBQUNDLElBQUksQ0FBQ3NCLE9BQU8sQ0FBQztVQUN2Q3BCLElBQUksRUFBRWdCLElBQUksQ0FBQ2hCLElBQUk7VUFDZnFCLE9BQU8sRUFBRUwsSUFBSSxDQUFDSztRQUNsQixDQUFDLENBQUM7UUFDRixJQUFHRixVQUFVLEVBQUM7VUFDVjFCLEdBQUcsQ0FBQ2MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7WUFDakJJLE9BQU8sRUFBRSxHQUFHO1lBQ1pVLFlBQVksRUFBRTtVQUNsQixDQUFDLENBQUM7VUFDRjtRQUNKO01BQ0o7O01BRUE7O01BRUEsSUFBR04sSUFBSSxDQUFDRSxRQUFRLEVBQUM7UUFDYixJQUFJSyxjQUFjLEdBQUcsTUFBTTFCLGVBQU0sQ0FBQzJCLFFBQVEsQ0FBQ0osT0FBTyxDQUFDO1VBQy9DSyxHQUFHLEVBQUVULElBQUksQ0FBQ0U7UUFDZCxDQUFDLENBQUM7UUFDRixJQUFHSyxjQUFjLENBQUNHLEtBQUssR0FBR1YsSUFBSSxDQUFDVyxRQUFRLEVBQUM7VUFDcENsQyxHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1lBQ2pCSSxPQUFPLEVBQUUsR0FBRztZQUNaVSxZQUFZLEVBQUU7VUFDbEIsQ0FBQyxDQUFDO1VBQ0Y7UUFDSjtNQUNKLENBQUMsTUFBSTtRQUNELElBQUlNLGFBQWEsR0FBRyxNQUFNL0IsZUFBTSxDQUFDZ0MsT0FBTyxDQUFDVCxPQUFPLENBQUM7VUFDN0NVLEdBQUcsRUFBRWQsSUFBSSxDQUFDSztRQUNkLENBQUMsQ0FBQztRQUNGLElBQUdPLGFBQWEsQ0FBQ0YsS0FBSyxHQUFHVixJQUFJLENBQUNXLFFBQVEsRUFBQztVQUNuQ2xDLEdBQUcsQ0FBQ2MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7WUFDakJJLE9BQU8sRUFBRSxHQUFHO1lBQ1pVLFlBQVksRUFBRTtVQUNsQixDQUFDLENBQUM7VUFDRjtRQUNKO01BQ0o7TUFDQSxJQUFJUyxJQUFJLEdBQUcsTUFBTWxDLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDa0MsTUFBTSxDQUFDaEIsSUFBSSxDQUFDO01BRXpDLElBQUlpQixRQUFRLEdBQUcsTUFBTXBDLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDb0MsUUFBUSxDQUFDO1FBQUNKLEdBQUcsRUFBRUMsSUFBSSxDQUFDRDtNQUFHLENBQUMsQ0FBQyxDQUFDN0IsUUFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDQSxRQUFRLENBQUM7UUFDckZDLElBQUksRUFBRSxTQUFTO1FBQ2ZELFFBQVEsRUFBRTtVQUNOQyxJQUFJLEVBQUU7UUFDVjtNQUNKLENBQUMsQ0FBQztNQUNGVCxHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCSixJQUFJLEVBQUVDLGtCQUFRLENBQUNQLElBQUksQ0FBQ1EsU0FBUyxDQUFDMkIsUUFBUSxDQUFDO1FBQ3ZDWCxZQUFZLEVBQUU7TUFDbEIsQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDLE9BQU9aLEtBQUssRUFBRTtNQUNaakIsR0FBRyxDQUFDYyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNJLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFDO01BQ1osQ0FBQyxDQUFDO01BQ0ZDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSixLQUFLLENBQUM7SUFDdEI7RUFDSixDQUFDO0VBQ0R5QixNQUFNLEVBQUMsTUFBQUEsQ0FBTTNDLEdBQUcsRUFBQ0MsR0FBRyxLQUFLO0lBQ3JCLElBQUk7TUFDQSxJQUFJdUIsSUFBSSxHQUFHeEIsR0FBRyxDQUFDeUIsSUFBSTs7TUFFbkI7O01BRUEsSUFBR0QsSUFBSSxDQUFDRSxRQUFRLEVBQUM7UUFDYixJQUFJSyxjQUFjLEdBQUcsTUFBTTFCLGVBQU0sQ0FBQzJCLFFBQVEsQ0FBQ0osT0FBTyxDQUFDO1VBQy9DSyxHQUFHLEVBQUVULElBQUksQ0FBQ0U7UUFDZCxDQUFDLENBQUM7UUFDRixJQUFHSyxjQUFjLENBQUNHLEtBQUssR0FBR1YsSUFBSSxDQUFDVyxRQUFRLEVBQUM7VUFDcENsQyxHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1lBQ2pCSSxPQUFPLEVBQUUsR0FBRztZQUNaVSxZQUFZLEVBQUU7VUFDbEIsQ0FBQyxDQUFDO1VBQ0Y7UUFDSjtNQUNKLENBQUMsTUFBSTtRQUNELElBQUlNLGFBQWEsR0FBRyxNQUFNL0IsZUFBTSxDQUFDZ0MsT0FBTyxDQUFDVCxPQUFPLENBQUM7VUFDN0NVLEdBQUcsRUFBRWQsSUFBSSxDQUFDSztRQUNkLENBQUMsQ0FBQztRQUNGLElBQUdPLGFBQWEsQ0FBQ0YsS0FBSyxHQUFHVixJQUFJLENBQUNXLFFBQVEsRUFBQztVQUNuQ2xDLEdBQUcsQ0FBQ2MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7WUFDakJJLE9BQU8sRUFBRSxHQUFHO1lBQ1pVLFlBQVksRUFBRTtVQUNsQixDQUFDLENBQUM7VUFDRjtRQUNKO01BQ0o7TUFDQSxJQUFJUyxJQUFJLEdBQUcsTUFBTWxDLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDc0MsaUJBQWlCLENBQUM7UUFBQ04sR0FBRyxFQUFFZCxJQUFJLENBQUNjO01BQUcsQ0FBQyxFQUFDZCxJQUFJLENBQUM7TUFFcEUsSUFBSWlCLFFBQVEsR0FBRyxNQUFNcEMsZUFBTSxDQUFDQyxJQUFJLENBQUNvQyxRQUFRLENBQUM7UUFBQ0osR0FBRyxFQUFFQyxJQUFJLENBQUNEO01BQUcsQ0FBQyxDQUFDLENBQUM3QixRQUFRLENBQUMsVUFBVSxDQUFDLENBQUNBLFFBQVEsQ0FBQztRQUNyRkMsSUFBSSxFQUFFLFNBQVM7UUFDZkQsUUFBUSxFQUFFO1VBQ05DLElBQUksRUFBRTtRQUNWO01BQ0osQ0FBQyxDQUFDO01BQ0ZULEdBQUcsQ0FBQ2MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJKLElBQUksRUFBRUMsa0JBQVEsQ0FBQ1AsSUFBSSxDQUFDUSxTQUFTLENBQUMyQixRQUFRLENBQUM7UUFDdkNYLFlBQVksRUFBRTtNQUNsQixDQUFDLENBQUM7SUFDTixDQUFDLENBQUMsT0FBT1osS0FBSyxFQUFFO01BQ1pqQixHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0ksSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUM7TUFDWixDQUFDLENBQUM7TUFDRkMsT0FBTyxDQUFDQyxHQUFHLENBQUNKLEtBQUssQ0FBQztJQUN0QjtFQUNKLENBQUM7RUFDRDJCLE1BQU0sRUFBQyxNQUFBQSxDQUFNN0MsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDckIsSUFBSTtNQUNBLElBQUlxQyxHQUFHLEdBQUd0QyxHQUFHLENBQUM4QyxNQUFNLENBQUNDLEVBQUU7TUFDdkIsSUFBSVIsSUFBSSxHQUFHLE1BQU1sQyxlQUFNLENBQUNDLElBQUksQ0FBQzBDLGlCQUFpQixDQUFDO1FBQUNWLEdBQUcsRUFBRUE7TUFBRyxDQUFDLENBQUM7TUFFMURyQyxHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCYyxZQUFZLEVBQUU7TUFDbEIsQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDLE9BQU9aLEtBQUssRUFBRTtNQUNaakIsR0FBRyxDQUFDYyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNJLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFDO01BQ1osQ0FBQyxDQUFDO01BQ0ZDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSixLQUFLLENBQUM7SUFDdEI7RUFDSixDQUFDO0VBQ0QrQixVQUFVLEVBQUMsTUFBQUEsQ0FBTWpELEdBQUcsRUFBQ0MsR0FBRyxLQUFLO0lBQ3pCLElBQUk7TUFDQSxJQUFJdUIsSUFBSSxHQUFHeEIsR0FBRyxDQUFDeUIsSUFBSTtNQUNuQjtNQUNBLElBQUl5QixLQUFLLEdBQUcsTUFBTTdDLGVBQU0sQ0FBQzhDLE1BQU0sQ0FBQ3ZCLE9BQU8sQ0FBQztRQUNwQ3dCLElBQUksRUFBRTVCLElBQUksQ0FBQzRCO01BQ2YsQ0FBQyxDQUFDO01BQ0YsSUFBRyxDQUFDRixLQUFLLEVBQUM7UUFDTmpELEdBQUcsQ0FBQ2MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7VUFDakJJLE9BQU8sRUFBRSxHQUFHO1VBQ1pVLFlBQVksRUFBRTtRQUNsQixDQUFDLENBQUM7UUFDRjtNQUNKO01BQ0E7O01BRUE7O01BRUEsSUFBSWIsS0FBSyxHQUFHLE1BQU1aLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDQyxJQUFJLENBQUM7UUFBQ0MsSUFBSSxFQUFFZ0IsSUFBSSxDQUFDdEI7TUFBTyxDQUFDLENBQUMsQ0FBQ08sUUFBUSxDQUFDLFNBQVMsQ0FBQztNQUM1RVksT0FBTyxDQUFDQyxHQUFHLENBQUNMLEtBQUssQ0FBQztNQUNsQixJQUFJb0MsUUFBUSxHQUFHLEVBQUU7TUFDakIsSUFBSUMsVUFBVSxHQUFHLEVBQUU7TUFFbkJKLEtBQUssQ0FBQ0csUUFBUSxDQUFDRSxPQUFPLENBQUUxQixPQUFPLElBQUs7UUFDaEN3QixRQUFRLENBQUNHLElBQUksQ0FBQzNCLE9BQU8sQ0FBQ1MsR0FBRyxDQUFDO01BQzlCLENBQUMsQ0FBQztNQUNGO01BQ0E7TUFDQVksS0FBSyxDQUFDSSxVQUFVLENBQUNDLE9BQU8sQ0FBRUUsU0FBUyxJQUFLO1FBQ3BDSCxVQUFVLENBQUNFLElBQUksQ0FBQ0MsU0FBUyxDQUFDbkIsR0FBRyxDQUFDO01BQ2xDLENBQUMsQ0FBQztNQUNGakIsT0FBTyxDQUFDQyxHQUFHLENBQUMrQixRQUFRLENBQUM7TUFDckJoQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ2dDLFVBQVUsQ0FBQztNQUN2QixLQUFLLE1BQU0xQyxJQUFJLElBQUlLLEtBQUssRUFBRTtRQUN0QixJQUFHb0MsUUFBUSxDQUFDSyxNQUFNLEdBQUcsQ0FBQyxFQUFDO1VBQ25CLElBQUdMLFFBQVEsQ0FBQ00sUUFBUSxDQUFDL0MsSUFBSSxDQUFDaUIsT0FBTyxDQUFDUyxHQUFHLEdBQUMsRUFBRSxDQUFDLEVBQUM7WUFDdEMsSUFBSXNCLFFBQVEsR0FBRyxDQUFDO1lBQ2hCLElBQUlDLEtBQUssR0FBRyxDQUFDO1lBQ2IsSUFBR1gsS0FBSyxDQUFDWSxhQUFhLElBQUksQ0FBQyxFQUFDO2NBQUM7Y0FDekJGLFFBQVEsR0FBR2hELElBQUksQ0FBQ21ELGNBQWMsR0FBR25ELElBQUksQ0FBQ21ELGNBQWMsSUFBRWIsS0FBSyxDQUFDYyxRQUFRLEdBQUMsSUFBSSxDQUFDO1lBQzlFLENBQUMsTUFBSTtjQUFDO2NBQ0ZKLFFBQVEsR0FBR2hELElBQUksQ0FBQ21ELGNBQWMsR0FBR2IsS0FBSyxDQUFDYyxRQUFRO1lBQ25EO1lBQ0FILEtBQUssR0FBR0QsUUFBUSxHQUFHaEQsSUFBSSxDQUFDdUIsUUFBUTtZQUVoQyxNQUFNOUIsZUFBTSxDQUFDQyxJQUFJLENBQUNzQyxpQkFBaUIsQ0FBQztjQUFDTixHQUFHLEVBQUUxQixJQUFJLENBQUMwQjtZQUFHLENBQUMsRUFBQztjQUNoRHNCLFFBQVEsRUFBRUEsUUFBUTtjQUNsQkMsS0FBSyxFQUFFQSxLQUFLO2NBQ1pDLGFBQWEsRUFBRVosS0FBSyxDQUFDWSxhQUFhO2NBQ2xDRSxRQUFRLEVBQUVkLEtBQUssQ0FBQ2MsUUFBUTtjQUN4QkMsVUFBVSxFQUFFZixLQUFLLENBQUNFO1lBQ3RCLENBQUMsQ0FBQztVQUNOO1FBQ0o7UUFDQSxJQUFHRSxVQUFVLENBQUNJLE1BQU0sR0FBRyxDQUFDLEVBQUM7VUFDckIsSUFBR0osVUFBVSxDQUFDSyxRQUFRLENBQUMvQyxJQUFJLENBQUNpQixPQUFPLENBQUM0QixTQUFTLEdBQUMsRUFBRSxDQUFDLEVBQUM7WUFDOUMsSUFBSUcsUUFBUSxHQUFHLENBQUM7WUFDaEIsSUFBSUMsS0FBSyxHQUFHLENBQUM7WUFDYixJQUFHWCxLQUFLLENBQUNZLGFBQWEsSUFBSSxDQUFDLEVBQUM7Y0FBQztjQUN6QkYsUUFBUSxHQUFHaEQsSUFBSSxDQUFDbUQsY0FBYyxHQUFHbkQsSUFBSSxDQUFDbUQsY0FBYyxJQUFFYixLQUFLLENBQUNjLFFBQVEsR0FBQyxJQUFJLENBQUM7WUFDOUUsQ0FBQyxNQUFJO2NBQUM7Y0FDRkosUUFBUSxHQUFHaEQsSUFBSSxDQUFDbUQsY0FBYyxHQUFHYixLQUFLLENBQUNjLFFBQVE7WUFDbkQ7WUFDQUgsS0FBSyxHQUFHRCxRQUFRLEdBQUdoRCxJQUFJLENBQUN1QixRQUFRO1lBRWhDLE1BQU05QixlQUFNLENBQUNDLElBQUksQ0FBQ3NDLGlCQUFpQixDQUFDO2NBQUNOLEdBQUcsRUFBRTFCLElBQUksQ0FBQzBCO1lBQUcsQ0FBQyxFQUFDO2NBQ2hEc0IsUUFBUSxFQUFFQSxRQUFRO2NBQ2xCQyxLQUFLLEVBQUVBLEtBQUs7Y0FDWkMsYUFBYSxFQUFFWixLQUFLLENBQUNZLGFBQWE7Y0FDbENFLFFBQVEsRUFBRWQsS0FBSyxDQUFDYyxRQUFRO2NBQ3hCQyxVQUFVLEVBQUVmLEtBQUssQ0FBQ0U7WUFDdEIsQ0FBQyxDQUFDO1VBQ047UUFDSjtNQUNKO01BRUFuRCxHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCSSxPQUFPLEVBQUUsR0FBRztRQUNaVSxZQUFZLEVBQUU7TUFDbEIsQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDLE9BQU9aLEtBQUssRUFBRTtNQUNaakIsR0FBRyxDQUFDYyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNJLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFDO01BQ1osQ0FBQyxDQUFDO01BQ0ZDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSixLQUFLLENBQUM7SUFDdEI7RUFDSjtBQUNKLENBQUM7QUFBQWdELE9BQUEsQ0FBQXJFLE9BQUEsR0FBQUMsUUFBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","obj","__esModule","default","_default","list","req","res","user_id","query","CARTS","models","Cart","find","user","populate","path","map","cart","resource","cart_list","status","json","carts","error","send","message","console","log","register","data","body","variedad","valid_cart","findOne","product","message_text","valid_variedad","Variedad","id_","stock","cantidad","valid_product","Product","_id","CART","create","NEW_CART","findById","update","findByIdAndUpdate","delete","params","id","findByIdAndDelete","applyCupon","CUPON","Cupone","code","products","categories","forEach","push","categorie","length","includes","subtotal","total","type_discount","price_unitario","discount","code_cupon","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["CartController.js"],"sourcesContent":["import models from '../models'\r\nimport resource from '../resources'\r\nexport default {\r\n    list:async(req,res) => {\r\n        try {\r\n            let user_id = req.query.user_id;\r\n            let CARTS = await models.Cart.find({\r\n                user: user_id,\r\n            }).populate(\"variedad\").populate({\r\n                path: \"product\",\r\n                populate: {\r\n                    path: \"categorie\"\r\n                },\r\n            });\r\n\r\n            CARTS = CARTS.map((cart) => {\r\n                return resource.Cart.cart_list(cart);\r\n            });\r\n\r\n            res.status(200).json({\r\n                carts: CARTS,\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    register:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            //PRIMERO VAMOS A VALIDAR SI EL PRODUCTO EXISTE EN EL CARRITO DE COMPRA\r\n            if(data.variedad){\r\n                let valid_cart = await models.Cart.findOne({\r\n                    user: data.user,\r\n                    variedad: data.variedad,\r\n                    product: data.product,\r\n                });\r\n                if(valid_cart){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL PRODUCTO CON LA VARIEDAD YA EXISTE EN EL CARRITO DE COMPRA\",\r\n                    })\r\n                    return;\r\n                }\r\n            }else{\r\n                let valid_cart = await models.Cart.findOne({\r\n                    user: data.user,\r\n                    product: data.product,\r\n                });\r\n                if(valid_cart){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL PRODUCTO YA EXISTE EN EL CARRITO DE COMPRA\",\r\n                    })\r\n                    return;\r\n                }\r\n            }\r\n\r\n            //SEGUNDO VAMOS A VALIDAR SI EL STOCK ESTA DISPONIBLE\r\n\r\n            if(data.variedad){\r\n                let valid_variedad = await models.Variedad.findOne({\r\n                    id_: data.variedad,\r\n                });\r\n                if(valid_variedad.stock < data.cantidad){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL STOCK NO ESTA DISPONIBLE\"\r\n                    })\r\n                    return;\r\n                }\r\n            }else{\r\n                let valid_product = await models.Product.findOne({\r\n                    _id: data.product,\r\n                });\r\n                if(valid_product.stock < data.cantidad){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL STOCK NO ESTA DISPONIBLE\"\r\n                    });\r\n                    return;\r\n                }\r\n            }\r\n            let CART = await models.Cart.create(data);\r\n            \r\n            let NEW_CART = await models.Cart.findById({_id: CART._id}).populate(\"variedad\").populate({\r\n                path: \"product\",\r\n                populate: {\r\n                    path: \"categorie\"\r\n                },\r\n            });\r\n            res.status(200).json({\r\n                cart: resource.Cart.cart_list(NEW_CART),\r\n                message_text: \"EL CARRITO SE REGISTRO CON EXITO\",\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    update:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n\r\n            //SEGUNDO VAMOS A VALIDAR SI EL STOCK ESTA DISPONIBLE\r\n\r\n            if(data.variedad){\r\n                let valid_variedad = await models.Variedad.findOne({\r\n                    id_: data.variedad,\r\n                });\r\n                if(valid_variedad.stock < data.cantidad){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL STOCK NO ESTA DISPONIBLE\"\r\n                    })\r\n                    return;\r\n                }\r\n            }else{\r\n                let valid_product = await models.Product.findOne({\r\n                    _id: data.product,\r\n                });\r\n                if(valid_product.stock < data.cantidad){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL STOCK NO ESTA DISPONIBLE\"\r\n                    });\r\n                    return;\r\n                }\r\n            }\r\n            let CART = await models.Cart.findByIdAndUpdate({_id: data._id},data);\r\n            \r\n            let NEW_CART = await models.Cart.findById({_id: CART._id}).populate(\"variedad\").populate({\r\n                path: \"product\",\r\n                populate: {\r\n                    path: \"categorie\"\r\n                },\r\n            });\r\n            res.status(200).json({\r\n                cart: resource.Cart.cart_list(NEW_CART),\r\n                message_text: \"EL CARRITO SE ACTUALIZO CON EXITO\",\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    delete:async(req,res) => {\r\n        try {\r\n            let _id = req.params.id;\r\n            let CART = await models.Cart.findByIdAndDelete({_id: _id});\r\n\r\n            res.status(200).json({\r\n                message_text: \"EL CARRITO SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    applyCupon:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            // LA PRIMERA VALIDACIÓN TIENE QUE VER CON LA EXISTENCIA DEL CUPON\r\n            let CUPON = await models.Cupone.findOne({\r\n                code: data.code,\r\n            })\r\n            if(!CUPON){\r\n                res.status(200).json({\r\n                    message: 403,\r\n                    message_text: \"EL CUPON INGRESADO NO EXISTE, DIGITE OTRO NUEVAMENTE\"\r\n                });\r\n                return;\r\n            }\r\n            // TIENE CON EL USO DEL CUPON -- ESPERA \r\n\r\n            //la parte operativa\r\n            \r\n            let carts = await models.Cart.find({user: data.user_id}).populate(\"product\");\r\n            console.log(carts);\r\n            let products = [];\r\n            let categories = [];\r\n\r\n            CUPON.products.forEach((product) => {\r\n                products.push(product._id);\r\n            });\r\n            //[837373.838383]\r\n            //[{_id: 837373},{_id: 838383}].includes\r\n            CUPON.categories.forEach((categorie) => {\r\n                categories.push(categorie._id);\r\n            });\r\n            console.log(products);\r\n            console.log(categories);\r\n            for (const cart of carts) {\r\n                if(products.length > 0){\r\n                    if(products.includes(cart.product._id+\"\")){\r\n                        let subtotal = 0;\r\n                        let total = 0;\r\n                        if(CUPON.type_discount == 1){//PORCENTAJE\r\n                            subtotal = cart.price_unitario - cart.price_unitario*(CUPON.discount*0.01);\r\n                        }else{//POR MONEDA\r\n                            subtotal = cart.price_unitario - CUPON.discount;\r\n                        }\r\n                        total = subtotal * cart.cantidad;\r\n\r\n                        await models.Cart.findByIdAndUpdate({_id: cart._id},{\r\n                            subtotal: subtotal,\r\n                            total: total,\r\n                            type_discount: CUPON.type_discount,\r\n                            discount: CUPON.discount,\r\n                            code_cupon: CUPON.code,\r\n                        });\r\n                    }\r\n                }\r\n                if(categories.length > 0){\r\n                    if(categories.includes(cart.product.categorie+\"\")){\r\n                        let subtotal = 0;\r\n                        let total = 0;\r\n                        if(CUPON.type_discount == 1){//PORCENTAJE\r\n                            subtotal = cart.price_unitario - cart.price_unitario*(CUPON.discount*0.01);\r\n                        }else{//POR MONEDA\r\n                            subtotal = cart.price_unitario - CUPON.discount;\r\n                        }\r\n                        total = subtotal * cart.cantidad;\r\n\r\n                        await models.Cart.findByIdAndUpdate({_id: cart._id},{\r\n                            subtotal: subtotal,\r\n                            total: total,\r\n                            type_discount: CUPON.type_discount,\r\n                            discount: CUPON.discount,\r\n                            code_cupon: CUPON.code,\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL CUPON SE APLICADO CORRECTAMENTE\",\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error); \r\n        }\r\n    },\r\n}"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAmC,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GACpB;EACXC,IAAI,EAAC,MAAAA,CAAMC,GAAG,EAACC,GAAG,KAAK;IACnB,IAAI;MACA,IAAIC,OAAO,GAAGF,GAAG,CAACG,KAAK,CAACD,OAAO;MAC/B,IAAIE,KAAK,GAAG,MAAMC,eAAM,CAACC,IAAI,CAACC,IAAI,CAAC;QAC/BC,IAAI,EAAEN;MACV,CAAC,CAAC,CAACO,QAAQ,CAAC,UAAU,CAAC,CAACA,QAAQ,CAAC;QAC7BC,IAAI,EAAE,SAAS;QACfD,QAAQ,EAAE;UACNC,IAAI,EAAE;QACV;MACJ,CAAC,CAAC;MAEFN,KAAK,GAAGA,KAAK,CAACO,GAAG,CAAEC,IAAI,IAAK;QACxB,OAAOC,kBAAQ,CAACP,IAAI,CAACQ,SAAS,CAACF,IAAI,CAAC;MACxC,CAAC,CAAC;MAEFX,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,KAAK,EAAEb;MACX,CAAC,CAAC;IACN,CAAC,CAAC,OAAOc,KAAK,EAAE;MACZjB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACI,IAAI,CAAC;QACjBC,OAAO,EAAC;MACZ,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACtB;EACJ,CAAC;EACDK,QAAQ,EAAC,MAAAA,CAAMvB,GAAG,EAACC,GAAG,KAAK;IACvB,IAAI;MACA,IAAIuB,IAAI,GAAGxB,GAAG,CAACyB,IAAI;MACnB;MACA,IAAGD,IAAI,CAACE,QAAQ,EAAC;QACb,IAAIC,UAAU,GAAG,MAAMtB,eAAM,CAACC,IAAI,CAACsB,OAAO,CAAC;UACvCpB,IAAI,EAAEgB,IAAI,CAAChB,IAAI;UACfkB,QAAQ,EAAEF,IAAI,CAACE,QAAQ;UACvBG,OAAO,EAAEL,IAAI,CAACK;QAClB,CAAC,CAAC;QACF,IAAGF,UAAU,EAAC;UACV1B,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YACjBI,OAAO,EAAE,GAAG;YACZU,YAAY,EAAE;UAClB,CAAC,CAAC;UACF;QACJ;MACJ,CAAC,MAAI;QACD,IAAIH,UAAU,GAAG,MAAMtB,eAAM,CAACC,IAAI,CAACsB,OAAO,CAAC;UACvCpB,IAAI,EAAEgB,IAAI,CAAChB,IAAI;UACfqB,OAAO,EAAEL,IAAI,CAACK;QAClB,CAAC,CAAC;QACF,IAAGF,UAAU,EAAC;UACV1B,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YACjBI,OAAO,EAAE,GAAG;YACZU,YAAY,EAAE;UAClB,CAAC,CAAC;UACF;QACJ;MACJ;;MAEA;;MAEA,IAAGN,IAAI,CAACE,QAAQ,EAAC;QACb,IAAIK,cAAc,GAAG,MAAM1B,eAAM,CAAC2B,QAAQ,CAACJ,OAAO,CAAC;UAC/CK,GAAG,EAAET,IAAI,CAACE;QACd,CAAC,CAAC;QACF,IAAGK,cAAc,CAACG,KAAK,GAAGV,IAAI,CAACW,QAAQ,EAAC;UACpClC,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YACjBI,OAAO,EAAE,GAAG;YACZU,YAAY,EAAE;UAClB,CAAC,CAAC;UACF;QACJ;MACJ,CAAC,MAAI;QACD,IAAIM,aAAa,GAAG,MAAM/B,eAAM,CAACgC,OAAO,CAACT,OAAO,CAAC;UAC7CU,GAAG,EAAEd,IAAI,CAACK;QACd,CAAC,CAAC;QACF,IAAGO,aAAa,CAACF,KAAK,GAAGV,IAAI,CAACW,QAAQ,EAAC;UACnClC,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YACjBI,OAAO,EAAE,GAAG;YACZU,YAAY,EAAE;UAClB,CAAC,CAAC;UACF;QACJ;MACJ;MACA,IAAIS,IAAI,GAAG,MAAMlC,eAAM,CAACC,IAAI,CAACkC,MAAM,CAAChB,IAAI,CAAC;MAEzC,IAAIiB,QAAQ,GAAG,MAAMpC,eAAM,CAACC,IAAI,CAACoC,QAAQ,CAAC;QAACJ,GAAG,EAAEC,IAAI,CAACD;MAAG,CAAC,CAAC,CAAC7B,QAAQ,CAAC,UAAU,CAAC,CAACA,QAAQ,CAAC;QACrFC,IAAI,EAAE,SAAS;QACfD,QAAQ,EAAE;UACNC,IAAI,EAAE;QACV;MACJ,CAAC,CAAC;MACFT,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBJ,IAAI,EAAEC,kBAAQ,CAACP,IAAI,CAACQ,SAAS,CAAC2B,QAAQ,CAAC;QACvCX,YAAY,EAAE;MAClB,CAAC,CAAC;IACN,CAAC,CAAC,OAAOZ,KAAK,EAAE;MACZjB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACI,IAAI,CAAC;QACjBC,OAAO,EAAC;MACZ,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACtB;EACJ,CAAC;EACDyB,MAAM,EAAC,MAAAA,CAAM3C,GAAG,EAACC,GAAG,KAAK;IACrB,IAAI;MACA,IAAIuB,IAAI,GAAGxB,GAAG,CAACyB,IAAI;;MAEnB;;MAEA,IAAGD,IAAI,CAACE,QAAQ,EAAC;QACb,IAAIK,cAAc,GAAG,MAAM1B,eAAM,CAAC2B,QAAQ,CAACJ,OAAO,CAAC;UAC/CK,GAAG,EAAET,IAAI,CAACE;QACd,CAAC,CAAC;QACF,IAAGK,cAAc,CAACG,KAAK,GAAGV,IAAI,CAACW,QAAQ,EAAC;UACpClC,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YACjBI,OAAO,EAAE,GAAG;YACZU,YAAY,EAAE;UAClB,CAAC,CAAC;UACF;QACJ;MACJ,CAAC,MAAI;QACD,IAAIM,aAAa,GAAG,MAAM/B,eAAM,CAACgC,OAAO,CAACT,OAAO,CAAC;UAC7CU,GAAG,EAAEd,IAAI,CAACK;QACd,CAAC,CAAC;QACF,IAAGO,aAAa,CAACF,KAAK,GAAGV,IAAI,CAACW,QAAQ,EAAC;UACnClC,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YACjBI,OAAO,EAAE,GAAG;YACZU,YAAY,EAAE;UAClB,CAAC,CAAC;UACF;QACJ;MACJ;MACA,IAAIS,IAAI,GAAG,MAAMlC,eAAM,CAACC,IAAI,CAACsC,iBAAiB,CAAC;QAACN,GAAG,EAAEd,IAAI,CAACc;MAAG,CAAC,EAACd,IAAI,CAAC;MAEpE,IAAIiB,QAAQ,GAAG,MAAMpC,eAAM,CAACC,IAAI,CAACoC,QAAQ,CAAC;QAACJ,GAAG,EAAEC,IAAI,CAACD;MAAG,CAAC,CAAC,CAAC7B,QAAQ,CAAC,UAAU,CAAC,CAACA,QAAQ,CAAC;QACrFC,IAAI,EAAE,SAAS;QACfD,QAAQ,EAAE;UACNC,IAAI,EAAE;QACV;MACJ,CAAC,CAAC;MACFT,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBJ,IAAI,EAAEC,kBAAQ,CAACP,IAAI,CAACQ,SAAS,CAAC2B,QAAQ,CAAC;QACvCX,YAAY,EAAE;MAClB,CAAC,CAAC;IACN,CAAC,CAAC,OAAOZ,KAAK,EAAE;MACZjB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACI,IAAI,CAAC;QACjBC,OAAO,EAAC;MACZ,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACtB;EACJ,CAAC;EACD2B,MAAM,EAAC,MAAAA,CAAM7C,GAAG,EAACC,GAAG,KAAK;IACrB,IAAI;MACA,IAAIqC,GAAG,GAAGtC,GAAG,CAAC8C,MAAM,CAACC,EAAE;MACvB,IAAIR,IAAI,GAAG,MAAMlC,eAAM,CAACC,IAAI,CAAC0C,iBAAiB,CAAC;QAACV,GAAG,EAAEA;MAAG,CAAC,CAAC;MAE1DrC,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBc,YAAY,EAAE;MAClB,CAAC,CAAC;IACN,CAAC,CAAC,OAAOZ,KAAK,EAAE;MACZjB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACI,IAAI,CAAC;QACjBC,OAAO,EAAC;MACZ,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACtB;EACJ,CAAC;EACD+B,UAAU,EAAC,MAAAA,CAAMjD,GAAG,EAACC,GAAG,KAAK;IACzB,IAAI;MACA,IAAIuB,IAAI,GAAGxB,GAAG,CAACyB,IAAI;MACnB;MACA,IAAIyB,KAAK,GAAG,MAAM7C,eAAM,CAAC8C,MAAM,CAACvB,OAAO,CAAC;QACpCwB,IAAI,EAAE5B,IAAI,CAAC4B;MACf,CAAC,CAAC;MACF,IAAG,CAACF,KAAK,EAAC;QACNjD,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBI,OAAO,EAAE,GAAG;UACZU,YAAY,EAAE;QAClB,CAAC,CAAC;QACF;MACJ;MACA;;MAEA;;MAEA,IAAIb,KAAK,GAAG,MAAMZ,eAAM,CAACC,IAAI,CAACC,IAAI,CAAC;QAACC,IAAI,EAAEgB,IAAI,CAACtB;MAAO,CAAC,CAAC,CAACO,QAAQ,CAAC,SAAS,CAAC;MAC5EY,OAAO,CAACC,GAAG,CAACL,KAAK,CAAC;MAClB,IAAIoC,QAAQ,GAAG,EAAE;MACjB,IAAIC,UAAU,GAAG,EAAE;MAEnBJ,KAAK,CAACG,QAAQ,CAACE,OAAO,CAAE1B,OAAO,IAAK;QAChCwB,QAAQ,CAACG,IAAI,CAAC3B,OAAO,CAACS,GAAG,CAAC;MAC9B,CAAC,CAAC;MACF;MACA;MACAY,KAAK,CAACI,UAAU,CAACC,OAAO,CAAEE,SAAS,IAAK;QACpCH,UAAU,CAACE,IAAI,CAACC,SAAS,CAACnB,GAAG,CAAC;MAClC,CAAC,CAAC;MACFjB,OAAO,CAACC,GAAG,CAAC+B,QAAQ,CAAC;MACrBhC,OAAO,CAACC,GAAG,CAACgC,UAAU,CAAC;MACvB,KAAK,MAAM1C,IAAI,IAAIK,KAAK,EAAE;QACtB,IAAGoC,QAAQ,CAACK,MAAM,GAAG,CAAC,EAAC;UACnB,IAAGL,QAAQ,CAACM,QAAQ,CAAC/C,IAAI,CAACiB,OAAO,CAACS,GAAG,GAAC,EAAE,CAAC,EAAC;YACtC,IAAIsB,QAAQ,GAAG,CAAC;YAChB,IAAIC,KAAK,GAAG,CAAC;YACb,IAAGX,KAAK,CAACY,aAAa,IAAI,CAAC,EAAC;cAAC;cACzBF,QAAQ,GAAGhD,IAAI,CAACmD,cAAc,GAAGnD,IAAI,CAACmD,cAAc,IAAEb,KAAK,CAACc,QAAQ,GAAC,IAAI,CAAC;YAC9E,CAAC,MAAI;cAAC;cACFJ,QAAQ,GAAGhD,IAAI,CAACmD,cAAc,GAAGb,KAAK,CAACc,QAAQ;YACnD;YACAH,KAAK,GAAGD,QAAQ,GAAGhD,IAAI,CAACuB,QAAQ;YAEhC,MAAM9B,eAAM,CAACC,IAAI,CAACsC,iBAAiB,CAAC;cAACN,GAAG,EAAE1B,IAAI,CAAC0B;YAAG,CAAC,EAAC;cAChDsB,QAAQ,EAAEA,QAAQ;cAClBC,KAAK,EAAEA,KAAK;cACZC,aAAa,EAAEZ,KAAK,CAACY,aAAa;cAClCE,QAAQ,EAAEd,KAAK,CAACc,QAAQ;cACxBC,UAAU,EAAEf,KAAK,CAACE;YACtB,CAAC,CAAC;UACN;QACJ;QACA,IAAGE,UAAU,CAACI,MAAM,GAAG,CAAC,EAAC;UACrB,IAAGJ,UAAU,CAACK,QAAQ,CAAC/C,IAAI,CAACiB,OAAO,CAAC4B,SAAS,GAAC,EAAE,CAAC,EAAC;YAC9C,IAAIG,QAAQ,GAAG,CAAC;YAChB,IAAIC,KAAK,GAAG,CAAC;YACb,IAAGX,KAAK,CAACY,aAAa,IAAI,CAAC,EAAC;cAAC;cACzBF,QAAQ,GAAGhD,IAAI,CAACmD,cAAc,GAAGnD,IAAI,CAACmD,cAAc,IAAEb,KAAK,CAACc,QAAQ,GAAC,IAAI,CAAC;YAC9E,CAAC,MAAI;cAAC;cACFJ,QAAQ,GAAGhD,IAAI,CAACmD,cAAc,GAAGb,KAAK,CAACc,QAAQ;YACnD;YACAH,KAAK,GAAGD,QAAQ,GAAGhD,IAAI,CAACuB,QAAQ;YAEhC,MAAM9B,eAAM,CAACC,IAAI,CAACsC,iBAAiB,CAAC;cAACN,GAAG,EAAE1B,IAAI,CAAC0B;YAAG,CAAC,EAAC;cAChDsB,QAAQ,EAAEA,QAAQ;cAClBC,KAAK,EAAEA,KAAK;cACZC,aAAa,EAAEZ,KAAK,CAACY,aAAa;cAClCE,QAAQ,EAAEd,KAAK,CAACc,QAAQ;cACxBC,UAAU,EAAEf,KAAK,CAACE;YACtB,CAAC,CAAC;UACN;QACJ;MACJ;MAEAnD,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBI,OAAO,EAAE,GAAG;QACZU,YAAY,EAAE;MAClB,CAAC,CAAC;IACN,CAAC,CAAC,OAAOZ,KAAK,EAAE;MACZjB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACI,IAAI,CAAC;QACjBC,OAAO,EAAC;MACZ,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACtB;EACJ;AACJ,CAAC;AAAAgD,OAAA,CAAArE,OAAA,GAAAC,QAAA","ignoreList":[]}},"mtime":1679242177694},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\AddressClient.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _AddressClientController = _interopRequireDefault(require(\"../controllers/AddressClientController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", _auth.default.verifyEcommerce, _AddressClientController.default.register);\nrouter.put(\"/update\", _auth.default.verifyEcommerce, _AddressClientController.default.update);\nrouter.get(\"/list\", _auth.default.verifyEcommerce, _AddressClientController.default.list);\nrouter.delete(\"/delete/:id\", _auth.default.verifyEcommerce, _AddressClientController.default.remove);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9BZGRyZXNzQ2xpZW50Q29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlFY29tbWVyY2UiLCJBZGRyZXNzQ2xpZW50Q29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImRlbGV0ZSIsInJlbW92ZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxccm91dGVyXFwiLCJzb3VyY2VzIjpbIkFkZHJlc3NDbGllbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IEFkZHJlc3NDbGllbnRDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL0FkZHJlc3NDbGllbnRDb250cm9sbGVyJ1xyXG5pbXBvcnQgYXV0aCBmcm9tICcuLi9taWRkbGV3YXJlcy9hdXRoJ1xyXG5cclxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xyXG4vLyBodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3VzZXJzL3JlZ2lzdGVyXHJcblxyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLEFkZHJlc3NDbGllbnRDb250cm9sbGVyLnJlZ2lzdGVyKTtcclxucm91dGVyLnB1dChcIi91cGRhdGVcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxBZGRyZXNzQ2xpZW50Q29udHJvbGxlci51cGRhdGUpO1xyXG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxBZGRyZXNzQ2xpZW50Q29udHJvbGxlci5saXN0KTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGUvOmlkXCIsYXV0aC52ZXJpZnlFY29tbWVyY2UsQWRkcmVzc0NsaWVudENvbnRyb2xsZXIucmVtb3ZlKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyx3QkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXRDLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFDeEI7O0FBRUFELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBQ0MsYUFBSSxDQUFDQyxlQUFlLEVBQUNDLGdDQUF1QixDQUFDQyxRQUFRLENBQUM7QUFDOUVOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLFNBQVMsRUFBQ0osYUFBSSxDQUFDQyxlQUFlLEVBQUNDLGdDQUF1QixDQUFDRyxNQUFNLENBQUM7QUFDekVSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBQ04sYUFBSSxDQUFDQyxlQUFlLEVBQUNDLGdDQUF1QixDQUFDSyxJQUFJLENBQUM7QUFDckVWLE1BQU0sQ0FBQ1csTUFBTSxDQUFDLGFBQWEsRUFBQ1IsYUFBSSxDQUFDQyxlQUFlLEVBQUNDLGdDQUF1QixDQUFDTyxNQUFNLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBRWxFYixNQUFNO0FBQUFjLE9BQUEsQ0FBQWYsT0FBQSxHQUFBYyxRQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_AddressClientController","_auth","obj","__esModule","default","router","routerx","post","auth","verifyEcommerce","AddressClientController","register","put","update","get","list","delete","remove","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["AddressClient.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport AddressClientController from '../controllers/AddressClientController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n// http://localhost:3000/api/users/register\r\n\r\nrouter.post(\"/register\",auth.verifyEcommerce,AddressClientController.register);\r\nrouter.put(\"/update\",auth.verifyEcommerce,AddressClientController.update);\r\nrouter.get(\"/list\",auth.verifyEcommerce,AddressClientController.list);\r\nrouter.delete(\"/delete/:id\",auth.verifyEcommerce,AddressClientController.remove);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,wBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,eAAe,EAACC,gCAAuB,CAACC,QAAQ,CAAC;AAC9EN,MAAM,CAACO,GAAG,CAAC,SAAS,EAACJ,aAAI,CAACC,eAAe,EAACC,gCAAuB,CAACG,MAAM,CAAC;AACzER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,eAAe,EAACC,gCAAuB,CAACK,IAAI,CAAC;AACrEV,MAAM,CAACW,MAAM,CAAC,aAAa,EAACR,aAAI,CAACC,eAAe,EAACC,gCAAuB,CAACO,MAAM,CAAC;AAAC,IAAAC,QAAA,GAElEb,MAAM;AAAAc,OAAA,CAAAf,OAAA,GAAAc,QAAA","ignoreList":[]}},"mtime":1679756135320},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\AddressClientController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  register: async (req, res) => {\n    try {\n      const address_client = await _models.default.AddressClient.create(req.body);\n      res.status(200).json({\n        message: \"LA DIRECCIÓN DEL CLIENTE SE REGISTRO CORRECTAMENTE\",\n        address_client: address_client\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"HUBO UN ERROR\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      await _models.default.AddressClient.findByIdAndUpdate({\n        _id: req.body._id\n      }, data);\n      let AddressClient = await _models.default.AddressClient.findById({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"LA DIRECCIÓN DEL CLIENTE SE EDITO CORRECTAMENTE\",\n        address_client: AddressClient\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"HUBO UN ERROR\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      let ADDRESS_CLIENT = await _models.default.AddressClient.find({\n        user: req.query.user_id\n      }).sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        address_client: ADDRESS_CLIENT\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"HUBO UN ERROR\"\n      });\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.AddressClient.findByIdAndDelete({\n        _id: req.params._id\n      });\n      res.status(200).json({\n        message: \"LA DIRECCIÓN DEL CLIENTE SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"HUBO UN ERROR\"\n      });\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwicmVnaXN0ZXIiLCJyZXEiLCJyZXMiLCJhZGRyZXNzX2NsaWVudCIsIm1vZGVscyIsIkFkZHJlc3NDbGllbnQiLCJjcmVhdGUiLCJib2R5Iiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJzZW5kIiwidXBkYXRlIiwiZGF0YSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiX2lkIiwiZmluZEJ5SWQiLCJsaXN0IiwiQUREUkVTU19DTElFTlQiLCJmaW5kIiwidXNlciIsInF1ZXJ5IiwidXNlcl9pZCIsInNvcnQiLCJyZW1vdmUiLCJmaW5kQnlJZEFuZERlbGV0ZSIsInBhcmFtcyIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIkFkZHJlc3NDbGllbnRDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSBcIi4uL21vZGVsc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcmVnaXN0ZXI6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFkZHJlc3NfY2xpZW50ID0gYXdhaXQgbW9kZWxzLkFkZHJlc3NDbGllbnQuY3JlYXRlKHJlcS5ib2R5KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJMQSBESVJFQ0NJw5NOIERFTCBDTElFTlRFIFNFIFJFR0lTVFJPIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgICAgIGFkZHJlc3NfY2xpZW50OiBhZGRyZXNzX2NsaWVudCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkhVQk8gVU4gRVJST1JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHVwZGF0ZTphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLkFkZHJlc3NDbGllbnQuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogcmVxLmJvZHkuX2lkfSxkYXRhKTtcclxuICAgICAgICAgICAgbGV0IEFkZHJlc3NDbGllbnQgPSBhd2FpdCBtb2RlbHMuQWRkcmVzc0NsaWVudC5maW5kQnlJZCh7X2lkOiByZXEuYm9keS5faWR9KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJMQSBESVJFQ0NJw5NOIERFTCBDTElFTlRFIFNFIEVESVRPIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgICAgIGFkZHJlc3NfY2xpZW50OiBBZGRyZXNzQ2xpZW50LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiSFVCTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbGlzdDphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IEFERFJFU1NfQ0xJRU5UID0gYXdhaXQgbW9kZWxzLkFkZHJlc3NDbGllbnQuZmluZCh7dXNlcjogcmVxLnF1ZXJ5LnVzZXJfaWR9KS5zb3J0KHsnY3JlYXRlZEF0JzogLTF9KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgYWRkcmVzc19jbGllbnQ6IEFERFJFU1NfQ0xJRU5UXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJIVUJPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICByZW1vdmU6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5BZGRyZXNzQ2xpZW50LmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IHJlcS5wYXJhbXMuX2lkfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTEEgRElSRUNDScOTTiBERUwgQ0xJRU5URSBTRSBFTElNSU5PIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkhVQk8gVU4gRVJST1JcIixcclxuICAgICAg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","map":{"version":3,"names":["_models","_interopRequireDefault","require","obj","__esModule","default","_default","register","req","res","address_client","models","AddressClient","create","body","status","json","message","error","console","log","send","update","data","findByIdAndUpdate","_id","findById","list","ADDRESS_CLIENT","find","user","query","user_id","sort","remove","findByIdAndDelete","params","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["AddressClientController.js"],"sourcesContent":["import models from \"../models\";\r\n\r\nexport default {\r\n    register:async(req,res) => {\r\n        try {\r\n            const address_client = await models.AddressClient.create(req.body);\r\n            res.status(200).json({\r\n                message: \"LA DIRECCIÓN DEL CLIENTE SE REGISTRO CORRECTAMENTE\",\r\n                address_client: address_client,\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"HUBO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    update:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            await models.AddressClient.findByIdAndUpdate({_id: req.body._id},data);\r\n            let AddressClient = await models.AddressClient.findById({_id: req.body._id});\r\n            res.status(200).json({\r\n                message: \"LA DIRECCIÓN DEL CLIENTE SE EDITO CORRECTAMENTE\",\r\n                address_client: AddressClient,\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"HUBO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    list:async(req,res) => {\r\n        try {\r\n            let ADDRESS_CLIENT = await models.AddressClient.find({user: req.query.user_id}).sort({'createdAt': -1});\r\n            res.status(200).json({\r\n                address_client: ADDRESS_CLIENT\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"HUBO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    remove:async(req,res) => {\r\n        try {\r\n            await models.AddressClient.findByIdAndDelete({_id: req.params._id});\r\n            res.status(200).json({\r\n                message: \"LA DIRECCIÓN DEL CLIENTE SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"HUBO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA+B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAEhB;EACXC,QAAQ,EAAC,MAAAA,CAAMC,GAAG,EAACC,GAAG,KAAK;IACvB,IAAI;MACA,MAAMC,cAAc,GAAG,MAAMC,eAAM,CAACC,aAAa,CAACC,MAAM,CAACL,GAAG,CAACM,IAAI,CAAC;MAClEL,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE,oDAAoD;QAC7DP,cAAc,EAAEA;MACpB,CAAC,CAAC;IACN,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClBT,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;QACjBJ,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ,CAAC;EACDK,MAAM,EAAC,MAAAA,CAAMd,GAAG,EAACC,GAAG,KAAK;IACrB,IAAI;MACA,IAAIc,IAAI,GAAGf,GAAG,CAACM,IAAI;MACnB,MAAMH,eAAM,CAACC,aAAa,CAACY,iBAAiB,CAAC;QAACC,GAAG,EAAEjB,GAAG,CAACM,IAAI,CAACW;MAAG,CAAC,EAACF,IAAI,CAAC;MACtE,IAAIX,aAAa,GAAG,MAAMD,eAAM,CAACC,aAAa,CAACc,QAAQ,CAAC;QAACD,GAAG,EAAEjB,GAAG,CAACM,IAAI,CAACW;MAAG,CAAC,CAAC;MAC5EhB,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE,iDAAiD;QAC1DP,cAAc,EAAEE;MACpB,CAAC,CAAC;IACN,CAAC,CAAC,OAAOM,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClBT,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;QACjBJ,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ,CAAC;EACDU,IAAI,EAAC,MAAAA,CAAMnB,GAAG,EAACC,GAAG,KAAK;IACnB,IAAI;MACA,IAAImB,cAAc,GAAG,MAAMjB,eAAM,CAACC,aAAa,CAACiB,IAAI,CAAC;QAACC,IAAI,EAAEtB,GAAG,CAACuB,KAAK,CAACC;MAAO,CAAC,CAAC,CAACC,IAAI,CAAC;QAAC,WAAW,EAAE,CAAC;MAAC,CAAC,CAAC;MACvGxB,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBN,cAAc,EAAEkB;MACpB,CAAC,CAAC;IACN,CAAC,CAAC,OAAOV,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClBT,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;QACjBJ,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ,CAAC;EACDiB,MAAM,EAAC,MAAAA,CAAM1B,GAAG,EAACC,GAAG,KAAK;IACrB,IAAI;MACA,MAAME,eAAM,CAACC,aAAa,CAACuB,iBAAiB,CAAC;QAACV,GAAG,EAAEjB,GAAG,CAAC4B,MAAM,CAACX;MAAG,CAAC,CAAC;MACnEhB,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClBT,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;QACjBJ,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ;AACJ,CAAC;AAAAoB,OAAA,CAAAhC,OAAA,GAAAC,QAAA","ignoreList":[]}},"mtime":1679758734010},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\Sale.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _SaleController = _interopRequireDefault(require(\"../controllers/SaleController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", _auth.default.verifyEcommerce, _SaleController.default.register);\n// router.get(\"/send_email/:id\",SaleController.send_email);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9TYWxlQ29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlFY29tbWVyY2UiLCJTYWxlQ29udHJvbGxlciIsInJlZ2lzdGVyIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiU2FsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tICdleHByZXNzLXByb21pc2Utcm91dGVyJ1xyXG5pbXBvcnQgU2FsZUNvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvU2FsZUNvbnRyb2xsZXInXHJcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXHJcblxyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcbi8vIGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcnMvcmVnaXN0ZXJcclxuXHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsYXV0aC52ZXJpZnlFY29tbWVyY2UsU2FsZUNvbnRyb2xsZXIucmVnaXN0ZXIpO1xyXG4vLyByb3V0ZXIuZ2V0KFwiL3NlbmRfZW1haWwvOmlkXCIsU2FsZUNvbnRyb2xsZXIuc2VuZF9lbWFpbCk7XHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxlQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBc0MsU0FBQUQsdUJBQUFJLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFdEMsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUN4Qjs7QUFFQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFDQyxhQUFJLENBQUNDLGVBQWUsRUFBQ0MsdUJBQWMsQ0FBQ0MsUUFBUSxDQUFDO0FBQ3JFO0FBQUEsSUFBQUMsUUFBQSxHQUNlUCxNQUFNO0FBQUFRLE9BQUEsQ0FBQVQsT0FBQSxHQUFBUSxRQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_SaleController","_auth","obj","__esModule","default","router","routerx","post","auth","verifyEcommerce","SaleController","register","_default","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["Sale.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport SaleController from '../controllers/SaleController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n// http://localhost:3000/api/users/register\r\n\r\nrouter.post(\"/register\",auth.verifyEcommerce,SaleController.register);\r\n// router.get(\"/send_email/:id\",SaleController.send_email);\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACC,QAAQ,CAAC;AACrE;AAAA,IAAAC,QAAA,GACeP,MAAM;AAAAQ,OAAA,CAAAT,OAAA,GAAAQ,QAAA","ignoreList":[]}},"mtime":1680307071422},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\SaleController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _handlebars = _interopRequireDefault(require(\"handlebars\"));\nvar _ejs = _interopRequireDefault(require(\"ejs\"));\nvar _nodemailer = _interopRequireDefault(require(\"nodemailer\"));\nvar _nodemailerSmtpTransport = _interopRequireDefault(require(\"nodemailer-smtp-transport\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nasync function send_email(sale_id) {\n  try {\n    var readHTMLFile = function (path, callback) {\n      _fs.default.readFile(path, {\n        encoding: 'utf-8'\n      }, function (err, html) {\n        if (err) {\n          throw err;\n          callback(err);\n        } else {\n          callback(null, html);\n        }\n      });\n    };\n    let Order = await _models.default.Sale.findById({\n      _id: sale_id\n    }).populate(\"user\");\n    let OrderDetail = await _models.default.SaleDetail.find({\n      sale: Order._id\n    }).populate(\"product\").populate(\"variedad\");\n    let AddressSale = await _models.default.SaleAddress.findOne({\n      sale: Order._id\n    });\n    var transporter = _nodemailer.default.createTransport((0, _nodemailerSmtpTransport.default)({\n      service: 'gmail',\n      host: 'smtp.gmail.com',\n      auth: {\n        user: 'demo@gmail.com',\n        pass: 'bilcfvchcrscbseu'\n      }\n    }));\n    readHTMLFile(process.cwd() + '/mails/email_sale.html', (err, html) => {\n      let rest_html = _ejs.default.render(html, {\n        order: Order,\n        address_sale: AddressSale,\n        order_detail: OrderDetail\n      });\n      var template = _handlebars.default.compile(rest_html);\n      var htmlToSend = template({\n        op: true\n      });\n      var mailOptions = {\n        from: 'demo@gmail.com',\n        to: Order.user.email,\n        subject: 'Finaliza tu compra ' + Order._id,\n        html: htmlToSend\n      };\n      transporter.sendMail(mailOptions, function (error, info) {\n        if (!error) {\n          console.log('Email sent: ' + info.response);\n        }\n      });\n    });\n\n    // res.status(200).json({\n    //     message: \"EL CORREO SE ENVIO CORRECTAMENTE\",\n    // });\n  } catch (error) {\n    console.log(error);\n    // res.status(500).send({\n    //     menssage:\"OCURRIO UN ERROR\",\n    // });\n  }\n}\nvar _default = {\n  register: async (req, res) => {\n    try {\n      let sale_data = req.body.sale;\n      let sale_address_data = req.body.sale_address;\n      let SALE = await _models.default.Sale.create(sale_data);\n      sale_address_data.sale = SALE._id;\n      let SALE_ADDRESS = await _models.default.SaleAddress.create(sale_address_data);\n      let CARTS = await _models.default.Cart.find({\n        user: SALE.user\n      });\n      for (let CART of CARTS) {\n        CART = CART.toObject();\n        CART.sale = SALE._id;\n        //EL DESCUENTO DE INVENTARIO\n        if (CART.variedad) {\n          //MULTIPLE INVENTARIO\n          let VARIEDAD = await _models.default.Variedad.findById({\n            _id: CART.variedad\n          });\n          let new_stock = VARIEDAD.stock - CART.cantidad;\n          await _models.default.Variedad.findByIdAndUpdate({\n            _id: CART.variedad\n          }, {\n            stock: new_stock\n          });\n        } else {\n          //UNITARIO INVENTARIO\n          let PRODUCT = await _models.default.Product.findById({\n            _id: CART.product\n          });\n          let new_stock = PRODUCT.stock - CART.cantidad;\n          await _models.default.Product.findByIdAndUpdate({\n            _id: CART.product\n          }, {\n            stock: new_stock\n          });\n        }\n        // \n        await _models.default.SaleDetail.create(CART);\n        await _models.default.Cart.findByIdAndDelete({\n          _id: CART._id\n        });\n      }\n      await send_email(SALE._id);\n      res.status(200).json({\n        message: \"LA ORDEN DE GENERO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"HUBO UN ERROR\"\n      });\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfZnMiLCJfaGFuZGxlYmFycyIsIl9lanMiLCJfbm9kZW1haWxlciIsIl9ub2RlbWFpbGVyU210cFRyYW5zcG9ydCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwic2VuZF9lbWFpbCIsInNhbGVfaWQiLCJyZWFkSFRNTEZpbGUiLCJwYXRoIiwiY2FsbGJhY2siLCJmcyIsInJlYWRGaWxlIiwiZW5jb2RpbmciLCJlcnIiLCJodG1sIiwiT3JkZXIiLCJtb2RlbHMiLCJTYWxlIiwiZmluZEJ5SWQiLCJfaWQiLCJwb3B1bGF0ZSIsIk9yZGVyRGV0YWlsIiwiU2FsZURldGFpbCIsImZpbmQiLCJzYWxlIiwiQWRkcmVzc1NhbGUiLCJTYWxlQWRkcmVzcyIsImZpbmRPbmUiLCJ0cmFuc3BvcnRlciIsIm5vZGVtYWlsZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJzbXRwVHJhbnNwb3J0Iiwic2VydmljZSIsImhvc3QiLCJhdXRoIiwidXNlciIsInBhc3MiLCJwcm9jZXNzIiwiY3dkIiwicmVzdF9odG1sIiwiZWpzIiwicmVuZGVyIiwib3JkZXIiLCJhZGRyZXNzX3NhbGUiLCJvcmRlcl9kZXRhaWwiLCJ0ZW1wbGF0ZSIsImhhbmRsZWJhcnMiLCJjb21waWxlIiwiaHRtbFRvU2VuZCIsIm9wIiwibWFpbE9wdGlvbnMiLCJmcm9tIiwidG8iLCJlbWFpbCIsInN1YmplY3QiLCJzZW5kTWFpbCIsImVycm9yIiwiaW5mbyIsImNvbnNvbGUiLCJsb2ciLCJyZXNwb25zZSIsIl9kZWZhdWx0IiwicmVnaXN0ZXIiLCJyZXEiLCJyZXMiLCJzYWxlX2RhdGEiLCJib2R5Iiwic2FsZV9hZGRyZXNzX2RhdGEiLCJzYWxlX2FkZHJlc3MiLCJTQUxFIiwiY3JlYXRlIiwiU0FMRV9BRERSRVNTIiwiQ0FSVFMiLCJDYXJ0IiwiQ0FSVCIsInRvT2JqZWN0IiwidmFyaWVkYWQiLCJWQVJJRURBRCIsIlZhcmllZGFkIiwibmV3X3N0b2NrIiwic3RvY2siLCJjYW50aWRhZCIsImZpbmRCeUlkQW5kVXBkYXRlIiwiUFJPRFVDVCIsIlByb2R1Y3QiLCJwcm9kdWN0IiwiZmluZEJ5SWRBbmREZWxldGUiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInNlbmQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJTYWxlQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gJy4uL21vZGVscyc7XHJcblxyXG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xyXG5pbXBvcnQgaGFuZGxlYmFycyBmcm9tICdoYW5kbGViYXJzJztcclxuaW1wb3J0IGVqcyBmcm9tICdlanMnO1xyXG5pbXBvcnQgbm9kZW1haWxlciBmcm9tICdub2RlbWFpbGVyJztcclxuaW1wb3J0IHNtdHBUcmFuc3BvcnQgZnJvbSAnbm9kZW1haWxlci1zbXRwLXRyYW5zcG9ydCc7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBzZW5kX2VtYWlsKHNhbGVfaWQpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgdmFyIHJlYWRIVE1MRmlsZSA9IGZ1bmN0aW9uKHBhdGgsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIGZzLnJlYWRGaWxlKHBhdGgsIHtlbmNvZGluZzogJ3V0Zi04J30sIGZ1bmN0aW9uIChlcnIsIGh0bWwpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIGh0bWwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9OyAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IE9yZGVyID0gYXdhaXQgbW9kZWxzLlNhbGUuZmluZEJ5SWQoe19pZDogc2FsZV9pZH0pLnBvcHVsYXRlKFwidXNlclwiKTtcclxuICAgICAgICBsZXQgT3JkZXJEZXRhaWwgPSBhd2FpdCBtb2RlbHMuU2FsZURldGFpbC5maW5kKHtzYWxlOiBPcmRlci5faWR9KS5wb3B1bGF0ZShcInByb2R1Y3RcIikucG9wdWxhdGUoXCJ2YXJpZWRhZFwiKTtcclxuICAgICAgICBsZXQgQWRkcmVzc1NhbGUgPSBhd2FpdCBtb2RlbHMuU2FsZUFkZHJlc3MuZmluZE9uZSh7c2FsZTogT3JkZXIuX2lkfSk7XHJcbiAgICAgICAgdmFyIHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoc210cFRyYW5zcG9ydCh7XHJcbiAgICAgICAgICAgIHNlcnZpY2U6ICdnbWFpbCcsXHJcbiAgICAgICAgICAgIGhvc3Q6ICdzbXRwLmdtYWlsLmNvbScsXHJcbiAgICAgICAgICAgIGF1dGg6IHtcclxuICAgICAgICAgICAgdXNlcjogJ2RlbW9AZ21haWwuY29tJyxcclxuICAgICAgICAgICAgICAgIHBhc3M6ICdiaWxjZnZjaGNyc2Nic2V1J1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkpO1xyXG5cclxuICAgICAgICByZWFkSFRNTEZpbGUocHJvY2Vzcy5jd2QoKSArICcvbWFpbHMvZW1haWxfc2FsZS5odG1sJywgKGVyciwgaHRtbCk9PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgbGV0IHJlc3RfaHRtbCA9IGVqcy5yZW5kZXIoaHRtbCwge29yZGVyOiBPcmRlcixhZGRyZXNzX3NhbGU6IEFkZHJlc3NTYWxlLG9yZGVyX2RldGFpbDogT3JkZXJEZXRhaWx9KTtcclxuICAgIFxyXG4gICAgICAgICAgICB2YXIgdGVtcGxhdGUgPSBoYW5kbGViYXJzLmNvbXBpbGUocmVzdF9odG1sKTtcclxuICAgICAgICAgICAgdmFyIGh0bWxUb1NlbmQgPSB0ZW1wbGF0ZSh7b3A6dHJ1ZX0pO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHZhciBtYWlsT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgIGZyb206ICdkZW1vQGdtYWlsLmNvbScsXHJcbiAgICAgICAgICAgICAgICB0bzogT3JkZXIudXNlci5lbWFpbCxcclxuICAgICAgICAgICAgICAgIHN1YmplY3Q6ICdGaW5hbGl6YSB0dSBjb21wcmEgJyArIE9yZGVyLl9pZCxcclxuICAgICAgICAgICAgICAgIGh0bWw6IGh0bWxUb1NlbmRcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgICB0cmFuc3BvcnRlci5zZW5kTWFpbChtYWlsT3B0aW9ucywgZnVuY3Rpb24oZXJyb3IsIGluZm8pe1xyXG4gICAgICAgICAgICAgICAgaWYgKCFlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFbWFpbCBzZW50OiAnICsgaW5mby5yZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAvLyAgICAgbWVzc2FnZTogXCJFTCBDT1JSRU8gU0UgRU5WSU8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgLy8gcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgIC8vICAgICBtZW5zc2FnZTpcIk9DVVJSSU8gVU4gRVJST1JcIixcclxuICAgICAgICAvLyB9KTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICByZWdpc3RlcjogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBzYWxlX2RhdGEgPSByZXEuYm9keS5zYWxlO1xyXG4gICAgICAgICAgICBsZXQgc2FsZV9hZGRyZXNzX2RhdGEgPSByZXEuYm9keS5zYWxlX2FkZHJlc3M7XHJcblxyXG4gICAgICAgICAgICBsZXQgU0FMRSA9IGF3YWl0IG1vZGVscy5TYWxlLmNyZWF0ZShzYWxlX2RhdGEpO1xyXG5cclxuICAgICAgICAgICAgc2FsZV9hZGRyZXNzX2RhdGEuc2FsZSA9IFNBTEUuX2lkO1xyXG5cclxuICAgICAgICAgICAgbGV0IFNBTEVfQUREUkVTUyA9IGF3YWl0IG1vZGVscy5TYWxlQWRkcmVzcy5jcmVhdGUoc2FsZV9hZGRyZXNzX2RhdGEpO1xyXG5cclxuICAgICAgICAgICAgbGV0IENBUlRTID0gYXdhaXQgbW9kZWxzLkNhcnQuZmluZCh7dXNlcjogU0FMRS51c2VyfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBmb3IgKGxldCBDQVJUIG9mIENBUlRTKSB7XHJcbiAgICAgICAgICAgICAgICBDQVJUID0gQ0FSVC50b09iamVjdCgpO1xyXG4gICAgICAgICAgICAgICAgQ0FSVC5zYWxlID0gU0FMRS5faWQ7XHJcbiAgICAgICAgICAgICAgICAvL0VMIERFU0NVRU5UTyBERSBJTlZFTlRBUklPXHJcbiAgICAgICAgICAgICAgICBpZihDQVJULnZhcmllZGFkKXsvL01VTFRJUExFIElOVkVOVEFSSU9cclxuICAgICAgICAgICAgICAgICAgICBsZXQgVkFSSUVEQUQgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZEJ5SWQoe19pZDogQ0FSVC52YXJpZWRhZH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdfc3RvY2sgPSBWQVJJRURBRC5zdG9jayAtIENBUlQuY2FudGlkYWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiBDQVJULnZhcmllZGFkfSx7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b2NrOiBuZXdfc3RvY2ssXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1lbHNley8vVU5JVEFSSU8gSU5WRU5UQVJJT1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBQUk9EVUNUID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWQoe19pZDogQ0FSVC5wcm9kdWN0fSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld19zdG9jayA9IFBST0RVQ1Quc3RvY2sgLSBDQVJULmNhbnRpZGFkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiBDQVJULnByb2R1Y3R9LHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RvY2s6bmV3X3N0b2NrLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBtb2RlbHMuU2FsZURldGFpbC5jcmVhdGUoQ0FSVCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBtb2RlbHMuQ2FydC5maW5kQnlJZEFuZERlbGV0ZSh7X2lkOiBDQVJULl9pZH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBhd2FpdCBzZW5kX2VtYWlsKFNBTEUuX2lkKTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTEEgT1JERU4gREUgR0VORVJPIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiSFVCTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFBQyxHQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxXQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxJQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxXQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSyx3QkFBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBQXNELFNBQUFELHVCQUFBTyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXRELGVBQWVHLFVBQVVBLENBQUNDLE9BQU8sRUFBRTtFQUMvQixJQUFJO0lBQ0EsSUFBSUMsWUFBWSxHQUFHLFNBQUFBLENBQVNDLElBQUksRUFBRUMsUUFBUSxFQUFFO01BQ3hDQyxXQUFFLENBQUNDLFFBQVEsQ0FBQ0gsSUFBSSxFQUFFO1FBQUNJLFFBQVEsRUFBRTtNQUFPLENBQUMsRUFBRSxVQUFVQyxHQUFHLEVBQUVDLElBQUksRUFBRTtRQUN4RCxJQUFJRCxHQUFHLEVBQUU7VUFDTCxNQUFNQSxHQUFHO1VBQ1RKLFFBQVEsQ0FBQ0ksR0FBRyxDQUFDO1FBQ2pCLENBQUMsTUFDSTtVQUNESixRQUFRLENBQUMsSUFBSSxFQUFFSyxJQUFJLENBQUM7UUFDeEI7TUFDSixDQUFDLENBQUM7SUFDTixDQUFDO0lBRUQsSUFBSUMsS0FBSyxHQUFHLE1BQU1D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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_fs","_handlebars","_ejs","_nodemailer","_nodemailerSmtpTransport","obj","__esModule","default","send_email","sale_id","readHTMLFile","path","callback","fs","readFile","encoding","err","html","Order","models","Sale","findById","_id","populate","OrderDetail","SaleDetail","find","sale","AddressSale","SaleAddress","findOne","transporter","nodemailer","createTransport","smtpTransport","service","host","auth","user","pass","process","cwd","rest_html","ejs","render","order","address_sale","order_detail","template","handlebars","compile","htmlToSend","op","mailOptions","from","to","email","subject","sendMail","error","info","console","log","response","_default","register","req","res","sale_data","body","sale_address_data","sale_address","SALE","create","SALE_ADDRESS","CARTS","Cart","CART","toObject","variedad","VARIEDAD","Variedad","new_stock","stock","cantidad","findByIdAndUpdate","PRODUCT","Product","product","findByIdAndDelete","status","json","message","send","exports"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["SaleController.js"],"sourcesContent":["import models from '../models';\r\n\r\nimport fs from 'fs';\r\nimport handlebars from 'handlebars';\r\nimport ejs from 'ejs';\r\nimport nodemailer from 'nodemailer';\r\nimport smtpTransport from 'nodemailer-smtp-transport';\r\n\r\nasync function send_email(sale_id) {\r\n    try {\r\n        var readHTMLFile = function(path, callback) {\r\n            fs.readFile(path, {encoding: 'utf-8'}, function (err, html) {\r\n                if (err) {\r\n                    throw err;\r\n                    callback(err);\r\n                }\r\n                else {\r\n                    callback(null, html);\r\n                }\r\n            });\r\n        };  \r\n        \r\n        let Order = await models.Sale.findById({_id: sale_id}).populate(\"user\");\r\n        let OrderDetail = await models.SaleDetail.find({sale: Order._id}).populate(\"product\").populate(\"variedad\");\r\n        let AddressSale = await models.SaleAddress.findOne({sale: Order._id});\r\n        var transporter = nodemailer.createTransport(smtpTransport({\r\n            service: 'gmail',\r\n            host: 'smtp.gmail.com',\r\n            auth: {\r\n            user: 'demo@gmail.com',\r\n                pass: 'bilcfvchcrscbseu'\r\n            }\r\n        }));\r\n\r\n        readHTMLFile(process.cwd() + '/mails/email_sale.html', (err, html)=>{\r\n                                \r\n            let rest_html = ejs.render(html, {order: Order,address_sale: AddressSale,order_detail: OrderDetail});\r\n    \r\n            var template = handlebars.compile(rest_html);\r\n            var htmlToSend = template({op:true});\r\n    \r\n            var mailOptions = {\r\n                from: 'demo@gmail.com',\r\n                to: Order.user.email,\r\n                subject: 'Finaliza tu compra ' + Order._id,\r\n                html: htmlToSend\r\n            };\r\n          \r\n            transporter.sendMail(mailOptions, function(error, info){\r\n                if (!error) {\r\n                    console.log('Email sent: ' + info.response);\r\n                }\r\n            });\r\n        \r\n        });\r\n        \r\n        // res.status(200).json({\r\n        //     message: \"EL CORREO SE ENVIO CORRECTAMENTE\",\r\n        // });\r\n    } catch (error) {\r\n        console.log(error);\r\n        // res.status(500).send({\r\n        //     menssage:\"OCURRIO UN ERROR\",\r\n        // });\r\n    }\r\n}\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            let sale_data = req.body.sale;\r\n            let sale_address_data = req.body.sale_address;\r\n\r\n            let SALE = await models.Sale.create(sale_data);\r\n\r\n            sale_address_data.sale = SALE._id;\r\n\r\n            let SALE_ADDRESS = await models.SaleAddress.create(sale_address_data);\r\n\r\n            let CARTS = await models.Cart.find({user: SALE.user});\r\n            \r\n            for (let CART of CARTS) {\r\n                CART = CART.toObject();\r\n                CART.sale = SALE._id;\r\n                //EL DESCUENTO DE INVENTARIO\r\n                if(CART.variedad){//MULTIPLE INVENTARIO\r\n                    let VARIEDAD = await models.Variedad.findById({_id: CART.variedad});\r\n                    let new_stock = VARIEDAD.stock - CART.cantidad;\r\n\r\n                    await models.Variedad.findByIdAndUpdate({_id: CART.variedad},{\r\n                        stock: new_stock,\r\n                    })\r\n                }else{//UNITARIO INVENTARIO\r\n                    let PRODUCT = await models.Product.findById({_id: CART.product});\r\n                    let new_stock = PRODUCT.stock - CART.cantidad;\r\n\r\n                    await models.Product.findByIdAndUpdate({_id: CART.product},{\r\n                        stock:new_stock,\r\n                    });\r\n                }\r\n                // \r\n                await models.SaleDetail.create(CART);\r\n                await models.Cart.findByIdAndDelete({_id: CART._id});\r\n            }\r\n\r\n            await send_email(SALE._id);\r\n\r\n            res.status(200).json({\r\n                message: \"LA ORDEN DE GENERO CORRECTAMENTE\",\r\n            })\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"HUBO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1681620934838},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _router = _interopRequireDefault(require(\"./router\"));\nvar dotenv = _interopRequireWildcard(require(\"dotenv\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// see https://github.com/motdotla/dotenv#how-do-i-use-dotenv-with-import\ndotenv.config();\n//CONEXION A LA BASE DE DATOS\n\n_mongoose.default.Promise = global.Promise;\nconst dbUrL = \"mongodb://localhost:27017/ecommerce_udemy\";\n_mongoose.default.connect(dbUrL, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}).then(mongoose => console.log(\"CONECTADO A LA BD EN EL PUERTO 27017\")).catch(err => console.log(err));\nconst app = (0, _express.default)();\napp.use((0, _cors.default)());\napp.use(_express.default.json());\napp.use(_express.default.urlencoded({\n  extended: true\n}));\napp.use(_express.default.static(_path.default.join(__dirname, 'public')));\napp.use('/api/', _router.default);\napp.set('port', process.env.PORT || 3000);\napp.listen(app.get('port'), () => {\n  console.log(\"EL SERVIDOR SE EJECUTO PERFECTAMENTE EN EL PUERTO 3000\");\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJtb25nb29zZSIsIlByb21pc2UiLCJnbG9iYWwiLCJkYlVyTCIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ0aGVuIiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyIiwiYXBwIiwiZXhwcmVzcyIsInVzZSIsImNvcnMiLCJqc29uIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwic3RhdGljIiwicGF0aCIsImpvaW4iLCJfX2Rpcm5hbWUiLCJyb3V0ZXIiLCJzZXQiLCJwcm9jZXNzIiwiZW52IiwiUE9SVCIsImxpc3RlbiIsImdldCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJ1xyXG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJ1xyXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xyXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnXHJcbmltcG9ydCByb3V0ZXIgZnJvbSAnLi9yb3V0ZXInXHJcbmltcG9ydCAqIGFzIGRvdGVudiBmcm9tICdkb3RlbnYnIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbW90ZG90bGEvZG90ZW52I2hvdy1kby1pLXVzZS1kb3RlbnYtd2l0aC1pbXBvcnRcclxuZG90ZW52LmNvbmZpZygpXHJcbi8vQ09ORVhJT04gQSBMQSBCQVNFIERFIERBVE9TXHJcblxyXG5tb25nb29zZS5Qcm9taXNlID0gZ2xvYmFsLlByb21pc2U7XHJcbmNvbnN0IGRiVXJMID0gXCJtb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3L2Vjb21tZXJjZV91ZGVteVwiO1xyXG5tb25nb29zZS5jb25uZWN0KFxyXG4gICAgZGJVckwgLCB7XHJcbiAgICAgICAgdXNlTmV3VXJsUGFyc2VyOiAgdHJ1ZSxcclxuICAgICAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWVcclxuICAgIH1cclxuKS50aGVuKG1vbmdvb3NlID0+IGNvbnNvbGUubG9nKFwiQ09ORUNUQURPIEEgTEEgQkQgRU4gRUwgUFVFUlRPIDI3MDE3XCIpKVxyXG4uY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG5cclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5hcHAudXNlKGNvcnMoKSk7XHJcblxyXG5hcHAudXNlKGV4cHJlc3MuanNvbigpKTtcclxuYXBwLnVzZShleHByZXNzLnVybGVuY29kZWQoe2V4dGVuZGVkOiB0cnVlfSkpO1xyXG5hcHAudXNlKGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsJ3B1YmxpYycpKSlcclxuYXBwLnVzZSgnL2FwaS8nLHJvdXRlcilcclxuXHJcbmFwcC5zZXQoJ3BvcnQnLHByb2Nlc3MuZW52LlBPUlQgfHwgMzAwMCk7XHJcblxyXG5hcHAubGlzdGVuKGFwcC5nZXQoJ3BvcnQnKSwgKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coXCJFTCBTRVJWSURPUiBTRSBFSkVDVVRPIFBFUkZFQ1RBTUVOVEUgRU4gRUwgUFVFUlRPIDMwMDBcIik7XHJcbn0pIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFnQztBQUFBO0FBQUE7QUFBQztBQUNqQ0EsTUFBTSxDQUFDQyxNQUFNLEVBQUU7QUFDZjs7QUFFQUMsaUJBQVEsQ0FBQ0MsT0FBTyxHQUFHQyxNQUFNLENBQUNELE9BQU87QUFDakMsTUFBTUUsS0FBSyxHQUFHLDJDQUEyQztBQUN6REgsaUJBQVEsQ0FBQ0ksT0FBTyxDQUNaRCxLQUFLLEVBQUc7RUFDSkUsZUFBZSxFQUFHLElBQUk7RUFDdEJDLGtCQUFrQixFQUFFO0FBQ3hCLENBQUMsQ0FDSixDQUFDQyxJQUFJLENBQUNQLFFBQVEsSUFBSVEsT0FBTyxDQUFDQyxHQUFHLENBQUMsc0NBQXNDLENBQUMsQ0FBQyxDQUN0RUMsS0FBSyxDQUFDQyxHQUFHLElBQUlILE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRSxHQUFHLENBQUMsQ0FBQztBQUUvQixNQUFNQyxHQUFHLEdBQUcsSUFBQUMsZ0JBQU8sR0FBRTtBQUNyQkQsR0FBRyxDQUFDRSxHQUFHLENBQUMsSUFBQUMsYUFBSSxHQUFFLENBQUM7QUFFZkgsR0FBRyxDQUFDRSxHQUFHLENBQUNELGdCQUFPLENBQUNHLElBQUksRUFBRSxDQUFDO0FBQ3ZCSixHQUFHLENBQUNFLEdBQUcsQ0FBQ0QsZ0JBQU8sQ0FBQ0ksVUFBVSxDQUFDO0VBQUNDLFFBQVEsRUFBRTtBQUFJLENBQUMsQ0FBQyxDQUFDO0FBQzdDTixHQUFHLENBQUNFLEdBQUcsQ0FBQ0QsZ0JBQU8sQ0FBQ00sTUFBTSxDQUFDQyxhQUFJLENBQUNDLElBQUksQ0FBQ0MsU0FBUyxFQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7QUFDdERWLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLE9BQU8sRUFBQ1MsZUFBTSxDQUFDO0FBRXZCWCxHQUFHLENBQUNZLEdBQUcsQ0FBQyxNQUFNLEVBQUNDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxJQUFJLElBQUksSUFBSSxDQUFDO0FBRXhDZixHQUFHLENBQUNnQixNQUFNLENBQUNoQixHQUFHLENBQUNpQixHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsTUFBTTtFQUM5QnJCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHdEQUF3RCxDQUFDO0FBQ3pFLENBQUMsQ0FBQyJ9","map":{"version":3,"names":["dotenv","config","mongoose","Promise","global","dbUrL","connect","useNewUrlParser","useUnifiedTopology","then","console","log","catch","err","app","express","use","cors","json","urlencoded","extended","static","path","join","__dirname","router","set","process","env","PORT","listen","get"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\","sources":["index.js"],"sourcesContent":["import express from 'express'\r\nimport cors from 'cors'\r\nimport path from 'path'\r\nimport mongoose from 'mongoose'\r\nimport router from './router'\r\nimport * as dotenv from 'dotenv' // see https://github.com/motdotla/dotenv#how-do-i-use-dotenv-with-import\r\ndotenv.config()\r\n//CONEXION A LA BASE DE DATOS\r\n\r\nmongoose.Promise = global.Promise;\r\nconst dbUrL = \"mongodb://localhost:27017/ecommerce_udemy\";\r\nmongoose.connect(\r\n    dbUrL , {\r\n        useNewUrlParser:  true,\r\n        useUnifiedTopology: true\r\n    }\r\n).then(mongoose => console.log(\"CONECTADO A LA BD EN EL PUERTO 27017\"))\r\n.catch(err => console.log(err));\r\n\r\nconst app = express();\r\napp.use(cors());\r\n\r\napp.use(express.json());\r\napp.use(express.urlencoded({extended: true}));\r\napp.use(express.static(path.join(__dirname,'public')))\r\napp.use('/api/',router)\r\n\r\napp.set('port',process.env.PORT || 3000);\r\n\r\napp.listen(app.get('port'), () => {\r\n    console.log(\"EL SERVIDOR SE EJECUTO PERFECTAMENTE EN EL PUERTO 3000\");\r\n})"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AAAgC;AAAA;AAAA;AAAC;AACjCA,MAAM,CAACC,MAAM,EAAE;AACf;;AAEAC,iBAAQ,CAACC,OAAO,GAAGC,MAAM,CAACD,OAAO;AACjC,MAAME,KAAK,GAAG,2CAA2C;AACzDH,iBAAQ,CAACI,OAAO,CACZD,KAAK,EAAG;EACJE,eAAe,EAAG,IAAI;EACtBC,kBAAkB,EAAE;AACxB,CAAC,CACJ,CAACC,IAAI,CAACP,QAAQ,IAAIQ,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC,CAAC,CACtEC,KAAK,CAACC,GAAG,IAAIH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC,CAAC;AAE/B,MAAMC,GAAG,GAAG,IAAAC,gBAAO,GAAE;AACrBD,GAAG,CAACE,GAAG,CAAC,IAAAC,aAAI,GAAE,CAAC;AAEfH,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACG,IAAI,EAAE,CAAC;AACvBJ,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACI,UAAU,CAAC;EAACC,QAAQ,EAAE;AAAI,CAAC,CAAC,CAAC;AAC7CN,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACM,MAAM,CAACC,aAAI,CAACC,IAAI,CAACC,SAAS,EAAC,QAAQ,CAAC,CAAC,CAAC;AACtDV,GAAG,CAACE,GAAG,CAAC,OAAO,EAACS,eAAM,CAAC;AAEvBX,GAAG,CAACY,GAAG,CAAC,MAAM,EAACC,OAAO,CAACC,GAAG,CAACC,IAAI,IAAI,IAAI,CAAC;AAExCf,GAAG,CAACgB,MAAM,CAAChB,GAAG,CAACiB,GAAG,CAAC,MAAM,CAAC,EAAE,MAAM;EAC9BrB,OAAO,CAACC,GAAG,CAAC,wDAAwD,CAAC;AACzE,CAAC,CAAC"}},"mtime":1681165221636},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _Cupone = _interopRequireDefault(require(\"./Cupone\"));\nvar _Discount = _interopRequireDefault(require(\"./Discount\"));\nvar _Home = _interopRequireDefault(require(\"./Home\"));\nvar _Cart = _interopRequireDefault(require(\"./Cart\"));\nvar _AddressClient = _interopRequireDefault(require(\"./AddressClient\"));\nvar _Sale = _interopRequireDefault(require(\"./Sale\"));\nvar _Review = _interopRequireDefault(require(\"./Review\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.use('/users', _User.default);\nrouter.use('/categories', _Categorie.default);\nrouter.use('/products', _Product.default);\nrouter.use('/sliders', _Slider.default);\nrouter.use('/cupones', _Cupone.default);\nrouter.use('/discount', _Discount.default);\nrouter.use('/home', _Home.default);\nrouter.use('/cart', _Cart.default);\nrouter.use('/address_client', _AddressClient.default);\nrouter.use('/sale', _Sale.default);\nrouter.use('/review', _Review.default);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJyb3V0ZXJ4IiwidXNlIiwiVXNlciIsIkNhdGVnb3JpZSIsIlByb2R1Y3QiLCJTbGlkZXIiLCJDdXBvbmUiLCJEaXNjb3VudCIsIkhvbWUiLCJDYXJ0IiwiQWRkcmVzc0NsaWVudCIsIlNhbGUiLCJSZXZpZXciXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tICdleHByZXNzLXByb21pc2Utcm91dGVyJ1xyXG5pbXBvcnQgVXNlciBmcm9tICcuL1VzZXInXHJcbmltcG9ydCBDYXRlZ29yaWUgZnJvbSAnLi9DYXRlZ29yaWUnXHJcbmltcG9ydCBQcm9kdWN0IGZyb20gJy4vUHJvZHVjdCdcclxuaW1wb3J0IFNsaWRlciBmcm9tICcuL1NsaWRlcidcclxuaW1wb3J0IEN1cG9uZSBmcm9tICcuL0N1cG9uZSdcclxuaW1wb3J0IERpc2NvdW50IGZyb20gJy4vRGlzY291bnQnXHJcbmltcG9ydCBIb21lIGZyb20gJy4vSG9tZSdcclxuaW1wb3J0IENhcnQgZnJvbSAnLi9DYXJ0J1xyXG5pbXBvcnQgQWRkcmVzc0NsaWVudCBmcm9tICcuL0FkZHJlc3NDbGllbnQnXHJcbmltcG9ydCBTYWxlIGZyb20gJy4vU2FsZSdcclxuaW1wb3J0IFJldmlldyBmcm9tICcuL1JldmlldydcclxuXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxucm91dGVyLnVzZSgnL3VzZXJzJywgVXNlcik7XHJcbnJvdXRlci51c2UoJy9jYXRlZ29yaWVzJywgQ2F0ZWdvcmllKTtcclxucm91dGVyLnVzZSgnL3Byb2R1Y3RzJywgUHJvZHVjdCk7XHJcbnJvdXRlci51c2UoJy9zbGlkZXJzJywgU2xpZGVyKTtcclxucm91dGVyLnVzZSgnL2N1cG9uZXMnLCBDdXBvbmUpO1xyXG5yb3V0ZXIudXNlKCcvZGlzY291bnQnLCBEaXNjb3VudCk7XHJcbnJvdXRlci51c2UoJy9ob21lJywgSG9tZSk7XHJcbnJvdXRlci51c2UoJy9jYXJ0JywgQ2FydCk7XHJcbnJvdXRlci51c2UoJy9hZGRyZXNzX2NsaWVudCcsQWRkcmVzc0NsaWVudCk7XHJcbnJvdXRlci51c2UoJy9zYWxlJyxTYWxlKTtcclxucm91dGVyLnVzZSgnL3JldmlldycsUmV2aWV3KTtcclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQTZCO0FBRTdCLE1BQU1BLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxHQUFFO0FBQ3hCRCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxRQUFRLEVBQUVDLGFBQUksQ0FBQztBQUMxQkgsTUFBTSxDQUFDRSxHQUFHLENBQUMsYUFBYSxFQUFFRSxrQkFBUyxDQUFDO0FBQ3BDSixNQUFNLENBQUNFLEdBQUcsQ0FBQyxXQUFXLEVBQUVHLGdCQUFPLENBQUM7QUFDaENMLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLFVBQVUsRUFBRUksZUFBTSxDQUFDO0FBQzlCTixNQUFNLENBQUNFLEdBQUcsQ0FBQyxVQUFVLEVBQUVLLGVBQU0sQ0FBQztBQUM5QlAsTUFBTSxDQUFDRSxHQUFHLENBQUMsV0FBVyxFQUFFTSxpQkFBUSxDQUFDO0FBQ2pDUixNQUFNLENBQUNFLEdBQUcsQ0FBQyxPQUFPLEVBQUVPLGFBQUksQ0FBQztBQUN6QlQsTUFBTSxDQUFDRSxHQUFHLENBQUMsT0FBTyxFQUFFUSxhQUFJLENBQUM7QUFDekJWLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLGlCQUFpQixFQUFDUyxzQkFBYSxDQUFDO0FBQzNDWCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxPQUFPLEVBQUNVLGFBQUksQ0FBQztBQUN4QlosTUFBTSxDQUFDRSxHQUFHLENBQUMsU0FBUyxFQUFDVyxlQUFNLENBQUM7QUFBQyxlQUNkYixNQUFNO0FBQUEifQ==","map":{"version":3,"names":["router","routerx","use","User","Categorie","Product","Slider","Cupone","Discount","Home","Cart","AddressClient","Sale","Review"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["index.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport User from './User'\r\nimport Categorie from './Categorie'\r\nimport Product from './Product'\r\nimport Slider from './Slider'\r\nimport Cupone from './Cupone'\r\nimport Discount from './Discount'\r\nimport Home from './Home'\r\nimport Cart from './Cart'\r\nimport AddressClient from './AddressClient'\r\nimport Sale from './Sale'\r\nimport Review from './Review'\r\n\r\nconst router = routerx();\r\nrouter.use('/users', User);\r\nrouter.use('/categories', Categorie);\r\nrouter.use('/products', Product);\r\nrouter.use('/sliders', Slider);\r\nrouter.use('/cupones', Cupone);\r\nrouter.use('/discount', Discount);\r\nrouter.use('/home', Home);\r\nrouter.use('/cart', Cart);\r\nrouter.use('/address_client',AddressClient);\r\nrouter.use('/sale',Sale);\r\nrouter.use('/review',Review);\r\nexport default router;"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAA6B;AAE7B,MAAMA,MAAM,GAAG,IAAAC,6BAAO,GAAE;AACxBD,MAAM,CAACE,GAAG,CAAC,QAAQ,EAAEC,aAAI,CAAC;AAC1BH,MAAM,CAACE,GAAG,CAAC,aAAa,EAAEE,kBAAS,CAAC;AACpCJ,MAAM,CAACE,GAAG,CAAC,WAAW,EAAEG,gBAAO,CAAC;AAChCL,MAAM,CAACE,GAAG,CAAC,UAAU,EAAEI,eAAM,CAAC;AAC9BN,MAAM,CAACE,GAAG,CAAC,UAAU,EAAEK,eAAM,CAAC;AAC9BP,MAAM,CAACE,GAAG,CAAC,WAAW,EAAEM,iBAAQ,CAAC;AACjCR,MAAM,CAACE,GAAG,CAAC,OAAO,EAAEO,aAAI,CAAC;AACzBT,MAAM,CAACE,GAAG,CAAC,OAAO,EAAEQ,aAAI,CAAC;AACzBV,MAAM,CAACE,GAAG,CAAC,iBAAiB,EAACS,sBAAa,CAAC;AAC3CX,MAAM,CAACE,GAAG,CAAC,OAAO,EAACU,aAAI,CAAC;AACxBZ,MAAM,CAACE,GAAG,CAAC,SAAS,EAACW,eAAM,CAAC;AAAC,eACdb,MAAM;AAAA"}},"mtime":1680709936100},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _UserController = _interopRequireDefault(require(\"../controllers/UserController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", _UserController.default.register);\nrouter.put(\"/update\", _UserController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _UserController.default.list);\nrouter.post(\"/register_admin\", _auth.default.verifyAdmin, _UserController.default.register_admin);\nrouter.post(\"/login\", _UserController.default.login);\nrouter.post(\"/login_admin\", _UserController.default.login_admin);\nrouter.delete(\"/delete\", _UserController.default.remove);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsInVzZXJjb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJsaXN0IiwicmVnaXN0ZXJfYWRtaW4iLCJsb2dpbiIsImxvZ2luX2FkbWluIiwiZGVsZXRlIiwicmVtb3ZlIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tICdleHByZXNzLXByb21pc2Utcm91dGVyJ1xyXG5pbXBvcnQgdXNlcmNvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvVXNlckNvbnRyb2xsZXInXHJcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXHJcblxyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcbi8vIGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcnMvcmVnaXN0ZXJcclxuXHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsdXNlcmNvbnRyb2xsZXIucmVnaXN0ZXIpO1xyXG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLHVzZXJjb250cm9sbGVyLnVwZGF0ZSk7XHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4sdXNlcmNvbnRyb2xsZXIubGlzdCk7XHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyX2FkbWluXCIsYXV0aC52ZXJpZnlBZG1pbix1c2VyY29udHJvbGxlci5yZWdpc3Rlcl9hZG1pbik7XHJcbnJvdXRlci5wb3N0KFwiL2xvZ2luXCIsdXNlcmNvbnRyb2xsZXIubG9naW4pO1xyXG5yb3V0ZXIucG9zdChcIi9sb2dpbl9hZG1pblwiLHVzZXJjb250cm9sbGVyLmxvZ2luX2FkbWluKTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIix1c2VyY29udHJvbGxlci5yZW1vdmUpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQXNDO0FBRXRDLE1BQU1BLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxHQUFFO0FBQ3hCOztBQUVBRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUNDLHVCQUFjLENBQUNDLFFBQVEsQ0FBQztBQUNoREosTUFBTSxDQUFDSyxHQUFHLENBQUMsU0FBUyxFQUFDRix1QkFBYyxDQUFDRyxNQUFNLENBQUM7QUFDM0NOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLE9BQU8sRUFBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUNOLHVCQUFjLENBQUNPLElBQUksQ0FBQztBQUN4RFYsTUFBTSxDQUFDRSxJQUFJLENBQUMsaUJBQWlCLEVBQUNNLGFBQUksQ0FBQ0MsV0FBVyxFQUFDTix1QkFBYyxDQUFDUSxjQUFjLENBQUM7QUFDN0VYLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFFBQVEsRUFBQ0MsdUJBQWMsQ0FBQ1MsS0FBSyxDQUFDO0FBQzFDWixNQUFNLENBQUNFLElBQUksQ0FBQyxjQUFjLEVBQUNDLHVCQUFjLENBQUNVLFdBQVcsQ0FBQztBQUN0RGIsTUFBTSxDQUFDYyxNQUFNLENBQUMsU0FBUyxFQUFDWCx1QkFBYyxDQUFDWSxNQUFNLENBQUM7QUFBQyxlQUVoQ2YsTUFBTTtBQUFBIn0=","map":{"version":3,"names":["router","routerx","post","usercontroller","register","put","update","get","auth","verifyAdmin","list","register_admin","login","login_admin","delete","remove"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["User.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport usercontroller from '../controllers/UserController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n// http://localhost:3000/api/users/register\r\n\r\nrouter.post(\"/register\",usercontroller.register);\r\nrouter.put(\"/update\",usercontroller.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,usercontroller.list);\r\nrouter.post(\"/register_admin\",auth.verifyAdmin,usercontroller.register_admin);\r\nrouter.post(\"/login\",usercontroller.login);\r\nrouter.post(\"/login_admin\",usercontroller.login_admin);\r\nrouter.delete(\"/delete\",usercontroller.remove);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA;AACA;AACA;AAAsC;AAEtC,MAAMA,MAAM,GAAG,IAAAC,6BAAO,GAAE;AACxB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,uBAAc,CAACC,QAAQ,CAAC;AAChDJ,MAAM,CAACK,GAAG,CAAC,SAAS,EAACF,uBAAc,CAACG,MAAM,CAAC;AAC3CN,MAAM,CAACO,GAAG,CAAC,OAAO,EAACC,aAAI,CAACC,WAAW,EAACN,uBAAc,CAACO,IAAI,CAAC;AACxDV,MAAM,CAACE,IAAI,CAAC,iBAAiB,EAACM,aAAI,CAACC,WAAW,EAACN,uBAAc,CAACQ,cAAc,CAAC;AAC7EX,MAAM,CAACE,IAAI,CAAC,QAAQ,EAACC,uBAAc,CAACS,KAAK,CAAC;AAC1CZ,MAAM,CAACE,IAAI,CAAC,cAAc,EAACC,uBAAc,CAACU,WAAW,CAAC;AACtDb,MAAM,CAACc,MAAM,CAAC,SAAS,EAACX,uBAAc,CAACY,MAAM,CAAC;AAAC,eAEhCf,MAAM;AAAA"}},"mtime":1676271632239},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  register: async (req, res) => {\n    try {\n      // rol\n      // name\n      // surname\n      // email\n      // password\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      const user = await _models.default.User.create(req.body);\n      res.status(200).json(user);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_admin: async (req, res) => {\n    try {\n      // rol\n      // name\n      // surname\n      // email\n      // password\n      const userV = await _models.default.User.findOne({\n        email: req.body.email\n      });\n      if (userV) {\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"admin\";\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      let user = await _models.default.User.create(req.body);\n      res.status(200).json({\n        user: _resources.default.User.user_list(user)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1\n      });\n      if (user) {\n        //SI ESTA RGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              _id: user._id,\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login_admin: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1,\n        rol: \"admin\"\n      });\n      if (user) {\n        //SI ESTA RGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar,\n              rol: user.rol\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('\\\\');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let UserT = await _models.default.User.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n        user: _resources.default.User.user_list(UserT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Users = await _models.default.User.find({\n        $or: [{\n          \"name\": new RegExp(search, \"i\")\n        }, {\n          \"surname\": new RegExp(search, \"i\")\n        }, {\n          \"email\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Users = Users.map(user => {\n        return _resources.default.User.user_list(user);\n      });\n      res.status(200).json({\n        users: Users\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      const User = await _models.default.User.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZWdpc3RlciIsInJlcSIsInJlcyIsImJvZHkiLCJwYXNzd29yZCIsImJjcnlwdCIsImhhc2giLCJ1c2VyIiwibW9kZWxzIiwiVXNlciIsImNyZWF0ZSIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInNlbmQiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyIsInJlZ2lzdGVyX2FkbWluIiwidXNlclYiLCJmaW5kT25lIiwiZW1haWwiLCJyb2wiLCJyZXNvdXJjZSIsInVzZXJfbGlzdCIsImxvZ2luIiwic3RhdGUiLCJjb21wYXJlIiwidG9rZW5UIiwidG9rZW4iLCJlbmNvZGUiLCJfaWQiLCJVU0VSX0ZST05URUQiLCJuYW1lIiwic3VybmFtZSIsImF2YXRhciIsImxvZ2luX2FkbWluIiwidXBkYXRlIiwiZmlsZXMiLCJpbWdfcGF0aCIsInBhdGgiLCJzcGxpdCIsImF2YXRhcl9uYW1lIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJVc2VyVCIsImxpc3QiLCJzZWFyY2giLCJxdWVyeSIsIlVzZXJzIiwiZmluZCIsIiRvciIsIlJlZ0V4cCIsInNvcnQiLCJtYXAiLCJ1c2VycyIsInJlbW92ZSIsImZpbmRCeUlkQW5kRGVsZXRlIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJVc2VyQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJ1xyXG5pbXBvcnQgbW9kZWxzIGZyb20gJy4uL21vZGVscydcclxuaW1wb3J0IHRva2VuIGZyb20gJy4uL3NlcnZpY2VzL3Rva2VuJ1xyXG5pbXBvcnQgcmVzb3VyY2UgZnJvbSAnLi4vcmVzb3VyY2VzJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyByb2xcclxuICAgICAgICAgICAgLy8gbmFtZVxyXG4gICAgICAgICAgICAvLyBzdXJuYW1lXHJcbiAgICAgICAgICAgIC8vIGVtYWlsXHJcbiAgICAgICAgICAgIC8vIHBhc3N3b3JkXHJcbiAgICAgICAgICAgIHJlcS5ib2R5LnBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocmVxLmJvZHkucGFzc3dvcmQsMTApO1xyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuY3JlYXRlKHJlcS5ib2R5KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24odXNlcik7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgcmVnaXN0ZXJfYWRtaW46IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyByb2xcclxuICAgICAgICAgICAgLy8gbmFtZVxyXG4gICAgICAgICAgICAvLyBzdXJuYW1lXHJcbiAgICAgICAgICAgIC8vIGVtYWlsXHJcbiAgICAgICAgICAgIC8vIHBhc3N3b3JkXHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXJWID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsfSk7XHJcbiAgICAgICAgICAgIGlmKHVzZXJWKXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gWUEgRVhJU1RFXCJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlcS5ib2R5LnJvbCA9IFwiYWRtaW5cIjtcclxuICAgICAgICAgICAgcmVxLmJvZHkucGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChyZXEuYm9keS5wYXNzd29yZCwxMCk7XHJcbiAgICAgICAgICAgIGxldCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuY3JlYXRlKHJlcS5ib2R5KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgdXNlcjogcmVzb3VyY2UuVXNlci51c2VyX2xpc3QodXNlcilcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbG9naW46IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsLHN0YXRlOjF9KTtcclxuICAgICAgICAgICAgaWYodXNlcil7XHJcbiAgICAgICAgICAgICAgICAvL1NJIEVTVEEgUkdJU1RSQURPIEVOIEVMIFNJU1RFTUFcclxuICAgICAgICAgICAgICAgIGxldCBjb21wYXJlID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocmVxLmJvZHkucGFzc3dvcmQsdXNlci5wYXNzd29yZCk7XHJcbiAgICAgICAgICAgICAgICBpZihjb21wYXJlKXtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdG9rZW5UID0gYXdhaXQgdG9rZW4uZW5jb2RlKHVzZXIuX2lkLHVzZXIucm9sLHVzZXIuZW1haWwpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBVU0VSX0ZST05URUQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOnRva2VuVCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2lkOiB1c2VyLl9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VybmFtZTogdXNlci5zdXJuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVVNFUl9GUk9OVEVEOlVTRVJfRlJPTlRFRCxcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVhJU1RFXCJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGxvZ2luX2FkbWluOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoe2VtYWlsOiByZXEuYm9keS5lbWFpbCxzdGF0ZToxLHJvbDogXCJhZG1pblwifSk7XHJcbiAgICAgICAgICAgIGlmKHVzZXIpe1xyXG4gICAgICAgICAgICAgICAgLy9TSSBFU1RBIFJHSVNUUkFETyBFTiBFTCBTSVNURU1BXHJcbiAgICAgICAgICAgICAgICBsZXQgY29tcGFyZSA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHJlcS5ib2R5LnBhc3N3b3JkLHVzZXIucGFzc3dvcmQpO1xyXG4gICAgICAgICAgICAgICAgaWYoY29tcGFyZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRva2VuVCA9IGF3YWl0IHRva2VuLmVuY29kZSh1c2VyLl9pZCx1c2VyLnJvbCx1c2VyLmVtYWlsKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgVVNFUl9GUk9OVEVEID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjp0b2tlblQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VybmFtZTogdXNlci5zdXJuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbDogdXNlci5yb2wsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFVTRVJfRlJPTlRFRDpVU0VSX0ZST05URUQsXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBOTyBFWElTVEVcIlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB1cGRhdGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZihyZXEuZmlsZXMpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLmF2YXRhci5wYXRoO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnXFxcXCcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGF2YXRhcl9uYW1lID0gbmFtZVsyXTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGF2YXRhcl9uYW1lKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHJlcS5ib2R5LnBhc3N3b3JkKXtcclxuICAgICAgICAgICAgICAgIHJlcS5ib2R5LnBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocmVxLmJvZHkucGFzc3dvcmQsMTApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHJlcS5ib2R5Ll9pZH0scmVxLmJvZHkpO1xyXG5cclxuICAgICAgICAgICAgbGV0IFVzZXJUID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7X2lkOiByZXEuYm9keS5faWR9KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIFNFIEhBIE1PRElGSUNBRE8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICAgICAgdXNlcjogcmVzb3VyY2UuVXNlci51c2VyX2xpc3QoVXNlclQpLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBsaXN0OiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIHNlYXJjaCA9IHJlcS5xdWVyeS5zZWFyY2g7XHJcbiAgICAgICAgICAgIGxldCBVc2VycyA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmQoe1xyXG4gICAgICAgICAgICAgICAgJG9yOltcclxuICAgICAgICAgICAgICAgICAgICB7XCJuYW1lXCI6IG5ldyBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcInN1cm5hbWVcIjogbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXHJcbiAgICAgICAgICAgICAgICAgICAge1wiZW1haWxcIjogbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH0pLnNvcnQoeydjcmVhdGVkQXQnOiAtMX0pO1xyXG5cclxuICAgICAgICAgICAgVXNlcnMgPSBVc2Vycy5tYXAoKHVzZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvdXJjZS5Vc2VyLnVzZXJfbGlzdCh1c2VyKTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIHVzZXJzOiBVc2Vyc1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICByZW1vdmU6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBVc2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZEJ5SWRBbmREZWxldGUoe19pZDogcmVxLnF1ZXJ5Ll9pZH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gU0UgRUxJTUlOTyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFtQztBQUFBLGVBRXBCO0VBQ1hBLFFBQVEsRUFBRSxPQUFNQyxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUN4QixJQUFJO01BQ0E7TUFDQTtNQUNBO01BQ0E7TUFDQTtNQUNBRCxHQUFHLENBQUNFLElBQUksQ0FBQ0MsUUFBUSxHQUFHLE1BQU1DLGlCQUFNLENBQUNDLElBQUksQ0FBQ0wsR0FBRyxDQUFDRSxJQUFJLENBQUNDLFFBQVEsRUFBQyxFQUFFLENBQUM7TUFDM0QsTUFBTUcsSUFBSSxHQUFHLE1BQU1DLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDQyxNQUFNLENBQUNULEdBQUcsQ0FBQ0UsSUFBSSxDQUFDO01BQy9DRCxHQUFHLENBQUNTLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDTCxJQUFJLENBQUM7SUFDOUIsQ0FBQyxDQUFDLE9BQU9NLEtBQUssRUFBRTtNQUNaWCxHQUFHLENBQUNTLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0csSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7TUFDRkMsT0FBTyxDQUFDQyxHQUFHLENBQUNKLEtBQUssQ0FBQztJQUN0QjtFQUNKLENBQUM7RUFDREssY0FBYyxFQUFFLE9BQU1qQixHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUM5QixJQUFJO01BQ0E7TUFDQTtNQUNBO01BQ0E7TUFDQTtNQUNBLE1BQU1pQixLQUFLLEdBQUcsTUFBTVgsZUFBTSxDQUFDQyxJQUFJLENBQUNXLE9BQU8sQ0FBQztRQUFDQyxLQUFLLEVBQUVwQixHQUFHLENBQUNFLElBQUksQ0FBQ2tCO01BQUssQ0FBQyxDQUFDO01BQ2hFLElBQUdGLEtBQUssRUFBQztRQUNMakIsR0FBRyxDQUFDUyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNHLElBQUksQ0FBQztVQUNqQkMsT0FBTyxFQUFFO1FBQ2IsQ0FBQyxDQUFDO01BQ047TUFDQWQsR0FBRyxDQUFDRSxJQUFJLENBQUNtQixHQUFHLEdBQUcsT0FBTztNQUN0QnJCLEdBQUcsQ0FBQ0UsSUFBSSxDQUFDQyxRQUFRLEdBQUcsTUFBTUMsaUJBQU0sQ0FBQ0MsSUFBSSxDQUFDTCxHQUFHLENBQUNFLElBQUksQ0FBQ0MsUUFBUSxFQUFDLEVBQUUsQ0FBQztNQUMzRCxJQUFJRyxJQUFJLEdBQUcsTUFBTUMsZUFBTSxDQUFDQyxJQUFJLENBQUNDLE1BQU0sQ0FBQ1QsR0FBRyxDQUFDRSxJQUFJLENBQUM7TUFDN0NELEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJMLElBQUksRUFBRWdCLGtCQUFRLENBQUNkLElBQUksQ0FBQ2UsU0FBUyxDQUFDakIsSUFBSTtNQUN0QyxDQUFDLENBQUM7SUFDTixDQUFDLENBQUMsT0FBT00sS0FBSyxFQUFFO01BQ1pYLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztNQUNGQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0osS0FBSyxDQUFDO0lBQ3RCO0VBQ0osQ0FBQztFQUNEWSxLQUFLLEVBQUUsT0FBTXhCLEdBQUcsRUFBQ0MsR0FBRyxLQUFLO0lBQ3JCLElBQUk7TUFDQSxNQUFNSyxJQUFJLEdBQUcsTUFBTUMsZUFBTSxDQUFDQyxJQUFJLENBQUNXLE9BQU8sQ0FBQztRQUFDQyxLQUFLLEVBQUVwQixHQUFHLENBQUNFLElBQUksQ0FBQ2tCLEtBQUs7UUFBQ0ssS0FBSyxFQUFDO01BQUMsQ0FBQyxDQUFDO01BQ3ZFLElBQUduQixJQUFJLEVBQUM7UUFDSjtRQUNBLElBQUlvQixPQUFPLEdBQUcsTUFBTXRCLGlCQUFNLENBQUNzQixPQUFPLENBQUMxQixHQUFHLENBQUNFLElBQUksQ0FBQ0MsUUFBUSxFQUFDRyxJQUFJLENBQUNILFFBQVEsQ0FBQztRQUNuRSxJQUFHdUIsT0FBTyxFQUFDO1VBQ1AsSUFBSUMsTUFBTSxHQUFHLE1BQU1DLGNBQUssQ0FBQ0MsTUFBTSxDQUFDdkIsSUFBSSxDQUFDd0IsR0FBRyxFQUFDeEIsSUFBSSxDQUFDZSxHQUFHLEVBQUNmLElBQUksQ0FBQ2MsS0FBSyxDQUFDO1VBRTdELE1BQU1XLFlBQVksR0FBRztZQUNqQkgsS0FBSyxFQUFDRCxNQUFNO1lBQ1pyQixJQUFJLEVBQUU7Y0FDRndCLEdBQUcsRUFBRXhCLElBQUksQ0FBQ3dCLEdBQUc7Y0FDYkUsSUFBSSxFQUFFMUIsSUFBSSxDQUFDMEIsSUFBSTtjQUNmWixLQUFLLEVBQUVkLElBQUksQ0FBQ2MsS0FBSztjQUNqQmEsT0FBTyxFQUFFM0IsSUFBSSxDQUFDMkIsT0FBTztjQUNyQkMsTUFBTSxFQUFFNUIsSUFBSSxDQUFDNEI7WUFDakI7VUFDSixDQUFDO1VBRURqQyxHQUFHLENBQUNTLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1lBQ2pCb0IsWUFBWSxFQUFDQTtVQUNqQixDQUFDLENBQUM7UUFDTixDQUFDLE1BQUk7VUFDRDlCLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUM7WUFDakJDLE9BQU8sRUFBRTtVQUNiLENBQUMsQ0FBQztRQUNOO01BQ0osQ0FBQyxNQUFJO1FBQ0RiLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUM7VUFDakJDLE9BQU8sRUFBRTtRQUNiLENBQUMsQ0FBQztNQUNOO0lBQ0osQ0FBQyxDQUFDLE9BQU9GLEtBQUssRUFBRTtNQUNaWCxHQUFHLENBQUNTLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0csSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7TUFDRkMsT0FBTyxDQUFDQyxHQUFHLENBQUNKLEtBQUssQ0FBQztJQUN0QjtFQUNKLENBQUM7RUFDRHVCLFdBQVcsRUFBRSxPQUFNbkMsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDM0IsSUFBSTtNQUNBLE1BQU1LLElBQUksR0FBRyxNQUFNQyxlQUFNLENBQUNDLElBQUksQ0FBQ1csT0FBTyxDQUFDO1FBQUNDLEtBQUssRUFBRXBCLEdBQUcsQ0FBQ0UsSUFBSSxDQUFDa0IsS0FBSztRQUFDSyxLQUFLLEVBQUMsQ0FBQztRQUFDSixHQUFHLEVBQUU7TUFBTyxDQUFDLENBQUM7TUFDcEYsSUFBR2YsSUFBSSxFQUFDO1FBQ0o7UUFDQSxJQUFJb0IsT0FBTyxHQUFHLE1BQU10QixpQkFBTSxDQUFDc0IsT0FBTyxDQUFDMUIsR0FBRyxDQUFDRSxJQUFJLENBQUNDLFFBQVEsRUFBQ0csSUFBSSxDQUFDSCxRQUFRLENBQUM7UUFDbkUsSUFBR3VCLE9BQU8sRUFBQztVQUNQLElBQUlDLE1BQU0sR0FBRyxNQUFNQyxjQUFLLENBQUNDLE1BQU0sQ0FBQ3ZCLElBQUksQ0FBQ3dCLEdBQUcsRUFBQ3hCLElBQUksQ0FBQ2UsR0FBRyxFQUFDZixJQUFJLENBQUNjLEtBQUssQ0FBQztVQUU3RCxNQUFNVyxZQUFZLEdBQUc7WUFDakJILEtBQUssRUFBQ0QsTUFBTTtZQUNackIsSUFBSSxFQUFFO2NBQ0YwQixJQUFJLEVBQUUxQixJQUFJLENBQUMwQixJQUFJO2NBQ2ZaLEtBQUssRUFBRWQsSUFBSSxDQUFDYyxLQUFLO2NBQ2pCYSxPQUFPLEVBQUUzQixJQUFJLENBQUMyQixPQUFPO2NBQ3JCQyxNQUFNLEVBQUU1QixJQUFJLENBQUM0QixNQUFNO2NBQ25CYixHQUFHLEVBQUVmLElBQUksQ0FBQ2U7WUFDZDtVQUNKLENBQUM7VUFFRHBCLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7WUFDakJvQixZQUFZLEVBQUNBO1VBQ2pCLENBQUMsQ0FBQztRQUNOLENBQUMsTUFBSTtVQUNEOUIsR0FBRyxDQUFDUyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNHLElBQUksQ0FBQztZQUNqQkMsT0FBTyxFQUFFO1VBQ2IsQ0FBQyxDQUFDO1FBQ047TUFDSixDQUFDLE1BQUk7UUFDRGIsR0FBRyxDQUFDUyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNHLElBQUksQ0FBQztVQUNqQkMsT0FBTyxFQUFFO1FBQ2IsQ0FBQyxDQUFDO01BQ047SUFDSixDQUFDLENBQUMsT0FBT0YsS0FBSyxFQUFFO01BQ1pYLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztNQUNGQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0osS0FBSyxDQUFDO0lBQ3RCO0VBQ0osQ0FBQztFQUNEd0IsTUFBTSxFQUFFLE9BQU1wQyxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUN0QixJQUFJO01BQ0EsSUFBR0QsR0FBRyxDQUFDcUMsS0FBSyxFQUFDO1FBQ1QsSUFBSUMsUUFBUSxHQUFHdEMsR0FBRyxDQUFDcUMsS0FBSyxDQUFDSCxNQUFNLENBQUNLLElBQUk7UUFDcEMsSUFBSVAsSUFBSSxHQUFHTSxRQUFRLENBQUNFLEtBQUssQ0FBQyxJQUFJLENBQUM7UUFDL0IsSUFBSUMsV0FBVyxHQUFHVCxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ3pCakIsT0FBTyxDQUFDQyxHQUFHLENBQUN5QixXQUFXLENBQUM7TUFDNUI7TUFDQSxJQUFHekMsR0FBRyxDQUFDRSxJQUFJLENBQUNDLFFBQVEsRUFBQztRQUNqQkgsR0FBRyxDQUFDRSxJQUFJLENBQUNDLFFBQVEsR0FBRyxNQUFNQyxpQkFBTSxDQUFDQyxJQUFJLENBQUNMLEdBQUcsQ0FBQ0UsSUFBSSxDQUFDQyxRQUFRLEVBQUMsRUFBRSxDQUFDO01BQy9EO01BQ0EsTUFBTUksZUFBTSxDQUFDQyxJQUFJLENBQUNrQyxpQkFBaUIsQ0FBQztRQUFDWixHQUFHLEVBQUU5QixHQUFHLENBQUNFLElBQUksQ0FBQzRCO01BQUcsQ0FBQyxFQUFDOUIsR0FBRyxDQUFDRSxJQUFJLENBQUM7TUFFakUsSUFBSXlDLEtBQUssR0FBRyxNQUFNcEMsZUFBTSxDQUFDQyxJQUFJLENBQUNXLE9BQU8sQ0FBQztRQUFDVyxHQUFHLEVBQUU5QixHQUFHLENBQUNFLElBQUksQ0FBQzRCO01BQUcsQ0FBQyxDQUFDO01BQzFEN0IsR0FBRyxDQUFDUyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkcsT0FBTyxFQUFFLDJDQUEyQztRQUNwRFIsSUFBSSxFQUFFZ0Isa0JBQVEsQ0FBQ2QsSUFBSSxDQUFDZSxTQUFTLENBQUNvQixLQUFLO01BQ3ZDLENBQUMsQ0FBQztJQUNOLENBQUMsQ0FBQyxPQUFPL0IsS0FBSyxFQUFFO01BQ1pYLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztNQUNGQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0osS0FBSyxDQUFDO0lBQ3RCO0VBQ0osQ0FBQztFQUNEZ0MsSUFBSSxFQUFFLE9BQU01QyxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUNwQixJQUFJO01BQ0EsSUFBSTRDLE1BQU0sR0FBRzdDLEdBQUcsQ0FBQzhDLEtBQUssQ0FBQ0QsTUFBTTtNQUM3QixJQUFJRSxLQUFLLEdBQUcsTUFBTXhDLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDd0MsSUFBSSxDQUFDO1FBQy9CQyxHQUFHLEVBQUMsQ0FDQTtVQUFDLE1BQU0sRUFBRSxJQUFJQyxNQUFNLENBQUNMLE1BQU0sRUFBRSxHQUFHO1FBQUMsQ0FBQyxFQUNqQztVQUFDLFNBQVMsRUFBRSxJQUFJSyxNQUFNLENBQUNMLE1BQU0sRUFBRSxHQUFHO1FBQUMsQ0FBQyxFQUNwQztVQUFDLE9BQU8sRUFBRSxJQUFJSyxNQUFNLENBQUNMLE1BQU0sRUFBRSxHQUFHO1FBQUMsQ0FBQztNQUUxQyxDQUFDLENBQUMsQ0FBQ00sSUFBSSxDQUFDO1FBQUMsV0FBVyxFQUFFLENBQUM7TUFBQyxDQUFDLENBQUM7TUFFMUJKLEtBQUssR0FBR0EsS0FBSyxDQUFDSyxHQUFHLENBQUU5QyxJQUFJLElBQUs7UUFDeEIsT0FBT2dCLGtCQUFRLENBQUNkLElBQUksQ0FBQ2UsU0FBUyxDQUFDakIsSUFBSSxDQUFDO01BQ3hDLENBQUMsQ0FBQztNQUVGTCxHQUFHLENBQUNTLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCMEMsS0FBSyxFQUFFTjtNQUNYLENBQUMsQ0FBQztJQUNOLENBQUMsQ0FBQyxPQUFPbkMsS0FBSyxFQUFFO01BQ1pYLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztNQUNGQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0osS0FBSyxDQUFDO0lBQ3RCO0VBQ0osQ0FBQztFQUNEMEMsTUFBTSxFQUFFLE9BQU10RCxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUN0QixJQUFJO01BQ0EsTUFBTU8sSUFBSSxHQUFHLE1BQU1ELGVBQU0sQ0FBQ0MsSUFBSSxDQUFDK0MsaUJBQWlCLENBQUM7UUFBQ3pCLEdBQUcsRUFBRTlCLEdBQUcsQ0FBQzhDLEtBQUssQ0FBQ2hCO01BQUcsQ0FBQyxDQUFDO01BQ3RFN0IsR0FBRyxDQUFDUyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkcsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDLE9BQU9GLEtBQUssRUFBRTtNQUNaWCxHQUFHLENBQUNTLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0csSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7TUFDRkMsT0FBTyxDQUFDQyxHQUFHLENBQUNKLEtBQUssQ0FBQztJQUN0QjtFQUNKO0FBQ0osQ0FBQztBQUFBIn0=","map":{"version":3,"names":["register","req","res","body","password","bcrypt","hash","user","models","User","create","status","json","error","send","message","console","log","register_admin","userV","findOne","email","rol","resource","user_list","login","state","compare","tokenT","token","encode","_id","USER_FRONTED","name","surname","avatar","login_admin","update","files","img_path","path","split","avatar_name","findByIdAndUpdate","UserT","list","search","query","Users","find","$or","RegExp","sort","map","users","remove","findByIdAndDelete"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["UserController.js"],"sourcesContent":["import bcrypt from 'bcryptjs'\r\nimport models from '../models'\r\nimport token from '../services/token'\r\nimport resource from '../resources'\r\n\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            // rol\r\n            // name\r\n            // surname\r\n            // email\r\n            // password\r\n            req.body.password = await bcrypt.hash(req.body.password,10);\r\n            const user = await models.User.create(req.body);\r\n            res.status(200).json(user);\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    register_admin: async(req,res) => {\r\n        try {\r\n            // rol\r\n            // name\r\n            // surname\r\n            // email\r\n            // password\r\n            const userV = await models.User.findOne({email: req.body.email});\r\n            if(userV){\r\n                res.status(500).send({\r\n                    message: \"EL USUARIO YA EXISTE\"\r\n                });\r\n            }\r\n            req.body.rol = \"admin\";\r\n            req.body.password = await bcrypt.hash(req.body.password,10);\r\n            let user = await models.User.create(req.body);\r\n            res.status(200).json({\r\n                user: resource.User.user_list(user)\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    login: async(req,res) => {\r\n        try {\r\n            const user = await models.User.findOne({email: req.body.email,state:1});\r\n            if(user){\r\n                //SI ESTA RGISTRADO EN EL SISTEMA\r\n                let compare = await bcrypt.compare(req.body.password,user.password);\r\n                if(compare){\r\n                    let tokenT = await token.encode(user._id,user.rol,user.email);\r\n\r\n                    const USER_FRONTED = {\r\n                        token:tokenT,\r\n                        user: {\r\n                            _id: user._id,\r\n                            name: user.name,\r\n                            email: user.email,\r\n                            surname: user.surname,\r\n                            avatar: user.avatar,\r\n                        },\r\n                    }\r\n\r\n                    res.status(200).json({\r\n                        USER_FRONTED:USER_FRONTED,\r\n                    })\r\n                }else{\r\n                    res.status(500).send({\r\n                        message: \"EL USUARIO NO EXISTE\"\r\n                    });\r\n                }\r\n            }else{\r\n                res.status(500).send({\r\n                    message: \"EL USUARIO NO EXISTE\"\r\n                });\r\n            }\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    login_admin: async(req,res) => {\r\n        try {\r\n            const user = await models.User.findOne({email: req.body.email,state:1,rol: \"admin\"});\r\n            if(user){\r\n                //SI ESTA RGISTRADO EN EL SISTEMA\r\n                let compare = await bcrypt.compare(req.body.password,user.password);\r\n                if(compare){\r\n                    let tokenT = await token.encode(user._id,user.rol,user.email);\r\n\r\n                    const USER_FRONTED = {\r\n                        token:tokenT,\r\n                        user: {\r\n                            name: user.name,\r\n                            email: user.email,\r\n                            surname: user.surname,\r\n                            avatar: user.avatar,\r\n                            rol: user.rol,\r\n                        },\r\n                    }\r\n\r\n                    res.status(200).json({\r\n                        USER_FRONTED:USER_FRONTED,\r\n                    })\r\n                }else{\r\n                    res.status(500).send({\r\n                        message: \"EL USUARIO NO EXISTE\"\r\n                    });\r\n                }\r\n            }else{\r\n                res.status(500).send({\r\n                    message: \"EL USUARIO NO EXISTE\"\r\n                });\r\n            }\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    update: async(req,res) => {\r\n        try {\r\n            if(req.files){\r\n                var img_path = req.files.avatar.path;\r\n                var name = img_path.split('\\\\');\r\n                var avatar_name = name[2];\r\n                console.log(avatar_name)\r\n            }\r\n            if(req.body.password){\r\n                req.body.password = await bcrypt.hash(req.body.password,10);\r\n            }\r\n            await models.User.findByIdAndUpdate({_id: req.body._id},req.body);\r\n\r\n            let UserT = await models.User.findOne({_id: req.body._id});\r\n            res.status(200).json({\r\n                message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\r\n                user: resource.User.user_list(UserT),\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    list: async(req,res) => {\r\n        try {\r\n            var search = req.query.search;\r\n            let Users = await models.User.find({\r\n                $or:[\r\n                    {\"name\": new RegExp(search, \"i\")},\r\n                    {\"surname\": new RegExp(search, \"i\")},\r\n                    {\"email\": new RegExp(search, \"i\")},\r\n                ]\r\n            }).sort({'createdAt': -1});\r\n\r\n            Users = Users.map((user) => {\r\n                return resource.User.user_list(user);\r\n            })\r\n\r\n            res.status(200).json({\r\n                users: Users\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    remove: async(req,res) => {\r\n        try {\r\n            const User = await models.User.findByIdAndDelete({_id: req.query._id});\r\n            res.status(200).json({\r\n                message: \"EL USUARIO SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    }\r\n}"],"mappings":"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"}},"mtime":1678755723103},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Variedad = _interopRequireDefault(require(\"./Variedad\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _Cupone = _interopRequireDefault(require(\"./Cupone\"));\nvar _Discount = _interopRequireDefault(require(\"./Discount\"));\nvar _Cart = _interopRequireDefault(require(\"./Cart\"));\nvar _AddressClient = _interopRequireDefault(require(\"./AddressClient\"));\nvar _Sale = _interopRequireDefault(require(\"./Sale\"));\nvar _SaleDetail = _interopRequireDefault(require(\"./SaleDetail\"));\nvar _SaleAddress = _interopRequireDefault(require(\"./SaleAddress\"));\nvar _Review = _interopRequireDefault(require(\"./Review\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  User: _User.default,\n  Categorie: _Categorie.default,\n  Product: _Product.default,\n  Variedad: _Variedad.default,\n  Slider: _Slider.default,\n  Cupone: _Cupone.default,\n  Discount: _Discount.default,\n  Cart: _Cart.default,\n  AddressClient: _AddressClient.default,\n  Sale: _Sale.default,\n  SaleDetail: _SaleDetail.default,\n  SaleAddress: _SaleAddress.default,\n  Review: _Review.default\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJVc2VyIiwiQ2F0ZWdvcmllIiwiUHJvZHVjdCIsIlZhcmllZGFkIiwiU2xpZGVyIiwiQ3Vwb25lIiwiRGlzY291bnQiLCJDYXJ0IiwiQWRkcmVzc0NsaWVudCIsIlNhbGUiLCJTYWxlRGV0YWlsIiwiU2FsZUFkZHJlc3MiLCJSZXZpZXciXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXG1vZGVsc1xcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXNlciBmcm9tICcuL1VzZXInXHJcbmltcG9ydCBDYXRlZ29yaWUgZnJvbSAnLi9DYXRlZ29yaWUnXHJcbmltcG9ydCBQcm9kdWN0IGZyb20gJy4vUHJvZHVjdCdcclxuaW1wb3J0IFZhcmllZGFkIGZyb20gJy4vVmFyaWVkYWQnXHJcbmltcG9ydCBTbGlkZXIgZnJvbSAnLi9TbGlkZXInXHJcbmltcG9ydCBDdXBvbmUgZnJvbSAnLi9DdXBvbmUnXHJcbmltcG9ydCBEaXNjb3VudCBmcm9tICcuL0Rpc2NvdW50J1xyXG5pbXBvcnQgQ2FydCBmcm9tICcuL0NhcnQnXHJcbmltcG9ydCBBZGRyZXNzQ2xpZW50IGZyb20gJy4vQWRkcmVzc0NsaWVudCdcclxuXHJcbmltcG9ydCBTYWxlIGZyb20gJy4vU2FsZSdcclxuaW1wb3J0IFNhbGVEZXRhaWwgZnJvbSAnLi9TYWxlRGV0YWlsJ1xyXG5pbXBvcnQgU2FsZUFkZHJlc3MgZnJvbSAnLi9TYWxlQWRkcmVzcydcclxuXHJcbmltcG9ydCBSZXZpZXcgZnJvbSAnLi9SZXZpZXcnXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICBVc2VyLFxyXG4gICAgQ2F0ZWdvcmllLFxyXG4gICAgUHJvZHVjdCxcclxuICAgIFZhcmllZGFkLFxyXG4gICAgU2xpZGVyLFxyXG4gICAgQ3Vwb25lLFxyXG4gICAgRGlzY291bnQsXHJcbiAgICBDYXJ0LFxyXG4gICAgQWRkcmVzc0NsaWVudCxcclxuICAgIFNhbGUsXHJcbiAgICBTYWxlRGV0YWlsLFxyXG4gICAgU2FsZUFkZHJlc3MsXHJcbiAgICBSZXZpZXcsXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQTZCO0FBQUEsZUFFZDtFQUNYQSxJQUFJLEVBQUpBLGFBQUk7RUFDSkMsU0FBUyxFQUFUQSxrQkFBUztFQUNUQyxPQUFPLEVBQVBBLGdCQUFPO0VBQ1BDLFFBQVEsRUFBUkEsaUJBQVE7RUFDUkMsTUFBTSxFQUFOQSxlQUFNO0VBQ05DLE1BQU0sRUFBTkEsZUFBTTtFQUNOQyxRQUFRLEVBQVJBLGlCQUFRO0VBQ1JDLElBQUksRUFBSkEsYUFBSTtFQUNKQyxhQUFhLEVBQWJBLHNCQUFhO0VBQ2JDLElBQUksRUFBSkEsYUFBSTtFQUNKQyxVQUFVLEVBQVZBLG1CQUFVO0VBQ1ZDLFdBQVcsRUFBWEEsb0JBQVc7RUFDWEMsTUFBTSxFQUFOQTtBQUNKLENBQUM7QUFBQSJ9","map":{"version":3,"names":["User","Categorie","Product","Variedad","Slider","Cupone","Discount","Cart","AddressClient","Sale","SaleDetail","SaleAddress","Review"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["index.js"],"sourcesContent":["import User from './User'\r\nimport Categorie from './Categorie'\r\nimport Product from './Product'\r\nimport Variedad from './Variedad'\r\nimport Slider from './Slider'\r\nimport Cupone from './Cupone'\r\nimport Discount from './Discount'\r\nimport Cart from './Cart'\r\nimport AddressClient from './AddressClient'\r\n\r\nimport Sale from './Sale'\r\nimport SaleDetail from './SaleDetail'\r\nimport SaleAddress from './SaleAddress'\r\n\r\nimport Review from './Review'\r\n\r\nexport default {\r\n    User,\r\n    Categorie,\r\n    Product,\r\n    Variedad,\r\n    Slider,\r\n    Cupone,\r\n    Discount,\r\n    Cart,\r\n    AddressClient,\r\n    Sale,\r\n    SaleDetail,\r\n    SaleAddress,\r\n    Review,\r\n}"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAA6B;AAAA,eAEd;EACXA,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA,kBAAS;EACTC,OAAO,EAAPA,gBAAO;EACPC,QAAQ,EAARA,iBAAQ;EACRC,MAAM,EAANA,eAAM;EACNC,MAAM,EAANA,eAAM;EACNC,QAAQ,EAARA,iBAAQ;EACRC,IAAI,EAAJA,aAAI;EACJC,aAAa,EAAbA,sBAAa;EACbC,IAAI,EAAJA,aAAI;EACJC,UAAU,EAAVA,mBAAU;EACVC,WAAW,EAAXA,oBAAW;EACXC,MAAM,EAANA;AACJ,CAAC;AAAA"}},"mtime":1680709955464},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst UserSchema = new _mongoose.Schema({\n  rol: {\n    type: String,\n    maxlength: 30,\n    required: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    required: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  avatar: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  state: {\n    type: Number,\n    default: 1\n  },\n  //1 es activo y 2 es des activo\n  phone: {\n    type: String,\n    maxlength: 20,\n    required: false\n  },\n  birthday: {\n    type: String,\n    maxlength: 20,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst User = _mongoose.default.model(\"user\", UserSchema);\nvar _default = User;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJVc2VyU2NoZW1hIiwiU2NoZW1hIiwicm9sIiwidHlwZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInJlcXVpcmVkIiwibmFtZSIsInN1cm5hbWUiLCJlbWFpbCIsInVuaXF1ZSIsInBhc3N3b3JkIiwiYXZhdGFyIiwic3RhdGUiLCJOdW1iZXIiLCJkZWZhdWx0IiwicGhvbmUiLCJiaXJ0aGRheSIsInRpbWVzdGFtcHMiLCJVc2VyIiwibW9uZ29vc2UiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIlVzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3QgVXNlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgcm9sOnt0eXBlOiBTdHJpbmcsbWF4bGVuZ3RoOjMwLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgbmFtZTp7dHlwZTogU3RyaW5nLG1heGxlbmd0aDoyNTAscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBzdXJuYW1lOnt0eXBlOiBTdHJpbmcsbWF4bGVuZ3RoOjI1MCxyZXF1aXJlZDpmYWxzZX0sXHJcbiAgICBlbWFpbDp7dHlwZTogU3RyaW5nLG1heGxlbmd0aDoyNTAscmVxdWlyZWQ6dHJ1ZSx1bmlxdWU6dHJ1ZX0sXHJcbiAgICBwYXNzd29yZDp7dHlwZTogU3RyaW5nLG1heGxlbmd0aDoyNTAscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBhdmF0YXI6e3R5cGU6IFN0cmluZyxtYXhsZW5ndGg6MjUwLHJlcXVpcmVkOmZhbHNlfSxcclxuICAgIHN0YXRlOnt0eXBlOiBOdW1iZXIsZGVmYXVsdDoxfSwvLzEgZXMgYWN0aXZvIHkgMiBlcyBkZXMgYWN0aXZvXHJcbiAgICBwaG9uZTp7dHlwZTogU3RyaW5nLG1heGxlbmd0aDoyMCxyZXF1aXJlZDpmYWxzZX0sXHJcbiAgICBiaXJ0aGRheTp7dHlwZTogU3RyaW5nLG1heGxlbmd0aDoyMCxyZXF1aXJlZDpmYWxzZX0sXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczogdHJ1ZVxyXG59KTtcclxuXHJcbmNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbChcInVzZXJcIixVc2VyU2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgVXNlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQXlDO0FBQUE7QUFFekMsTUFBTUEsVUFBVSxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDMUJDLEdBQUcsRUFBQztJQUFDQyxJQUFJLEVBQUVDLE1BQU07SUFBQ0MsU0FBUyxFQUFDLEVBQUU7SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUM3Q0MsSUFBSSxFQUFDO0lBQUNKLElBQUksRUFBRUMsTUFBTTtJQUFDQyxTQUFTLEVBQUMsR0FBRztJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQy9DRSxPQUFPLEVBQUM7SUFBQ0wsSUFBSSxFQUFFQyxNQUFNO0lBQUNDLFNBQVMsRUFBQyxHQUFHO0lBQUNDLFFBQVEsRUFBQztFQUFLLENBQUM7RUFDbkRHLEtBQUssRUFBQztJQUFDTixJQUFJLEVBQUVDLE1BQU07SUFBQ0MsU0FBUyxFQUFDLEdBQUc7SUFBQ0MsUUFBUSxFQUFDLElBQUk7SUFBQ0ksTUFBTSxFQUFDO0VBQUksQ0FBQztFQUM1REMsUUFBUSxFQUFDO0lBQUNSLElBQUksRUFBRUMsTUFBTTtJQUFDQyxTQUFTLEVBQUMsR0FBRztJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ25ETSxNQUFNLEVBQUM7SUFBQ1QsSUFBSSxFQUFFQyxNQUFNO0lBQUNDLFNBQVMsRUFBQyxHQUFHO0lBQUNDLFFBQVEsRUFBQztFQUFLLENBQUM7RUFDbERPLEtBQUssRUFBQztJQUFDVixJQUFJLEVBQUVXLE1BQU07SUFBQ0MsT0FBTyxFQUFDO0VBQUMsQ0FBQztFQUFDO0VBQy9CQyxLQUFLLEVBQUM7SUFBQ2IsSUFBSSxFQUFFQyxNQUFNO0lBQUNDLFNBQVMsRUFBQyxFQUFFO0lBQUNDLFFBQVEsRUFBQztFQUFLLENBQUM7RUFDaERXLFFBQVEsRUFBQztJQUFDZCxJQUFJLEVBQUVDLE1BQU07SUFBQ0MsU0FBUyxFQUFDLEVBQUU7SUFBQ0MsUUFBUSxFQUFDO0VBQUs7QUFDdEQsQ0FBQyxFQUFDO0VBQ0VZLFVBQVUsRUFBRTtBQUNoQixDQUFDLENBQUM7QUFFRixNQUFNQyxJQUFJLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxNQUFNLEVBQUNyQixVQUFVLENBQUM7QUFBQyxlQUNoQ21CLElBQUk7QUFBQSJ9","map":{"version":3,"names":["UserSchema","Schema","rol","type","String","maxlength","required","name","surname","email","unique","password","avatar","state","Number","default","phone","birthday","timestamps","User","mongoose","model"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["User.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst UserSchema = new Schema({\r\n    rol:{type: String,maxlength:30,required:true},\r\n    name:{type: String,maxlength:250,required:true},\r\n    surname:{type: String,maxlength:250,required:false},\r\n    email:{type: String,maxlength:250,required:true,unique:true},\r\n    password:{type: String,maxlength:250,required:true},\r\n    avatar:{type: String,maxlength:250,required:false},\r\n    state:{type: Number,default:1},//1 es activo y 2 es des activo\r\n    phone:{type: String,maxlength:20,required:false},\r\n    birthday:{type: String,maxlength:20,required:false},\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst User = mongoose.model(\"user\",UserSchema);\r\nexport default User;"],"mappings":";;;;;;AAAA;AAAyC;AAAA;AAEzC,MAAMA,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC1BC,GAAG,EAAC;IAACC,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC7CC,IAAI,EAAC;IAACJ,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC/CE,OAAO,EAAC;IAACL,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAK,CAAC;EACnDG,KAAK,EAAC;IAACN,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC,IAAI;IAACI,MAAM,EAAC;EAAI,CAAC;EAC5DC,QAAQ,EAAC;IAACR,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EACnDM,MAAM,EAAC;IAACT,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAK,CAAC;EAClDO,KAAK,EAAC;IAACV,IAAI,EAAEW,MAAM;IAACC,OAAO,EAAC;EAAC,CAAC;EAAC;EAC/BC,KAAK,EAAC;IAACb,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAK,CAAC;EAChDW,QAAQ,EAAC;IAACd,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAK;AACtD,CAAC,EAAC;EACEY,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAACrB,UAAU,CAAC;AAAC,eAChCmB,IAAI;AAAA"}},"mtime":1676098831866},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst CategorieSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  imagen: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  state: {\n    type: Number,\n    maxlength: 2,\n    default: 1\n  }\n}, {\n  timestamps: true\n});\nconst Categorie = _mongoose.default.model(\"categorie\", CategorieSchema);\nvar _default = Categorie;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDYXRlZ29yaWVTY2hlbWEiLCJTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJyZXF1aXJlZCIsImltYWdlbiIsInN0YXRlIiwiTnVtYmVyIiwiZGVmYXVsdCIsInRpbWVzdGFtcHMiLCJDYXRlZ29yaWUiLCJtb25nb29zZSIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiQ2F0ZWdvcmllLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IENhdGVnb3JpZVNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgdGl0bGU6e3R5cGU6U3RyaW5nLG1heGxlbmd0aCA6IDI1MCxyZXF1aXJlZDp0cnVlfSxcclxuICAgIGltYWdlbjp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgc3RhdGU6e3R5cGU6TnVtYmVyLG1heGxlbmd0aDoyLGRlZmF1bHQ6MX0sXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczogdHJ1ZVxyXG59KTtcclxuXHJcbmNvbnN0IENhdGVnb3JpZSA9IG1vbmdvb3NlLm1vZGVsKFwiY2F0ZWdvcmllXCIsQ2F0ZWdvcmllU2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgQ2F0ZWdvcmllOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFBeUM7QUFBQTtBQUV6QyxNQUFNQSxlQUFlLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUMvQkMsS0FBSyxFQUFDO0lBQUNDLElBQUksRUFBQ0MsTUFBTTtJQUFDQyxTQUFTLEVBQUcsR0FBRztJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2pEQyxNQUFNLEVBQUM7SUFBQ0osSUFBSSxFQUFDQyxNQUFNO0lBQUNDLFNBQVMsRUFBRSxHQUFHO0lBQUVDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDbERFLEtBQUssRUFBQztJQUFDTCxJQUFJLEVBQUNNLE1BQU07SUFBQ0osU0FBUyxFQUFDLENBQUM7SUFBQ0ssT0FBTyxFQUFDO0VBQUM7QUFDNUMsQ0FBQyxFQUFDO0VBQ0VDLFVBQVUsRUFBRTtBQUNoQixDQUFDLENBQUM7QUFFRixNQUFNQyxTQUFTLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxXQUFXLEVBQUNkLGVBQWUsQ0FBQztBQUFDLGVBQy9DWSxTQUFTO0FBQUEifQ==","map":{"version":3,"names":["CategorieSchema","Schema","title","type","String","maxlength","required","imagen","state","Number","default","timestamps","Categorie","mongoose","model"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Categorie.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst CategorieSchema = new Schema({\r\n    title:{type:String,maxlength : 250,required:true},\r\n    imagen:{type:String,maxlength: 250, required:true},\r\n    state:{type:Number,maxlength:2,default:1},\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst Categorie = mongoose.model(\"categorie\",CategorieSchema);\r\nexport default Categorie;"],"mappings":";;;;;;AAAA;AAAyC;AAAA;AAEzC,MAAMA,eAAe,GAAG,IAAIC,gBAAM,CAAC;EAC/BC,KAAK,EAAC;IAACC,IAAI,EAACC,MAAM;IAACC,SAAS,EAAG,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EACjDC,MAAM,EAAC;IAACJ,IAAI,EAACC,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EAClDE,KAAK,EAAC;IAACL,IAAI,EAACM,MAAM;IAACJ,SAAS,EAAC,CAAC;IAACK,OAAO,EAAC;EAAC;AAC5C,CAAC,EAAC;EACEC,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,SAAS,GAAGC,iBAAQ,CAACC,KAAK,CAAC,WAAW,EAACd,eAAe,CAAC;AAAC,eAC/CY,SAAS;AAAA"}},"mtime":1676360021242},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst ProductSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  slug: {\n    type: String,\n    required: true,\n    maxlength: 1000\n  },\n  sku: {\n    type: String,\n    required: true\n  },\n  categorie: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'categorie',\n    required: true\n  },\n  price_soles: {\n    type: Number,\n    required: true\n  },\n  price_usd: {\n    type: Number,\n    required: true\n  },\n  portada: {\n    type: String,\n    required: true\n  },\n  galerias: [{\n    type: Object,\n    required: false\n  }],\n  state: {\n    type: Number,\n    default: 1\n  },\n  //1 es en prueba o desarrollo , 2 va ser publico y 3 va ser anulado\n  stock: {\n    type: Number,\n    default: 0\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  resumen: {\n    type: String,\n    required: true\n  },\n  tags: {\n    type: String,\n    required: true\n  },\n  type_inventario: {\n    type: Number,\n    default: 1\n  }\n}, {\n  timestamps: true\n});\nconst Product = _mongoose.default.model('product', ProductSchema);\nvar _default = Product;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQcm9kdWN0U2NoZW1hIiwiU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJtYXhsZW5ndGgiLCJzbHVnIiwic2t1IiwiY2F0ZWdvcmllIiwiT2JqZWN0SWQiLCJyZWYiLCJwcmljZV9zb2xlcyIsIk51bWJlciIsInByaWNlX3VzZCIsInBvcnRhZGEiLCJnYWxlcmlhcyIsIk9iamVjdCIsInN0YXRlIiwiZGVmYXVsdCIsInN0b2NrIiwiZGVzY3JpcHRpb24iLCJyZXN1bWVuIiwidGFncyIsInR5cGVfaW52ZW50YXJpbyIsInRpbWVzdGFtcHMiLCJQcm9kdWN0IiwibW9uZ29vc2UiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIlByb2R1Y3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3QgUHJvZHVjdFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgdGl0bGU6e3R5cGU6U3RyaW5nLHJlcXVpcmVkOnRydWUsbWF4bGVuZ3RoOjI1MH0sXHJcbiAgICBzbHVnOnt0eXBlOlN0cmluZyxyZXF1aXJlZDp0cnVlLG1heGxlbmd0aDoxMDAwfSxcclxuICAgIHNrdTp7dHlwZTpTdHJpbmcscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBjYXRlZ29yaWU6e3R5cGU6U2NoZW1hLk9iamVjdElkLHJlZjonY2F0ZWdvcmllJyxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHByaWNlX3NvbGVzOnt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSxcclxuICAgIHByaWNlX3VzZDp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBwb3J0YWRhOnt0eXBlOlN0cmluZyxyZXF1aXJlZDp0cnVlfSxcclxuICAgIGdhbGVyaWFzOlt7dHlwZTpPYmplY3QscmVxdWlyZWQ6ZmFsc2V9XSxcclxuICAgIHN0YXRlOnt0eXBlOk51bWJlcixkZWZhdWx0OjF9LC8vMSBlcyBlbiBwcnVlYmEgbyBkZXNhcnJvbGxvICwgMiB2YSBzZXIgcHVibGljbyB5IDMgdmEgc2VyIGFudWxhZG9cclxuICAgIHN0b2NrOnt0eXBlOk51bWJlcixkZWZhdWx0OiAwfSxcclxuICAgIGRlc2NyaXB0aW9uOnt0eXBlOlN0cmluZyxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHJlc3VtZW46e3R5cGU6U3RyaW5nLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgdGFnczp7dHlwZTpTdHJpbmcscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICB0eXBlX2ludmVudGFyaW86e3R5cGU6TnVtYmVyLGRlZmF1bHQ6IDF9LFxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6dHJ1ZSxcclxufSk7XHJcblxyXG5jb25zdCBQcm9kdWN0ID0gbW9uZ29vc2UubW9kZWwoJ3Byb2R1Y3QnLFByb2R1Y3RTY2hlbWEpO1xyXG5leHBvcnQgZGVmYXVsdCBQcm9kdWN0OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFBeUM7QUFBQTtBQUV6QyxNQUFNQSxhQUFhLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUM3QkMsS0FBSyxFQUFDO0lBQUNDLElBQUksRUFBQ0MsTUFBTTtJQUFDQyxRQUFRLEVBQUMsSUFBSTtJQUFDQyxTQUFTLEVBQUM7RUFBRyxDQUFDO0VBQy9DQyxJQUFJLEVBQUM7SUFBQ0osSUFBSSxFQUFDQyxNQUFNO0lBQUNDLFFBQVEsRUFBQyxJQUFJO0lBQUNDLFNBQVMsRUFBQztFQUFJLENBQUM7RUFDL0NFLEdBQUcsRUFBQztJQUFDTCxJQUFJLEVBQUNDLE1BQU07SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUMvQkksU0FBUyxFQUFDO0lBQUNOLElBQUksRUFBQ0YsZ0JBQU0sQ0FBQ1MsUUFBUTtJQUFDQyxHQUFHLEVBQUMsV0FBVztJQUFDTixRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQzlETyxXQUFXLEVBQUM7SUFBQ1QsSUFBSSxFQUFDVSxNQUFNO0lBQUNSLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDdkNTLFNBQVMsRUFBQztJQUFDWCxJQUFJLEVBQUNVLE1BQU07SUFBQ1IsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNyQ1UsT0FBTyxFQUFDO0lBQUNaLElBQUksRUFBQ0MsTUFBTTtJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ25DVyxRQUFRLEVBQUMsQ0FBQztJQUFDYixJQUFJLEVBQUNjLE1BQU07SUFBQ1osUUFBUSxFQUFDO0VBQUssQ0FBQyxDQUFDO0VBQ3ZDYSxLQUFLLEVBQUM7SUFBQ2YsSUFBSSxFQUFDVSxNQUFNO0lBQUNNLE9BQU8sRUFBQztFQUFDLENBQUM7RUFBQztFQUM5QkMsS0FBSyxFQUFDO0lBQUNqQixJQUFJLEVBQUNVLE1BQU07SUFBQ00sT0FBTyxFQUFFO0VBQUMsQ0FBQztFQUM5QkUsV0FBVyxFQUFDO0lBQUNsQixJQUFJLEVBQUNDLE1BQU07SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUN2Q2lCLE9BQU8sRUFBQztJQUFDbkIsSUFBSSxFQUFDQyxNQUFNO0lBQUNDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDbkNrQixJQUFJLEVBQUM7SUFBQ3BCLElBQUksRUFBQ0MsTUFBTTtJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2hDbUIsZUFBZSxFQUFDO0lBQUNyQixJQUFJLEVBQUNVLE1BQU07SUFBQ00sT0FBTyxFQUFFO0VBQUM7QUFDM0MsQ0FBQyxFQUFDO0VBQ0VNLFVBQVUsRUFBQztBQUNmLENBQUMsQ0FBQztBQUVGLE1BQU1DLE9BQU8sR0FBR0MsaUJBQVEsQ0FBQ0MsS0FBSyxDQUFDLFNBQVMsRUFBQzVCLGFBQWEsQ0FBQztBQUFDLGVBQ3pDMEIsT0FBTztBQUFBIn0=","map":{"version":3,"names":["ProductSchema","Schema","title","type","String","required","maxlength","slug","sku","categorie","ObjectId","ref","price_soles","Number","price_usd","portada","galerias","Object","state","default","stock","description","resumen","tags","type_inventario","timestamps","Product","mongoose","model"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Product.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst ProductSchema = new Schema({\r\n    title:{type:String,required:true,maxlength:250},\r\n    slug:{type:String,required:true,maxlength:1000},\r\n    sku:{type:String,required:true},\r\n    categorie:{type:Schema.ObjectId,ref:'categorie',required:true},\r\n    price_soles:{type:Number,required:true},\r\n    price_usd:{type:Number,required:true},\r\n    portada:{type:String,required:true},\r\n    galerias:[{type:Object,required:false}],\r\n    state:{type:Number,default:1},//1 es en prueba o desarrollo , 2 va ser publico y 3 va ser anulado\r\n    stock:{type:Number,default: 0},\r\n    description:{type:String,required:true},\r\n    resumen:{type:String,required:true},\r\n    tags:{type:String,required:true},\r\n    type_inventario:{type:Number,default: 1},\r\n},{\r\n    timestamps:true,\r\n});\r\n\r\nconst Product = mongoose.model('product',ProductSchema);\r\nexport default Product;"],"mappings":";;;;;;AAAA;AAAyC;AAAA;AAEzC,MAAMA,aAAa,GAAG,IAAIC,gBAAM,CAAC;EAC7BC,KAAK,EAAC;IAACC,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC,IAAI;IAACC,SAAS,EAAC;EAAG,CAAC;EAC/CC,IAAI,EAAC;IAACJ,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC,IAAI;IAACC,SAAS,EAAC;EAAI,CAAC;EAC/CE,GAAG,EAAC;IAACL,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC/BI,SAAS,EAAC;IAACN,IAAI,EAACF,gBAAM,CAACS,QAAQ;IAACC,GAAG,EAAC,WAAW;IAACN,QAAQ,EAAC;EAAI,CAAC;EAC9DO,WAAW,EAAC;IAACT,IAAI,EAACU,MAAM;IAACR,QAAQ,EAAC;EAAI,CAAC;EACvCS,SAAS,EAAC;IAACX,IAAI,EAACU,MAAM;IAACR,QAAQ,EAAC;EAAI,CAAC;EACrCU,OAAO,EAAC;IAACZ,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EACnCW,QAAQ,EAAC,CAAC;IAACb,IAAI,EAACc,MAAM;IAACZ,QAAQ,EAAC;EAAK,CAAC,CAAC;EACvCa,KAAK,EAAC;IAACf,IAAI,EAACU,MAAM;IAACM,OAAO,EAAC;EAAC,CAAC;EAAC;EAC9BC,KAAK,EAAC;IAACjB,IAAI,EAACU,MAAM;IAACM,OAAO,EAAE;EAAC,CAAC;EAC9BE,WAAW,EAAC;IAAClB,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EACvCiB,OAAO,EAAC;IAACnB,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EACnCkB,IAAI,EAAC;IAACpB,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EAChCmB,eAAe,EAAC;IAACrB,IAAI,EAACU,MAAM;IAACM,OAAO,EAAE;EAAC;AAC3C,CAAC,EAAC;EACEM,UAAU,EAAC;AACf,CAAC,CAAC;AAEF,MAAMC,OAAO,GAAGC,iBAAQ,CAACC,KAAK,CAAC,SAAS,EAAC5B,aAAa,CAAC;AAAC,eACzC0B,OAAO;AAAA"}},"mtime":1677451042869},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Variedad.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst VariedadSchema = new _mongoose.Schema({\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  valor: {\n    type: String,\n    required: true\n  },\n  stock: {\n    type: Number,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst Variedad = _mongoose.default.model('variedad', VariedadSchema);\nvar _default = Variedad;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJWYXJpZWRhZFNjaGVtYSIsIlNjaGVtYSIsInByb2R1Y3QiLCJ0eXBlIiwiT2JqZWN0SWQiLCJyZWYiLCJyZXF1aXJlZCIsInZhbG9yIiwiU3RyaW5nIiwic3RvY2siLCJOdW1iZXIiLCJ0aW1lc3RhbXBzIiwiVmFyaWVkYWQiLCJtb25nb29zZSIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiVmFyaWVkYWQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3QgVmFyaWVkYWRTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIHByb2R1Y3Q6e3R5cGU6U2NoZW1hLk9iamVjdElkLHJlZjoncHJvZHVjdCcscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICB2YWxvcjp7dHlwZTpTdHJpbmcscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBzdG9jazp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczp0cnVlLFxyXG59KTtcclxuXHJcbmNvbnN0IFZhcmllZGFkID0gbW9uZ29vc2UubW9kZWwoJ3ZhcmllZGFkJyxWYXJpZWRhZFNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IFZhcmllZGFkOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFBeUM7QUFBQTtBQUV6QyxNQUFNQSxjQUFjLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUM5QkMsT0FBTyxFQUFDO0lBQUNDLElBQUksRUFBQ0YsZ0JBQU0sQ0FBQ0csUUFBUTtJQUFDQyxHQUFHLEVBQUMsU0FBUztJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQzFEQyxLQUFLLEVBQUM7SUFBQ0osSUFBSSxFQUFDSyxNQUFNO0lBQUNGLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDakNHLEtBQUssRUFBQztJQUFDTixJQUFJLEVBQUNPLE1BQU07SUFBQ0osUUFBUSxFQUFDO0VBQUk7QUFDcEMsQ0FBQyxFQUFDO0VBQ0VLLFVBQVUsRUFBQztBQUNmLENBQUMsQ0FBQztBQUVGLE1BQU1DLFFBQVEsR0FBR0MsaUJBQVEsQ0FBQ0MsS0FBSyxDQUFDLFVBQVUsRUFBQ2QsY0FBYyxDQUFDO0FBQUMsZUFDNUNZLFFBQVE7QUFBQSJ9","map":{"version":3,"names":["VariedadSchema","Schema","product","type","ObjectId","ref","required","valor","String","stock","Number","timestamps","Variedad","mongoose","model"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Variedad.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst VariedadSchema = new Schema({\r\n    product:{type:Schema.ObjectId,ref:'product',required:true},\r\n    valor:{type:String,required:true},\r\n    stock:{type:Number,required:true},\r\n},{\r\n    timestamps:true,\r\n});\r\n\r\nconst Variedad = mongoose.model('variedad',VariedadSchema);\r\nexport default Variedad;"],"mappings":";;;;;;AAAA;AAAyC;AAAA;AAEzC,MAAMA,cAAc,GAAG,IAAIC,gBAAM,CAAC;EAC9BC,OAAO,EAAC;IAACC,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,SAAS;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC1DC,KAAK,EAAC;IAACJ,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC;EAAI,CAAC;EACjCG,KAAK,EAAC;IAACN,IAAI,EAACO,MAAM;IAACJ,QAAQ,EAAC;EAAI;AACpC,CAAC,EAAC;EACEK,UAAU,EAAC;AACf,CAAC,CAAC;AAEF,MAAMC,QAAQ,GAAGC,iBAAQ,CAACC,KAAK,CAAC,UAAU,EAACd,cAAc,CAAC;AAAC,eAC5CY,QAAQ;AAAA"}},"mtime":1676530728228},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst SliderSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  link: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  imagen: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  state: {\n    type: Number,\n    maxlength: 2,\n    default: 1\n  }\n}, {\n  timestamps: true\n});\nconst Slider = _mongoose.default.model(\"sliders\", SliderSchema);\nvar _default = Slider;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTbGlkZXJTY2hlbWEiLCJTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJyZXF1aXJlZCIsImxpbmsiLCJpbWFnZW4iLCJzdGF0ZSIsIk51bWJlciIsImRlZmF1bHQiLCJ0aW1lc3RhbXBzIiwiU2xpZGVyIiwibW9uZ29vc2UiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIlNsaWRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2Use1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCBTbGlkZXJTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIHRpdGxlOnt0eXBlOlN0cmluZyxtYXhsZW5ndGggOiAyNTAscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBsaW5rOnt0eXBlOlN0cmluZyxtYXhsZW5ndGggOiAyNTAscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBpbWFnZW46e3R5cGU6U3RyaW5nLG1heGxlbmd0aDogMjUwLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIHN0YXRlOnt0eXBlOk51bWJlcixtYXhsZW5ndGg6MixkZWZhdWx0OjF9LFxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6IHRydWVcclxufSk7XHJcblxyXG5jb25zdCBTbGlkZXIgPSBtb25nb29zZS5tb2RlbChcInNsaWRlcnNcIixTbGlkZXJTY2hlbWEpO1xyXG5leHBvcnQgZGVmYXVsdCBTbGlkZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUF5QztBQUFBO0FBRXpDLE1BQU1BLFlBQVksR0FBRyxJQUFJQyxnQkFBTSxDQUFDO0VBQzVCQyxLQUFLLEVBQUM7SUFBQ0MsSUFBSSxFQUFDQyxNQUFNO0lBQUNDLFNBQVMsRUFBRyxHQUFHO0lBQUNDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDakRDLElBQUksRUFBQztJQUFDSixJQUFJLEVBQUNDLE1BQU07SUFBQ0MsU0FBUyxFQUFHLEdBQUc7SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNoREUsTUFBTSxFQUFDO0lBQUNMLElBQUksRUFBQ0MsTUFBTTtJQUFDQyxTQUFTLEVBQUUsR0FBRztJQUFFQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2xERyxLQUFLLEVBQUM7SUFBQ04sSUFBSSxFQUFDTyxNQUFNO0lBQUNMLFNBQVMsRUFBQyxDQUFDO0lBQUNNLE9BQU8sRUFBQztFQUFDO0FBQzVDLENBQUMsRUFBQztFQUNFQyxVQUFVLEVBQUU7QUFDaEIsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsTUFBTSxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsU0FBUyxFQUFDZixZQUFZLENBQUM7QUFBQyxlQUN2Q2EsTUFBTTtBQUFBIn0=","map":{"version":3,"names":["SliderSchema","Schema","title","type","String","maxlength","required","link","imagen","state","Number","default","timestamps","Slider","mongoose","model"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Slider.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst SliderSchema = new Schema({\r\n    title:{type:String,maxlength : 250,required:true},\r\n    link:{type:String,maxlength : 250,required:true},\r\n    imagen:{type:String,maxlength: 250, required:true},\r\n    state:{type:Number,maxlength:2,default:1},\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst Slider = mongoose.model(\"sliders\",SliderSchema);\r\nexport default Slider;"],"mappings":";;;;;;AAAA;AAAyC;AAAA;AAEzC,MAAMA,YAAY,GAAG,IAAIC,gBAAM,CAAC;EAC5BC,KAAK,EAAC;IAACC,IAAI,EAACC,MAAM;IAACC,SAAS,EAAG,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EACjDC,IAAI,EAAC;IAACJ,IAAI,EAACC,MAAM;IAACC,SAAS,EAAG,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAChDE,MAAM,EAAC;IAACL,IAAI,EAACC,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EAClDG,KAAK,EAAC;IAACN,IAAI,EAACO,MAAM;IAACL,SAAS,EAAC,CAAC;IAACM,OAAO,EAAC;EAAC;AAC5C,CAAC,EAAC;EACEC,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAGC,iBAAQ,CAACC,KAAK,CAAC,SAAS,EAACf,YAAY,CAAC;AAAC,eACvCa,MAAM;AAAA"}},"mtime":1677624834052},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Cupone.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst CuponeSchema = new _mongoose.Schema({\n  code: {\n    type: String,\n    maxlength: 50,\n    required: true\n  },\n  type_discount: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  //por porcentaje 1  o por moneda 2\n  discount: {\n    type: Number,\n    required: true\n  },\n  //por moneda o por porcentaje\n  type_count: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  //ilimitado 1 o limitado 2\n  num_use: {\n    type: Number,\n    required: false\n  },\n  type_segment: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es cupon por producto y 2 seria por categoria\n  state: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es activo\n  products: [{\n    type: Object\n  }],\n  //[{_id: asdasdas },{_id: dsdsds}]\n  categories: [{\n    type: Object\n  }]\n}, {\n  timestamps: true\n});\nconst Cupone = _mongoose.default.model(\"cupones\", CuponeSchema);\nvar _default = Cupone;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDdXBvbmVTY2hlbWEiLCJTY2hlbWEiLCJjb2RlIiwidHlwZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInJlcXVpcmVkIiwidHlwZV9kaXNjb3VudCIsIk51bWJlciIsImRlZmF1bHQiLCJkaXNjb3VudCIsInR5cGVfY291bnQiLCJudW1fdXNlIiwidHlwZV9zZWdtZW50Iiwic3RhdGUiLCJwcm9kdWN0cyIsIk9iamVjdCIsImNhdGVnb3JpZXMiLCJ0aW1lc3RhbXBzIiwiQ3Vwb25lIiwibW9uZ29vc2UiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIkN1cG9uZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2Use1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCBDdXBvbmVTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIGNvZGU6e3R5cGU6U3RyaW5nLG1heGxlbmd0aDo1MCxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHR5cGVfZGlzY291bnQ6e3R5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWUsZGVmYXVsdDogMX0sLy9wb3IgcG9yY2VudGFqZSAxICBvIHBvciBtb25lZGEgMlxyXG4gICAgZGlzY291bnQ6e3R5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWV9LC8vcG9yIG1vbmVkYSBvIHBvciBwb3JjZW50YWplXHJcbiAgICB0eXBlX2NvdW50Ont0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlLGRlZmF1bHQ6MX0sLy9pbGltaXRhZG8gMSBvIGxpbWl0YWRvIDJcclxuICAgIG51bV91c2U6e3R5cGU6TnVtYmVyLHJlcXVpcmVkOmZhbHNlfSxcclxuICAgIHR5cGVfc2VnbWVudDoge3R5cGU6TnVtYmVyLHJlcXVpcmVkOmZhbHNlLGRlZmF1bHQ6MX0sLy8xIGVzIGN1cG9uIHBvciBwcm9kdWN0byB5IDIgc2VyaWEgcG9yIGNhdGVnb3JpYVxyXG4gICAgc3RhdGU6e3R5cGU6TnVtYmVyLHJlcXVpcmVkOmZhbHNlLGRlZmF1bHQ6IDF9LC8vMSBlcyBhY3Rpdm9cclxuICAgIHByb2R1Y3RzOlt7dHlwZTpPYmplY3R9XSwvL1t7X2lkOiBhc2Rhc2RhcyB9LHtfaWQ6IGRzZHNkc31dXHJcbiAgICBjYXRlZ29yaWVzOlt7dHlwZTpPYmplY3R9XVxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6dHJ1ZVxyXG59KVxyXG5cclxuY29uc3QgQ3Vwb25lID0gbW9uZ29vc2UubW9kZWwoXCJjdXBvbmVzXCIsQ3Vwb25lU2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgQ3Vwb25lOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFBeUM7QUFBQTtBQUV6QyxNQUFNQSxZQUFZLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUM1QkMsSUFBSSxFQUFDO0lBQUNDLElBQUksRUFBQ0MsTUFBTTtJQUFDQyxTQUFTLEVBQUMsRUFBRTtJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQzdDQyxhQUFhLEVBQUM7SUFBQ0osSUFBSSxFQUFDSyxNQUFNO0lBQUNGLFFBQVEsRUFBQyxJQUFJO0lBQUNHLE9BQU8sRUFBRTtFQUFDLENBQUM7RUFBQztFQUNyREMsUUFBUSxFQUFDO0lBQUNQLElBQUksRUFBQ0ssTUFBTTtJQUFDRixRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQUM7RUFDckNLLFVBQVUsRUFBQztJQUFDUixJQUFJLEVBQUNLLE1BQU07SUFBQ0YsUUFBUSxFQUFDLElBQUk7SUFBQ0csT0FBTyxFQUFDO0VBQUMsQ0FBQztFQUFDO0VBQ2pERyxPQUFPLEVBQUM7SUFBQ1QsSUFBSSxFQUFDSyxNQUFNO0lBQUNGLFFBQVEsRUFBQztFQUFLLENBQUM7RUFDcENPLFlBQVksRUFBRTtJQUFDVixJQUFJLEVBQUNLLE1BQU07SUFBQ0YsUUFBUSxFQUFDLEtBQUs7SUFBQ0csT0FBTyxFQUFDO0VBQUMsQ0FBQztFQUFDO0VBQ3JESyxLQUFLLEVBQUM7SUFBQ1gsSUFBSSxFQUFDSyxNQUFNO0lBQUNGLFFBQVEsRUFBQyxLQUFLO0lBQUNHLE9BQU8sRUFBRTtFQUFDLENBQUM7RUFBQztFQUM5Q00sUUFBUSxFQUFDLENBQUM7SUFBQ1osSUFBSSxFQUFDYTtFQUFNLENBQUMsQ0FBQztFQUFDO0VBQ3pCQyxVQUFVLEVBQUMsQ0FBQztJQUFDZCxJQUFJLEVBQUNhO0VBQU0sQ0FBQztBQUM3QixDQUFDLEVBQUM7RUFDRUUsVUFBVSxFQUFDO0FBQ2YsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsTUFBTSxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsU0FBUyxFQUFDckIsWUFBWSxDQUFDO0FBQUMsZUFDdkNtQixNQUFNO0FBQUEifQ==","map":{"version":3,"names":["CuponeSchema","Schema","code","type","String","maxlength","required","type_discount","Number","default","discount","type_count","num_use","type_segment","state","products","Object","categories","timestamps","Cupone","mongoose","model"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Cupone.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst CuponeSchema = new Schema({\r\n    code:{type:String,maxlength:50,required:true},\r\n    type_discount:{type:Number,required:true,default: 1},//por porcentaje 1  o por moneda 2\r\n    discount:{type:Number,required:true},//por moneda o por porcentaje\r\n    type_count:{type:Number,required:true,default:1},//ilimitado 1 o limitado 2\r\n    num_use:{type:Number,required:false},\r\n    type_segment: {type:Number,required:false,default:1},//1 es cupon por producto y 2 seria por categoria\r\n    state:{type:Number,required:false,default: 1},//1 es activo\r\n    products:[{type:Object}],//[{_id: asdasdas },{_id: dsdsds}]\r\n    categories:[{type:Object}]\r\n},{\r\n    timestamps:true\r\n})\r\n\r\nconst Cupone = mongoose.model(\"cupones\",CuponeSchema);\r\nexport default Cupone;"],"mappings":";;;;;;AAAA;AAAyC;AAAA;AAEzC,MAAMA,YAAY,GAAG,IAAIC,gBAAM,CAAC;EAC5BC,IAAI,EAAC;IAACC,IAAI,EAACC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC7CC,aAAa,EAAC;IAACJ,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,IAAI;IAACG,OAAO,EAAE;EAAC,CAAC;EAAC;EACrDC,QAAQ,EAAC;IAACP,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC;EAAI,CAAC;EAAC;EACrCK,UAAU,EAAC;IAACR,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,IAAI;IAACG,OAAO,EAAC;EAAC,CAAC;EAAC;EACjDG,OAAO,EAAC;IAACT,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC;EAAK,CAAC;EACpCO,YAAY,EAAE;IAACV,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,KAAK;IAACG,OAAO,EAAC;EAAC,CAAC;EAAC;EACrDK,KAAK,EAAC;IAACX,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,KAAK;IAACG,OAAO,EAAE;EAAC,CAAC;EAAC;EAC9CM,QAAQ,EAAC,CAAC;IAACZ,IAAI,EAACa;EAAM,CAAC,CAAC;EAAC;EACzBC,UAAU,EAAC,CAAC;IAACd,IAAI,EAACa;EAAM,CAAC;AAC7B,CAAC,EAAC;EACEE,UAAU,EAAC;AACf,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAGC,iBAAQ,CAACC,KAAK,CAAC,SAAS,EAACrB,YAAY,CAAC;AAAC,eACvCmB,MAAM;AAAA"}},"mtime":1677795746073},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Discount.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst DiscountSchema = new _mongoose.Schema({\n  type_campaign: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1 es campaña norma y 2 es venta flash\n  type_discount: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1 es porcentaje y 2 es moneda\n  discount: {\n    type: Number,\n    required: true\n  },\n  start_date: {\n    type: Date,\n    required: true\n  },\n  end_date: {\n    type: Date,\n    required: true\n  },\n  start_date_num: {\n    type: Number,\n    required: true\n  },\n  end_date_num: {\n    type: Number,\n    required: true\n  },\n  state: {\n    type: Number,\n    default: 1\n  },\n  //1 es activo y 2 es desactivo\n  type_segment: {\n    type: Number,\n    default: 1\n  },\n  //1 es por producto y 2 es por categoria\n  products: [{\n    type: Object,\n    required: false\n  }],\n  categories: [{\n    type: Object,\n    required: false\n  }]\n}, {\n  timestamps: true\n});\nconst Discount = _mongoose.default.model(\"discounts\", DiscountSchema);\nvar _default = Discount;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEaXNjb3VudFNjaGVtYSIsIlNjaGVtYSIsInR5cGVfY2FtcGFpZ24iLCJ0eXBlIiwiTnVtYmVyIiwicmVxdWlyZWQiLCJkZWZhdWx0IiwidHlwZV9kaXNjb3VudCIsImRpc2NvdW50Iiwic3RhcnRfZGF0ZSIsIkRhdGUiLCJlbmRfZGF0ZSIsInN0YXJ0X2RhdGVfbnVtIiwiZW5kX2RhdGVfbnVtIiwic3RhdGUiLCJ0eXBlX3NlZ21lbnQiLCJwcm9kdWN0cyIsIk9iamVjdCIsImNhdGVnb3JpZXMiLCJ0aW1lc3RhbXBzIiwiRGlzY291bnQiLCJtb25nb29zZSIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiRGlzY291bnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLCB7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IERpc2NvdW50U2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICB0eXBlX2NhbXBhaWduOiB7dHlwZTpOdW1iZXIsIHJlcXVpcmVkOnRydWUsIGRlZmF1bHQ6IDF9LCAvLyAxIGVzIGNhbXBhw7FhIG5vcm1hIHkgMiBlcyB2ZW50YSBmbGFzaFxyXG4gICAgdHlwZV9kaXNjb3VudDoge3R5cGU6TnVtYmVyLCByZXF1aXJlZDp0cnVlLCBkZWZhdWx0OiAxfSwgLy8gMSBlcyBwb3JjZW50YWplIHkgMiBlcyBtb25lZGFcclxuICAgIGRpc2NvdW50OiB7dHlwZTogTnVtYmVyLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIHN0YXJ0X2RhdGU6IHt0eXBlOkRhdGUscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBlbmRfZGF0ZTp7IHR5cGU6RGF0ZSxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHN0YXJ0X2RhdGVfbnVtOiB7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBlbmRfZGF0ZV9udW06eyB0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSxcclxuICAgIHN0YXRlOnt0eXBlOk51bWJlcixkZWZhdWx0OiAxfSwgLy8xIGVzIGFjdGl2byB5IDIgZXMgZGVzYWN0aXZvXHJcbiAgICB0eXBlX3NlZ21lbnQ6e3R5cGU6TnVtYmVyLGRlZmF1bHQ6IDF9LC8vMSBlcyBwb3IgcHJvZHVjdG8geSAyIGVzIHBvciBjYXRlZ29yaWFcclxuICAgIHByb2R1Y3RzOlt7dHlwZTpPYmplY3QsIHJlcXVpcmVkOmZhbHNlfV0sXHJcbiAgICBjYXRlZ29yaWVzOlt7dHlwZTpPYmplY3QsIHJlcXVpcmVkOmZhbHNlfV0sXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczp0cnVlLFxyXG59KTtcclxuXHJcbmNvbnN0IERpc2NvdW50ID0gbW9uZ29vc2UubW9kZWwoXCJkaXNjb3VudHNcIixEaXNjb3VudFNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IERpc2NvdW50OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFBMEM7QUFBQTtBQUUxQyxNQUFNQSxjQUFjLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUM5QkMsYUFBYSxFQUFFO0lBQUNDLElBQUksRUFBQ0MsTUFBTTtJQUFFQyxRQUFRLEVBQUMsSUFBSTtJQUFFQyxPQUFPLEVBQUU7RUFBQyxDQUFDO0VBQUU7RUFDekRDLGFBQWEsRUFBRTtJQUFDSixJQUFJLEVBQUNDLE1BQU07SUFBRUMsUUFBUSxFQUFDLElBQUk7SUFBRUMsT0FBTyxFQUFFO0VBQUMsQ0FBQztFQUFFO0VBQ3pERSxRQUFRLEVBQUU7SUFBQ0wsSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDdkNJLFVBQVUsRUFBRTtJQUFDTixJQUFJLEVBQUNPLElBQUk7SUFBQ0wsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNyQ00sUUFBUSxFQUFDO0lBQUVSLElBQUksRUFBQ08sSUFBSTtJQUFDTCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ25DTyxjQUFjLEVBQUU7SUFBQ1QsSUFBSSxFQUFDQyxNQUFNO0lBQUNDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDM0NRLFlBQVksRUFBQztJQUFFVixJQUFJLEVBQUNDLE1BQU07SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUN6Q1MsS0FBSyxFQUFDO0lBQUNYLElBQUksRUFBQ0MsTUFBTTtJQUFDRSxPQUFPLEVBQUU7RUFBQyxDQUFDO0VBQUU7RUFDaENTLFlBQVksRUFBQztJQUFDWixJQUFJLEVBQUNDLE1BQU07SUFBQ0UsT0FBTyxFQUFFO0VBQUMsQ0FBQztFQUFDO0VBQ3RDVSxRQUFRLEVBQUMsQ0FBQztJQUFDYixJQUFJLEVBQUNjLE1BQU07SUFBRVosUUFBUSxFQUFDO0VBQUssQ0FBQyxDQUFDO0VBQ3hDYSxVQUFVLEVBQUMsQ0FBQztJQUFDZixJQUFJLEVBQUNjLE1BQU07SUFBRVosUUFBUSxFQUFDO0VBQUssQ0FBQztBQUM3QyxDQUFDLEVBQUM7RUFDRWMsVUFBVSxFQUFDO0FBQ2YsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsUUFBUSxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsV0FBVyxFQUFDdEIsY0FBYyxDQUFDO0FBQUMsZUFDN0NvQixRQUFRO0FBQUEifQ==","map":{"version":3,"names":["DiscountSchema","Schema","type_campaign","type","Number","required","default","type_discount","discount","start_date","Date","end_date","start_date_num","end_date_num","state","type_segment","products","Object","categories","timestamps","Discount","mongoose","model"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Discount.js"],"sourcesContent":["import mongoose, {Schema} from \"mongoose\";\r\n\r\nconst DiscountSchema = new Schema({\r\n    type_campaign: {type:Number, required:true, default: 1}, // 1 es campaña norma y 2 es venta flash\r\n    type_discount: {type:Number, required:true, default: 1}, // 1 es porcentaje y 2 es moneda\r\n    discount: {type: Number, required:true},\r\n    start_date: {type:Date,required:true},\r\n    end_date:{ type:Date,required:true},\r\n    start_date_num: {type:Number,required:true},\r\n    end_date_num:{ type:Number,required:true},\r\n    state:{type:Number,default: 1}, //1 es activo y 2 es desactivo\r\n    type_segment:{type:Number,default: 1},//1 es por producto y 2 es por categoria\r\n    products:[{type:Object, required:false}],\r\n    categories:[{type:Object, required:false}],\r\n},{\r\n    timestamps:true,\r\n});\r\n\r\nconst Discount = mongoose.model(\"discounts\",DiscountSchema);\r\nexport default Discount;"],"mappings":";;;;;;AAAA;AAA0C;AAAA;AAE1C,MAAMA,cAAc,GAAG,IAAIC,gBAAM,CAAC;EAC9BC,aAAa,EAAE;IAACC,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC,IAAI;IAAEC,OAAO,EAAE;EAAC,CAAC;EAAE;EACzDC,aAAa,EAAE;IAACJ,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC,IAAI;IAAEC,OAAO,EAAE;EAAC,CAAC;EAAE;EACzDE,QAAQ,EAAE;IAACL,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACvCI,UAAU,EAAE;IAACN,IAAI,EAACO,IAAI;IAACL,QAAQ,EAAC;EAAI,CAAC;EACrCM,QAAQ,EAAC;IAAER,IAAI,EAACO,IAAI;IAACL,QAAQ,EAAC;EAAI,CAAC;EACnCO,cAAc,EAAE;IAACT,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC3CQ,YAAY,EAAC;IAAEV,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EACzCS,KAAK,EAAC;IAACX,IAAI,EAACC,MAAM;IAACE,OAAO,EAAE;EAAC,CAAC;EAAE;EAChCS,YAAY,EAAC;IAACZ,IAAI,EAACC,MAAM;IAACE,OAAO,EAAE;EAAC,CAAC;EAAC;EACtCU,QAAQ,EAAC,CAAC;IAACb,IAAI,EAACc,MAAM;IAAEZ,QAAQ,EAAC;EAAK,CAAC,CAAC;EACxCa,UAAU,EAAC,CAAC;IAACf,IAAI,EAACc,MAAM;IAAEZ,QAAQ,EAAC;EAAK,CAAC;AAC7C,CAAC,EAAC;EACEc,UAAU,EAAC;AACf,CAAC,CAAC;AAEF,MAAMC,QAAQ,GAAGC,iBAAQ,CAACC,KAAK,CAAC,WAAW,EAACtB,cAAc,CAAC;AAAC,eAC7CoB,QAAQ;AAAA"}},"mtime":1678545410605},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Cart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst CartSchema = new _mongoose.Schema({\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  type_discount: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es por porcentaje y 2 es por moneda\n  discount: {\n    type: Number,\n    default: 0\n  },\n  //50%\n  cantidad: {\n    type: Number,\n    required: true\n  },\n  //2\n  variedad: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'variedad',\n    required: false\n  },\n  code_cupon: {\n    type: String,\n    required: false\n  },\n  code_discount: {\n    type: String,\n    required: false\n  },\n  price_unitario: {\n    type: Number,\n    required: true\n  },\n  //60\n  subtotal: {\n    type: Number,\n    required: true\n  },\n  //30\n  total: {\n    type: Number,\n    required: true\n  } //60\n}, {\n  timestamps: true\n});\nconst Cart = _mongoose.default.model(\"cart\", CartSchema);\nvar _default = Cart;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDYXJ0U2NoZW1hIiwiU2NoZW1hIiwidXNlciIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwicHJvZHVjdCIsInR5cGVfZGlzY291bnQiLCJOdW1iZXIiLCJkZWZhdWx0IiwiZGlzY291bnQiLCJjYW50aWRhZCIsInZhcmllZGFkIiwiY29kZV9jdXBvbiIsIlN0cmluZyIsImNvZGVfZGlzY291bnQiLCJwcmljZV91bml0YXJpbyIsInN1YnRvdGFsIiwidG90YWwiLCJ0aW1lc3RhbXBzIiwiQ2FydCIsIm1vbmdvb3NlIiwibW9kZWwiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXG1vZGVsc1xcIiwic291cmNlcyI6WyJDYXJ0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSwge1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCBDYXJ0U2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICB1c2VyOiB7dHlwZTogU2NoZW1hLk9iamVjdElkLHJlZjogJ3VzZXInLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgcHJvZHVjdDoge3R5cGU6IFNjaGVtYS5PYmplY3RJZCwgcmVmOiAncHJvZHVjdCcscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICB0eXBlX2Rpc2NvdW50OiB7dHlwZTpOdW1iZXIscmVxdWlyZWQ6ZmFsc2UsZGVmYXVsdDogMX0sLy8xIGVzIHBvciBwb3JjZW50YWplIHkgMiBlcyBwb3IgbW9uZWRhXHJcbiAgICBkaXNjb3VudDp7dHlwZTpOdW1iZXIsZGVmYXVsdDogMH0sLy81MCVcclxuICAgIGNhbnRpZGFkOiB7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sLy8yXHJcbiAgICB2YXJpZWRhZDoge3R5cGU6U2NoZW1hLk9iamVjdElkLCByZWY6ICd2YXJpZWRhZCcsIHJlcXVpcmVkOiBmYWxzZX0sXHJcbiAgICBjb2RlX2N1cG9uOiB7dHlwZTpTdHJpbmcscmVxdWlyZWQ6ZmFsc2V9LFxyXG4gICAgY29kZV9kaXNjb3VudDoge3R5cGU6U3RyaW5nLHJlcXVpcmVkOmZhbHNlfSxcclxuICAgIHByaWNlX3VuaXRhcmlvOiB7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sLy82MFxyXG4gICAgc3VidG90YWw6IHt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSwvLzMwXHJcbiAgICB0b3RhbDoge3R5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWV9LC8vNjBcclxufSx7XHJcbiAgICB0aW1lc3RhbXBzOnRydWVcclxufSk7XHJcblxyXG5jb25zdCBDYXJ0ID0gbW9uZ29vc2UubW9kZWwoXCJjYXJ0XCIsQ2FydFNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IENhcnQ7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUEwQztBQUFBO0FBRTFDLE1BQU1BLFVBQVUsR0FBRyxJQUFJQyxnQkFBTSxDQUFDO0VBQzFCQyxJQUFJLEVBQUU7SUFBQ0MsSUFBSSxFQUFFRixnQkFBTSxDQUFDRyxRQUFRO0lBQUNDLEdBQUcsRUFBRSxNQUFNO0lBQUNDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDdkRDLE9BQU8sRUFBRTtJQUFDSixJQUFJLEVBQUVGLGdCQUFNLENBQUNHLFFBQVE7SUFBRUMsR0FBRyxFQUFFLFNBQVM7SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUM5REUsYUFBYSxFQUFFO0lBQUNMLElBQUksRUFBQ00sTUFBTTtJQUFDSCxRQUFRLEVBQUMsS0FBSztJQUFDSSxPQUFPLEVBQUU7RUFBQyxDQUFDO0VBQUM7RUFDdkRDLFFBQVEsRUFBQztJQUFDUixJQUFJLEVBQUNNLE1BQU07SUFBQ0MsT0FBTyxFQUFFO0VBQUMsQ0FBQztFQUFDO0VBQ2xDRSxRQUFRLEVBQUU7SUFBQ1QsSUFBSSxFQUFDTSxNQUFNO0lBQUNILFFBQVEsRUFBQztFQUFJLENBQUM7RUFBQztFQUN0Q08sUUFBUSxFQUFFO0lBQUNWLElBQUksRUFBQ0YsZ0JBQU0sQ0FBQ0csUUFBUTtJQUFFQyxHQUFHLEVBQUUsVUFBVTtJQUFFQyxRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQ2xFUSxVQUFVLEVBQUU7SUFBQ1gsSUFBSSxFQUFDWSxNQUFNO0lBQUNULFFBQVEsRUFBQztFQUFLLENBQUM7RUFDeENVLGFBQWEsRUFBRTtJQUFDYixJQUFJLEVBQUNZLE1BQU07SUFBQ1QsUUFBUSxFQUFDO0VBQUssQ0FBQztFQUMzQ1csY0FBYyxFQUFFO0lBQUNkLElBQUksRUFBQ00sTUFBTTtJQUFDSCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQUM7RUFDNUNZLFFBQVEsRUFBRTtJQUFDZixJQUFJLEVBQUNNLE1BQU07SUFBQ0gsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUFDO0VBQ3RDYSxLQUFLLEVBQUU7SUFBQ2hCLElBQUksRUFBQ00sTUFBTTtJQUFDSCxRQUFRLEVBQUM7RUFBSSxDQUFDLENBQUM7QUFDdkMsQ0FBQyxFQUFDO0VBQ0VjLFVBQVUsRUFBQztBQUNmLENBQUMsQ0FBQztBQUVGLE1BQU1DLElBQUksR0FBR0MsaUJBQVEsQ0FBQ0MsS0FBSyxDQUFDLE1BQU0sRUFBQ3ZCLFVBQVUsQ0FBQztBQUFDLGVBQ2hDcUIsSUFBSTtBQUFBIn0=","map":{"version":3,"names":["CartSchema","Schema","user","type","ObjectId","ref","required","product","type_discount","Number","default","discount","cantidad","variedad","code_cupon","String","code_discount","price_unitario","subtotal","total","timestamps","Cart","mongoose","model"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Cart.js"],"sourcesContent":["import mongoose, {Schema} from \"mongoose\";\r\n\r\nconst CartSchema = new Schema({\r\n    user: {type: Schema.ObjectId,ref: 'user',required:true},\r\n    product: {type: Schema.ObjectId, ref: 'product',required:true},\r\n    type_discount: {type:Number,required:false,default: 1},//1 es por porcentaje y 2 es por moneda\r\n    discount:{type:Number,default: 0},//50%\r\n    cantidad: {type:Number,required:true},//2\r\n    variedad: {type:Schema.ObjectId, ref: 'variedad', required: false},\r\n    code_cupon: {type:String,required:false},\r\n    code_discount: {type:String,required:false},\r\n    price_unitario: {type:Number,required:true},//60\r\n    subtotal: {type:Number,required:true},//30\r\n    total: {type:Number,required:true},//60\r\n},{\r\n    timestamps:true\r\n});\r\n\r\nconst Cart = mongoose.model(\"cart\",CartSchema);\r\nexport default Cart;"],"mappings":";;;;;;AAAA;AAA0C;AAAA;AAE1C,MAAMA,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC1BC,IAAI,EAAE;IAACC,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAE,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EACvDC,OAAO,EAAE;IAACJ,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAE,SAAS;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC9DE,aAAa,EAAE;IAACL,IAAI,EAACM,MAAM;IAACH,QAAQ,EAAC,KAAK;IAACI,OAAO,EAAE;EAAC,CAAC;EAAC;EACvDC,QAAQ,EAAC;IAACR,IAAI,EAACM,MAAM;IAACC,OAAO,EAAE;EAAC,CAAC;EAAC;EAClCE,QAAQ,EAAE;IAACT,IAAI,EAACM,MAAM;IAACH,QAAQ,EAAC;EAAI,CAAC;EAAC;EACtCO,QAAQ,EAAE;IAACV,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAE,UAAU;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAClEQ,UAAU,EAAE;IAACX,IAAI,EAACY,MAAM;IAACT,QAAQ,EAAC;EAAK,CAAC;EACxCU,aAAa,EAAE;IAACb,IAAI,EAACY,MAAM;IAACT,QAAQ,EAAC;EAAK,CAAC;EAC3CW,cAAc,EAAE;IAACd,IAAI,EAACM,MAAM;IAACH,QAAQ,EAAC;EAAI,CAAC;EAAC;EAC5CY,QAAQ,EAAE;IAACf,IAAI,EAACM,MAAM;IAACH,QAAQ,EAAC;EAAI,CAAC;EAAC;EACtCa,KAAK,EAAE;IAAChB,IAAI,EAACM,MAAM;IAACH,QAAQ,EAAC;EAAI,CAAC,CAAC;AACvC,CAAC,EAAC;EACEc,UAAU,EAAC;AACf,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAACvB,UAAU,CAAC;AAAC,eAChCqB,IAAI;AAAA"}},"mtime":1679240384767},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\AddressClient.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst AddressClientSchema = new _mongoose.Schema({\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  pais: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  address: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  referencia: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  ciudad: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  region: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  telefono: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  nota: {\n    type: String,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst AddressClient = _mongoose.default.model(\"address_client\", AddressClientSchema);\nvar _default = AddressClient;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJBZGRyZXNzQ2xpZW50U2NoZW1hIiwiU2NoZW1hIiwidXNlciIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwibmFtZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInN1cm5hbWUiLCJwYWlzIiwiYWRkcmVzcyIsInJlZmVyZW5jaWEiLCJjaXVkYWQiLCJyZWdpb24iLCJ0ZWxlZm9ubyIsImVtYWlsIiwibm90YSIsInRpbWVzdGFtcHMiLCJBZGRyZXNzQ2xpZW50IiwibW9uZ29vc2UiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIkFkZHJlc3NDbGllbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3QgQWRkcmVzc0NsaWVudFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgdXNlcjp7dHlwZTpTY2hlbWEuT2JqZWN0SWQscmVmOiAndXNlcicscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBuYW1lOnt0eXBlOlN0cmluZyxtYXhsZW5ndGggOiAyNTAscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBzdXJuYW1lOnt0eXBlOlN0cmluZyxtYXhsZW5ndGggOiAyNTAscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBwYWlzOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBhZGRyZXNzOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICByZWZlcmVuY2lhOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6ZmFsc2V9LFxyXG4gICAgY2l1ZGFkOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICByZWdpb246e3R5cGU6U3RyaW5nLG1heGxlbmd0aDogMjUwLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIHRlbGVmb25vOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBlbWFpbDp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgbm90YTp7dHlwZTpTdHJpbmcsIHJlcXVpcmVkOmZhbHNlfSxcclxufSx7XHJcbiAgICB0aW1lc3RhbXBzOiB0cnVlXHJcbn0pO1xyXG5cclxuY29uc3QgQWRkcmVzc0NsaWVudCA9IG1vbmdvb3NlLm1vZGVsKFwiYWRkcmVzc19jbGllbnRcIixBZGRyZXNzQ2xpZW50U2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgQWRkcmVzc0NsaWVudDsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQXlDO0FBQUE7QUFFekMsTUFBTUEsbUJBQW1CLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUNuQ0MsSUFBSSxFQUFDO0lBQUNDLElBQUksRUFBQ0YsZ0JBQU0sQ0FBQ0csUUFBUTtJQUFDQyxHQUFHLEVBQUUsTUFBTTtJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ3JEQyxJQUFJLEVBQUM7SUFBQ0osSUFBSSxFQUFDSyxNQUFNO0lBQUNDLFNBQVMsRUFBRyxHQUFHO0lBQUNILFFBQVEsRUFBQztFQUFJLENBQUM7RUFDaERJLE9BQU8sRUFBQztJQUFDUCxJQUFJLEVBQUNLLE1BQU07SUFBQ0MsU0FBUyxFQUFHLEdBQUc7SUFBQ0gsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNuREssSUFBSSxFQUFDO0lBQUNSLElBQUksRUFBQ0ssTUFBTTtJQUFDQyxTQUFTLEVBQUUsR0FBRztJQUFFSCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2hETSxPQUFPLEVBQUM7SUFBQ1QsSUFBSSxFQUFDSyxNQUFNO0lBQUNDLFNBQVMsRUFBRSxHQUFHO0lBQUVILFFBQVEsRUFBQztFQUFJLENBQUM7RUFDbkRPLFVBQVUsRUFBQztJQUFDVixJQUFJLEVBQUNLLE1BQU07SUFBQ0MsU0FBUyxFQUFFLEdBQUc7SUFBRUgsUUFBUSxFQUFDO0VBQUssQ0FBQztFQUN2RFEsTUFBTSxFQUFDO0lBQUNYLElBQUksRUFBQ0ssTUFBTTtJQUFDQyxTQUFTLEVBQUUsR0FBRztJQUFFSCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2xEUyxNQUFNLEVBQUM7SUFBQ1osSUFBSSxFQUFDSyxNQUFNO0lBQUNDLFNBQVMsRUFBRSxHQUFHO0lBQUVILFFBQVEsRUFBQztFQUFJLENBQUM7RUFDbERVLFFBQVEsRUFBQztJQUFDYixJQUFJLEVBQUNLLE1BQU07SUFBQ0MsU0FBUyxFQUFFLEdBQUc7SUFBRUgsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNwRFcsS0FBSyxFQUFDO0lBQUNkLElBQUksRUFBQ0ssTUFBTTtJQUFDQyxTQUFTLEVBQUUsR0FBRztJQUFFSCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2pEWSxJQUFJLEVBQUM7SUFBQ2YsSUFBSSxFQUFDSyxNQUFNO0lBQUVGLFFBQVEsRUFBQztFQUFLO0FBQ3JDLENBQUMsRUFBQztFQUNFYSxVQUFVLEVBQUU7QUFDaEIsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsYUFBYSxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsZ0JBQWdCLEVBQUN0QixtQkFBbUIsQ0FBQztBQUFDLGVBQzVEb0IsYUFBYTtBQUFBIn0=","map":{"version":3,"names":["AddressClientSchema","Schema","user","type","ObjectId","ref","required","name","String","maxlength","surname","pais","address","referencia","ciudad","region","telefono","email","nota","timestamps","AddressClient","mongoose","model"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["AddressClient.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst AddressClientSchema = new Schema({\r\n    user:{type:Schema.ObjectId,ref: 'user',required:true},\r\n    name:{type:String,maxlength : 250,required:true},\r\n    surname:{type:String,maxlength : 250,required:true},\r\n    pais:{type:String,maxlength: 250, required:true},\r\n    address:{type:String,maxlength: 250, required:true},\r\n    referencia:{type:String,maxlength: 250, required:false},\r\n    ciudad:{type:String,maxlength: 250, required:true},\r\n    region:{type:String,maxlength: 250, required:true},\r\n    telefono:{type:String,maxlength: 250, required:true},\r\n    email:{type:String,maxlength: 250, required:true},\r\n    nota:{type:String, required:false},\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst AddressClient = mongoose.model(\"address_client\",AddressClientSchema);\r\nexport default AddressClient;"],"mappings":";;;;;;AAAA;AAAyC;AAAA;AAEzC,MAAMA,mBAAmB,GAAG,IAAIC,gBAAM,CAAC;EACnCC,IAAI,EAAC;IAACC,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAE,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EACrDC,IAAI,EAAC;IAACJ,IAAI,EAACK,MAAM;IAACC,SAAS,EAAG,GAAG;IAACH,QAAQ,EAAC;EAAI,CAAC;EAChDI,OAAO,EAAC;IAACP,IAAI,EAACK,MAAM;IAACC,SAAS,EAAG,GAAG;IAACH,QAAQ,EAAC;EAAI,CAAC;EACnDK,IAAI,EAAC;IAACR,IAAI,EAACK,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEH,QAAQ,EAAC;EAAI,CAAC;EAChDM,OAAO,EAAC;IAACT,IAAI,EAACK,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEH,QAAQ,EAAC;EAAI,CAAC;EACnDO,UAAU,EAAC;IAACV,IAAI,EAACK,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEH,QAAQ,EAAC;EAAK,CAAC;EACvDQ,MAAM,EAAC;IAACX,IAAI,EAACK,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEH,QAAQ,EAAC;EAAI,CAAC;EAClDS,MAAM,EAAC;IAACZ,IAAI,EAACK,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEH,QAAQ,EAAC;EAAI,CAAC;EAClDU,QAAQ,EAAC;IAACb,IAAI,EAACK,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEH,QAAQ,EAAC;EAAI,CAAC;EACpDW,KAAK,EAAC;IAACd,IAAI,EAACK,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEH,QAAQ,EAAC;EAAI,CAAC;EACjDY,IAAI,EAAC;IAACf,IAAI,EAACK,MAAM;IAAEF,QAAQ,EAAC;EAAK;AACrC,CAAC,EAAC;EACEa,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,aAAa,GAAGC,iBAAQ,CAACC,KAAK,CAAC,gBAAgB,EAACtB,mBAAmB,CAAC;AAAC,eAC5DoB,aAAa;AAAA"}},"mtime":1679756615219},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Sale.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst SaleSchema = new _mongoose.Schema({\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  currency_payment: {\n    type: String,\n    default: 'USD'\n  },\n  method_payment: {\n    type: String,\n    maxlength: 50,\n    required: true\n  },\n  n_transacccion: {\n    type: String,\n    maxlength: 200,\n    required: true\n  },\n  total: {\n    type: Number,\n    required: true\n  },\n  // \n  currency_total: {\n    type: String,\n    maxlength: 50,\n    default: 'USD'\n  },\n  price_dolar: {\n    type: Number,\n    default: 0\n  }\n}, {\n  timestamps: true\n});\nconst Sale = _mongoose.default.model(\"sale\", SaleSchema);\nvar _default = Sale;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTYWxlU2NoZW1hIiwiU2NoZW1hIiwidXNlciIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwiY3VycmVuY3lfcGF5bWVudCIsIlN0cmluZyIsImRlZmF1bHQiLCJtZXRob2RfcGF5bWVudCIsIm1heGxlbmd0aCIsIm5fdHJhbnNhY2NjaW9uIiwidG90YWwiLCJOdW1iZXIiLCJjdXJyZW5jeV90b3RhbCIsInByaWNlX2RvbGFyIiwidGltZXN0YW1wcyIsIlNhbGUiLCJtb25nb29zZSIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiU2FsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2Use1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCBTYWxlU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICB1c2VyOnt0eXBlOiBTY2hlbWEuT2JqZWN0SWQscmVmOid1c2VyJyxyZXF1aXJlZDp0cnVlfSxcclxuICAgIGN1cnJlbmN5X3BheW1lbnQ6e3R5cGU6IFN0cmluZyxkZWZhdWx0OiAnVVNEJ30sXHJcbiAgICBtZXRob2RfcGF5bWVudDp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiA1MCxyZXF1aXJlZDp0cnVlfSxcclxuICAgIG5fdHJhbnNhY2NjaW9uOiB7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyMDAscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICB0b3RhbDp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICAvLyBcclxuICAgIGN1cnJlbmN5X3RvdGFsOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6IDUwLCBkZWZhdWx0OiAnVVNEJ30sXHJcbiAgICBwcmljZV9kb2xhcjp7dHlwZTpOdW1iZXIsZGVmYXVsdDogMH0sXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczogdHJ1ZSxcclxufSk7XHJcblxyXG5jb25zdCBTYWxlID0gbW9uZ29vc2UubW9kZWwoXCJzYWxlXCIsU2FsZVNjaGVtYSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTYWxlOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFBeUM7QUFBQTtBQUV6QyxNQUFNQSxVQUFVLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUMxQkMsSUFBSSxFQUFDO0lBQUNDLElBQUksRUFBRUYsZ0JBQU0sQ0FBQ0csUUFBUTtJQUFDQyxHQUFHLEVBQUMsTUFBTTtJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ3JEQyxnQkFBZ0IsRUFBQztJQUFDSixJQUFJLEVBQUVLLE1BQU07SUFBQ0MsT0FBTyxFQUFFO0VBQUssQ0FBQztFQUM5Q0MsY0FBYyxFQUFDO0lBQUNQLElBQUksRUFBQ0ssTUFBTTtJQUFDRyxTQUFTLEVBQUUsRUFBRTtJQUFDTCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ3hETSxjQUFjLEVBQUU7SUFBQ1QsSUFBSSxFQUFDSyxNQUFNO0lBQUNHLFNBQVMsRUFBRSxHQUFHO0lBQUNMLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDMURPLEtBQUssRUFBQztJQUFDVixJQUFJLEVBQUNXLE1BQU07SUFBQ1IsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNqQztFQUNBUyxjQUFjLEVBQUU7SUFBQ1osSUFBSSxFQUFFSyxNQUFNO0lBQUVHLFNBQVMsRUFBRSxFQUFFO0lBQUVGLE9BQU8sRUFBRTtFQUFLLENBQUM7RUFDN0RPLFdBQVcsRUFBQztJQUFDYixJQUFJLEVBQUNXLE1BQU07SUFBQ0wsT0FBTyxFQUFFO0VBQUM7QUFDdkMsQ0FBQyxFQUFDO0VBQ0VRLFVBQVUsRUFBRTtBQUNoQixDQUFDLENBQUM7QUFFRixNQUFNQyxJQUFJLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxNQUFNLEVBQUNwQixVQUFVLENBQUM7QUFBQyxlQUVoQ2tCLElBQUk7QUFBQSJ9","map":{"version":3,"names":["SaleSchema","Schema","user","type","ObjectId","ref","required","currency_payment","String","default","method_payment","maxlength","n_transacccion","total","Number","currency_total","price_dolar","timestamps","Sale","mongoose","model"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Sale.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst SaleSchema = new Schema({\r\n    user:{type: Schema.ObjectId,ref:'user',required:true},\r\n    currency_payment:{type: String,default: 'USD'},\r\n    method_payment:{type:String,maxlength: 50,required:true},\r\n    n_transacccion: {type:String,maxlength: 200,required:true},\r\n    total:{type:Number,required:true},\r\n    // \r\n    currency_total: {type: String, maxlength: 50, default: 'USD'},\r\n    price_dolar:{type:Number,default: 0},\r\n},{\r\n    timestamps: true,\r\n});\r\n\r\nconst Sale = mongoose.model(\"sale\",SaleSchema);\r\n\r\nexport default Sale;"],"mappings":";;;;;;AAAA;AAAyC;AAAA;AAEzC,MAAMA,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC1BC,IAAI,EAAC;IAACC,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EACrDC,gBAAgB,EAAC;IAACJ,IAAI,EAAEK,MAAM;IAACC,OAAO,EAAE;EAAK,CAAC;EAC9CC,cAAc,EAAC;IAACP,IAAI,EAACK,MAAM;IAACG,SAAS,EAAE,EAAE;IAACL,QAAQ,EAAC;EAAI,CAAC;EACxDM,cAAc,EAAE;IAACT,IAAI,EAACK,MAAM;IAACG,SAAS,EAAE,GAAG;IAACL,QAAQ,EAAC;EAAI,CAAC;EAC1DO,KAAK,EAAC;IAACV,IAAI,EAACW,MAAM;IAACR,QAAQ,EAAC;EAAI,CAAC;EACjC;EACAS,cAAc,EAAE;IAACZ,IAAI,EAAEK,MAAM;IAAEG,SAAS,EAAE,EAAE;IAAEF,OAAO,EAAE;EAAK,CAAC;EAC7DO,WAAW,EAAC;IAACb,IAAI,EAACW,MAAM;IAACL,OAAO,EAAE;EAAC;AACvC,CAAC,EAAC;EACEQ,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAACpB,UAAU,CAAC;AAAC,eAEhCkB,IAAI;AAAA"}},"mtime":1679842300790},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\SaleDetail.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst SaleDetailSchema = new _mongoose.Schema({\n  sale: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'sale',\n    required: true\n  },\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  type_discount: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es por porcentaje y 2 es por moneda\n  discount: {\n    type: Number,\n    default: 0\n  },\n  //50%\n  cantidad: {\n    type: Number,\n    required: true\n  },\n  //2\n  variedad: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'variedad',\n    required: false\n  },\n  code_cupon: {\n    type: String,\n    required: false\n  },\n  code_discount: {\n    type: String,\n    required: false\n  },\n  price_unitario: {\n    type: Number,\n    required: true\n  },\n  //60\n  subtotal: {\n    type: Number,\n    required: true\n  },\n  //30\n  total: {\n    type: Number,\n    required: true\n  } //60\n}, {\n  timestamps: true\n});\nconst SaleDetail = _mongoose.default.model(\"sale_detail\", SaleDetailSchema);\nvar _default = SaleDetail;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTYWxlRGV0YWlsU2NoZW1hIiwiU2NoZW1hIiwic2FsZSIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwicHJvZHVjdCIsInR5cGVfZGlzY291bnQiLCJOdW1iZXIiLCJkZWZhdWx0IiwiZGlzY291bnQiLCJjYW50aWRhZCIsInZhcmllZGFkIiwiY29kZV9jdXBvbiIsIlN0cmluZyIsImNvZGVfZGlzY291bnQiLCJwcmljZV91bml0YXJpbyIsInN1YnRvdGFsIiwidG90YWwiLCJ0aW1lc3RhbXBzIiwiU2FsZURldGFpbCIsIm1vbmdvb3NlIiwibW9kZWwiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXG1vZGVsc1xcIiwic291cmNlcyI6WyJTYWxlRGV0YWlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IFNhbGVEZXRhaWxTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIHNhbGU6IHt0eXBlOiBTY2hlbWEuT2JqZWN0SWQscmVmOiAnc2FsZScscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBwcm9kdWN0OiB7dHlwZTogU2NoZW1hLk9iamVjdElkLCByZWY6ICdwcm9kdWN0JyxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHR5cGVfZGlzY291bnQ6IHt0eXBlOk51bWJlcixyZXF1aXJlZDpmYWxzZSxkZWZhdWx0OiAxfSwvLzEgZXMgcG9yIHBvcmNlbnRhamUgeSAyIGVzIHBvciBtb25lZGFcclxuICAgIGRpc2NvdW50Ont0eXBlOk51bWJlcixkZWZhdWx0OiAwfSwvLzUwJVxyXG4gICAgY2FudGlkYWQ6IHt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSwvLzJcclxuICAgIHZhcmllZGFkOiB7dHlwZTpTY2hlbWEuT2JqZWN0SWQsIHJlZjogJ3ZhcmllZGFkJywgcmVxdWlyZWQ6IGZhbHNlfSxcclxuICAgIGNvZGVfY3Vwb246IHt0eXBlOlN0cmluZyxyZXF1aXJlZDpmYWxzZX0sXHJcbiAgICBjb2RlX2Rpc2NvdW50OiB7dHlwZTpTdHJpbmcscmVxdWlyZWQ6ZmFsc2V9LFxyXG4gICAgcHJpY2VfdW5pdGFyaW86IHt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSwvLzYwXHJcbiAgICBzdWJ0b3RhbDoge3R5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWV9LC8vMzBcclxuICAgIHRvdGFsOiB7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sLy82MFxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6dHJ1ZSxcclxufSk7XHJcblxyXG5jb25zdCBTYWxlRGV0YWlsID0gbW9uZ29vc2UubW9kZWwoXCJzYWxlX2RldGFpbFwiLFNhbGVEZXRhaWxTY2hlbWEpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2FsZURldGFpbDsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQXlDO0FBQUE7QUFFekMsTUFBTUEsZ0JBQWdCLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUNoQ0MsSUFBSSxFQUFFO0lBQUNDLElBQUksRUFBRUYsZ0JBQU0sQ0FBQ0csUUFBUTtJQUFDQyxHQUFHLEVBQUUsTUFBTTtJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ3ZEQyxPQUFPLEVBQUU7SUFBQ0osSUFBSSxFQUFFRixnQkFBTSxDQUFDRyxRQUFRO0lBQUVDLEdBQUcsRUFBRSxTQUFTO0lBQUNDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDOURFLGFBQWEsRUFBRTtJQUFDTCxJQUFJLEVBQUNNLE1BQU07SUFBQ0gsUUFBUSxFQUFDLEtBQUs7SUFBQ0ksT0FBTyxFQUFFO0VBQUMsQ0FBQztFQUFDO0VBQ3ZEQyxRQUFRLEVBQUM7SUFBQ1IsSUFBSSxFQUFDTSxNQUFNO0lBQUNDLE9BQU8sRUFBRTtFQUFDLENBQUM7RUFBQztFQUNsQ0UsUUFBUSxFQUFFO0lBQUNULElBQUksRUFBQ00sTUFBTTtJQUFDSCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQUM7RUFDdENPLFFBQVEsRUFBRTtJQUFDVixJQUFJLEVBQUNGLGdCQUFNLENBQUNHLFFBQVE7SUFBRUMsR0FBRyxFQUFFLFVBQVU7SUFBRUMsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUNsRVEsVUFBVSxFQUFFO0lBQUNYLElBQUksRUFBQ1ksTUFBTTtJQUFDVCxRQUFRLEVBQUM7RUFBSyxDQUFDO0VBQ3hDVSxhQUFhLEVBQUU7SUFBQ2IsSUFBSSxFQUFDWSxNQUFNO0lBQUNULFFBQVEsRUFBQztFQUFLLENBQUM7RUFDM0NXLGNBQWMsRUFBRTtJQUFDZCxJQUFJLEVBQUNNLE1BQU07SUFBQ0gsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUFDO0VBQzVDWSxRQUFRLEVBQUU7SUFBQ2YsSUFBSSxFQUFDTSxNQUFNO0lBQUNILFFBQVEsRUFBQztFQUFJLENBQUM7RUFBQztFQUN0Q2EsS0FBSyxFQUFFO0lBQUNoQixJQUFJLEVBQUNNLE1BQU07SUFBQ0gsUUFBUSxFQUFDO0VBQUksQ0FBQyxDQUFDO0FBQ3ZDLENBQUMsRUFBQztFQUNFYyxVQUFVLEVBQUM7QUFDZixDQUFDLENBQUM7QUFFRixNQUFNQyxVQUFVLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxhQUFhLEVBQUN2QixnQkFBZ0IsQ0FBQztBQUFDLGVBRW5EcUIsVUFBVTtBQUFBIn0=","map":{"version":3,"names":["SaleDetailSchema","Schema","sale","type","ObjectId","ref","required","product","type_discount","Number","default","discount","cantidad","variedad","code_cupon","String","code_discount","price_unitario","subtotal","total","timestamps","SaleDetail","mongoose","model"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["SaleDetail.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst SaleDetailSchema = new Schema({\r\n    sale: {type: Schema.ObjectId,ref: 'sale',required:true},\r\n    product: {type: Schema.ObjectId, ref: 'product',required:true},\r\n    type_discount: {type:Number,required:false,default: 1},//1 es por porcentaje y 2 es por moneda\r\n    discount:{type:Number,default: 0},//50%\r\n    cantidad: {type:Number,required:true},//2\r\n    variedad: {type:Schema.ObjectId, ref: 'variedad', required: false},\r\n    code_cupon: {type:String,required:false},\r\n    code_discount: {type:String,required:false},\r\n    price_unitario: {type:Number,required:true},//60\r\n    subtotal: {type:Number,required:true},//30\r\n    total: {type:Number,required:true},//60\r\n},{\r\n    timestamps:true,\r\n});\r\n\r\nconst SaleDetail = mongoose.model(\"sale_detail\",SaleDetailSchema);\r\n\r\nexport default SaleDetail;"],"mappings":";;;;;;AAAA;AAAyC;AAAA;AAEzC,MAAMA,gBAAgB,GAAG,IAAIC,gBAAM,CAAC;EAChCC,IAAI,EAAE;IAACC,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAE,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EACvDC,OAAO,EAAE;IAACJ,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAE,SAAS;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC9DE,aAAa,EAAE;IAACL,IAAI,EAACM,MAAM;IAACH,QAAQ,EAAC,KAAK;IAACI,OAAO,EAAE;EAAC,CAAC;EAAC;EACvDC,QAAQ,EAAC;IAACR,IAAI,EAACM,MAAM;IAACC,OAAO,EAAE;EAAC,CAAC;EAAC;EAClCE,QAAQ,EAAE;IAACT,IAAI,EAACM,MAAM;IAACH,QAAQ,EAAC;EAAI,CAAC;EAAC;EACtCO,QAAQ,EAAE;IAACV,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAE,UAAU;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAClEQ,UAAU,EAAE;IAACX,IAAI,EAACY,MAAM;IAACT,QAAQ,EAAC;EAAK,CAAC;EACxCU,aAAa,EAAE;IAACb,IAAI,EAACY,MAAM;IAACT,QAAQ,EAAC;EAAK,CAAC;EAC3CW,cAAc,EAAE;IAACd,IAAI,EAACM,MAAM;IAACH,QAAQ,EAAC;EAAI,CAAC;EAAC;EAC5CY,QAAQ,EAAE;IAACf,IAAI,EAACM,MAAM;IAACH,QAAQ,EAAC;EAAI,CAAC;EAAC;EACtCa,KAAK,EAAE;IAAChB,IAAI,EAACM,MAAM;IAACH,QAAQ,EAAC;EAAI,CAAC,CAAC;AACvC,CAAC,EAAC;EACEc,UAAU,EAAC;AACf,CAAC,CAAC;AAEF,MAAMC,UAAU,GAAGC,iBAAQ,CAACC,KAAK,CAAC,aAAa,EAACvB,gBAAgB,CAAC;AAAC,eAEnDqB,UAAU;AAAA"}},"mtime":1679842349406},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\SaleAddress.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst SaleAddressSchema = new _mongoose.Schema({\n  sale: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'sale',\n    required: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  pais: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  address: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  referencia: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  ciudad: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  region: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  telefono: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  nota: {\n    type: String,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst SaleAddress = _mongoose.default.model(\"sale_address\", SaleAddressSchema);\nvar _default = SaleAddress;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTYWxlQWRkcmVzc1NjaGVtYSIsIlNjaGVtYSIsInNhbGUiLCJ0eXBlIiwiT2JqZWN0SWQiLCJyZWYiLCJyZXF1aXJlZCIsIm5hbWUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJzdXJuYW1lIiwicGFpcyIsImFkZHJlc3MiLCJyZWZlcmVuY2lhIiwiY2l1ZGFkIiwicmVnaW9uIiwidGVsZWZvbm8iLCJlbWFpbCIsIm5vdGEiLCJ0aW1lc3RhbXBzIiwiU2FsZUFkZHJlc3MiLCJtb25nb29zZSIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiU2FsZUFkZHJlc3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3QgU2FsZUFkZHJlc3NTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIHNhbGU6e3R5cGU6U2NoZW1hLk9iamVjdElkLHJlZjogJ3NhbGUnLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgbmFtZTp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoIDogMjUwLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgc3VybmFtZTp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoIDogMjUwLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgcGFpczp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgYWRkcmVzczp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgcmVmZXJlbmNpYTp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOmZhbHNlfSxcclxuICAgIGNpdWRhZDp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgcmVnaW9uOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICB0ZWxlZm9ubzp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgZW1haWw6e3R5cGU6U3RyaW5nLG1heGxlbmd0aDogMjUwLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIG5vdGE6e3R5cGU6U3RyaW5nLCByZXF1aXJlZDpmYWxzZX0sXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczogdHJ1ZVxyXG59KTtcclxuXHJcbmNvbnN0IFNhbGVBZGRyZXNzID0gbW9uZ29vc2UubW9kZWwoXCJzYWxlX2FkZHJlc3NcIixTYWxlQWRkcmVzc1NjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IFNhbGVBZGRyZXNzOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFBeUM7QUFBQTtBQUV6QyxNQUFNQSxpQkFBaUIsR0FBRyxJQUFJQyxnQkFBTSxDQUFDO0VBQ2pDQyxJQUFJLEVBQUM7SUFBQ0MsSUFBSSxFQUFDRixnQkFBTSxDQUFDRyxRQUFRO0lBQUNDLEdBQUcsRUFBRSxNQUFNO0lBQUNDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDckRDLElBQUksRUFBQztJQUFDSixJQUFJLEVBQUNLLE1BQU07SUFBQ0MsU0FBUyxFQUFHLEdBQUc7SUFBQ0gsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNoREksT0FBTyxFQUFDO0lBQUNQLElBQUksRUFBQ0ssTUFBTTtJQUFDQyxTQUFTLEVBQUcsR0FBRztJQUFDSCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ25ESyxJQUFJLEVBQUM7SUFBQ1IsSUFBSSxFQUFDSyxNQUFNO0lBQUNDLFNBQVMsRUFBRSxHQUFHO0lBQUVILFFBQVEsRUFBQztFQUFJLENBQUM7RUFDaERNLE9BQU8sRUFBQztJQUFDVCxJQUFJLEVBQUNLLE1BQU07SUFBQ0MsU0FBUyxFQUFFLEdBQUc7SUFBRUgsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNuRE8sVUFBVSxFQUFDO0lBQUNWLElBQUksRUFBQ0ssTUFBTTtJQUFDQyxTQUFTLEVBQUUsR0FBRztJQUFFSCxRQUFRLEVBQUM7RUFBSyxDQUFDO0VBQ3ZEUSxNQUFNLEVBQUM7SUFBQ1gsSUFBSSxFQUFDSyxNQUFNO0lBQUNDLFNBQVMsRUFBRSxHQUFHO0lBQUVILFFBQVEsRUFBQztFQUFJLENBQUM7RUFDbERTLE1BQU0sRUFBQztJQUFDWixJQUFJLEVBQUNLLE1BQU07SUFBQ0MsU0FBUyxFQUFFLEdBQUc7SUFBRUgsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNsRFUsUUFBUSxFQUFDO0lBQUNiLElBQUksRUFBQ0ssTUFBTTtJQUFDQyxTQUFTLEVBQUUsR0FBRztJQUFFSCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ3BEVyxLQUFLLEVBQUM7SUFBQ2QsSUFBSSxFQUFDSyxNQUFNO0lBQUNDLFNBQVMsRUFBRSxHQUFHO0lBQUVILFFBQVEsRUFBQztFQUFJLENBQUM7RUFDakRZLElBQUksRUFBQztJQUFDZixJQUFJLEVBQUNLLE1BQU07SUFBRUYsUUFBUSxFQUFDO0VBQUs7QUFDckMsQ0FBQyxFQUFDO0VBQ0VhLFVBQVUsRUFBRTtBQUNoQixDQUFDLENBQUM7QUFFRixNQUFNQyxXQUFXLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxjQUFjLEVBQUN0QixpQkFBaUIsQ0FBQztBQUFDLGVBQ3REb0IsV0FBVztBQUFBIn0=","map":{"version":3,"names":["SaleAddressSchema","Schema","sale","type","ObjectId","ref","required","name","String","maxlength","surname","pais","address","referencia","ciudad","region","telefono","email","nota","timestamps","SaleAddress","mongoose","model"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["SaleAddress.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst SaleAddressSchema = new Schema({\r\n    sale:{type:Schema.ObjectId,ref: 'sale',required:true},\r\n    name:{type:String,maxlength : 250,required:true},\r\n    surname:{type:String,maxlength : 250,required:true},\r\n    pais:{type:String,maxlength: 250, required:true},\r\n    address:{type:String,maxlength: 250, required:true},\r\n    referencia:{type:String,maxlength: 250, required:false},\r\n    ciudad:{type:String,maxlength: 250, required:true},\r\n    region:{type:String,maxlength: 250, required:true},\r\n    telefono:{type:String,maxlength: 250, required:true},\r\n    email:{type:String,maxlength: 250, required:true},\r\n    nota:{type:String, required:false},\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst SaleAddress = mongoose.model(\"sale_address\",SaleAddressSchema);\r\nexport default SaleAddress;"],"mappings":";;;;;;AAAA;AAAyC;AAAA;AAEzC,MAAMA,iBAAiB,GAAG,IAAIC,gBAAM,CAAC;EACjCC,IAAI,EAAC;IAACC,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAE,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EACrDC,IAAI,EAAC;IAACJ,IAAI,EAACK,MAAM;IAACC,SAAS,EAAG,GAAG;IAACH,QAAQ,EAAC;EAAI,CAAC;EAChDI,OAAO,EAAC;IAACP,IAAI,EAACK,MAAM;IAACC,SAAS,EAAG,GAAG;IAACH,QAAQ,EAAC;EAAI,CAAC;EACnDK,IAAI,EAAC;IAACR,IAAI,EAACK,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEH,QAAQ,EAAC;EAAI,CAAC;EAChDM,OAAO,EAAC;IAACT,IAAI,EAACK,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEH,QAAQ,EAAC;EAAI,CAAC;EACnDO,UAAU,EAAC;IAACV,IAAI,EAACK,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEH,QAAQ,EAAC;EAAK,CAAC;EACvDQ,MAAM,EAAC;IAACX,IAAI,EAACK,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEH,QAAQ,EAAC;EAAI,CAAC;EAClDS,MAAM,EAAC;IAACZ,IAAI,EAACK,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEH,QAAQ,EAAC;EAAI,CAAC;EAClDU,QAAQ,EAAC;IAACb,IAAI,EAACK,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEH,QAAQ,EAAC;EAAI,CAAC;EACpDW,KAAK,EAAC;IAACd,IAAI,EAACK,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEH,QAAQ,EAAC;EAAI,CAAC;EACjDY,IAAI,EAAC;IAACf,IAAI,EAACK,MAAM;IAAEF,QAAQ,EAAC;EAAK;AACrC,CAAC,EAAC;EACEa,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,WAAW,GAAGC,iBAAQ,CAACC,KAAK,CAAC,cAAc,EAACtB,iBAAiB,CAAC;AAAC,eACtDoB,WAAW;AAAA"}},"mtime":1679842388462},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Review.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst ReviewSchema = new _mongoose.Schema({\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  sale_detail: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'sale_detail',\n    required: true\n  },\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  cantidad: {\n    type: Number,\n    maxlength: 2,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst Review = _mongoose.default.model(\"review\", ReviewSchema);\nvar _default = Review;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZXZpZXdTY2hlbWEiLCJTY2hlbWEiLCJwcm9kdWN0IiwidHlwZSIsIk9iamVjdElkIiwicmVmIiwicmVxdWlyZWQiLCJzYWxlX2RldGFpbCIsInVzZXIiLCJjYW50aWRhZCIsIk51bWJlciIsIm1heGxlbmd0aCIsImRlc2NyaXB0aW9uIiwiU3RyaW5nIiwidGltZXN0YW1wcyIsIlJldmlldyIsIm1vbmdvb3NlIiwibW9kZWwiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXG1vZGVsc1xcIiwic291cmNlcyI6WyJSZXZpZXcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3QgUmV2aWV3U2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICBwcm9kdWN0Ont0eXBlOlNjaGVtYS5PYmplY3RJZCxyZWY6J3Byb2R1Y3QnLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgc2FsZV9kZXRhaWw6e3R5cGU6U2NoZW1hLk9iamVjdElkLHJlZjonc2FsZV9kZXRhaWwnLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIHVzZXI6e3R5cGU6U2NoZW1hLk9iamVjdElkLHJlZjondXNlcicsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgY2FudGlkYWQ6e3R5cGU6TnVtYmVyLG1heGxlbmd0aDoyLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgZGVzY3JpcHRpb246e3R5cGU6U3RyaW5nLHJlcXVpcmVkOnRydWV9LFxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6IHRydWVcclxufSk7XHJcblxyXG5jb25zdCBSZXZpZXcgPSBtb25nb29zZS5tb2RlbChcInJldmlld1wiLFJldmlld1NjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IFJldmlldzsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQXlDO0FBQUE7QUFFekMsTUFBTUEsWUFBWSxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDNUJDLE9BQU8sRUFBQztJQUFDQyxJQUFJLEVBQUNGLGdCQUFNLENBQUNHLFFBQVE7SUFBQ0MsR0FBRyxFQUFDLFNBQVM7SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUMxREMsV0FBVyxFQUFDO0lBQUNKLElBQUksRUFBQ0YsZ0JBQU0sQ0FBQ0csUUFBUTtJQUFDQyxHQUFHLEVBQUMsYUFBYTtJQUFFQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ25FRSxJQUFJLEVBQUM7SUFBQ0wsSUFBSSxFQUFDRixnQkFBTSxDQUFDRyxRQUFRO0lBQUNDLEdBQUcsRUFBQyxNQUFNO0lBQUVDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDckRHLFFBQVEsRUFBQztJQUFDTixJQUFJLEVBQUNPLE1BQU07SUFBQ0MsU0FBUyxFQUFDLENBQUM7SUFBQ0wsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNoRE0sV0FBVyxFQUFDO0lBQUNULElBQUksRUFBQ1UsTUFBTTtJQUFDUCxRQUFRLEVBQUM7RUFBSTtBQUMxQyxDQUFDLEVBQUM7RUFDRVEsVUFBVSxFQUFFO0FBQ2hCLENBQUMsQ0FBQztBQUVGLE1BQU1DLE1BQU0sR0FBR0MsaUJBQVEsQ0FBQ0MsS0FBSyxDQUFDLFFBQVEsRUFBQ2pCLFlBQVksQ0FBQztBQUFDLGVBQ3RDZSxNQUFNO0FBQUEifQ==","map":{"version":3,"names":["ReviewSchema","Schema","product","type","ObjectId","ref","required","sale_detail","user","cantidad","Number","maxlength","description","String","timestamps","Review","mongoose","model"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Review.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst ReviewSchema = new Schema({\r\n    product:{type:Schema.ObjectId,ref:'product',required:true},\r\n    sale_detail:{type:Schema.ObjectId,ref:'sale_detail', required:true},\r\n    user:{type:Schema.ObjectId,ref:'user', required:true},\r\n    cantidad:{type:Number,maxlength:2,required:true},\r\n    description:{type:String,required:true},\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst Review = mongoose.model(\"review\",ReviewSchema);\r\nexport default Review;"],"mappings":";;;;;;AAAA;AAAyC;AAAA;AAEzC,MAAMA,YAAY,GAAG,IAAIC,gBAAM,CAAC;EAC5BC,OAAO,EAAC;IAACC,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,SAAS;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC1DC,WAAW,EAAC;IAACJ,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,aAAa;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACnEE,IAAI,EAAC;IAACL,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,MAAM;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACrDG,QAAQ,EAAC;IAACN,IAAI,EAACO,MAAM;IAACC,SAAS,EAAC,CAAC;IAACL,QAAQ,EAAC;EAAI,CAAC;EAChDM,WAAW,EAAC;IAACT,IAAI,EAACU,MAAM;IAACP,QAAQ,EAAC;EAAI;AAC1C,CAAC,EAAC;EACEQ,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAGC,iBAAQ,CAACC,KAAK,CAAC,QAAQ,EAACjB,YAAY,CAAC;AAAC,eACtCe,MAAM;AAAA"}},"mtime":1680709802540},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\services\\\\token.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  encode: async (_id, rol, email) => {\n    const token = _jsonwebtoken.default.sign({\n      _id: _id,\n      rol: rol,\n      email: email\n    }, 'ecommerce_udemy', {\n      expiresIn: '1d'\n    });\n    return token;\n  },\n  decode: async token => {\n    try {\n      const {\n        _id\n      } = await _jsonwebtoken.default.verify(token, 'ecommerce_udemy');\n      const user = _models.default.User.findOne({\n        _id: _id,\n        state: 1\n      });\n      if (user) {\n        return user;\n      }\n      return false;\n    } catch (error) {\n      console.log(error);\n      return false;\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJlbmNvZGUiLCJfaWQiLCJyb2wiLCJlbWFpbCIsInRva2VuIiwiand0Iiwic2lnbiIsImV4cGlyZXNJbiIsImRlY29kZSIsInZlcmlmeSIsInVzZXIiLCJtb2RlbHMiLCJVc2VyIiwiZmluZE9uZSIsInN0YXRlIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxzZXJ2aWNlc1xcIiwic291cmNlcyI6WyJ0b2tlbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbidcclxuaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICBlbmNvZGU6IGFzeW5jKF9pZCxyb2wsZW1haWwpID0+e1xyXG4gICAgICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oe19pZDogX2lkLHJvbDogcm9sLGVtYWlsOiBlbWFpbH0sJ2Vjb21tZXJjZV91ZGVteScse2V4cGlyZXNJbjogJzFkJ30pO1xyXG4gICAgICAgIHJldHVybiB0b2tlbjtcclxuICAgIH0sXHJcbiAgICBkZWNvZGU6IGFzeW5jKHRva2VuKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3Qge19pZH0gPSBhd2FpdCBqd3QudmVyaWZ5KHRva2VuLCdlY29tbWVyY2VfdWRlbXknKTtcclxuICAgICAgICAgICAgY29uc3QgdXNlciA9IG1vZGVscy5Vc2VyLmZpbmRPbmUoe19pZDogX2lkLHN0YXRlOiAxfSk7XHJcbiAgICAgICAgICAgIGlmKHVzZXIpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUE4QjtBQUFBLGVBRWY7RUFDWEEsTUFBTSxFQUFFLE9BQU1DLEdBQUcsRUFBQ0MsR0FBRyxFQUFDQyxLQUFLLEtBQUk7SUFDM0IsTUFBTUMsS0FBSyxHQUFHQyxxQkFBRyxDQUFDQyxJQUFJLENBQUM7TUFBQ0wsR0FBRyxFQUFFQSxHQUFHO01BQUNDLEdBQUcsRUFBRUEsR0FBRztNQUFDQyxLQUFLLEVBQUVBO0lBQUssQ0FBQyxFQUFDLGlCQUFpQixFQUFDO01BQUNJLFNBQVMsRUFBRTtJQUFJLENBQUMsQ0FBQztJQUM1RixPQUFPSCxLQUFLO0VBQ2hCLENBQUM7RUFDREksTUFBTSxFQUFFLE1BQU1KLEtBQUssSUFBSztJQUNwQixJQUFJO01BQ0EsTUFBTTtRQUFDSDtNQUFHLENBQUMsR0FBRyxNQUFNSSxxQkFBRyxDQUFDSSxNQUFNLENBQUNMLEtBQUssRUFBQyxpQkFBaUIsQ0FBQztNQUN2RCxNQUFNTSxJQUFJLEdBQUdDLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDQyxPQUFPLENBQUM7UUFBQ1osR0FBRyxFQUFFQSxHQUFHO1FBQUNhLEtBQUssRUFBRTtNQUFDLENBQUMsQ0FBQztNQUNyRCxJQUFHSixJQUFJLEVBQUM7UUFDSixPQUFPQSxJQUFJO01BQ2Y7TUFDQSxPQUFPLEtBQUs7SUFDaEIsQ0FBQyxDQUFDLE9BQU9LLEtBQUssRUFBRTtNQUNaQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsS0FBSyxDQUFDO01BQ2xCLE9BQU8sS0FBSztJQUNoQjtFQUNKO0FBQ0osQ0FBQztBQUFBIn0=","map":{"version":3,"names":["encode","_id","rol","email","token","jwt","sign","expiresIn","decode","verify","user","models","User","findOne","state","error","console","log"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\services\\","sources":["token.js"],"sourcesContent":["import jwt from 'jsonwebtoken'\r\nimport models from '../models'\r\n\r\nexport default {\r\n    encode: async(_id,rol,email) =>{\r\n        const token = jwt.sign({_id: _id,rol: rol,email: email},'ecommerce_udemy',{expiresIn: '1d'});\r\n        return token;\r\n    },\r\n    decode: async(token) => {\r\n        try {\r\n            const {_id} = await jwt.verify(token,'ecommerce_udemy');\r\n            const user = models.User.findOne({_id: _id,state: 1});\r\n            if(user){\r\n                return user;\r\n            }\r\n            return false;\r\n        } catch (error) {\r\n            console.log(error);\r\n            return false;\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;AAAA;AACA;AAA8B;AAAA,eAEf;EACXA,MAAM,EAAE,OAAMC,GAAG,EAACC,GAAG,EAACC,KAAK,KAAI;IAC3B,MAAMC,KAAK,GAAGC,qBAAG,CAACC,IAAI,CAAC;MAACL,GAAG,EAAEA,GAAG;MAACC,GAAG,EAAEA,GAAG;MAACC,KAAK,EAAEA;IAAK,CAAC,EAAC,iBAAiB,EAAC;MAACI,SAAS,EAAE;IAAI,CAAC,CAAC;IAC5F,OAAOH,KAAK;EAChB,CAAC;EACDI,MAAM,EAAE,MAAMJ,KAAK,IAAK;IACpB,IAAI;MACA,MAAM;QAACH;MAAG,CAAC,GAAG,MAAMI,qBAAG,CAACI,MAAM,CAACL,KAAK,EAAC,iBAAiB,CAAC;MACvD,MAAMM,IAAI,GAAGC,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAACZ,GAAG,EAAEA,GAAG;QAACa,KAAK,EAAE;MAAC,CAAC,CAAC;MACrD,IAAGJ,IAAI,EAAC;QACJ,OAAOA,IAAI;MACf;MACA,OAAO,KAAK;IAChB,CAAC,CAAC,OAAOK,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClB,OAAO,KAAK;IAChB;EACJ;AACJ,CAAC;AAAA"}},"mtime":1676101734781},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _Cart = _interopRequireDefault(require(\"./Cart\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  User: _User.default,\n  Categorie: _Categorie.default,\n  Product: _Product.default,\n  Slider: _Slider.default,\n  Cart: _Cart.default\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJVc2VyIiwiQ2F0ZWdvcmllIiwiUHJvZHVjdCIsIlNsaWRlciIsIkNhcnQiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJlc291cmNlc1xcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXNlciBmcm9tICcuL1VzZXInXHJcblxyXG5pbXBvcnQgQ2F0ZWdvcmllIGZyb20gJy4vQ2F0ZWdvcmllJ1xyXG5pbXBvcnQgUHJvZHVjdCBmcm9tICcuL1Byb2R1Y3QnXHJcbmltcG9ydCBTbGlkZXIgZnJvbSAnLi9TbGlkZXInXHJcbmltcG9ydCBDYXJ0IGZyb20gJy4vQ2FydCdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIFVzZXIsXHJcbiAgICBDYXRlZ29yaWUsXHJcbiAgICBQcm9kdWN0LFxyXG4gICAgU2xpZGVyLFxyXG4gICAgQ2FydCxcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUF5QjtBQUFBLGVBRVY7RUFDWEEsSUFBSSxFQUFKQSxhQUFJO0VBQ0pDLFNBQVMsRUFBVEEsa0JBQVM7RUFDVEMsT0FBTyxFQUFQQSxnQkFBTztFQUNQQyxNQUFNLEVBQU5BLGVBQU07RUFDTkMsSUFBSSxFQUFKQTtBQUNKLENBQUM7QUFBQSJ9","map":{"version":3,"names":["User","Categorie","Product","Slider","Cart"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\resources\\","sources":["index.js"],"sourcesContent":["import User from './User'\r\n\r\nimport Categorie from './Categorie'\r\nimport Product from './Product'\r\nimport Slider from './Slider'\r\nimport Cart from './Cart'\r\n\r\nexport default {\r\n    User,\r\n    Categorie,\r\n    Product,\r\n    Slider,\r\n    Cart,\r\n}"],"mappings":";;;;;;AAAA;AAEA;AACA;AACA;AACA;AAAyB;AAAA,eAEV;EACXA,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA,kBAAS;EACTC,OAAO,EAAPA,gBAAO;EACPC,MAAM,EAANA,eAAM;EACNC,IAAI,EAAJA;AACJ,CAAC;AAAA"}},"mtime":1678744277277},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  user_list: user => {\n    return {\n      _id: user._id,\n      name: user.name,\n      surname: user.surname,\n      email: user.email,\n      avatar: user.avatar\n    };\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyX2xpc3QiLCJ1c2VyIiwiX2lkIiwibmFtZSIsInN1cm5hbWUiLCJlbWFpbCIsImF2YXRhciJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxccmVzb3VyY2VzXFwiLCJzb3VyY2VzIjpbIlVzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgdXNlcl9saXN0OiAodXNlcikgPT4ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIF9pZDogdXNlci5faWQsXHJcbiAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcclxuICAgICAgICAgICAgc3VybmFtZTogdXNlci5zdXJuYW1lLFxyXG4gICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhcixcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztlQUFlO0VBQ1hBLFNBQVMsRUFBR0MsSUFBSSxJQUFLO0lBQ2pCLE9BQU87TUFDSEMsR0FBRyxFQUFFRCxJQUFJLENBQUNDLEdBQUc7TUFDYkMsSUFBSSxFQUFFRixJQUFJLENBQUNFLElBQUk7TUFDZkMsT0FBTyxFQUFFSCxJQUFJLENBQUNHLE9BQU87TUFDckJDLEtBQUssRUFBRUosSUFBSSxDQUFDSSxLQUFLO01BQ2pCQyxNQUFNLEVBQUVMLElBQUksQ0FBQ0s7SUFDakIsQ0FBQztFQUNMO0FBQ0osQ0FBQztBQUFBIn0=","map":{"version":3,"names":["user_list","user","_id","name","surname","email","avatar"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\resources\\","sources":["User.js"],"sourcesContent":["export default {\r\n    user_list: (user) => {\r\n        return {\r\n            _id: user._id,\r\n            name: user.name,\r\n            surname: user.surname,\r\n            email: user.email,\r\n            avatar: user.avatar,\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;eAAe;EACXA,SAAS,EAAGC,IAAI,IAAK;IACjB,OAAO;MACHC,GAAG,EAAED,IAAI,CAACC,GAAG;MACbC,IAAI,EAAEF,IAAI,CAACE,IAAI;MACfC,OAAO,EAAEH,IAAI,CAACG,OAAO;MACrBC,KAAK,EAAEJ,IAAI,CAACI,KAAK;MACjBC,MAAM,EAAEL,IAAI,CAACK;IACjB,CAAC;EACL;AACJ,CAAC;AAAA"}},"mtime":1676275953604},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  categorie_list: categorie => {\n    return {\n      _id: categorie._id,\n      title: categorie.title,\n      imagen: categorie.imagen,\n      imagen_home: process.env.URL_BACKEND + '/api/categories/uploads/categorie/' + categorie.imagen,\n      state: categorie.state\n    };\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXRlZ29yaWVfbGlzdCIsImNhdGVnb3JpZSIsIl9pZCIsInRpdGxlIiwiaW1hZ2VuIiwiaW1hZ2VuX2hvbWUiLCJwcm9jZXNzIiwiZW52IiwiVVJMX0JBQ0tFTkQiLCJzdGF0ZSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxccmVzb3VyY2VzXFwiLCJzb3VyY2VzIjpbIkNhdGVnb3JpZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XHJcbiAgICBjYXRlZ29yaWVfbGlzdDogKGNhdGVnb3JpZSkgPT4ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIF9pZDogY2F0ZWdvcmllLl9pZCxcclxuICAgICAgICAgICAgdGl0bGU6IGNhdGVnb3JpZS50aXRsZSxcclxuICAgICAgICAgICAgaW1hZ2VuOiBjYXRlZ29yaWUuaW1hZ2VuLFxyXG4gICAgICAgICAgICBpbWFnZW5faG9tZTogcHJvY2Vzcy5lbnYuVVJMX0JBQ0tFTkQrJy9hcGkvY2F0ZWdvcmllcy91cGxvYWRzL2NhdGVnb3JpZS8nK2NhdGVnb3JpZS5pbWFnZW4sXHJcbiAgICAgICAgICAgIHN0YXRlOiBjYXRlZ29yaWUuc3RhdGUsXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7ZUFBZTtFQUNYQSxjQUFjLEVBQUdDLFNBQVMsSUFBSztJQUMzQixPQUFPO01BQ0hDLEdBQUcsRUFBRUQsU0FBUyxDQUFDQyxHQUFHO01BQ2xCQyxLQUFLLEVBQUVGLFNBQVMsQ0FBQ0UsS0FBSztNQUN0QkMsTUFBTSxFQUFFSCxTQUFTLENBQUNHLE1BQU07TUFDeEJDLFdBQVcsRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFdBQVcsR0FBQyxvQ0FBb0MsR0FBQ1AsU0FBUyxDQUFDRyxNQUFNO01BQzFGSyxLQUFLLEVBQUVSLFNBQVMsQ0FBQ1E7SUFDckIsQ0FBQztFQUNMO0FBQ0osQ0FBQztBQUFBIn0=","map":{"version":3,"names":["categorie_list","categorie","_id","title","imagen","imagen_home","process","env","URL_BACKEND","state"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\resources\\","sources":["Categorie.js"],"sourcesContent":["export default {\r\n    categorie_list: (categorie) => {\r\n        return {\r\n            _id: categorie._id,\r\n            title: categorie.title,\r\n            imagen: categorie.imagen,\r\n            imagen_home: process.env.URL_BACKEND+'/api/categories/uploads/categorie/'+categorie.imagen,\r\n            state: categorie.state,\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;eAAe;EACXA,cAAc,EAAGC,SAAS,IAAK;IAC3B,OAAO;MACHC,GAAG,EAAED,SAAS,CAACC,GAAG;MAClBC,KAAK,EAAEF,SAAS,CAACE,KAAK;MACtBC,MAAM,EAAEH,SAAS,CAACG,MAAM;MACxBC,WAAW,EAAEC,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,oCAAoC,GAACP,SAAS,CAACG,MAAM;MAC1FK,KAAK,EAAER,SAAS,CAACQ;IACrB,CAAC;EACL;AACJ,CAAC;AAAA"}},"mtime":1681165458498},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  product_list: (product, variedades = [], avg_review = 0, count_review = 0, CampaingDiscount = null) => {\n    var IMAGEN_TWO = \"\";\n    let GALERIAS = product.galerias.map(galeria => {\n      galeria.imagen = process.env.URL_BACKEND + '/api/products/uploads/product/' + galeria.imagen; //*\n      return galeria;\n    });\n    var VAL = Math.floor(Math.random() * 3); //0,1,2\n    IMAGEN_TWO = GALERIAS[VAL].imagen;\n    return {\n      _id: product._id,\n      title: product.title,\n      sku: product.sku,\n      slug: product.slug,\n      imagen: process.env.URL_BACKEND + '/api/products/uploads/product/' + product.portada,\n      //*\n      categorie: product.categorie,\n      price_soles: product.price_soles,\n      price_usd: product.price_usd,\n      stock: product.stock,\n      description: product.description,\n      resumen: product.resumen,\n      tags: product.tags ? JSON.parse(product.tags) : [],\n      type_inventario: product.type_inventario,\n      state: product.state,\n      variedades: variedades,\n      imagen_two: IMAGEN_TWO,\n      galerias: GALERIAS,\n      avg_review: avg_review,\n      count_review: count_review,\n      campaing_discount: CampaingDiscount\n    };\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9kdWN0X2xpc3QiLCJwcm9kdWN0IiwidmFyaWVkYWRlcyIsImF2Z19yZXZpZXciLCJjb3VudF9yZXZpZXciLCJDYW1wYWluZ0Rpc2NvdW50IiwiSU1BR0VOX1RXTyIsIkdBTEVSSUFTIiwiZ2FsZXJpYXMiLCJtYXAiLCJnYWxlcmlhIiwiaW1hZ2VuIiwicHJvY2VzcyIsImVudiIsIlVSTF9CQUNLRU5EIiwiVkFMIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiX2lkIiwidGl0bGUiLCJza3UiLCJzbHVnIiwicG9ydGFkYSIsImNhdGVnb3JpZSIsInByaWNlX3NvbGVzIiwicHJpY2VfdXNkIiwic3RvY2siLCJkZXNjcmlwdGlvbiIsInJlc3VtZW4iLCJ0YWdzIiwiSlNPTiIsInBhcnNlIiwidHlwZV9pbnZlbnRhcmlvIiwic3RhdGUiLCJpbWFnZW5fdHdvIiwiY2FtcGFpbmdfZGlzY291bnQiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJlc291cmNlc1xcIiwic291cmNlcyI6WyJQcm9kdWN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHByb2R1Y3RfbGlzdDogKHByb2R1Y3QsdmFyaWVkYWRlcyA9IFtdLGF2Z19yZXZpZXcgPSAwLGNvdW50X3JldmlldyA9IDAsQ2FtcGFpbmdEaXNjb3VudCA9IG51bGwpID0+IHtcclxuICAgICAgICB2YXIgSU1BR0VOX1RXTyA9IFwiXCI7XHJcbiAgICAgICAgbGV0IEdBTEVSSUFTID0gcHJvZHVjdC5nYWxlcmlhcy5tYXAoKGdhbGVyaWEpID0+IHtcclxuICAgICAgICAgICAgZ2FsZXJpYS5pbWFnZW4gPSBwcm9jZXNzLmVudi5VUkxfQkFDS0VORCsnL2FwaS9wcm9kdWN0cy91cGxvYWRzL3Byb2R1Y3QvJytnYWxlcmlhLmltYWdlbjsvLypcclxuICAgICAgICAgICAgcmV0dXJuIGdhbGVyaWE7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIFZBTCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMpOy8vMCwxLDJcclxuICAgICAgICBJTUFHRU5fVFdPID0gR0FMRVJJQVNbVkFMXS5pbWFnZW47XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgX2lkOiBwcm9kdWN0Ll9pZCxcclxuICAgICAgICAgICAgdGl0bGU6IHByb2R1Y3QudGl0bGUsXHJcbiAgICAgICAgICAgIHNrdTogcHJvZHVjdC5za3UsXHJcbiAgICAgICAgICAgIHNsdWc6IHByb2R1Y3Quc2x1ZyxcclxuICAgICAgICAgICAgaW1hZ2VuOiBwcm9jZXNzLmVudi5VUkxfQkFDS0VORCsnL2FwaS9wcm9kdWN0cy91cGxvYWRzL3Byb2R1Y3QvJytwcm9kdWN0LnBvcnRhZGEsLy8qXHJcbiAgICAgICAgICAgIGNhdGVnb3JpZTogcHJvZHVjdC5jYXRlZ29yaWUsXHJcbiAgICAgICAgICAgIHByaWNlX3NvbGVzOiBwcm9kdWN0LnByaWNlX3NvbGVzLFxyXG4gICAgICAgICAgICBwcmljZV91c2Q6IHByb2R1Y3QucHJpY2VfdXNkLFxyXG4gICAgICAgICAgICBzdG9jazogcHJvZHVjdC5zdG9jayxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHByb2R1Y3QuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgIHJlc3VtZW46IHByb2R1Y3QucmVzdW1lbixcclxuICAgICAgICAgICAgdGFnczogcHJvZHVjdC50YWdzID8gSlNPTi5wYXJzZShwcm9kdWN0LnRhZ3MpIDogW10sXHJcbiAgICAgICAgICAgIHR5cGVfaW52ZW50YXJpbzogcHJvZHVjdC50eXBlX2ludmVudGFyaW8sXHJcbiAgICAgICAgICAgIHN0YXRlOiBwcm9kdWN0LnN0YXRlLFxyXG4gICAgICAgICAgICB2YXJpZWRhZGVzOiB2YXJpZWRhZGVzLFxyXG4gICAgICAgICAgICBpbWFnZW5fdHdvOiBJTUFHRU5fVFdPLFxyXG4gICAgICAgICAgICBnYWxlcmlhczpHQUxFUklBUyxcclxuICAgICAgICAgICAgYXZnX3JldmlldzogYXZnX3JldmlldyxcclxuICAgICAgICAgICAgY291bnRfcmV2aWV3OiBjb3VudF9yZXZpZXcsXHJcbiAgICAgICAgICAgIGNhbXBhaW5nX2Rpc2NvdW50OiBDYW1wYWluZ0Rpc2NvdW50LFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2VBQWU7RUFDWEEsWUFBWSxFQUFFLENBQUNDLE9BQU8sRUFBQ0MsVUFBVSxHQUFHLEVBQUUsRUFBQ0MsVUFBVSxHQUFHLENBQUMsRUFBQ0MsWUFBWSxHQUFHLENBQUMsRUFBQ0MsZ0JBQWdCLEdBQUcsSUFBSSxLQUFLO0lBQy9GLElBQUlDLFVBQVUsR0FBRyxFQUFFO0lBQ25CLElBQUlDLFFBQVEsR0FBR04sT0FBTyxDQUFDTyxRQUFRLENBQUNDLEdBQUcsQ0FBRUMsT0FBTyxJQUFLO01BQzdDQSxPQUFPLENBQUNDLE1BQU0sR0FBR0MsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFdBQVcsR0FBQyxnQ0FBZ0MsR0FBQ0osT0FBTyxDQUFDQyxNQUFNLENBQUM7TUFDekYsT0FBT0QsT0FBTztJQUNsQixDQUFDLENBQUM7SUFDRixJQUFJSyxHQUFHLEdBQUdDLElBQUksQ0FBQ0MsS0FBSyxDQUFDRCxJQUFJLENBQUNFLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ3hDWixVQUFVLEdBQUdDLFFBQVEsQ0FBQ1EsR0FBRyxDQUFDLENBQUNKLE1BQU07SUFDakMsT0FBTztNQUNIUSxHQUFHLEVBQUVsQixPQUFPLENBQUNrQixHQUFHO01BQ2hCQyxLQUFLLEVBQUVuQixPQUFPLENBQUNtQixLQUFLO01BQ3BCQyxHQUFHLEVBQUVwQixPQUFPLENBQUNvQixHQUFHO01BQ2hCQyxJQUFJLEVBQUVyQixPQUFPLENBQUNxQixJQUFJO01BQ2xCWCxNQUFNLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxXQUFXLEdBQUMsZ0NBQWdDLEdBQUNiLE9BQU8sQ0FBQ3NCLE9BQU87TUFBQztNQUNqRkMsU0FBUyxFQUFFdkIsT0FBTyxDQUFDdUIsU0FBUztNQUM1QkMsV0FBVyxFQUFFeEIsT0FBTyxDQUFDd0IsV0FBVztNQUNoQ0MsU0FBUyxFQUFFekIsT0FBTyxDQUFDeUIsU0FBUztNQUM1QkMsS0FBSyxFQUFFMUIsT0FBTyxDQUFDMEIsS0FBSztNQUNwQkMsV0FBVyxFQUFFM0IsT0FBTyxDQUFDMkIsV0FBVztNQUNoQ0MsT0FBTyxFQUFFNUIsT0FBTyxDQUFDNEIsT0FBTztNQUN4QkMsSUFBSSxFQUFFN0IsT0FBTyxDQUFDNkIsSUFBSSxHQUFHQyxJQUFJLENBQUNDLEtBQUssQ0FBQy9CLE9BQU8sQ0FBQzZCLElBQUksQ0FBQyxHQUFHLEVBQUU7TUFDbERHLGVBQWUsRUFBRWhDLE9BQU8sQ0FBQ2dDLGVBQWU7TUFDeENDLEtBQUssRUFBRWpDLE9BQU8sQ0FBQ2lDLEtBQUs7TUFDcEJoQyxVQUFVLEVBQUVBLFVBQVU7TUFDdEJpQyxVQUFVLEVBQUU3QixVQUFVO01BQ3RCRSxRQUFRLEVBQUNELFFBQVE7TUFDakJKLFVBQVUsRUFBRUEsVUFBVTtNQUN0QkMsWUFBWSxFQUFFQSxZQUFZO01BQzFCZ0MsaUJBQWlCLEVBQUUvQjtJQUN2QixDQUFDO0VBQ0w7QUFDSixDQUFDO0FBQUEifQ==","map":{"version":3,"names":["product_list","product","variedades","avg_review","count_review","CampaingDiscount","IMAGEN_TWO","GALERIAS","galerias","map","galeria","imagen","process","env","URL_BACKEND","VAL","Math","floor","random","_id","title","sku","slug","portada","categorie","price_soles","price_usd","stock","description","resumen","tags","JSON","parse","type_inventario","state","imagen_two","campaing_discount"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\resources\\","sources":["Product.js"],"sourcesContent":["export default {\r\n    product_list: (product,variedades = [],avg_review = 0,count_review = 0,CampaingDiscount = null) => {\r\n        var IMAGEN_TWO = \"\";\r\n        let GALERIAS = product.galerias.map((galeria) => {\r\n            galeria.imagen = process.env.URL_BACKEND+'/api/products/uploads/product/'+galeria.imagen;//*\r\n            return galeria;\r\n        });\r\n        var VAL = Math.floor(Math.random() * 3);//0,1,2\r\n        IMAGEN_TWO = GALERIAS[VAL].imagen;\r\n        return {\r\n            _id: product._id,\r\n            title: product.title,\r\n            sku: product.sku,\r\n            slug: product.slug,\r\n            imagen: process.env.URL_BACKEND+'/api/products/uploads/product/'+product.portada,//*\r\n            categorie: product.categorie,\r\n            price_soles: product.price_soles,\r\n            price_usd: product.price_usd,\r\n            stock: product.stock,\r\n            description: product.description,\r\n            resumen: product.resumen,\r\n            tags: product.tags ? JSON.parse(product.tags) : [],\r\n            type_inventario: product.type_inventario,\r\n            state: product.state,\r\n            variedades: variedades,\r\n            imagen_two: IMAGEN_TWO,\r\n            galerias:GALERIAS,\r\n            avg_review: avg_review,\r\n            count_review: count_review,\r\n            campaing_discount: CampaingDiscount,\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;eAAe;EACXA,YAAY,EAAE,CAACC,OAAO,EAACC,UAAU,GAAG,EAAE,EAACC,UAAU,GAAG,CAAC,EAACC,YAAY,GAAG,CAAC,EAACC,gBAAgB,GAAG,IAAI,KAAK;IAC/F,IAAIC,UAAU,GAAG,EAAE;IACnB,IAAIC,QAAQ,GAAGN,OAAO,CAACO,QAAQ,CAACC,GAAG,CAAEC,OAAO,IAAK;MAC7CA,OAAO,CAACC,MAAM,GAAGC,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,gCAAgC,GAACJ,OAAO,CAACC,MAAM,CAAC;MACzF,OAAOD,OAAO;IAClB,CAAC,CAAC;IACF,IAAIK,GAAG,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC;IACxCZ,UAAU,GAAGC,QAAQ,CAACQ,GAAG,CAAC,CAACJ,MAAM;IACjC,OAAO;MACHQ,GAAG,EAAElB,OAAO,CAACkB,GAAG;MAChBC,KAAK,EAAEnB,OAAO,CAACmB,KAAK;MACpBC,GAAG,EAAEpB,OAAO,CAACoB,GAAG;MAChBC,IAAI,EAAErB,OAAO,CAACqB,IAAI;MAClBX,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,gCAAgC,GAACb,OAAO,CAACsB,OAAO;MAAC;MACjFC,SAAS,EAAEvB,OAAO,CAACuB,SAAS;MAC5BC,WAAW,EAAExB,OAAO,CAACwB,WAAW;MAChCC,SAAS,EAAEzB,OAAO,CAACyB,SAAS;MAC5BC,KAAK,EAAE1B,OAAO,CAAC0B,KAAK;MACpBC,WAAW,EAAE3B,OAAO,CAAC2B,WAAW;MAChCC,OAAO,EAAE5B,OAAO,CAAC4B,OAAO;MACxBC,IAAI,EAAE7B,OAAO,CAAC6B,IAAI,GAAGC,IAAI,CAACC,KAAK,CAAC/B,OAAO,CAAC6B,IAAI,CAAC,GAAG,EAAE;MAClDG,eAAe,EAAEhC,OAAO,CAACgC,eAAe;MACxCC,KAAK,EAAEjC,OAAO,CAACiC,KAAK;MACpBhC,UAAU,EAAEA,UAAU;MACtBiC,UAAU,EAAE7B,UAAU;MACtBE,QAAQ,EAACD,QAAQ;MACjBJ,UAAU,EAAEA,UAAU;MACtBC,YAAY,EAAEA,YAAY;MAC1BgC,iBAAiB,EAAE/B;IACvB,CAAC;EACL;AACJ,CAAC;AAAA"}},"mtime":1681165354730},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  slider_list: slider => {\n    return {\n      _id: slider._id,\n      title: slider.title,\n      link: slider.link,\n      imagen: slider.imagen,\n      imagen_home: process.env.URL_BACKEND + '/api/sliders/uploads/slider/' + slider.imagen,\n      state: slider.state\n    };\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzbGlkZXJfbGlzdCIsInNsaWRlciIsIl9pZCIsInRpdGxlIiwibGluayIsImltYWdlbiIsImltYWdlbl9ob21lIiwicHJvY2VzcyIsImVudiIsIlVSTF9CQUNLRU5EIiwic3RhdGUiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJlc291cmNlc1xcIiwic291cmNlcyI6WyJTbGlkZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgc2xpZGVyX2xpc3Q6IChzbGlkZXIpID0+IHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBfaWQ6IHNsaWRlci5faWQsXHJcbiAgICAgICAgICAgIHRpdGxlOiBzbGlkZXIudGl0bGUsXHJcbiAgICAgICAgICAgIGxpbms6IHNsaWRlci5saW5rLFxyXG4gICAgICAgICAgICBpbWFnZW46IHNsaWRlci5pbWFnZW4sXHJcbiAgICAgICAgICAgIGltYWdlbl9ob21lOiBwcm9jZXNzLmVudi5VUkxfQkFDS0VORCsnL2FwaS9zbGlkZXJzL3VwbG9hZHMvc2xpZGVyLycrc2xpZGVyLmltYWdlbixcclxuICAgICAgICAgICAgc3RhdGU6IHNsaWRlci5zdGF0ZSxcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztlQUFlO0VBQ1hBLFdBQVcsRUFBR0MsTUFBTSxJQUFLO0lBQ3JCLE9BQU87TUFDSEMsR0FBRyxFQUFFRCxNQUFNLENBQUNDLEdBQUc7TUFDZkMsS0FBSyxFQUFFRixNQUFNLENBQUNFLEtBQUs7TUFDbkJDLElBQUksRUFBRUgsTUFBTSxDQUFDRyxJQUFJO01BQ2pCQyxNQUFNLEVBQUVKLE1BQU0sQ0FBQ0ksTUFBTTtNQUNyQkMsV0FBVyxFQUFFQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsV0FBVyxHQUFDLDhCQUE4QixHQUFDUixNQUFNLENBQUNJLE1BQU07TUFDakZLLEtBQUssRUFBRVQsTUFBTSxDQUFDUztJQUNsQixDQUFDO0VBQ0w7QUFDSixDQUFDO0FBQUEifQ==","map":{"version":3,"names":["slider_list","slider","_id","title","link","imagen","imagen_home","process","env","URL_BACKEND","state"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\resources\\","sources":["Slider.js"],"sourcesContent":["export default {\r\n    slider_list: (slider) => {\r\n        return {\r\n            _id: slider._id,\r\n            title: slider.title,\r\n            link: slider.link,\r\n            imagen: slider.imagen,\r\n            imagen_home: process.env.URL_BACKEND+'/api/sliders/uploads/slider/'+slider.imagen,\r\n            state: slider.state,\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;eAAe;EACXA,WAAW,EAAGC,MAAM,IAAK;IACrB,OAAO;MACHC,GAAG,EAAED,MAAM,CAACC,GAAG;MACfC,KAAK,EAAEF,MAAM,CAACE,KAAK;MACnBC,IAAI,EAAEH,MAAM,CAACG,IAAI;MACjBC,MAAM,EAAEJ,MAAM,CAACI,MAAM;MACrBC,WAAW,EAAEC,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,8BAA8B,GAACR,MAAM,CAACI,MAAM;MACjFK,KAAK,EAAET,MAAM,CAACS;IAClB,CAAC;EACL;AACJ,CAAC;AAAA"}},"mtime":1681165462286},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\Cart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  cart_list: cart => {\n    return {\n      _id: cart._id,\n      user: cart.user,\n      product: {\n        _id: cart.product._id,\n        title: cart.product.title,\n        sku: cart.product.sku,\n        slug: cart.product.slug,\n        imagen: process.env.URL_BACKEND + '/api/products/uploads/product/' + cart.product.portada,\n        //*\n        categorie: cart.product.categorie,\n        price_soles: cart.product.price_soles,\n        price_usd: cart.product.price_usd\n      },\n      type_discount: cart.type_discount,\n      discount: cart.discount,\n      cantidad: cart.cantidad,\n      variedad: cart.variedad,\n      code_cupon: cart.code_cupon,\n      code_discount: cart.code_discount,\n      price_unitario: cart.price_unitario,\n      subtotal: cart.subtotal,\n      total: cart.total\n    };\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXJ0X2xpc3QiLCJjYXJ0IiwiX2lkIiwidXNlciIsInByb2R1Y3QiLCJ0aXRsZSIsInNrdSIsInNsdWciLCJpbWFnZW4iLCJwcm9jZXNzIiwiZW52IiwiVVJMX0JBQ0tFTkQiLCJwb3J0YWRhIiwiY2F0ZWdvcmllIiwicHJpY2Vfc29sZXMiLCJwcmljZV91c2QiLCJ0eXBlX2Rpc2NvdW50IiwiZGlzY291bnQiLCJjYW50aWRhZCIsInZhcmllZGFkIiwiY29kZV9jdXBvbiIsImNvZGVfZGlzY291bnQiLCJwcmljZV91bml0YXJpbyIsInN1YnRvdGFsIiwidG90YWwiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJlc291cmNlc1xcIiwic291cmNlcyI6WyJDYXJ0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IHtcclxuICAgIGNhcnRfbGlzdDogKGNhcnQpID0+IHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBfaWQ6IGNhcnQuX2lkLFxyXG4gICAgICAgICAgICB1c2VyOiBjYXJ0LnVzZXIsXHJcbiAgICAgICAgICAgIHByb2R1Y3Q6IHtcclxuICAgICAgICAgICAgICAgIF9pZDogY2FydC5wcm9kdWN0Ll9pZCxcclxuICAgICAgICAgICAgICAgIHRpdGxlOiBjYXJ0LnByb2R1Y3QudGl0bGUsXHJcbiAgICAgICAgICAgICAgICBza3U6IGNhcnQucHJvZHVjdC5za3UsXHJcbiAgICAgICAgICAgICAgICBzbHVnOiBjYXJ0LnByb2R1Y3Quc2x1ZyxcclxuICAgICAgICAgICAgICAgIGltYWdlbjogcHJvY2Vzcy5lbnYuVVJMX0JBQ0tFTkQrJy9hcGkvcHJvZHVjdHMvdXBsb2Fkcy9wcm9kdWN0LycrY2FydC5wcm9kdWN0LnBvcnRhZGEsLy8qXHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWU6IGNhcnQucHJvZHVjdC5jYXRlZ29yaWUsXHJcbiAgICAgICAgICAgICAgICBwcmljZV9zb2xlczogY2FydC5wcm9kdWN0LnByaWNlX3NvbGVzLFxyXG4gICAgICAgICAgICAgICAgcHJpY2VfdXNkOiBjYXJ0LnByb2R1Y3QucHJpY2VfdXNkLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0eXBlX2Rpc2NvdW50OiBjYXJ0LnR5cGVfZGlzY291bnQsXHJcbiAgICAgICAgICAgIGRpc2NvdW50OiBjYXJ0LmRpc2NvdW50LFxyXG4gICAgICAgICAgICBjYW50aWRhZDogY2FydC5jYW50aWRhZCxcclxuICAgICAgICAgICAgdmFyaWVkYWQ6IGNhcnQudmFyaWVkYWQsXHJcbiAgICAgICAgICAgIGNvZGVfY3Vwb246IGNhcnQuY29kZV9jdXBvbixcclxuICAgICAgICAgICAgY29kZV9kaXNjb3VudDogY2FydC5jb2RlX2Rpc2NvdW50LFxyXG4gICAgICAgICAgICBwcmljZV91bml0YXJpbzogY2FydC5wcmljZV91bml0YXJpbyxcclxuICAgICAgICAgICAgc3VidG90YWw6IGNhcnQuc3VidG90YWwsXHJcbiAgICAgICAgICAgIHRvdGFsOiBjYXJ0LnRvdGFsLFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2VBQWU7RUFDWEEsU0FBUyxFQUFHQyxJQUFJLElBQUs7SUFDakIsT0FBTztNQUNIQyxHQUFHLEVBQUVELElBQUksQ0FBQ0MsR0FBRztNQUNiQyxJQUFJLEVBQUVGLElBQUksQ0FBQ0UsSUFBSTtNQUNmQyxPQUFPLEVBQUU7UUFDTEYsR0FBRyxFQUFFRCxJQUFJLENBQUNHLE9BQU8sQ0FBQ0YsR0FBRztRQUNyQkcsS0FBSyxFQUFFSixJQUFJLENBQUNHLE9BQU8sQ0FBQ0MsS0FBSztRQUN6QkMsR0FBRyxFQUFFTCxJQUFJLENBQUNHLE9BQU8sQ0FBQ0UsR0FBRztRQUNyQkMsSUFBSSxFQUFFTixJQUFJLENBQUNHLE9BQU8sQ0FBQ0csSUFBSTtRQUN2QkMsTUFBTSxFQUFFQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsV0FBVyxHQUFDLGdDQUFnQyxHQUFDVixJQUFJLENBQUNHLE9BQU8sQ0FBQ1EsT0FBTztRQUFDO1FBQ3RGQyxTQUFTLEVBQUVaLElBQUksQ0FBQ0csT0FBTyxDQUFDUyxTQUFTO1FBQ2pDQyxXQUFXLEVBQUViLElBQUksQ0FBQ0csT0FBTyxDQUFDVSxXQUFXO1FBQ3JDQyxTQUFTLEVBQUVkLElBQUksQ0FBQ0csT0FBTyxDQUFDVztNQUM1QixDQUFDO01BQ0RDLGFBQWEsRUFBRWYsSUFBSSxDQUFDZSxhQUFhO01BQ2pDQyxRQUFRLEVBQUVoQixJQUFJLENBQUNnQixRQUFRO01BQ3ZCQyxRQUFRLEVBQUVqQixJQUFJLENBQUNpQixRQUFRO01BQ3ZCQyxRQUFRLEVBQUVsQixJQUFJLENBQUNrQixRQUFRO01BQ3ZCQyxVQUFVLEVBQUVuQixJQUFJLENBQUNtQixVQUFVO01BQzNCQyxhQUFhLEVBQUVwQixJQUFJLENBQUNvQixhQUFhO01BQ2pDQyxjQUFjLEVBQUVyQixJQUFJLENBQUNxQixjQUFjO01BQ25DQyxRQUFRLEVBQUV0QixJQUFJLENBQUNzQixRQUFRO01BQ3ZCQyxLQUFLLEVBQUV2QixJQUFJLENBQUN1QjtJQUNoQixDQUFDO0VBQ0w7QUFDSixDQUFDO0FBQUEifQ==","map":{"version":3,"names":["cart_list","cart","_id","user","product","title","sku","slug","imagen","process","env","URL_BACKEND","portada","categorie","price_soles","price_usd","type_discount","discount","cantidad","variedad","code_cupon","code_discount","price_unitario","subtotal","total"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\resources\\","sources":["Cart.js"],"sourcesContent":["export default {\r\n    cart_list: (cart) => {\r\n        return {\r\n            _id: cart._id,\r\n            user: cart.user,\r\n            product: {\r\n                _id: cart.product._id,\r\n                title: cart.product.title,\r\n                sku: cart.product.sku,\r\n                slug: cart.product.slug,\r\n                imagen: process.env.URL_BACKEND+'/api/products/uploads/product/'+cart.product.portada,//*\r\n                categorie: cart.product.categorie,\r\n                price_soles: cart.product.price_soles,\r\n                price_usd: cart.product.price_usd,\r\n            },\r\n            type_discount: cart.type_discount,\r\n            discount: cart.discount,\r\n            cantidad: cart.cantidad,\r\n            variedad: cart.variedad,\r\n            code_cupon: cart.code_cupon,\r\n            code_discount: cart.code_discount,\r\n            price_unitario: cart.price_unitario,\r\n            subtotal: cart.subtotal,\r\n            total: cart.total,\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;eAAe;EACXA,SAAS,EAAGC,IAAI,IAAK;IACjB,OAAO;MACHC,GAAG,EAAED,IAAI,CAACC,GAAG;MACbC,IAAI,EAAEF,IAAI,CAACE,IAAI;MACfC,OAAO,EAAE;QACLF,GAAG,EAAED,IAAI,CAACG,OAAO,CAACF,GAAG;QACrBG,KAAK,EAAEJ,IAAI,CAACG,OAAO,CAACC,KAAK;QACzBC,GAAG,EAAEL,IAAI,CAACG,OAAO,CAACE,GAAG;QACrBC,IAAI,EAAEN,IAAI,CAACG,OAAO,CAACG,IAAI;QACvBC,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,gCAAgC,GAACV,IAAI,CAACG,OAAO,CAACQ,OAAO;QAAC;QACtFC,SAAS,EAAEZ,IAAI,CAACG,OAAO,CAACS,SAAS;QACjCC,WAAW,EAAEb,IAAI,CAACG,OAAO,CAACU,WAAW;QACrCC,SAAS,EAAEd,IAAI,CAACG,OAAO,CAACW;MAC5B,CAAC;MACDC,aAAa,EAAEf,IAAI,CAACe,aAAa;MACjCC,QAAQ,EAAEhB,IAAI,CAACgB,QAAQ;MACvBC,QAAQ,EAAEjB,IAAI,CAACiB,QAAQ;MACvBC,QAAQ,EAAElB,IAAI,CAACkB,QAAQ;MACvBC,UAAU,EAAEnB,IAAI,CAACmB,UAAU;MAC3BC,aAAa,EAAEpB,IAAI,CAACoB,aAAa;MACjCC,cAAc,EAAErB,IAAI,CAACqB,cAAc;MACnCC,QAAQ,EAAEtB,IAAI,CAACsB,QAAQ;MACvBC,KAAK,EAAEvB,IAAI,CAACuB;IAChB,CAAC;EACL;AACJ,CAAC;AAAA"}},"mtime":1681165454339},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\middlewares\\\\auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  verifyEcommerce: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(404).send({\n        message: 'NO SE ENVIO EL TOKEN'\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"cliente\" || response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(403).send({\n          message: 'NO ESTA PERMITIDO VISITAR ESTA RUTA'\n        });\n      }\n    } else {\n      res.status(403).send({\n        message: 'EL TOKEN NO ES VALIDO'\n      });\n    }\n  },\n  verifyAdmin: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(404).send({\n        message: 'NO SE ENVIO EL TOKEN'\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(403).send({\n          message: 'NO ESTA PERMITIDO VISITAR ESTA RUTA'\n        });\n      }\n    } else {\n      res.status(403).send({\n        message: 'EL TOKEN NO ES VALIDO'\n      });\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ2ZXJpZnlFY29tbWVyY2UiLCJyZXEiLCJyZXMiLCJuZXh0IiwiaGVhZGVycyIsInRva2VuIiwic3RhdHVzIiwic2VuZCIsIm1lc3NhZ2UiLCJyZXNwb25zZSIsImRlY29kZSIsInJvbCIsInZlcmlmeUFkbWluIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxtaWRkbGV3YXJlc1xcIiwic291cmNlcyI6WyJhdXRoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0b2tlbiBmcm9tICcuLi9zZXJ2aWNlcy90b2tlbidcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHZlcmlmeUVjb21tZXJjZTogYXN5bmMocmVxLHJlcyxuZXh0KSA9PiB7XHJcbiAgICAgICAgaWYoIXJlcS5oZWFkZXJzLnRva2VuKXtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ05PIFNFIEVOVklPIEVMIFRPS0VOJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0b2tlbi5kZWNvZGUocmVxLmhlYWRlcnMudG9rZW4pO1xyXG4gICAgICAgIGlmKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgaWYocmVzcG9uc2Uucm9sID09IFwiY2xpZW50ZVwiIHx8IHJlc3BvbnNlLnJvbCA9PSBcImFkbWluXCIpe1xyXG4gICAgICAgICAgICAgICAgbmV4dCgpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTk8gRVNUQSBQRVJNSVRJRE8gVklTSVRBUiBFU1RBIFJVVEEnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMykuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRUwgVE9LRU4gTk8gRVMgVkFMSURPJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgdmVyaWZ5QWRtaW46IGFzeW5jKHJlcSxyZXMsbmV4dCkgPT4ge1xyXG4gICAgICAgIGlmKCFyZXEuaGVhZGVycy50b2tlbil7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdOTyBTRSBFTlZJTyBFTCBUT0tFTidcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdG9rZW4uZGVjb2RlKHJlcS5oZWFkZXJzLnRva2VuKTtcclxuICAgICAgICBpZihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgIGlmKHJlc3BvbnNlLnJvbCA9PSBcImFkbWluXCIpe1xyXG4gICAgICAgICAgICAgICAgbmV4dCgpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTk8gRVNUQSBQRVJNSVRJRE8gVklTSVRBUiBFU1RBIFJVVEEnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMykuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRUwgVE9LRU4gTk8gRVMgVkFMSURPJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQXFDO0FBQUEsZUFFdEI7RUFDWEEsZUFBZSxFQUFFLE9BQU1DLEdBQUcsRUFBQ0MsR0FBRyxFQUFDQyxJQUFJLEtBQUs7SUFDcEMsSUFBRyxDQUFDRixHQUFHLENBQUNHLE9BQU8sQ0FBQ0MsS0FBSyxFQUFDO01BQ2xCSCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtJQUNBLE1BQU1DLFFBQVEsR0FBRyxNQUFNSixjQUFLLENBQUNLLE1BQU0sQ0FBQ1QsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssQ0FBQztJQUN0RCxJQUFHSSxRQUFRLEVBQUM7TUFDUixJQUFHQSxRQUFRLENBQUNFLEdBQUcsSUFBSSxTQUFTLElBQUlGLFFBQVEsQ0FBQ0UsR0FBRyxJQUFJLE9BQU8sRUFBQztRQUNwRFIsSUFBSSxFQUFFO01BQ1YsQ0FBQyxNQUFJO1FBQ0RELEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7VUFDakJDLE9BQU8sRUFBRTtRQUNiLENBQUMsQ0FBQztNQUNOO0lBQ0osQ0FBQyxNQUFJO01BQ0ROLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztJQUNOO0VBQ0osQ0FBQztFQUNESSxXQUFXLEVBQUUsT0FBTVgsR0FBRyxFQUFDQyxHQUFHLEVBQUNDLElBQUksS0FBSztJQUNoQyxJQUFHLENBQUNGLEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLEVBQUM7TUFDbEJILEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztJQUNOO0lBQ0EsTUFBTUMsUUFBUSxHQUFHLE1BQU1KLGNBQUssQ0FBQ0ssTUFBTSxDQUFDVCxHQUFHLENBQUNHLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDO0lBQ3RELElBQUdJLFFBQVEsRUFBQztNQUNSLElBQUdBLFFBQVEsQ0FBQ0UsR0FBRyxJQUFJLE9BQU8sRUFBQztRQUN2QlIsSUFBSSxFQUFFO01BQ1YsQ0FBQyxNQUFJO1FBQ0RELEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7VUFDakJDLE9BQU8sRUFBRTtRQUNiLENBQUMsQ0FBQztNQUNOO0lBQ0osQ0FBQyxNQUFJO01BQ0ROLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztJQUNOO0VBQ0o7QUFDSixDQUFDO0FBQUEifQ==","map":{"version":3,"names":["verifyEcommerce","req","res","next","headers","token","status","send","message","response","decode","rol","verifyAdmin"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\middlewares\\","sources":["auth.js"],"sourcesContent":["import token from '../services/token'\r\n\r\nexport default {\r\n    verifyEcommerce: async(req,res,next) => {\r\n        if(!req.headers.token){\r\n            res.status(404).send({\r\n                message: 'NO SE ENVIO EL TOKEN'\r\n            });\r\n        }\r\n        const response = await token.decode(req.headers.token);\r\n        if(response){\r\n            if(response.rol == \"cliente\" || response.rol == \"admin\"){\r\n                next();\r\n            }else{\r\n                res.status(403).send({\r\n                    message: 'NO ESTA PERMITIDO VISITAR ESTA RUTA'\r\n                });\r\n            }\r\n        }else{\r\n            res.status(403).send({\r\n                message: 'EL TOKEN NO ES VALIDO'\r\n            });\r\n        }\r\n    },\r\n    verifyAdmin: async(req,res,next) => {\r\n        if(!req.headers.token){\r\n            res.status(404).send({\r\n                message: 'NO SE ENVIO EL TOKEN'\r\n            });\r\n        }\r\n        const response = await token.decode(req.headers.token);\r\n        if(response){\r\n            if(response.rol == \"admin\"){\r\n                next();\r\n            }else{\r\n                res.status(403).send({\r\n                    message: 'NO ESTA PERMITIDO VISITAR ESTA RUTA'\r\n                });\r\n            }\r\n        }else{\r\n            res.status(403).send({\r\n                message: 'EL TOKEN NO ES VALIDO'\r\n            });\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;AAAA;AAAqC;AAAA,eAEtB;EACXA,eAAe,EAAE,OAAMC,GAAG,EAACC,GAAG,EAACC,IAAI,KAAK;IACpC,IAAG,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAC;MAClBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAGI,QAAQ,EAAC;MACR,IAAGA,QAAQ,CAACE,GAAG,IAAI,SAAS,IAAIF,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAC;QACpDR,IAAI,EAAE;MACV,CAAC,MAAI;QACDD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,MAAI;MACDN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ,CAAC;EACDI,WAAW,EAAE,OAAMX,GAAG,EAACC,GAAG,EAACC,IAAI,KAAK;IAChC,IAAG,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAC;MAClBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAGI,QAAQ,EAAC;MACR,IAAGA,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAC;QACvBR,IAAI,EAAE;MACV,CAAC,MAAI;QACDD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,MAAI;MACDN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ;AACJ,CAAC;AAAA"}},"mtime":1676102350909},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CategorieController = _interopRequireDefault(require(\"../controllers/CategorieController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/categorie'\n});\nconst router = (0, _expressPromiseRouter.default)();\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _CategorieController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _CategorieController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _CategorieController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _CategorieController.default.remove);\nrouter.get(\"/uploads/categorie/:img\", _CategorieController.default.obtener_imagen);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwYXRoIiwibXVsdGlwYXJ0eSIsInVwbG9hZERpciIsInJvdXRlciIsInJvdXRlcngiLCJwb3N0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwiY2F0ZWdvcmllY29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImRlbGV0ZSIsInJlbW92ZSIsIm9idGVuZXJfaW1hZ2VuIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiQ2F0ZWdvcmllLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gJ2V4cHJlc3MtcHJvbWlzZS1yb3V0ZXInXHJcbmltcG9ydCBjYXRlZ29yaWVjb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL0NhdGVnb3JpZUNvbnRyb2xsZXInXHJcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXHJcblxyXG5pbXBvcnQgbXVsdGlwYXJ0eSBmcm9tICdjb25uZWN0LW11bHRpcGFydHknXHJcbnZhciBwYXRoID0gbXVsdGlwYXJ0eSh7dXBsb2FkRGlyOiAnLi91cGxvYWRzL2NhdGVnb3JpZSd9KVxyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcbi8vIGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcnMvcmVnaXN0ZXJcclxuXHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsW2F1dGgudmVyaWZ5QWRtaW4scGF0aF0sY2F0ZWdvcmllY29udHJvbGxlci5yZWdpc3Rlcik7XHJcbnJvdXRlci5wdXQoXCIvdXBkYXRlXCIsW2F1dGgudmVyaWZ5QWRtaW4scGF0aF0sY2F0ZWdvcmllY29udHJvbGxlci51cGRhdGUpO1xyXG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIixhdXRoLnZlcmlmeUFkbWluLGNhdGVnb3JpZWNvbnRyb2xsZXIubGlzdCk7XHJcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlXCIsYXV0aC52ZXJpZnlBZG1pbixjYXRlZ29yaWVjb250cm9sbGVyLnJlbW92ZSk7XHJcblxyXG5yb3V0ZXIuZ2V0KFwiL3VwbG9hZHMvY2F0ZWdvcmllLzppbWdcIixjYXRlZ29yaWVjb250cm9sbGVyLm9idGVuZXJfaW1hZ2VuKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQTJDO0FBQzNDLElBQUlBLElBQUksR0FBRyxJQUFBQywwQkFBVSxFQUFDO0VBQUNDLFNBQVMsRUFBRTtBQUFxQixDQUFDLENBQUM7QUFDekQsTUFBTUMsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEdBQUU7QUFDeEI7O0FBRUFELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBQyxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNRLDRCQUFtQixDQUFDQyxRQUFRLENBQUM7QUFDN0VOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLFNBQVMsRUFBQyxDQUFDSixhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNRLDRCQUFtQixDQUFDRyxNQUFNLENBQUM7QUFDeEVSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDRCQUFtQixDQUFDSyxJQUFJLENBQUM7QUFDN0RWLE1BQU0sQ0FBQ1csTUFBTSxDQUFDLFNBQVMsRUFBQ1IsYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDRCQUFtQixDQUFDTyxNQUFNLENBQUM7QUFFcEVaLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLHlCQUF5QixFQUFDSiw0QkFBbUIsQ0FBQ1EsY0FBYyxDQUFDO0FBQUMsZUFFMURiLE1BQU07QUFBQSJ9","map":{"version":3,"names":["path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","categoriecontroller","register","put","update","get","list","delete","remove","obtener_imagen"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["Categorie.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport categoriecontroller from '../controllers/CategorieController'\r\nimport auth from '../middlewares/auth'\r\n\r\nimport multiparty from 'connect-multiparty'\r\nvar path = multiparty({uploadDir: './uploads/categorie'})\r\nconst router = routerx();\r\n// http://localhost:3000/api/users/register\r\n\r\nrouter.post(\"/register\",[auth.verifyAdmin,path],categoriecontroller.register);\r\nrouter.put(\"/update\",[auth.verifyAdmin,path],categoriecontroller.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,categoriecontroller.list);\r\nrouter.delete(\"/delete\",auth.verifyAdmin,categoriecontroller.remove);\r\n\r\nrouter.get(\"/uploads/categorie/:img\",categoriecontroller.obtener_imagen);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA;AACA;AACA;AAEA;AAA2C;AAC3C,IAAIA,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAE;AAAqB,CAAC,CAAC;AACzD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,GAAE;AACxB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAC,CAACC,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,4BAAmB,CAACC,QAAQ,CAAC;AAC7EN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAC,CAACJ,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,4BAAmB,CAACG,MAAM,CAAC;AACxER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,4BAAmB,CAACK,IAAI,CAAC;AAC7DV,MAAM,CAACW,MAAM,CAAC,SAAS,EAACR,aAAI,CAACC,WAAW,EAACC,4BAAmB,CAACO,MAAM,CAAC;AAEpEZ,MAAM,CAACS,GAAG,CAAC,yBAAyB,EAACJ,4BAAmB,CAACQ,cAAc,CAAC;AAAC,eAE1Db,MAAM;AAAA"}},"mtime":1676448878888},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\CategorieController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  register: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        // console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      const categorie = await _models.default.Categorie.create(req.body);\n      res.status(200).json(categorie);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files && req.files.portada) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        // console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      await _models.default.Categorie.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let CategorieT = await _models.default.Categorie.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"LA CATEGORIA SE HA MODIFICADO CORRECTAMENTE\",\n        categorie: _resources.default.Categorie.categorie_list(CategorieT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Categories = await _models.default.Categorie.find({\n        $or: [{\n          \"title\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Categories = Categories.map(user => {\n        return _resources.default.Categorie.categorie_list(user);\n      });\n      res.status(200).json({\n        categories: Categories\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/categorie/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/categorie/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.Categorie.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"LA CATEGORIA SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZWdpc3RlciIsInJlcSIsInJlcyIsImZpbGVzIiwiaW1nX3BhdGgiLCJwb3J0YWRhIiwicGF0aCIsIm5hbWUiLCJzcGxpdCIsInBvcnRhZGFfbmFtZSIsImJvZHkiLCJpbWFnZW4iLCJjYXRlZ29yaWUiLCJtb2RlbHMiLCJDYXRlZ29yaWUiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJzZW5kIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJ1cGRhdGUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIl9pZCIsIkNhdGVnb3JpZVQiLCJmaW5kT25lIiwicmVzb3VyY2UiLCJjYXRlZ29yaWVfbGlzdCIsImxpc3QiLCJzZWFyY2giLCJxdWVyeSIsIkNhdGVnb3JpZXMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwic29ydCIsIm1hcCIsInVzZXIiLCJjYXRlZ29yaWVzIiwib2J0ZW5lcl9pbWFnZW4iLCJpbWciLCJwYXJhbXMiLCJmcyIsInN0YXQiLCJlcnIiLCJwYXRoX2ltZyIsInNlbmRGaWxlIiwicmVzb2x2ZSIsInJlbW92ZSIsImZpbmRCeUlkQW5kRGVsZXRlIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJDYXRlZ29yaWVDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSAnLi4vbW9kZWxzJ1xyXG5pbXBvcnQgcmVzb3VyY2UgZnJvbSAnLi4vcmVzb3VyY2VzJ1xyXG5pbXBvcnQgZnMgZnJvbSAnZnMnXHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHJlZ2lzdGVyOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYocmVxLmZpbGVzKXtcclxuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5wb3J0YWRhLnBhdGg7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9ydGFkYV9uYW1lID0gbmFtZVsyXTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHBvcnRhZGFfbmFtZSlcclxuICAgICAgICAgICAgICAgIHJlcS5ib2R5LmltYWdlbiA9IHBvcnRhZGFfbmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBjYXRlZ29yaWUgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmNyZWF0ZShyZXEuYm9keSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGNhdGVnb3JpZSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYocmVxLmZpbGVzICYmIHJlcS5maWxlcy5wb3J0YWRhKXtcclxuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5wb3J0YWRhLnBhdGg7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9ydGFkYV9uYW1lID0gbmFtZVsyXTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHBvcnRhZGFfbmFtZSlcclxuICAgICAgICAgICAgICAgIHJlcS5ib2R5LmltYWdlbiA9IHBvcnRhZGFfbmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHJlcS5ib2R5Ll9pZH0scmVxLmJvZHkpO1xyXG5cclxuICAgICAgICAgICAgbGV0IENhdGVnb3JpZVQgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmZpbmRPbmUoe19pZDogcmVxLmJvZHkuX2lkfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTEEgQ0FURUdPUklBIFNFIEhBIE1PRElGSUNBRE8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllOiByZXNvdXJjZS5DYXRlZ29yaWUuY2F0ZWdvcmllX2xpc3QoQ2F0ZWdvcmllVCksXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGxpc3Q6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaDtcclxuICAgICAgICAgICAgbGV0IENhdGVnb3JpZXMgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmZpbmQoe1xyXG4gICAgICAgICAgICAgICAgJG9yOltcclxuICAgICAgICAgICAgICAgICAgICB7XCJ0aXRsZVwiOiBuZXcgUmVnRXhwKHNlYXJjaCwgXCJpXCIpfSxcclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSkuc29ydCh7J2NyZWF0ZWRBdCc6IC0xfSk7XHJcblxyXG4gICAgICAgICAgICBDYXRlZ29yaWVzID0gQ2F0ZWdvcmllcy5tYXAoKHVzZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvdXJjZS5DYXRlZ29yaWUuY2F0ZWdvcmllX2xpc3QodXNlcik7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzOiBDYXRlZ29yaWVzXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIG9idGVuZXJfaW1hZ2VuOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIGltZyA9IHJlcS5wYXJhbXNbJ2ltZyddO1xyXG5cclxuICAgICAgICAgICAgZnMuc3RhdCgnLi91cGxvYWRzL2NhdGVnb3JpZS8nK2ltZywgZnVuY3Rpb24oZXJyKXtcclxuICAgICAgICAgICAgICAgIGlmKCFlcnIpe1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvY2F0ZWdvcmllLycraW1nO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kRmlsZShwYXRoLnJlc29sdmUocGF0aF9pbWcpKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvZGVmYXVsdC5qcGcnO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kRmlsZShwYXRoLnJlc29sdmUocGF0aF9pbWcpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sICBcclxuICAgIHJlbW92ZTogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZEJ5SWRBbmREZWxldGUoe19pZDogcmVxLnF1ZXJ5Ll9pZH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkxBIENBVEVHT1JJQSBTRSBFTElNSU5PIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQXVCO0FBQUEsZUFDUjtFQUNYQSxRQUFRLEVBQUUsT0FBTUMsR0FBRyxFQUFDQyxHQUFH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","map":{"version":3,"names":["register","req","res","files","img_path","portada","path","name","split","portada_name","body","imagen","categorie","models","Categorie","create","status","json","error","send","message","console","log","update","findByIdAndUpdate","_id","CategorieT","findOne","resource","categorie_list","list","search","query","Categories","find","$or","RegExp","sort","map","user","categories","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","remove","findByIdAndDelete"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["CategorieController.js"],"sourcesContent":["import models from '../models'\r\nimport resource from '../resources'\r\nimport fs from 'fs'\r\nimport path from 'path'\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            if(req.files){\r\n                var img_path = req.files.portada.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                // console.log(portada_name)\r\n                req.body.imagen = portada_name;\r\n            }\r\n            const categorie = await models.Categorie.create(req.body);\r\n            res.status(200).json(categorie);\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    update: async(req,res) => {\r\n        try {\r\n            if(req.files && req.files.portada){\r\n                var img_path = req.files.portada.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                // console.log(portada_name)\r\n                req.body.imagen = portada_name;\r\n            }\r\n            await models.Categorie.findByIdAndUpdate({_id: req.body._id},req.body);\r\n\r\n            let CategorieT = await models.Categorie.findOne({_id: req.body._id});\r\n            res.status(200).json({\r\n                message: \"LA CATEGORIA SE HA MODIFICADO CORRECTAMENTE\",\r\n                categorie: resource.Categorie.categorie_list(CategorieT),\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    list: async(req,res) => {\r\n        try {\r\n            var search = req.query.search;\r\n            let Categories = await models.Categorie.find({\r\n                $or:[\r\n                    {\"title\": new RegExp(search, \"i\")},\r\n                ]\r\n            }).sort({'createdAt': -1});\r\n\r\n            Categories = Categories.map((user) => {\r\n                return resource.Categorie.categorie_list(user);\r\n            })\r\n\r\n            res.status(200).json({\r\n                categories: Categories\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    obtener_imagen: async(req,res) => {\r\n        try {\r\n            var img = req.params['img'];\r\n\r\n            fs.stat('./uploads/categorie/'+img, function(err){\r\n                if(!err){\r\n                    let path_img = './uploads/categorie/'+img;\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }else{\r\n                    let path_img = './uploads/default.jpg';\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },  \r\n    remove: async(req,res) => {\r\n        try {\r\n            await models.Categorie.findByIdAndDelete({_id: req.query._id});\r\n            res.status(200).json({\r\n                message: \"LA CATEGORIA SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    }\r\n}"],"mappings":"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"}},"mtime":1676450129490},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _ProductController = _interopRequireDefault(require(\"../controllers/ProductController\"));\nvar _VariedadController = _interopRequireDefault(require(\"../controllers/VariedadController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/product'\n});\nconst router = (0, _expressPromiseRouter.default)();\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _ProductController.default.register);\nrouter.post(\"/register_imagen\", [_auth.default.verifyAdmin, path], _ProductController.default.register_imagen);\nrouter.post(\"/remove_imagen\", [_auth.default.verifyAdmin, path], _ProductController.default.remove_imagen);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _ProductController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _ProductController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _ProductController.default.remove);\nrouter.get(\"/uploads/product/:img\", _ProductController.default.obtener_imagen);\nrouter.get(\"/show/:id\", _ProductController.default.show);\n\n// VARIEDAD\n\nrouter.post(\"/register-variedad\", [_auth.default.verifyAdmin, path], _VariedadController.default.register);\nrouter.put(\"/update-variedad\", [_auth.default.verifyAdmin, path], _VariedadController.default.update);\nrouter.delete(\"/delete-variedad/:id\", [_auth.default.verifyAdmin, path], _VariedadController.default.delete);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwYXRoIiwibXVsdGlwYXJ0eSIsInVwbG9hZERpciIsInJvdXRlciIsInJvdXRlcngiLCJwb3N0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwicHJvZHVjdENvbnRyb2xsZXIiLCJyZWdpc3RlciIsInJlZ2lzdGVyX2ltYWdlbiIsInJlbW92ZV9pbWFnZW4iLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJsaXN0IiwiZGVsZXRlIiwicmVtb3ZlIiwib2J0ZW5lcl9pbWFnZW4iLCJzaG93IiwidmFyaWVkYWRDb250cm9sbGVyIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiUHJvZHVjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tICdleHByZXNzLXByb21pc2Utcm91dGVyJ1xyXG5pbXBvcnQgcHJvZHVjdENvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvUHJvZHVjdENvbnRyb2xsZXInXHJcbmltcG9ydCB2YXJpZWRhZENvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvVmFyaWVkYWRDb250cm9sbGVyJ1xyXG5pbXBvcnQgYXV0aCBmcm9tICcuLi9taWRkbGV3YXJlcy9hdXRoJ1xyXG5cclxuaW1wb3J0IG11bHRpcGFydHkgZnJvbSAnY29ubmVjdC1tdWx0aXBhcnR5J1xyXG52YXIgcGF0aCA9IG11bHRpcGFydHkoe3VwbG9hZERpcjogJy4vdXBsb2Fkcy9wcm9kdWN0J30pXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuLy8gaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2Vycy9yZWdpc3RlclxyXG5cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSxwcm9kdWN0Q29udHJvbGxlci5yZWdpc3Rlcik7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3Rlcl9pbWFnZW5cIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSxwcm9kdWN0Q29udHJvbGxlci5yZWdpc3Rlcl9pbWFnZW4pO1xyXG5yb3V0ZXIucG9zdChcIi9yZW1vdmVfaW1hZ2VuXCIsW2F1dGgudmVyaWZ5QWRtaW4scGF0aF0scHJvZHVjdENvbnRyb2xsZXIucmVtb3ZlX2ltYWdlbik7XHJcblxyXG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLFthdXRoLnZlcmlmeUFkbWluLHBhdGhdLHByb2R1Y3RDb250cm9sbGVyLnVwZGF0ZSk7XHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4scHJvZHVjdENvbnRyb2xsZXIubGlzdCk7XHJcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlXCIsYXV0aC52ZXJpZnlBZG1pbixwcm9kdWN0Q29udHJvbGxlci5yZW1vdmUpO1xyXG5cclxucm91dGVyLmdldChcIi91cGxvYWRzL3Byb2R1Y3QvOmltZ1wiLHByb2R1Y3RDb250cm9sbGVyLm9idGVuZXJfaW1hZ2VuKTtcclxuXHJcbnJvdXRlci5nZXQoXCIvc2hvdy86aWRcIixwcm9kdWN0Q29udHJvbGxlci5zaG93KTtcclxuXHJcbi8vIFZBUklFREFEXHJcblxyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3Rlci12YXJpZWRhZFwiLFthdXRoLnZlcmlmeUFkbWluLHBhdGhdLHZhcmllZGFkQ29udHJvbGxlci5yZWdpc3Rlcik7XHJcbnJvdXRlci5wdXQoXCIvdXBkYXRlLXZhcmllZGFkXCIsW2F1dGgudmVyaWZ5QWRtaW4scGF0aF0sdmFyaWVkYWRDb250cm9sbGVyLnVwZGF0ZSk7XHJcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlLXZhcmllZGFkLzppZFwiLFthdXRoLnZlcmlmeUFkbWluLHBhdGhdLHZhcmllZGFkQ29udHJvbGxlci5kZWxldGUpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUEyQztBQUMzQyxJQUFJQSxJQUFJLEdBQUcsSUFBQUMsMEJBQVUsRUFBQztFQUFDQyxTQUFTLEVBQUU7QUFBbUIsQ0FBQyxDQUFDO0FBQ3ZELE1BQU1DLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxHQUFFO0FBQ3hCOztBQUVBRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUMsQ0FBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUNQLElBQUksQ0FBQyxFQUFDUSwwQkFBaUIsQ0FBQ0MsUUFBUSxDQUFDO0FBRTNFTixNQUFNLENBQUNFLElBQUksQ0FBQyxrQkFBa0IsRUFBQyxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNRLDBCQUFpQixDQUFDRSxlQUFlLENBQUM7QUFDekZQLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLGdCQUFnQixFQUFDLENBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFDUCxJQUFJLENBQUMsRUFBQ1EsMEJBQWlCLENBQUNHLGFBQWEsQ0FBQztBQUVyRlIsTUFBTSxDQUFDUyxHQUFHLENBQUMsU0FBUyxFQUFDLENBQUNOLGFBQUksQ0FBQ0MsV0FBVyxFQUFDUCxJQUFJLENBQUMsRUFBQ1EsMEJBQWlCLENBQUNLLE1BQU0sQ0FBQztBQUN0RVYsTUFBTSxDQUFDVyxHQUFHLENBQUMsT0FBTyxFQUFDUixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMEJBQWlCLENBQUNPLElBQUksQ0FBQztBQUMzRFosTUFBTSxDQUFDYSxNQUFNLENBQUMsU0FBUyxFQUFDVixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMEJBQWlCLENBQUNTLE1BQU0sQ0FBQztBQUVsRWQsTUFBTSxDQUFDVyxHQUFHLENBQUMsdUJBQXVCLEVBQUNOLDBCQUFpQixDQUFDVSxjQUFjLENBQUM7QUFFcEVmLE1BQU0sQ0FBQ1csR0FBRyxDQUFDLFdBQVcsRUFBQ04sMEJBQWlCLENBQUNXLElBQUksQ0FBQzs7QUFFOUM7O0FBRUFoQixNQUFNLENBQUNFLElBQUksQ0FBQyxvQkFBb0IsRUFBQyxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNvQiwyQkFBa0IsQ0FBQ1gsUUFBUSxDQUFDO0FBQ3JGTixNQUFNLENBQUNTLEdBQUcsQ0FBQyxrQkFBa0IsRUFBQyxDQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNvQiwyQkFBa0IsQ0FBQ1AsTUFBTSxDQUFDO0FBQ2hGVixNQUFNLENBQUNhLE1BQU0sQ0FBQyxzQkFBc0IsRUFBQyxDQUFDVixhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNvQiwyQkFBa0IsQ0FBQ0osTUFBTSxDQUFDO0FBQUMsZUFFekViLE1BQU07QUFBQSJ9","map":{"version":3,"names":["path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","productController","register","register_imagen","remove_imagen","put","update","get","list","delete","remove","obtener_imagen","show","variedadController"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["Product.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport productController from '../controllers/ProductController'\r\nimport variedadController from '../controllers/VariedadController'\r\nimport auth from '../middlewares/auth'\r\n\r\nimport multiparty from 'connect-multiparty'\r\nvar path = multiparty({uploadDir: './uploads/product'})\r\nconst router = routerx();\r\n// http://localhost:3000/api/users/register\r\n\r\nrouter.post(\"/register\",[auth.verifyAdmin,path],productController.register);\r\n\r\nrouter.post(\"/register_imagen\",[auth.verifyAdmin,path],productController.register_imagen);\r\nrouter.post(\"/remove_imagen\",[auth.verifyAdmin,path],productController.remove_imagen);\r\n\r\nrouter.put(\"/update\",[auth.verifyAdmin,path],productController.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,productController.list);\r\nrouter.delete(\"/delete\",auth.verifyAdmin,productController.remove);\r\n\r\nrouter.get(\"/uploads/product/:img\",productController.obtener_imagen);\r\n\r\nrouter.get(\"/show/:id\",productController.show);\r\n\r\n// VARIEDAD\r\n\r\nrouter.post(\"/register-variedad\",[auth.verifyAdmin,path],variedadController.register);\r\nrouter.put(\"/update-variedad\",[auth.verifyAdmin,path],variedadController.update);\r\nrouter.delete(\"/delete-variedad/:id\",[auth.verifyAdmin,path],variedadController.delete);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AAEA;AAA2C;AAC3C,IAAIA,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAE;AAAmB,CAAC,CAAC;AACvD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,GAAE;AACxB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAC,CAACC,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,0BAAiB,CAACC,QAAQ,CAAC;AAE3EN,MAAM,CAACE,IAAI,CAAC,kBAAkB,EAAC,CAACC,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,0BAAiB,CAACE,eAAe,CAAC;AACzFP,MAAM,CAACE,IAAI,CAAC,gBAAgB,EAAC,CAACC,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,0BAAiB,CAACG,aAAa,CAAC;AAErFR,MAAM,CAACS,GAAG,CAAC,SAAS,EAAC,CAACN,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,0BAAiB,CAACK,MAAM,CAAC;AACtEV,MAAM,CAACW,GAAG,CAAC,OAAO,EAACR,aAAI,CAACC,WAAW,EAACC,0BAAiB,CAACO,IAAI,CAAC;AAC3DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAACV,aAAI,CAACC,WAAW,EAACC,0BAAiB,CAACS,MAAM,CAAC;AAElEd,MAAM,CAACW,GAAG,CAAC,uBAAuB,EAACN,0BAAiB,CAACU,cAAc,CAAC;AAEpEf,MAAM,CAACW,GAAG,CAAC,WAAW,EAACN,0BAAiB,CAACW,IAAI,CAAC;;AAE9C;;AAEAhB,MAAM,CAACE,IAAI,CAAC,oBAAoB,EAAC,CAACC,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACoB,2BAAkB,CAACX,QAAQ,CAAC;AACrFN,MAAM,CAACS,GAAG,CAAC,kBAAkB,EAAC,CAACN,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACoB,2BAAkB,CAACP,MAAM,CAAC;AAChFV,MAAM,CAACa,MAAM,CAAC,sBAAsB,EAAC,CAACV,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACoB,2BAAkB,CAACJ,MAAM,CAAC;AAAC,eAEzEb,MAAM;AAAA"}},"mtime":1677538217364},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\ProductController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let valid_Product = await _models.default.Product.findOne({\n        title: data.title\n      });\n      if (valid_Product) {\n        res.status(200).json({\n          code: 403,\n          message: 'EL PRODUCTO YA EXISTE'\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g, '-').replace(/[^\\w-]+/g, '');\n      if (req.files) {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        data.portada = portada_name;\n      }\n      let product = await _models.default.Product.create(data);\n      res.status(200).json({\n        message: \"EL PRODUCTO SE REGISTRO CON EXITO\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"COURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      let valid_Product = await _models.default.Product.findOne({\n        title: data.title,\n        _id: {\n          $ne: data._id\n        }\n      });\n      if (valid_Product) {\n        res.status(200).json({\n          code: 403,\n          message: 'EL PRODUCTO YA EXISTE'\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g, '-').replace(/[^\\w-]+/g, '');\n      if (req.files && req.files.imagen) {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        data.portada = portada_name;\n      }\n      await _models.default.Product.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      res.status(200).json({\n        message: \"EL PRODUCTO SE REGISTRO SE ACTUALIZO CON EXITO\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"COURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var filter = [];\n      if (req.query.search) {\n        filter.push({\n          \"title\": new RegExp(req.query.search, 'i')\n        });\n      }\n      if (req.query.categorie) {\n        filter.push({\n          \"categorie\": req.query.categorie\n        });\n      }\n      let products = await _models.default.Product.find({\n        $and: filter\n      }).populate('categorie');\n      products = products.map(product => {\n        return _resources.default.Product.product_list(product);\n      });\n      res.status(200).json({\n        products: products\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"COURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Product.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: \"EL PRODUCTO SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"COURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/product/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/product/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  show: async (req, res) => {\n    try {\n      var product_id = req.params.id;\n      let PRODUCT = await _models.default.Product.findById({\n        _id: product_id\n      }).populate(\"categorie\");\n      let VARIEDADES = await _models.default.Variedad.find({\n        product: product_id\n      });\n      res.status(200).json({\n        product: _resources.default.Product.product_list(PRODUCT, VARIEDADES)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_imagen: async (req, res) => {\n    try {\n      var img_path = req.files.imagen.path;\n      var name = img_path.split('\\\\');\n      var imagen_name = name[2];\n      let product = await _models.default.Product.findByIdAndUpdate({\n        _id: req.body._id\n      }, {\n        $push: {\n          galerias: {\n            imagen: imagen_name,\n            _id: req.body.__id\n          }\n        }\n      });\n      res.status(200).json({\n        message: \"LA IMAGEN SE SUBIO PERFECTAMENTE\",\n        imagen: {\n          imagen: process.env.URL_BACKEND + '/api/products/uploads/product/' + imagen_name,\n          _id: req.body.__id\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  remove_imagen: async (req, res) => {\n    try {\n      await _models.default.Product.findByIdAndUpdate({\n        _id: req.body._id\n      }, {\n        $pull: {\n          galerias: {\n            _id: req.body.__id\n          }\n        }\n      });\n      res.status(200).json({\n        message: \"LA IMAGEN SE ELIMINO PERFECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZWdpc3RlciIsInJlcSIsInJlcyIsImRhdGEiLCJib2R5IiwidmFsaWRfUHJvZHVjdCIsIm1vZGVscyIsIlByb2R1Y3QiLCJmaW5kT25lIiwidGl0bGUiLCJzdGF0dXMiLCJqc29uIiwiY29kZSIsIm1lc3NhZ2UiLCJzbHVnIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwiZmlsZXMiLCJpbWdfcGF0aCIsImltYWdlbiIsInBhdGgiLCJuYW1lIiwic3BsaXQiLCJwb3J0YWRhX25hbWUiLCJwb3J0YWRhIiwicHJvZHVjdCIsImNyZWF0ZSIsImVycm9yIiwic2VuZCIsInVwZGF0ZSIsIl9pZCIsIiRuZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwibGlzdCIsImZpbHRlciIsInF1ZXJ5Iiwic2VhcmNoIiwicHVzaCIsIlJlZ0V4cCIsImNhdGVnb3JpZSIsInByb2R1Y3RzIiwiZmluZCIsIiRhbmQiLCJwb3B1bGF0ZSIsIm1hcCIsInJlc291cmNlcyIsInByb2R1Y3RfbGlzdCIsInJlbW92ZSIsImZpbmRCeUlkQW5kRGVsZXRlIiwib2J0ZW5lcl9pbWFnZW4iLCJpbWciLCJwYXJhbXMiLCJmcyIsInN0YXQiLCJlcnIiLCJwYXRoX2ltZyIsInNlbmRGaWxlIiwicmVzb2x2ZSIsImNvbnNvbGUiLCJsb2ciLCJzaG93IiwicHJvZHVjdF9pZCIsImlkIiwiUFJPRFVDVCIsImZpbmRCeUlkIiwiVkFSSUVEQURFUyIsIlZhcmllZGFkIiwicmVnaXN0ZXJfaW1hZ2VuIiwiaW1hZ2VuX25hbWUiLCIkcHVzaCIsImdhbGVyaWFzIiwiX19pZCIsInByb2Nlc3MiLCJlbnYiLCJVUkxfQkFDS0VORCIsInJlbW92ZV9pbWFnZW4iLCIkcHVsbCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiUHJvZHVjdENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnXHJcbmltcG9ydCByZXNvdXJjZXMgZnJvbSAnLi4vcmVzb3VyY2VzJztcclxuaW1wb3J0IGZzIGZyb20gJ2ZzJ1xyXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbGV0IHZhbGlkX1Byb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kT25lKHt0aXRsZTogZGF0YS50aXRsZX0pO1xyXG5cclxuICAgICAgICAgICAgaWYodmFsaWRfUHJvZHVjdCl7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgY29kZTogNDAzLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdFTCBQUk9EVUNUTyBZQSBFWElTVEUnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZGF0YS5zbHVnID0gZGF0YS50aXRsZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyAvZywnLScpLnJlcGxhY2UoL1teXFx3LV0rL2csJycpO1xyXG4gICAgICAgICAgICBpZihyZXEuZmlsZXMpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLmltYWdlbi5wYXRoO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnXFxcXCcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBvcnRhZGFfbmFtZSA9IG5hbWVbMl07XHJcbiAgICAgICAgICAgICAgICBkYXRhLnBvcnRhZGEgPSBwb3J0YWRhX25hbWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBwcm9kdWN0ID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuY3JlYXRlKGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBQUk9EVUNUTyBTRSBSRUdJU1RSTyBDT04gRVhJVE9cIlxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDT1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHVwZGF0ZTphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCB2YWxpZF9Qcm9kdWN0ID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZE9uZSh7dGl0bGU6IGRhdGEudGl0bGUsIF9pZDogeyRuZSA6IGRhdGEuX2lkfX0pO1xyXG5cclxuICAgICAgICAgICAgaWYodmFsaWRfUHJvZHVjdCl7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgY29kZTogNDAzLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdFTCBQUk9EVUNUTyBZQSBFWElTVEUnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZGF0YS5zbHVnID0gZGF0YS50aXRsZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyAvZywnLScpLnJlcGxhY2UoL1teXFx3LV0rL2csJycpO1xyXG4gICAgICAgICAgICBpZihyZXEuZmlsZXMgJiYgcmVxLmZpbGVzLmltYWdlbil7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMuaW1hZ2VuLnBhdGg7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9ydGFkYV9uYW1lID0gbmFtZVsyXTtcclxuICAgICAgICAgICAgICAgIGRhdGEucG9ydGFkYSA9IHBvcnRhZGFfbmFtZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDpkYXRhLl9pZH0sZGF0YSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFBST0RVQ1RPIFNFIFJFR0lTVFJPIFNFIEFDVFVBTElaTyBDT04gRVhJVE9cIlxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDT1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGxpc3Q6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBmaWx0ZXIgPSBbXTtcclxuICAgICAgICAgICAgaWYocmVxLnF1ZXJ5LnNlYXJjaCl7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXIucHVzaChcclxuICAgICAgICAgICAgICAgICAgICB7XCJ0aXRsZVwiOiBuZXcgUmVnRXhwKHJlcS5xdWVyeS5zZWFyY2gsJ2knKX0sXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHJlcS5xdWVyeS5jYXRlZ29yaWUpe1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAge1wiY2F0ZWdvcmllXCI6IHJlcS5xdWVyeS5jYXRlZ29yaWV9XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBwcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoe1xyXG4gICAgICAgICAgICAgICAgJGFuZDpmaWx0ZXIsXHJcbiAgICAgICAgICAgIH0pLnBvcHVsYXRlKCdjYXRlZ29yaWUnKVxyXG4gICAgICAgICAgICBwcm9kdWN0cyA9IHByb2R1Y3RzLm1hcChwcm9kdWN0ID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvdXJjZXMuUHJvZHVjdC5wcm9kdWN0X2xpc3QocHJvZHVjdCk7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBwcm9kdWN0czogcHJvZHVjdHMsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDT1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHJlbW92ZTphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IF9pZCA9IHJlcS5xdWVyeS5faWQ7XHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IF9pZH0pO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBQUk9EVUNUTyBTRSBFTElNSU5PIENPUlJFQ1RBTUVOVEVcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNPVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgb2J0ZW5lcl9pbWFnZW46YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBpbWcgPSByZXEucGFyYW1zWydpbWcnXTtcclxuXHJcbiAgICAgICAgICAgIGZzLnN0YXQoJy4vdXBsb2Fkcy9wcm9kdWN0LycraW1nLCBmdW5jdGlvbihlcnIpe1xyXG4gICAgICAgICAgICAgICAgaWYoIWVycil7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9wcm9kdWN0LycraW1nO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kRmlsZShwYXRoLnJlc29sdmUocGF0aF9pbWcpKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvZGVmYXVsdC5qcGcnO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kRmlsZShwYXRoLnJlc29sdmUocGF0aF9pbWcpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzaG93OiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIHByb2R1Y3RfaWQgPSByZXEucGFyYW1zLmlkO1xyXG4gICAgICAgICAgICBsZXQgUFJPRFVDVCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkKHtfaWQ6IHByb2R1Y3RfaWR9KS5wb3B1bGF0ZShcImNhdGVnb3JpZVwiKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBWQVJJRURBREVTID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoe3Byb2R1Y3Q6IHByb2R1Y3RfaWR9KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgcHJvZHVjdDogcmVzb3VyY2VzLlByb2R1Y3QucHJvZHVjdF9saXN0KFBST0RVQ1QsVkFSSUVEQURFUyksXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgcmVnaXN0ZXJfaW1hZ2VuOmFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMuaW1hZ2VuLnBhdGg7XHJcbiAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJ1xcXFwnKTtcclxuICAgICAgICAgICAgdmFyIGltYWdlbl9uYW1lID0gbmFtZVsyXTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBwcm9kdWN0ID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogcmVxLmJvZHkuX2lkfSx7XHJcbiAgICAgICAgICAgICAgICAkcHVzaDoge1xyXG4gICAgICAgICAgICAgICAgICAgIGdhbGVyaWFzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlbjogaW1hZ2VuX25hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZDogcmVxLmJvZHkuX19pZFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJMQSBJTUFHRU4gU0UgU1VCSU8gUEVSRkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICAgICAgaW1hZ2VuOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VuOiBwcm9jZXNzLmVudi5VUkxfQkFDS0VORCsnL2FwaS9wcm9kdWN0cy91cGxvYWRzL3Byb2R1Y3QvJytpbWFnZW5fbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBfaWQ6IHJlcS5ib2R5Ll9faWRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgcmVtb3ZlX2ltYWdlbjphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogcmVxLmJvZHkuX2lkfSx7XHJcbiAgICAgICAgICAgICAgICAkcHVsbDoge1xyXG4gICAgICAgICAgICAgICAgICAgIGdhbGVyaWFzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZDogcmVxLmJvZHkuX19pZFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJMQSBJTUFHRU4gU0UgRUxJTUlOTyBQRVJGRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBdUI7QUFBQSxlQUVSO0VBQ1hBLFFBQVEsRUFBRSxPQUFNQyxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUN4QixJQUFJO01BQ0EsSUFBSUMsSUFBSSxHQUFHRixHQUFHLENBQUNHLElBQUk7TUFFbkIsSUFBSUMsYUFBYSxHQUFHLE1BQU1DLGVBQU0sQ0FBQ0MsT0FBTyxDQUFDQyxPQUFPLENBQUM7UUFBQ0MsS0FBSyxFQUFFTixJQUFJLENBQUNNO01BQUssQ0FBQyxDQUFDO01BRXJFLElBQUdKLGFBQWEsRUFBQztRQUNiSCxHQUFHLENBQUNRLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFB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","map":{"version":3,"names":["register","req","res","data","body","valid_Product","models","Product","findOne","title","status","json","code","message","slug","toLowerCase","replace","files","img_path","imagen","path","name","split","portada_name","portada","product","create","error","send","update","_id","$ne","findByIdAndUpdate","list","filter","query","search","push","RegExp","categorie","products","find","$and","populate","map","resources","product_list","remove","findByIdAndDelete","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","console","log","show","product_id","id","PRODUCT","findById","VARIEDADES","Variedad","register_imagen","imagen_name","$push","galerias","__id","process","env","URL_BACKEND","remove_imagen","$pull"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["ProductController.js"],"sourcesContent":["import models from '../models'\r\nimport resources from '../resources';\r\nimport fs from 'fs'\r\nimport path from 'path'\r\n\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            \r\n            let valid_Product = await models.Product.findOne({title: data.title});\r\n\r\n            if(valid_Product){\r\n                res.status(200).json({\r\n                    code: 403,\r\n                    message: 'EL PRODUCTO YA EXISTE'\r\n                });\r\n                return;\r\n            }\r\n\r\n            data.slug = data.title.toLowerCase().replace(/ /g,'-').replace(/[^\\w-]+/g,'');\r\n            if(req.files){\r\n                var img_path = req.files.imagen.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                data.portada = portada_name;\r\n            }\r\n\r\n            let product = await models.Product.create(data);\r\n\r\n            res.status(200).json({\r\n                message: \"EL PRODUCTO SE REGISTRO CON EXITO\"\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"COURRIO UN PROBLEMA\"\r\n            });\r\n        }\r\n    },\r\n    update:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            \r\n            let valid_Product = await models.Product.findOne({title: data.title, _id: {$ne : data._id}});\r\n\r\n            if(valid_Product){\r\n                res.status(200).json({\r\n                    code: 403,\r\n                    message: 'EL PRODUCTO YA EXISTE'\r\n                });\r\n                return;\r\n            }\r\n\r\n            data.slug = data.title.toLowerCase().replace(/ /g,'-').replace(/[^\\w-]+/g,'');\r\n            if(req.files && req.files.imagen){\r\n                var img_path = req.files.imagen.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                data.portada = portada_name;\r\n            }\r\n\r\n            await models.Product.findByIdAndUpdate({_id:data._id},data);\r\n\r\n            res.status(200).json({\r\n                message: \"EL PRODUCTO SE REGISTRO SE ACTUALIZO CON EXITO\"\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"COURRIO UN PROBLEMA\"\r\n            });\r\n        }\r\n    },\r\n    list:async(req,res) => {\r\n        try {\r\n            var filter = [];\r\n            if(req.query.search){\r\n                filter.push(\r\n                    {\"title\": new RegExp(req.query.search,'i')},\r\n                );\r\n            }\r\n            if(req.query.categorie){\r\n                filter.push(\r\n                    {\"categorie\": req.query.categorie}\r\n                );\r\n            }\r\n            let products = await models.Product.find({\r\n                $and:filter,\r\n            }).populate('categorie')\r\n            products = products.map(product => {\r\n                return resources.Product.product_list(product);\r\n            })\r\n\r\n            res.status(200).json({\r\n                products: products,\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"COURRIO UN PROBLEMA\"\r\n            });\r\n        }\r\n    },\r\n    remove:async(req,res) => {\r\n        try {\r\n            let _id = req.query._id;\r\n            await models.Product.findByIdAndDelete({_id: _id});\r\n\r\n            res.status(200).json({\r\n                message: \"EL PRODUCTO SE ELIMINO CORRECTAMENTE\"\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"COURRIO UN PROBLEMA\"\r\n            });\r\n        }\r\n    },\r\n    obtener_imagen:async(req,res) => {\r\n        try {\r\n            var img = req.params['img'];\r\n\r\n            fs.stat('./uploads/product/'+img, function(err){\r\n                if(!err){\r\n                    let path_img = './uploads/product/'+img;\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }else{\r\n                    let path_img = './uploads/default.jpg';\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    show: async(req,res) => {\r\n        try {\r\n            var product_id = req.params.id;\r\n            let PRODUCT = await models.Product.findById({_id: product_id}).populate(\"categorie\");\r\n\r\n            let VARIEDADES = await models.Variedad.find({product: product_id});\r\n            res.status(200).json({\r\n                product: resources.Product.product_list(PRODUCT,VARIEDADES),\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    register_imagen:async(req,res) => {\r\n        try {\r\n            var img_path = req.files.imagen.path;\r\n            var name = img_path.split('\\\\');\r\n            var imagen_name = name[2];\r\n            \r\n            let product = await models.Product.findByIdAndUpdate({_id: req.body._id},{\r\n                $push: {\r\n                    galerias: {\r\n                        imagen: imagen_name,\r\n                        _id: req.body.__id\r\n                    }\r\n                }\r\n            })\r\n            res.status(200).json({\r\n                message: \"LA IMAGEN SE SUBIO PERFECTAMENTE\",\r\n                imagen: {\r\n                    imagen: process.env.URL_BACKEND+'/api/products/uploads/product/'+imagen_name,\r\n                    _id: req.body.__id\r\n                }\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n        }\r\n    },\r\n    remove_imagen:async(req,res) => {\r\n        try {\r\n            await models.Product.findByIdAndUpdate({_id: req.body._id},{\r\n                $pull: {\r\n                    galerias: {\r\n                        _id: req.body.__id\r\n                    }\r\n                }\r\n            })\r\n            res.status(200).json({\r\n                message: \"LA IMAGEN SE ELIMINO PERFECTAMENTE\",\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":"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"}},"mtime":1681165449978},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\VariedadController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let variedad_exits = await _models.default.Variedad.findOne({\n        valor: data.valor,\n        product: data.product\n      });\n      var variedad = null;\n      if (variedad_exits) {\n        data.stock = variedad_exits.stock + data.stock;\n        await _models.default.Variedad.findByIdAndUpdate({\n          _id: variedad_exits._id\n        }, data);\n        variedad = await _models.default.Variedad.findById({\n          _id: variedad_exits._id\n        });\n      } else {\n        variedad = await _models.default.Variedad.create(data);\n      }\n      res.status(200).json({\n        variedad: variedad\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      await _models.default.Variedad.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let variedad = await _models.default.Variedad.findById({\n        _id: data._id\n      });\n      res.status(200).json({\n        variedad: variedad\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.params.id;\n      await _models.default.Variedad.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: \"SE ELIMINO LA VARIEDAD\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZWdpc3RlciIsInJlcSIsInJlcyIsImRhdGEiLCJib2R5IiwidmFyaWVkYWRfZXhpdHMiLCJtb2RlbHMiLCJWYXJpZWRhZCIsImZpbmRPbmUiLCJ2YWxvciIsInByb2R1Y3QiLCJ2YXJpZWRhZCIsInN0b2NrIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJfaWQiLCJmaW5kQnlJZCIsImNyZWF0ZSIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInNlbmQiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyIsInVwZGF0ZSIsImRlbGV0ZSIsInBhcmFtcyIsImlkIiwiZmluZEJ5SWRBbmREZWxldGUiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIlZhcmllZGFkQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gJy4uL21vZGVscydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHJlZ2lzdGVyOmFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xyXG5cclxuICAgICAgICAgICAgbGV0IHZhcmllZGFkX2V4aXRzID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRPbmUoe3ZhbG9yOiBkYXRhLnZhbG9yLCBwcm9kdWN0OiBkYXRhLnByb2R1Y3R9KTtcclxuICAgICAgICAgICAgdmFyIHZhcmllZGFkID0gbnVsbDtcclxuICAgICAgICAgICAgaWYodmFyaWVkYWRfZXhpdHMpe1xyXG4gICAgICAgICAgICAgICAgZGF0YS5zdG9jayA9IHZhcmllZGFkX2V4aXRzLnN0b2NrICsgZGF0YS5zdG9jaztcclxuICAgICAgICAgICAgICAgIGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiB2YXJpZWRhZF9leGl0cy5faWR9LGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgdmFyaWVkYWQgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZEJ5SWQoe19pZDogdmFyaWVkYWRfZXhpdHMuX2lkfSk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdmFyaWVkYWQgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuY3JlYXRlKGRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICB2YXJpZWRhZDogdmFyaWVkYWRcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlOmFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xyXG5cclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6ZGF0YS5faWR9LGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHZhcmllZGFkID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkKHtfaWQ6IGRhdGEuX2lkfSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICB2YXJpZWRhZDogdmFyaWVkYWRcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgZGVsZXRlOmFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgX2lkID0gcmVxLnBhcmFtcy5pZDtcclxuXHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kQnlJZEFuZERlbGV0ZSh7X2lkOl9pZH0pO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJTRSBFTElNSU5PIExBIFZBUklFREFEXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUE4QjtBQUFBLGVBRWY7RUFDWEEsUUFBUSxFQUFDLE9BQU1DLEdBQUcsRUFBQ0MsR0FBRyxLQUFLO0lBQ3ZCLElBQUk7TUFDQSxJQUFJQyxJQUFJLEdBQUdGLEdBQUcsQ0FBQ0csSUFBSTtNQUVuQixJQUFJQyxjQUFjLEdBQUcsTUFBTUMsZUFBTSxDQUFDQyxRQUFRLENBQUNDLE9BQU8sQ0FBQztRQUFDQyxLQUFLLEVBQUVOLElBQUksQ0FBQ00sS0FBSztRQUFFQyxPQUFPLEVB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","map":{"version":3,"names":["register","req","res","data","body","variedad_exits","models","Variedad","findOne","valor","product","variedad","stock","findByIdAndUpdate","_id","findById","create","status","json","error","send","message","console","log","update","delete","params","id","findByIdAndDelete"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["VariedadController.js"],"sourcesContent":["import models from '../models'\r\n\r\nexport default {\r\n    register:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n\r\n            let variedad_exits = await models.Variedad.findOne({valor: data.valor, product: data.product});\r\n            var variedad = null;\r\n            if(variedad_exits){\r\n                data.stock = variedad_exits.stock + data.stock;\r\n                await models.Variedad.findByIdAndUpdate({_id: variedad_exits._id},data);\r\n                variedad = await models.Variedad.findById({_id: variedad_exits._id});\r\n            }else{\r\n                variedad = await models.Variedad.create(data);\r\n            }\r\n\r\n            res.status(200).json({\r\n                variedad: variedad\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    update:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n\r\n            await models.Variedad.findByIdAndUpdate({_id:data._id},data);\r\n\r\n            let variedad = await models.Variedad.findById({_id: data._id});\r\n\r\n            res.status(200).json({\r\n                variedad: variedad\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    delete:async(req,res) => {\r\n        try {\r\n            let _id = req.params.id;\r\n\r\n            await models.Variedad.findByIdAndDelete({_id:_id});\r\n\r\n            res.status(200).json({\r\n                message: \"SE ELIMINO LA VARIEDAD\"\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n}"],"mappings":";;;;;;AAAA;AAA8B;AAAA,eAEf;EACXA,QAAQ,EAAC,OAAMC,GAAG,EAACC,GAAG,KAAK;IACvB,IAAI;MACA,IAAIC,IAAI,GAAGF,GAAG,CAACG,IAAI;MAEnB,IAAIC,cAAc,GAAG,MAAMC,eAAM,CAACC,QAAQ,CAACC,OAAO,CAAC;QAACC,KAAK,EAAEN,IAAI,CAACM,KAAK;QAAEC,OAAO,EAAEP,IAAI,CAACO;MAAO,CAAC,CAAC;MAC9F,IAAIC,QAAQ,GAAG,IAAI;MACnB,IAAGN,cAAc,EAAC;QACdF,IAAI,CAACS,KAAK,GAAGP,cAAc,CAACO,KAAK,GAAGT,IAAI,CAACS,KAAK;QAC9C,MAAMN,eAAM,CAACC,QAAQ,CAACM,iBAAiB,CAAC;UAACC,GAAG,EAAET,cAAc,CAACS;QAAG,CAAC,EAACX,IAAI,CAAC;QACvEQ,QAAQ,GAAG,MAAML,eAAM,CAACC,QAAQ,CAACQ,QAAQ,CAAC;UAACD,GAAG,EAAET,cAAc,CAACS;QAAG,CAAC,CAAC;MACxE,CAAC,MAAI;QACDH,QAAQ,GAAG,MAAML,eAAM,CAACC,QAAQ,CAACS,MAAM,CAACb,IAAI,CAAC;MACjD;MAEAD,GAAG,CAACe,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBP,QAAQ,EAAEA;MACd,CAAC,CAAC;IACN,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACZjB,GAAG,CAACe,MAAM,CAAC,GAAG,CAAC,CAACG,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACtB;EACJ,CAAC;EACDK,MAAM,EAAC,OAAMvB,GAAG,EAACC,GAAG,KAAK;IACrB,IAAI;MACA,IAAIC,IAAI,GAAGF,GAAG,CAACG,IAAI;MAEnB,MAAME,eAAM,CAACC,QAAQ,CAACM,iBAAiB,CAAC;QAACC,GAAG,EAACX,IAAI,CAACW;MAAG,CAAC,EAACX,IAAI,CAAC;MAE5D,IAAIQ,QAAQ,GAAG,MAAML,eAAM,CAACC,QAAQ,CAACQ,QAAQ,CAAC;QAACD,GAAG,EAAEX,IAAI,CAACW;MAAG,CAAC,CAAC;MAE9DZ,GAAG,CAACe,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBP,QAAQ,EAAEA;MACd,CAAC,CAAC;IACN,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACZjB,GAAG,CAACe,MAAM,CAAC,GAAG,CAAC,CAACG,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACtB;EACJ,CAAC;EACDM,MAAM,EAAC,OAAMxB,GAAG,EAACC,GAAG,KAAK;IACrB,IAAI;MACA,IAAIY,GAAG,GAAGb,GAAG,CAACyB,MAAM,CAACC,EAAE;MAEvB,MAAMrB,eAAM,CAACC,QAAQ,CAACqB,iBAAiB,CAAC;QAACd,GAAG,EAACA;MAAG,CAAC,CAAC;MAElDZ,GAAG,CAACe,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBG,OAAO,EAAE;MACb,CAAC,CAAC;IACN,CAAC,CAAC,OAAOF,KAAK,EAAE;MACZjB,GAAG,CAACe,MAAM,CAAC,GAAG,CAAC,CAACG,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACtB;EACJ;AACJ,CAAC;AAAA"}},"mtime":1677537925822},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _SliderController = _interopRequireDefault(require(\"../controllers/SliderController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/slider'\n});\nconst router = (0, _expressPromiseRouter.default)();\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _SliderController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _SliderController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _SliderController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _SliderController.default.remove);\nrouter.get(\"/uploads/slider/:img\", _SliderController.default.obtener_imagen);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwYXRoIiwibXVsdGlwYXJ0eSIsInVwbG9hZERpciIsInJvdXRlciIsInJvdXRlcngiLCJwb3N0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwic2xpZGVyQ29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImRlbGV0ZSIsInJlbW92ZSIsIm9idGVuZXJfaW1hZ2VuIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiU2xpZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gJ2V4cHJlc3MtcHJvbWlzZS1yb3V0ZXInXHJcbmltcG9ydCBzbGlkZXJDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL1NsaWRlckNvbnRyb2xsZXInXHJcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXHJcblxyXG5pbXBvcnQgbXVsdGlwYXJ0eSBmcm9tICdjb25uZWN0LW11bHRpcGFydHknXHJcbnZhciBwYXRoID0gbXVsdGlwYXJ0eSh7dXBsb2FkRGlyOiAnLi91cGxvYWRzL3NsaWRlcid9KVxyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcbi8vIGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcnMvcmVnaXN0ZXJcclxuXHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsW2F1dGgudmVyaWZ5QWRtaW4scGF0aF0sc2xpZGVyQ29udHJvbGxlci5yZWdpc3Rlcik7XHJcbnJvdXRlci5wdXQoXCIvdXBkYXRlXCIsW2F1dGgudmVyaWZ5QWRtaW4scGF0aF0sc2xpZGVyQ29udHJvbGxlci51cGRhdGUpO1xyXG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIixhdXRoLnZlcmlmeUFkbWluLHNsaWRlckNvbnRyb2xsZXIubGlzdCk7XHJcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlXCIsYXV0aC52ZXJpZnlBZG1pbixzbGlkZXJDb250cm9sbGVyLnJlbW92ZSk7XHJcblxyXG5yb3V0ZXIuZ2V0KFwiL3VwbG9hZHMvc2xpZGVyLzppbWdcIixzbGlkZXJDb250cm9sbGVyLm9idGVuZXJfaW1hZ2VuKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQTJDO0FBQzNDLElBQUlBLElBQUksR0FBRyxJQUFBQywwQkFBVSxFQUFDO0VBQUNDLFNBQVMsRUFBRTtBQUFrQixDQUFDLENBQUM7QUFDdEQsTUFBTUMsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEdBQUU7QUFDeEI7O0FBRUFELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBQyxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNRLHlCQUFnQixDQUFDQyxRQUFRLENBQUM7QUFDMUVOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLFNBQVMsRUFBQyxDQUFDSixhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNRLHlCQUFnQixDQUFDRyxNQUFNLENBQUM7QUFDckVSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUNDLHlCQUFnQixDQUFDSyxJQUFJLENBQUM7QUFDMURWLE1BQU0sQ0FBQ1csTUFBTSxDQUFDLFNBQVMsRUFBQ1IsYUFBSSxDQUFDQyxXQUFXLEVBQUNDLHlCQUFnQixDQUFDTyxNQUFNLENBQUM7QUFFakVaLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLHNCQUFzQixFQUFDSix5QkFBZ0IsQ0FBQ1EsY0FBYyxDQUFDO0FBQUMsZUFFcERiLE1BQU07QUFBQSJ9","map":{"version":3,"names":["path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","sliderController","register","put","update","get","list","delete","remove","obtener_imagen"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["Slider.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport sliderController from '../controllers/SliderController'\r\nimport auth from '../middlewares/auth'\r\n\r\nimport multiparty from 'connect-multiparty'\r\nvar path = multiparty({uploadDir: './uploads/slider'})\r\nconst router = routerx();\r\n// http://localhost:3000/api/users/register\r\n\r\nrouter.post(\"/register\",[auth.verifyAdmin,path],sliderController.register);\r\nrouter.put(\"/update\",[auth.verifyAdmin,path],sliderController.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,sliderController.list);\r\nrouter.delete(\"/delete\",auth.verifyAdmin,sliderController.remove);\r\n\r\nrouter.get(\"/uploads/slider/:img\",sliderController.obtener_imagen);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA;AACA;AACA;AAEA;AAA2C;AAC3C,IAAIA,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAE;AAAkB,CAAC,CAAC;AACtD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,GAAE;AACxB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAC,CAACC,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,yBAAgB,CAACC,QAAQ,CAAC;AAC1EN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAC,CAACJ,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,yBAAgB,CAACG,MAAM,CAAC;AACrER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACK,IAAI,CAAC;AAC1DV,MAAM,CAACW,MAAM,CAAC,SAAS,EAACR,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACO,MAAM,CAAC;AAEjEZ,MAAM,CAACS,GAAG,CAAC,sBAAsB,EAACJ,yBAAgB,CAACQ,cAAc,CAAC;AAAC,eAEpDb,MAAM;AAAA"}},"mtime":1677624959347},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\SliderController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  register: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        // console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      const slider = await _models.default.Slider.create(req.body);\n      res.status(200).json(slider);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files && req.files.portada) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        // console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      await _models.default.Slider.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let SliderT = await _models.default.Slider.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL SLIDER SE HA MODIFICADO CORRECTAMENTE\",\n        slider: _resources.default.Slider.slider_list(SliderT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Sliders = await _models.default.Slider.find({\n        $or: [{\n          \"title\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Sliders = Sliders.map(user => {\n        return _resources.default.Slider.slider_list(user);\n      });\n      res.status(200).json({\n        sliders: Sliders\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/slider/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/slider/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.Slider.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"EL SLIDER SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZWdpc3RlciIsInJlcSIsInJlcyIsImZpbGVzIiwiaW1nX3BhdGgiLCJwb3J0YWRhIiwicGF0aCIsIm5hbWUiLCJzcGxpdCIsInBvcnRhZGFfbmFtZSIsImJvZHkiLCJpbWFnZW4iLCJzbGlkZXIiLCJtb2RlbHMiLCJTbGlkZXIiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJzZW5kIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJ1cGRhdGUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIl9pZCIsIlNsaWRlclQiLCJmaW5kT25lIiwicmVzb3VyY2UiLCJzbGlkZXJfbGlzdCIsImxpc3QiLCJzZWFyY2giLCJxdWVyeSIsIlNsaWRlcnMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwic29ydCIsIm1hcCIsInVzZXIiLCJzbGlkZXJzIiwib2J0ZW5lcl9pbWFnZW4iLCJpbWciLCJwYXJhbXMiLCJmcyIsInN0YXQiLCJlcnIiLCJwYXRoX2ltZyIsInNlbmRGaWxlIiwicmVzb2x2ZSIsInJlbW92ZSIsImZpbmRCeUlkQW5kRGVsZXRlIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJTbGlkZXJDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSAnLi4vbW9kZWxzJ1xyXG5pbXBvcnQgcmVzb3VyY2UgZnJvbSAnLi4vcmVzb3VyY2VzJ1xyXG5pbXBvcnQgZnMgZnJvbSAnZnMnXHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHJlZ2lzdGVyOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYocmVxLmZpbGVzKXtcclxuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5wb3J0YWRhLnBhdGg7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9ydGFkYV9uYW1lID0gbmFtZVsyXTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHBvcnRhZGFfbmFtZSlcclxuICAgICAgICAgICAgICAgIHJlcS5ib2R5LmltYWdlbiA9IHBvcnRhZGFfbmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBzbGlkZXIgPSBhd2FpdCBtb2RlbHMuU2xpZGVyLmNyZWF0ZShyZXEuYm9keSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHNsaWRlcik7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYocmVxLmZpbGVzICYmIHJlcS5maWxlcy5wb3J0YWRhKXtcclxuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5wb3J0YWRhLnBhdGg7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9ydGFkYV9uYW1lID0gbmFtZVsyXTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHBvcnRhZGFfbmFtZSlcclxuICAgICAgICAgICAgICAgIHJlcS5ib2R5LmltYWdlbiA9IHBvcnRhZGFfbmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuU2xpZGVyLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHJlcS5ib2R5Ll9pZH0scmVxLmJvZHkpO1xyXG5cclxuICAgICAgICAgICAgbGV0IFNsaWRlclQgPSBhd2FpdCBtb2RlbHMuU2xpZGVyLmZpbmRPbmUoe19pZDogcmVxLmJvZHkuX2lkfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgU0xJREVSIFNFIEhBIE1PRElGSUNBRE8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICAgICAgc2xpZGVyOiByZXNvdXJjZS5TbGlkZXIuc2xpZGVyX2xpc3QoU2xpZGVyVCksXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGxpc3Q6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaDtcclxuICAgICAgICAgICAgbGV0IFNsaWRlcnMgPSBhd2FpdCBtb2RlbHMuU2xpZGVyLmZpbmQoe1xyXG4gICAgICAgICAgICAgICAgJG9yOltcclxuICAgICAgICAgICAgICAgICAgICB7XCJ0aXRsZVwiOiBuZXcgUmVnRXhwKHNlYXJjaCwgXCJpXCIpfSxcclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSkuc29ydCh7J2NyZWF0ZWRBdCc6IC0xfSk7XHJcblxyXG4gICAgICAgICAgICBTbGlkZXJzID0gU2xpZGVycy5tYXAoKHVzZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvdXJjZS5TbGlkZXIuc2xpZGVyX2xpc3QodXNlcik7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBzbGlkZXJzOiBTbGlkZXJzXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIG9idGVuZXJfaW1hZ2VuOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIGltZyA9IHJlcS5wYXJhbXNbJ2ltZyddO1xyXG5cclxuICAgICAgICAgICAgZnMuc3RhdCgnLi91cGxvYWRzL3NsaWRlci8nK2ltZywgZnVuY3Rpb24oZXJyKXtcclxuICAgICAgICAgICAgICAgIGlmKCFlcnIpe1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvc2xpZGVyLycraW1nO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kRmlsZShwYXRoLnJlc29sdmUocGF0aF9pbWcpKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvZGVmYXVsdC5qcGcnO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kRmlsZShwYXRoLnJlc29sdmUocGF0aF9pbWcpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sICBcclxuICAgIHJlbW92ZTogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5TbGlkZXIuZmluZEJ5SWRBbmREZWxldGUoe19pZDogcmVxLnF1ZXJ5Ll9pZH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFNMSURFUiBTRSBFTElNSU5PIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQXVCO0FBQUEsZUFDUjtFQUNYQSxRQUFRLEVBQUUsT0FBTUMsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDeEIsSUFBSTtNQUNBLElBQUdELEdBQUcsQ0FBQ0UsS0FBSyxFQUFDO1FBQ1QsSUFBSUMsUUFBUSxHQUFHSCxHQUFHLENBQUNFLEtBQUssQ0FB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","map":{"version":3,"names":["register","req","res","files","img_path","portada","path","name","split","portada_name","body","imagen","slider","models","Slider","create","status","json","error","send","message","console","log","update","findByIdAndUpdate","_id","SliderT","findOne","resource","slider_list","list","search","query","Sliders","find","$or","RegExp","sort","map","user","sliders","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","remove","findByIdAndDelete"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["SliderController.js"],"sourcesContent":["import models from '../models'\r\nimport resource from '../resources'\r\nimport fs from 'fs'\r\nimport path from 'path'\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            if(req.files){\r\n                var img_path = req.files.portada.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                // console.log(portada_name)\r\n                req.body.imagen = portada_name;\r\n            }\r\n            const slider = await models.Slider.create(req.body);\r\n            res.status(200).json(slider);\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    update: async(req,res) => {\r\n        try {\r\n            if(req.files && req.files.portada){\r\n                var img_path = req.files.portada.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                // console.log(portada_name)\r\n                req.body.imagen = portada_name;\r\n            }\r\n            await models.Slider.findByIdAndUpdate({_id: req.body._id},req.body);\r\n\r\n            let SliderT = await models.Slider.findOne({_id: req.body._id});\r\n            res.status(200).json({\r\n                message: \"EL SLIDER SE HA MODIFICADO CORRECTAMENTE\",\r\n                slider: resource.Slider.slider_list(SliderT),\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    list: async(req,res) => {\r\n        try {\r\n            var search = req.query.search;\r\n            let Sliders = await models.Slider.find({\r\n                $or:[\r\n                    {\"title\": new RegExp(search, \"i\")},\r\n                ]\r\n            }).sort({'createdAt': -1});\r\n\r\n            Sliders = Sliders.map((user) => {\r\n                return resource.Slider.slider_list(user);\r\n            })\r\n\r\n            res.status(200).json({\r\n                sliders: Sliders\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    obtener_imagen: async(req,res) => {\r\n        try {\r\n            var img = req.params['img'];\r\n\r\n            fs.stat('./uploads/slider/'+img, function(err){\r\n                if(!err){\r\n                    let path_img = './uploads/slider/'+img;\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }else{\r\n                    let path_img = './uploads/default.jpg';\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },  \r\n    remove: async(req,res) => {\r\n        try {\r\n            await models.Slider.findByIdAndDelete({_id: req.query._id});\r\n            res.status(200).json({\r\n                message: \"EL SLIDER SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    }\r\n}"],"mappings":"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"}},"mtime":1677627512867},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\Cupone.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CuponeController = _interopRequireDefault(require(\"../controllers/CuponeController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", _auth.default.verifyAdmin, _CuponeController.default.register);\nrouter.put(\"/update\", _auth.default.verifyAdmin, _CuponeController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _CuponeController.default.list);\nrouter.get(\"/config\", _auth.default.verifyAdmin, _CuponeController.default.config);\nrouter.get(\"/show\", _auth.default.verifyAdmin, _CuponeController.default.show);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _CuponeController.default.delete);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlBZG1pbiIsImN1cG9uZUNvbnRyb2xsZXIiLCJyZWdpc3RlciIsInB1dCIsInVwZGF0ZSIsImdldCIsImxpc3QiLCJjb25maWciLCJzaG93IiwiZGVsZXRlIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiQ3Vwb25lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gJ2V4cHJlc3MtcHJvbWlzZS1yb3V0ZXInXHJcbmltcG9ydCBjdXBvbmVDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL0N1cG9uZUNvbnRyb2xsZXInXHJcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXHJcblxyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLGF1dGgudmVyaWZ5QWRtaW4sY3Vwb25lQ29udHJvbGxlci5yZWdpc3Rlcik7XHJcbnJvdXRlci5wdXQoXCIvdXBkYXRlXCIsYXV0aC52ZXJpZnlBZG1pbixjdXBvbmVDb250cm9sbGVyLnVwZGF0ZSk7XHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4sY3Vwb25lQ29udHJvbGxlci5saXN0KTtcclxucm91dGVyLmdldChcIi9jb25maWdcIixhdXRoLnZlcmlmeUFkbWluLGN1cG9uZUNvbnRyb2xsZXIuY29uZmlnKTtcclxucm91dGVyLmdldChcIi9zaG93XCIsYXV0aC52ZXJpZnlBZG1pbixjdXBvbmVDb250cm9sbGVyLnNob3cpO1xyXG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZVwiLGF1dGgudmVyaWZ5QWRtaW4sY3Vwb25lQ29udHJvbGxlci5kZWxldGUpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQXNDO0FBRXRDLE1BQU1BLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxHQUFFO0FBRXhCRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ0MsUUFBUSxDQUFDO0FBQ25FTixNQUFNLENBQUNPLEdBQUcsQ0FBQyxTQUFTLEVBQUNKLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ0csTUFBTSxDQUFDO0FBQzlEUixNQUFNLENBQUNTLEdBQUcsQ0FBQyxPQUFPLEVBQUNOLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ0ssSUFBSSxDQUFDO0FBQzFEVixNQUFNLENBQUNTLEdBQUcsQ0FBQyxTQUFTLEVBQUNOLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ00sTUFBTSxDQUFDO0FBQzlEWCxNQUFNLENBQUNTLEdBQUcsQ0FBQyxPQUFPLEVBQUNOLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ08sSUFBSSxDQUFDO0FBQzFEWixNQUFNLENBQUNhLE1BQU0sQ0FBQyxTQUFTLEVBQUNWLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ1EsTUFBTSxDQUFDO0FBQUMsZUFFbkRiLE1BQU07QUFBQSJ9","map":{"version":3,"names":["router","routerx","post","auth","verifyAdmin","cuponeController","register","put","update","get","list","config","show","delete"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["Cupone.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport cuponeController from '../controllers/CuponeController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n\r\nrouter.post(\"/register\",auth.verifyAdmin,cuponeController.register);\r\nrouter.put(\"/update\",auth.verifyAdmin,cuponeController.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,cuponeController.list);\r\nrouter.get(\"/config\",auth.verifyAdmin,cuponeController.config);\r\nrouter.get(\"/show\",auth.verifyAdmin,cuponeController.show);\r\nrouter.delete(\"/delete\",auth.verifyAdmin,cuponeController.delete);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA;AACA;AACA;AAAsC;AAEtC,MAAMA,MAAM,GAAG,IAAAC,6BAAO,GAAE;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACC,QAAQ,CAAC;AACnEN,MAAM,CAACO,GAAG,CAAC,SAAS,EAACJ,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACG,MAAM,CAAC;AAC9DR,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACK,IAAI,CAAC;AAC1DV,MAAM,CAACS,GAAG,CAAC,SAAS,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACM,MAAM,CAAC;AAC9DX,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACO,IAAI,CAAC;AAC1DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAACV,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACQ,MAAM,CAAC;AAAC,eAEnDb,MAAM;AAAA"}},"mtime":1677794861977},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\CuponeController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let exits_cupone = await _models.default.Cupone.findOne({\n        code: data.code\n      });\n      if (exits_cupone) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\n        });\n        return;\n      }\n      let cupone = await _models.default.Cupone.create(data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL CUPON REGISTRO CORRECTAMENTE\",\n        cupone: cupone\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      let exits_cupone = await _models.default.Cupone.findOne({\n        code: data.code,\n        _id: {\n          $ne: data._id\n        }\n      });\n      if (exits_cupone) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\n        });\n        return;\n      }\n      let cupone = await _models.default.Cupone.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let cuponeT = await _models.default.Cupone.findById({\n        _id: data._id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL CUPON SE ACTUALIZO CORRECTAMENTE\",\n        cupone: cuponeT\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Cupone.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL CUPON SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      let search = req.query.search;\n      let cupones = await _models.default.Cupone.find({\n        $or: [{\n          \"code\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        message: 200,\n        cupones: cupones\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  show: async (req, res) => {\n    try {\n      let cupone_id = req.query.cupone_id;\n      let cupon = await _models.default.Cupone.findOne({\n        _id: cupone_id\n      });\n      res.status(200).json({\n        message: 200,\n        cupon: cupon\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  config: async (req, res) => {\n    try {\n      let Products = await _models.default.Product.find({\n        state: 2\n      });\n      let Categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      res.status(200).json({\n        message: 200,\n        products: Products,\n        categories: Categories\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZWdpc3RlciIsInJlcSIsInJlcyIsImRhdGEiLCJib2R5IiwiZXhpdHNfY3Vwb25lIiwibW9kZWxzIiwiQ3Vwb25lIiwiZmluZE9uZSIsImNvZGUiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsIm1lc3NhZ2VfdGV4dCIsImN1cG9uZSIsImNyZWF0ZSIsImVycm9yIiwic2VuZCIsInVwZGF0ZSIsIl9pZCIsIiRuZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiY3Vwb25lVCIsImZpbmRCeUlkIiwiZGVsZXRlIiwicXVlcnkiLCJmaW5kQnlJZEFuZERlbGV0ZSIsImxpc3QiLCJzZWFyY2giLCJjdXBvbmVzIiwiZmluZCIsIiRvciIsIlJlZ0V4cCIsInNvcnQiLCJzaG93IiwiY3Vwb25lX2lkIiwiY3Vwb24iLCJjb25maWciLCJQcm9kdWN0cyIsIlByb2R1Y3QiLCJzdGF0ZSIsIkNhdGVnb3JpZXMiLCJDYXRlZ29yaWUiLCJwcm9kdWN0cyIsImNhdGVnb3JpZXMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIkN1cG9uZUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHJlZ2lzdGVyOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuXHJcbiAgICAgICAgICAgIGxldCBleGl0c19jdXBvbmUgPSBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmRPbmUoe2NvZGU6IGRhdGEuY29kZX0pO1xyXG5cclxuICAgICAgICAgICAgaWYoZXhpdHNfY3Vwb25lKXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOjQwMyxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgQ09ESUdPIERFTCBDVVBPTiBZQSBFWElTVEVcIlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBjdXBvbmUgPSBhd2FpdCBtb2RlbHMuQ3Vwb25lLmNyZWF0ZShkYXRhKTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBDVVBPTiBSRUdJU1RSTyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICBjdXBvbmU6Y3Vwb25lXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHVwZGF0ZTogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XHJcblxyXG4gICAgICAgICAgICBsZXQgZXhpdHNfY3Vwb25lID0gYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kT25lKHtjb2RlOiBkYXRhLmNvZGUsX2lkOiB7JG5lOiBkYXRhLl9pZH19KTtcclxuXHJcbiAgICAgICAgICAgIGlmKGV4aXRzX2N1cG9uZSl7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTo0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENPRElHTyBERUwgQ1VQT04gWUEgRVhJU1RFXCJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgY3Vwb25lID0gYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiBkYXRhLl9pZH0sZGF0YSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgY3Vwb25lVCA9IGF3YWl0IG1vZGVscy5DdXBvbmUuZmluZEJ5SWQoe19pZDogZGF0YS5faWR9KTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBDVVBPTiBTRSBBQ1RVQUxJWk8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICAgICAgY3Vwb25lOmN1cG9uZVQsXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGRlbGV0ZTogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBfaWQgPSByZXEucXVlcnkuX2lkO1xyXG5cclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kQnlJZEFuZERlbGV0ZSh7X2lkOiBfaWR9KTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBDVVBPTiBTRSBFTElNSU5PIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbGlzdDogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBzZWFyY2ggPSByZXEucXVlcnkuc2VhcmNoO1xyXG5cclxuICAgICAgICAgICAgbGV0IGN1cG9uZXMgPSBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmQoe1xyXG4gICAgICAgICAgICAgICAgJG9yOltcclxuICAgICAgICAgICAgICAgICAgICB7XCJjb2RlXCI6IG5ldyBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9KS5zb3J0KHsnY3JlYXRlZEF0JzogLTF9KTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcclxuICAgICAgICAgICAgICAgIGN1cG9uZXM6IGN1cG9uZXMsXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHNob3c6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgY3Vwb25lX2lkID0gcmVxLnF1ZXJ5LmN1cG9uZV9pZDtcclxuXHJcbiAgICAgICAgICAgIGxldCBjdXBvbiA9IGF3YWl0IG1vZGVscy5DdXBvbmUuZmluZE9uZSh7X2lkOiBjdXBvbmVfaWR9KTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcclxuICAgICAgICAgICAgICAgIGN1cG9uOiBjdXBvbixcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgY29uZmlnOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuXHJcbiAgICAgICAgICAgIGxldCBQcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoe3N0YXRlOiAyfSk7XHJcbiAgICAgICAgICAgIGxldCBDYXRlZ29yaWVzID0gYXdhaXQgbW9kZWxzLkNhdGVnb3JpZS5maW5kKHtzdGF0ZToxfSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICBwcm9kdWN0czogUHJvZHVjdHMsXHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzOiBDYXRlZ29yaWVzLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQThCO0FBQUEsZUFFZjtFQUNYQSxRQUFRLEVBQUUsT0FBTUMsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDeEIsSUFBSTtNQUNBLElBQUlDLElBQUksR0FBR0YsR0FBRyxDQUFDRyxJQUFJO01BRW5CLElBQUlDLFlBQVksR0FBRyxNQUFNQyxlQUFNLENBQUNDLE1BQU0sQ0FBQ0MsT0FBTyxDQUFDO1FBQUNDLElBQUksRUFBRU4sSUFBSSxDQUFDTTtNQUFJLENBQUMsQ0FBQztNQUVqRSxJQUFHSixZQUFZLEVBQUM7UUFDWkgsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztVQUNqQkMsT0FBTyxFQUFDLEdBQUc7VUFDWEMsWUFBWSxFQUFFO1FBQ2xCLENBQUMsQ0FBQztRQUNGO01BQ0o7TUFFQSxJQUFJQyxNQUFNLEdBQUcsTUFBTVIsZUFBTSxDQUFDQyxNQUFNLENBQUNRLE1BQU0sQ0FBQ1osSUFBSSxDQUFDO01BRTdDRCxHQUFHLENBQUNRLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUUsR0FBRztRQUNaQyxZQUFZLEVBQUUsaUNBQWlDO1FBQy9DQyxNQUFNLEVBQUNBO01BQ1gsQ0FBQyxDQUFDO0lBRU4sQ0FBQyxDQUFDLE9BQU9FLEtBQUssRUFBRTtNQUNaZCxHQUFHLENBQUNRLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ08sSUFBSSxDQUFDO1FBQ2pCTCxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtFQUNKLENBQUM7RUFDRE0sTUFBTSxFQUFFLE9BQU1qQixHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUN0QixJQUFJO01BQ0EsSUFBSUMsSUFB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","map":{"version":3,"names":["register","req","res","data","body","exits_cupone","models","Cupone","findOne","code","status","json","message","message_text","cupone","create","error","send","update","_id","$ne","findByIdAndUpdate","cuponeT","findById","delete","query","findByIdAndDelete","list","search","cupones","find","$or","RegExp","sort","show","cupone_id","cupon","config","Products","Product","state","Categories","Categorie","products","categories"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["CuponeController.js"],"sourcesContent":["import models from \"../models\"\r\n\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n\r\n            let exits_cupone = await models.Cupone.findOne({code: data.code});\r\n\r\n            if(exits_cupone){\r\n                res.status(200).json({\r\n                    message:403,\r\n                    message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\r\n                });\r\n                return;\r\n            }\r\n\r\n            let cupone = await models.Cupone.create(data);\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL CUPON REGISTRO CORRECTAMENTE\",\r\n                cupone:cupone\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    update: async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n\r\n            let exits_cupone = await models.Cupone.findOne({code: data.code,_id: {$ne: data._id}});\r\n\r\n            if(exits_cupone){\r\n                res.status(200).json({\r\n                    message:403,\r\n                    message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\r\n                });\r\n                return;\r\n            }\r\n\r\n            let cupone = await models.Cupone.findByIdAndUpdate({_id: data._id},data);\r\n            \r\n            let cuponeT = await models.Cupone.findById({_id: data._id});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL CUPON SE ACTUALIZO CORRECTAMENTE\",\r\n                cupone:cuponeT,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    delete: async(req,res) => {\r\n        try {\r\n            let _id = req.query._id;\r\n\r\n            await models.Cupone.findByIdAndDelete({_id: _id});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL CUPON SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    list: async(req,res) => {\r\n        try {\r\n            let search = req.query.search;\r\n\r\n            let cupones = await models.Cupone.find({\r\n                $or:[\r\n                    {\"code\": new RegExp(search, \"i\")},\r\n                ]\r\n            }).sort({'createdAt': -1});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                cupones: cupones,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    show: async(req,res) => {\r\n        try {\r\n            let cupone_id = req.query.cupone_id;\r\n\r\n            let cupon = await models.Cupone.findOne({_id: cupone_id});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                cupon: cupon,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    config: async(req,res) => {\r\n        try {\r\n\r\n            let Products = await models.Product.find({state: 2});\r\n            let Categories = await models.Categorie.find({state:1});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                products: Products,\r\n                categories: Categories,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":"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"}},"mtime":1677795764816},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\Discount.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _DiscountController = _interopRequireDefault(require(\"../controllers/DiscountController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", _auth.default.verifyAdmin, _DiscountController.default.register);\nrouter.put(\"/update\", _auth.default.verifyAdmin, _DiscountController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _DiscountController.default.list);\nrouter.get(\"/config\", _auth.default.verifyAdmin, _DiscountController.default.config);\nrouter.get(\"/show\", _auth.default.verifyAdmin, _DiscountController.default.show);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _DiscountController.default.delete);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlBZG1pbiIsImRpc2NvdW50Q29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImNvbmZpZyIsInNob3ciLCJkZWxldGUiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJEaXNjb3VudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tICdleHByZXNzLXByb21pc2Utcm91dGVyJ1xyXG5pbXBvcnQgZGlzY291bnRDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL0Rpc2NvdW50Q29udHJvbGxlcidcclxuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCdcclxuXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuXHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsYXV0aC52ZXJpZnlBZG1pbixkaXNjb3VudENvbnRyb2xsZXIucmVnaXN0ZXIpO1xyXG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLGF1dGgudmVyaWZ5QWRtaW4sZGlzY291bnRDb250cm9sbGVyLnVwZGF0ZSk7XHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4sZGlzY291bnRDb250cm9sbGVyLmxpc3QpO1xyXG5yb3V0ZXIuZ2V0KFwiL2NvbmZpZ1wiLGF1dGgudmVyaWZ5QWRtaW4sZGlzY291bnRDb250cm9sbGVyLmNvbmZpZyk7XHJcbnJvdXRlci5nZXQoXCIvc2hvd1wiLGF1dGgudmVyaWZ5QWRtaW4sZGlzY291bnRDb250cm9sbGVyLnNob3cpO1xyXG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZVwiLGF1dGgudmVyaWZ5QWRtaW4sZGlzY291bnRDb250cm9sbGVyLmRlbGV0ZSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFBc0M7QUFFdEMsTUFBTUEsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEdBQUU7QUFFeEJELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDJCQUFrQixDQUFDQyxRQUFRLENBQUM7QUFDckVOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLFNBQVMsRUFBQ0osYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDJCQUFrQixDQUFDRyxNQUFNLENBQUM7QUFDaEVSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDJCQUFrQixDQUFDSyxJQUFJLENBQUM7QUFDNURWLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLFNBQVMsRUFBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDJCQUFrQixDQUFDTSxNQUFNLENBQUM7QUFDaEVYLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDJCQUFrQixDQUFDTyxJQUFJLENBQUM7QUFDNURaLE1BQU0sQ0FBQ2EsTUFBTSxDQUFDLFNBQVMsRUFBQ1YsYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDJCQUFrQixDQUFDUSxNQUFNLENBQUM7QUFBQyxlQUVyRGIsTUFBTTtBQUFBIn0=","map":{"version":3,"names":["router","routerx","post","auth","verifyAdmin","discountController","register","put","update","get","list","config","show","delete"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["Discount.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport discountController from '../controllers/DiscountController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n\r\nrouter.post(\"/register\",auth.verifyAdmin,discountController.register);\r\nrouter.put(\"/update\",auth.verifyAdmin,discountController.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,discountController.list);\r\nrouter.get(\"/config\",auth.verifyAdmin,discountController.config);\r\nrouter.get(\"/show\",auth.verifyAdmin,discountController.show);\r\nrouter.delete(\"/delete\",auth.verifyAdmin,discountController.delete);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA;AACA;AACA;AAAsC;AAEtC,MAAMA,MAAM,GAAG,IAAAC,6BAAO,GAAE;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACC,QAAQ,CAAC;AACrEN,MAAM,CAACO,GAAG,CAAC,SAAS,EAACJ,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACG,MAAM,CAAC;AAChER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACK,IAAI,CAAC;AAC5DV,MAAM,CAACS,GAAG,CAAC,SAAS,EAACN,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACM,MAAM,CAAC;AAChEX,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACO,IAAI,CAAC;AAC5DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAACV,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACQ,MAAM,CAAC;AAAC,eAErDb,MAAM;AAAA"}},"mtime":1677809088332},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\DiscountController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      var filter_a = [];\n      var filter_b = [];\n      //product_s = [\"id\",\"id\"]\n      //categorie_s = [\"id\",\"id\"]\n      if (data.type_segment == 1) {\n        filter_a.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n      } else {\n        filter_a.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n      }\n      // 5 - 8 marzo -> televisor - laptop\n      // 4 - 7 de marzo ->  refrigeradora\n\n      // 5 - 8 marzo -> televisor - laptop\n      // 7 - 9 de marzo -> televisor - refrigeradora\n      filter_a.push({\n        type_campaign: data.type_campaign,\n        start_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      filter_b.push({\n        type_campaign: data.type_campaign,\n        end_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      let exits_start_date = await _models.default.Discount.find({\n        $and: filter_a\n      }); //[]\n\n      let exits_end_date = await _models.default.Discount.find({\n        $and: filter_b\n      });\n      if (exits_start_date.length > 0 || exits_end_date.length > 0) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR ELIMINAR ALGUNAS OPCIONES\"\n        });\n        return;\n      }\n      let discount = await _models.default.Discount.create(data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL DESCUENTO SE REGISTRO CORRECTAMENTE\",\n        discount: discount\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      var filter_a = [];\n      var filter_b = [];\n      //product_s = [\"id\",\"id\"]\n      //categorie_s = [\"id\",\"id\"]\n      if (data.type_segment == 1) {\n        filter_a.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n      } else {\n        filter_a.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n      }\n      // 5 - 8 marzo -> televisor - laptop\n      // 4 - 7 de marzo ->  refrigeradora\n\n      // 5 - 8 marzo -> televisor - laptop\n      // 7 - 9 de marzo -> televisor - refrigeradora\n      filter_a.push({\n        type_campaign: data.type_campaign,\n        _id: {\n          $ne: data._id\n        },\n        start_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      filter_b.push({\n        type_campaign: data.type_campaign,\n        _id: {\n          $ne: data._id\n        },\n        end_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      let exits_start_date = await _models.default.Discount.find({\n        $and: filter_a\n      });\n      let exits_end_date = await _models.default.Discount.find({\n        $and: filter_b\n      });\n      if (exits_start_date.length > 0 || exits_end_date.length > 0) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR ELIMINAR ALGUNAS OPCIONES\"\n        });\n        return;\n      }\n      let discount = await _models.default.Discount.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL DESCUENTO SE REGISTRO CORRECTAMENTE\",\n        discount: discount\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Discount.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL DESCUENTO SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      // let search = req.query.search;\n\n      let discounts = await _models.default.Discount.find().sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        message: 200,\n        discounts: discounts\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  show: async (req, res) => {\n    try {\n      let discount_id = req.query.discount_id;\n      let discount = await _models.default.Discount.findOne({\n        _id: discount_id\n      });\n      res.status(200).json({\n        message: 200,\n        discount: discount\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  config: async (req, res) => {\n    try {\n      let Products = await _models.default.Product.find({\n        state: 2\n      });\n      let Categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      res.status(200).json({\n        message: 200,\n        products: Products,\n        categories: Categories\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZWdpc3RlciIsInJlcSIsInJlcyIsImRhdGEiLCJib2R5IiwiZmlsdGVyX2EiLCJmaWx0ZXJfYiIsInR5cGVfc2VnbWVudCIsInB1c2giLCIkZWxlbU1hdGNoIiwiX2lkIiwiJGluIiwicHJvZHVjdF9zIiwiY2F0ZWdvcmllX3MiLCJ0eXBlX2NhbXBhaWduIiwic3RhcnRfZGF0ZV9udW0iLCIkZ3RlIiwiJGx0ZSIsImVuZF9kYXRlX251bSIsImV4aXRzX3N0YXJ0X2RhdGUiLCJtb2RlbHMiLCJEaXNjb3VudCIsImZpbmQiLCIkYW5kIiwiZXhpdHNfZW5kX2RhdGUiLCJsZW5ndGgiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsIm1lc3NhZ2VfdGV4dCIsImRpc2NvdW50IiwiY3JlYXRlIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwic2VuZCIsInVwZGF0ZSIsIiRuZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiZGVsZXRlIiwicXVlcnkiLCJmaW5kQnlJZEFuZERlbGV0ZSIsImxpc3QiLCJkaXNjb3VudHMiLCJzb3J0Iiwic2hvdyIsImRpc2NvdW50X2lkIiwiZmluZE9uZSIsImNvbmZpZyIsIlByb2R1Y3RzIiwiUHJvZHVjdCIsInN0YXRlIiwiQ2F0ZWdvcmllcyIsIkNhdGVnb3JpZSIsInByb2R1Y3RzIiwiY2F0ZWdvcmllcyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiRGlzY291bnRDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSBcIi4uL21vZGVsc1wiXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICByZWdpc3RlcjogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XHJcbiAgICAgICAgICAgIHZhciBmaWx0ZXJfYSA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgZmlsdGVyX2IgPSBbXTtcclxuICAgICAgICAgICAgLy9wcm9kdWN0X3MgPSBbXCJpZFwiLFwiaWRcIl1cclxuICAgICAgICAgICAgLy9jYXRlZ29yaWVfcyA9IFtcImlkXCIsXCJpZFwiXVxyXG4gICAgICAgICAgICBpZihkYXRhLnR5cGVfc2VnbWVudCA9PSAxKXtcclxuICAgICAgICAgICAgICAgIGZpbHRlcl9hLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgIFwicHJvZHVjdHNcIjogeyRlbGVtTWF0Y2g6IHtfaWQ6IHskaW46IGRhdGEucHJvZHVjdF9zfX19XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGZpbHRlcl9iLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIFwicHJvZHVjdHNcIjogeyRlbGVtTWF0Y2g6IHtfaWQ6IHskaW46IGRhdGEucHJvZHVjdF9zfX19XHJcbiAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJfYS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBcImNhdGVnb3JpZXNcIjogeyRlbGVtTWF0Y2g6IHtfaWQ6IHskaW46IGRhdGEuY2F0ZWdvcmllX3N9fX1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyX2IucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJjYXRlZ29yaWVzXCI6IHskZWxlbU1hdGNoOiB7X2lkOiB7JGluOiBkYXRhLmNhdGVnb3JpZV9zfX19XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyA1IC0gOCBtYXJ6byAtPiB0ZWxldmlzb3IgLSBsYXB0b3BcclxuICAgICAgICAgICAgLy8gNCAtIDcgZGUgbWFyem8gLT4gIHJlZnJpZ2VyYWRvcmFcclxuXHJcbiAgICAgICAgICAgIC8vIDUgLSA4IG1hcnpvIC0+IHRlbGV2aXNvciAtIGxhcHRvcFxyXG4gICAgICAgICAgICAvLyA3IC0gOSBkZSBtYXJ6byAtPiB0ZWxldmlzb3IgLSByZWZyaWdlcmFkb3JhXHJcbiAgICAgICAgICAgIGZpbHRlcl9hLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjogZGF0YS50eXBlX2NhbXBhaWduLFxyXG4gICAgICAgICAgICAgICAgc3RhcnRfZGF0ZV9udW06IHskZ3RlOiBkYXRhLnN0YXJ0X2RhdGVfbnVtLCRsdGU6IGRhdGEuZW5kX2RhdGVfbnVtfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBmaWx0ZXJfYi5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHR5cGVfY2FtcGFpZ246IGRhdGEudHlwZV9jYW1wYWlnbixcclxuICAgICAgICAgICAgICAgIGVuZF9kYXRlX251bTogeyRndGU6IGRhdGEuc3RhcnRfZGF0ZV9udW0sJGx0ZTogZGF0YS5lbmRfZGF0ZV9udW19XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGxldCBleGl0c19zdGFydF9kYXRlID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmQoeyRhbmQ6IGZpbHRlcl9hfSk7Ly9bXVxyXG5cclxuICAgICAgICAgICAgbGV0IGV4aXRzX2VuZF9kYXRlID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmQoeyRhbmQ6IGZpbHRlcl9ifSk7XHJcblxyXG4gICAgICAgICAgICBpZihleGl0c19zdGFydF9kYXRlLmxlbmd0aCA+IDAgfHwgZXhpdHNfZW5kX2RhdGUubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTo0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIERFU0NVRU5UTyBOTyBTRSBQVUVERSBQUk9HUkFNQVIgRUxJTUlOQVIgQUxHVU5BUyBPUENJT05FU1wiXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGRpc2NvdW50ID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmNyZWF0ZShkYXRhKTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBERVNDVUVOVE8gU0UgUkVHSVNUUk8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICAgICAgZGlzY291bnQ6ZGlzY291bnRcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB1cGRhdGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xyXG4gICAgICAgICAgICB2YXIgZmlsdGVyX2EgPSBbXTtcclxuICAgICAgICAgICAgdmFyIGZpbHRlcl9iID0gW107XHJcbiAgICAgICAgICAgIC8vcHJvZHVjdF9zID0gW1wiaWRcIixcImlkXCJdXHJcbiAgICAgICAgICAgIC8vY2F0ZWdvcmllX3MgPSBbXCJpZFwiLFwiaWRcIl1cclxuICAgICAgICAgICAgaWYoZGF0YS50eXBlX3NlZ21lbnQgPT0gMSl7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJfYS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICBcInByb2R1Y3RzXCI6IHskZWxlbU1hdGNoOiB7X2lkOiB7JGluOiBkYXRhLnByb2R1Y3Rfc319fVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJfYi5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBcInByb2R1Y3RzXCI6IHskZWxlbU1hdGNoOiB7X2lkOiB7JGluOiBkYXRhLnByb2R1Y3Rfc319fVxyXG4gICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyX2EucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJjYXRlZ29yaWVzXCI6IHskZWxlbU1hdGNoOiB7X2lkOiB7JGluOiBkYXRhLmNhdGVnb3JpZV9zfX19XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGZpbHRlcl9iLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIFwiY2F0ZWdvcmllc1wiOiB7JGVsZW1NYXRjaDoge19pZDogeyRpbjogZGF0YS5jYXRlZ29yaWVfc319fVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gNSAtIDggbWFyem8gLT4gdGVsZXZpc29yIC0gbGFwdG9wXHJcbiAgICAgICAgICAgIC8vIDQgLSA3IGRlIG1hcnpvIC0+ICByZWZyaWdlcmFkb3JhXHJcblxyXG4gICAgICAgICAgICAvLyA1IC0gOCBtYXJ6byAtPiB0ZWxldmlzb3IgLSBsYXB0b3BcclxuICAgICAgICAgICAgLy8gNyAtIDkgZGUgbWFyem8gLT4gdGVsZXZpc29yIC0gcmVmcmlnZXJhZG9yYVxyXG4gICAgICAgICAgICBmaWx0ZXJfYS5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHR5cGVfY2FtcGFpZ246IGRhdGEudHlwZV9jYW1wYWlnbixcclxuICAgICAgICAgICAgICAgIF9pZDogeyRuZTogZGF0YS5faWR9LFxyXG4gICAgICAgICAgICAgICAgc3RhcnRfZGF0ZV9udW06IHskZ3RlOiBkYXRhLnN0YXJ0X2RhdGVfbnVtLCRsdGU6IGRhdGEuZW5kX2RhdGVfbnVtfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBmaWx0ZXJfYi5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHR5cGVfY2FtcGFpZ246IGRhdGEudHlwZV9jYW1wYWlnbixcclxuICAgICAgICAgICAgICAgIF9pZDogeyRuZTogZGF0YS5faWR9LFxyXG4gICAgICAgICAgICAgICAgZW5kX2RhdGVfbnVtOiB7JGd0ZTogZGF0YS5zdGFydF9kYXRlX251bSwkbHRlOiBkYXRhLmVuZF9kYXRlX251bX1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgbGV0IGV4aXRzX3N0YXJ0X2RhdGUgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZCh7JGFuZDogZmlsdGVyX2F9KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBleGl0c19lbmRfZGF0ZSA9IGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kKHskYW5kOiBmaWx0ZXJfYn0pO1xyXG5cclxuICAgICAgICAgICAgaWYoZXhpdHNfc3RhcnRfZGF0ZS5sZW5ndGggPiAwIHx8IGV4aXRzX2VuZF9kYXRlLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6NDAzLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBERVNDVUVOVE8gTk8gU0UgUFVFREUgUFJPR1JBTUFSIEVMSU1JTkFSIEFMR1VOQVMgT1BDSU9ORVNcIlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBkaXNjb3VudCA9IGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiBkYXRhLl9pZH0sZGF0YSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgREVTQ1VFTlRPIFNFIFJFR0lTVFJPIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgICAgIGRpc2NvdW50OmRpc2NvdW50XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGRlbGV0ZTogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBfaWQgPSByZXEucXVlcnkuX2lkO1xyXG5cclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IF9pZH0pO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIERFU0NVRU5UTyBTRSBFTElNSU5PIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbGlzdDogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIGxldCBzZWFyY2ggPSByZXEucXVlcnkuc2VhcmNoO1xyXG5cclxuICAgICAgICAgICAgbGV0IGRpc2NvdW50cyA9IGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kKCkuc29ydCh7J2NyZWF0ZWRBdCc6IC0xfSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICBkaXNjb3VudHM6IGRpc2NvdW50cyxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2hvdzogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkaXNjb3VudF9pZCA9IHJlcS5xdWVyeS5kaXNjb3VudF9pZDtcclxuXHJcbiAgICAgICAgICAgIGxldCBkaXNjb3VudCA9IGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kT25lKHtfaWQ6IGRpc2NvdW50X2lkfSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICBkaXNjb3VudDogZGlzY291bnQsXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGNvbmZpZzogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcblxyXG4gICAgICAgICAgICBsZXQgUHJvZHVjdHMgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kKHtzdGF0ZTogMn0pO1xyXG4gICAgICAgICAgICBsZXQgQ2F0ZWdvcmllcyA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZCh7c3RhdGU6MX0pO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgcHJvZHVjdHM6IFByb2R1Y3RzLFxyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllczogQ2F0ZWdvcmllcyxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUE4QjtBQUFBLGVBRWY7RUFDWEEsUUFBUSxFQUFFLE9BQU1DLEdBQUcsRUFBQ0MsR0FBRyxLQUFLO0lBQ3hCLElBQUk7TUFDQSxJQUFJQyxJQUFJLEdBQUdGLEdBQUcsQ0FBQ0csSUFBSTtNQUNuQixJQUFJQyxRQUFRLEdBQUcsRUFBRTtNQUNqQixJQUFJQyxRQUFRLEdBQUcsRUFBRTtNQUNqQjtNQUNBO01BQ0EsSUFBR0gsSUFBSSxDQUFDSSxZQUFZLElBQUksQ0FBQyxFQUFDO1FBQ3RCRixRQUFRLENBQUNHLElBQUks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","map":{"version":3,"names":["register","req","res","data","body","filter_a","filter_b","type_segment","push","$elemMatch","_id","$in","product_s","categorie_s","type_campaign","start_date_num","$gte","$lte","end_date_num","exits_start_date","models","Discount","find","$and","exits_end_date","length","status","json","message","message_text","discount","create","error","console","log","send","update","$ne","findByIdAndUpdate","delete","query","findByIdAndDelete","list","discounts","sort","show","discount_id","findOne","config","Products","Product","state","Categories","Categorie","products","categories"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["DiscountController.js"],"sourcesContent":["import models from \"../models\"\r\n\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            var filter_a = [];\r\n            var filter_b = [];\r\n            //product_s = [\"id\",\"id\"]\r\n            //categorie_s = [\"id\",\"id\"]\r\n            if(data.type_segment == 1){\r\n                filter_a.push({\r\n                 \"products\": {$elemMatch: {_id: {$in: data.product_s}}}\r\n                });\r\n                filter_b.push({\r\n                    \"products\": {$elemMatch: {_id: {$in: data.product_s}}}\r\n                   });\r\n            }else{\r\n                filter_a.push({\r\n                    \"categories\": {$elemMatch: {_id: {$in: data.categorie_s}}}\r\n                });\r\n                filter_b.push({\r\n                    \"categories\": {$elemMatch: {_id: {$in: data.categorie_s}}}\r\n                });\r\n            }\r\n            // 5 - 8 marzo -> televisor - laptop\r\n            // 4 - 7 de marzo ->  refrigeradora\r\n\r\n            // 5 - 8 marzo -> televisor - laptop\r\n            // 7 - 9 de marzo -> televisor - refrigeradora\r\n            filter_a.push({\r\n                type_campaign: data.type_campaign,\r\n                start_date_num: {$gte: data.start_date_num,$lte: data.end_date_num}\r\n            })\r\n            filter_b.push({\r\n                type_campaign: data.type_campaign,\r\n                end_date_num: {$gte: data.start_date_num,$lte: data.end_date_num}\r\n            })\r\n            let exits_start_date = await models.Discount.find({$and: filter_a});//[]\r\n\r\n            let exits_end_date = await models.Discount.find({$and: filter_b});\r\n\r\n            if(exits_start_date.length > 0 || exits_end_date.length > 0){\r\n                res.status(200).json({\r\n                    message:403,\r\n                    message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR ELIMINAR ALGUNAS OPCIONES\"\r\n                });\r\n                return;\r\n            }\r\n\r\n            let discount = await models.Discount.create(data);\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL DESCUENTO SE REGISTRO CORRECTAMENTE\",\r\n                discount:discount\r\n            });\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    update: async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            var filter_a = [];\r\n            var filter_b = [];\r\n            //product_s = [\"id\",\"id\"]\r\n            //categorie_s = [\"id\",\"id\"]\r\n            if(data.type_segment == 1){\r\n                filter_a.push({\r\n                 \"products\": {$elemMatch: {_id: {$in: data.product_s}}}\r\n                });\r\n                filter_b.push({\r\n                    \"products\": {$elemMatch: {_id: {$in: data.product_s}}}\r\n                   });\r\n            }else{\r\n                filter_a.push({\r\n                    \"categories\": {$elemMatch: {_id: {$in: data.categorie_s}}}\r\n                });\r\n                filter_b.push({\r\n                    \"categories\": {$elemMatch: {_id: {$in: data.categorie_s}}}\r\n                });\r\n            }\r\n            // 5 - 8 marzo -> televisor - laptop\r\n            // 4 - 7 de marzo ->  refrigeradora\r\n\r\n            // 5 - 8 marzo -> televisor - laptop\r\n            // 7 - 9 de marzo -> televisor - refrigeradora\r\n            filter_a.push({\r\n                type_campaign: data.type_campaign,\r\n                _id: {$ne: data._id},\r\n                start_date_num: {$gte: data.start_date_num,$lte: data.end_date_num}\r\n            })\r\n            filter_b.push({\r\n                type_campaign: data.type_campaign,\r\n                _id: {$ne: data._id},\r\n                end_date_num: {$gte: data.start_date_num,$lte: data.end_date_num}\r\n            })\r\n            let exits_start_date = await models.Discount.find({$and: filter_a});\r\n\r\n            let exits_end_date = await models.Discount.find({$and: filter_b});\r\n\r\n            if(exits_start_date.length > 0 || exits_end_date.length > 0){\r\n                res.status(200).json({\r\n                    message:403,\r\n                    message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR ELIMINAR ALGUNAS OPCIONES\"\r\n                });\r\n                return;\r\n            }\r\n\r\n            let discount = await models.Discount.findByIdAndUpdate({_id: data._id},data);\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL DESCUENTO SE REGISTRO CORRECTAMENTE\",\r\n                discount:discount\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    delete: async(req,res) => {\r\n        try {\r\n            let _id = req.query._id;\r\n\r\n            await models.Discount.findByIdAndDelete({_id: _id});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL DESCUENTO SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    list: async(req,res) => {\r\n        try {\r\n            // let search = req.query.search;\r\n\r\n            let discounts = await models.Discount.find().sort({'createdAt': -1});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                discounts: discounts,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    show: async(req,res) => {\r\n        try {\r\n            let discount_id = req.query.discount_id;\r\n\r\n            let discount = await models.Discount.findOne({_id: discount_id});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                discount: discount,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    config: async(req,res) => {\r\n        try {\r\n\r\n            let Products = await models.Product.find({state: 2});\r\n            let Categories = await models.Categorie.find({state:1});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                products: Products,\r\n                categories: Categories,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":"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"}},"mtime":1677887742763},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\Home.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _HomeController = _interopRequireDefault(require(\"../controllers/HomeController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.get(\"/list\", _HomeController.default.list);\nrouter.get(\"/landing-product/:slug\", _HomeController.default.show_landing_product);\nrouter.post(\"/search_product\", _HomeController.default.search_product);\nrouter.get(\"/config_initial\", _HomeController.default.config_initial);\nrouter.post(\"/filter_products\", _HomeController.default.filter_products);\nrouter.post(\"/profile_client\", _auth.default.verifyEcommerce, _HomeController.default.profile_client);\nrouter.post(\"/update_client\", _auth.default.verifyEcommerce, _HomeController.default.update_client);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJyb3V0ZXJ4IiwiZ2V0IiwiaG9tZUNvbnRyb2xsZXIiLCJsaXN0Iiwic2hvd19sYW5kaW5nX3Byb2R1Y3QiLCJwb3N0Iiwic2VhcmNoX3Byb2R1Y3QiLCJjb25maWdfaW5pdGlhbCIsImZpbHRlcl9wcm9kdWN0cyIsImF1dGgiLCJ2ZXJpZnlFY29tbWVyY2UiLCJwcm9maWxlX2NsaWVudCIsInVwZGF0ZV9jbGllbnQiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJIb21lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gJ2V4cHJlc3MtcHJvbWlzZS1yb3V0ZXInXHJcbmltcG9ydCBob21lQ29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9Ib21lQ29udHJvbGxlcidcclxuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCdcclxuXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuXHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGhvbWVDb250cm9sbGVyLmxpc3QpO1xyXG5yb3V0ZXIuZ2V0KFwiL2xhbmRpbmctcHJvZHVjdC86c2x1Z1wiLGhvbWVDb250cm9sbGVyLnNob3dfbGFuZGluZ19wcm9kdWN0KTtcclxucm91dGVyLnBvc3QoXCIvc2VhcmNoX3Byb2R1Y3RcIixob21lQ29udHJvbGxlci5zZWFyY2hfcHJvZHVjdCk7XHJcbnJvdXRlci5nZXQoXCIvY29uZmlnX2luaXRpYWxcIixob21lQ29udHJvbGxlci5jb25maWdfaW5pdGlhbCk7XHJcbnJvdXRlci5wb3N0KFwiL2ZpbHRlcl9wcm9kdWN0c1wiLGhvbWVDb250cm9sbGVyLmZpbHRlcl9wcm9kdWN0cyk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9wcm9maWxlX2NsaWVudFwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLGhvbWVDb250cm9sbGVyLnByb2ZpbGVfY2xpZW50KTtcclxucm91dGVyLnBvc3QoXCIvdXBkYXRlX2NsaWVudFwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLGhvbWVDb250cm9sbGVyLnVwZGF0ZV9jbGllbnQpO1xyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFBc0M7QUFFdEMsTUFBTUEsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEdBQUU7QUFFeEJELE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLE9BQU8sRUFBQ0MsdUJBQWMsQ0FBQ0MsSUFBSSxDQUFDO0FBQ3ZDSixNQUFNLENBQUNFLEdBQUcsQ0FBQyx3QkFBd0IsRUFBQ0MsdUJBQWMsQ0FBQ0Usb0JBQW9CLENBQUM7QUFDeEVMLE1BQU0sQ0FBQ00sSUFBSSxDQUFDLGlCQUFpQixFQUFDSCx1QkFBYyxDQUFDSSxjQUFjLENBQUM7QUFDNURQLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLGlCQUFpQixFQUFDQyx1QkFBYyxDQUFDSyxjQUFjLENBQUM7QUFDM0RSLE1BQU0sQ0FBQ00sSUFBSSxDQUFDLGtCQUFrQixFQUFDSCx1QkFBYyxDQUFDTSxlQUFlLENBQUM7QUFFOURULE1BQU0sQ0FBQ00sSUFBSSxDQUFDLGlCQUFpQixFQUFDSSxhQUFJLENBQUNDLGVBQWUsRUFBQ1IsdUJBQWMsQ0FBQ1MsY0FBYyxDQUFDO0FBQ2pGWixNQUFNLENBQUNNLElBQUksQ0FBQyxnQkFBZ0IsRUFBQ0ksYUFBSSxDQUFDQyxlQUFlLEVBQUNSLHVCQUFjLENBQUNVLGFBQWEsQ0FBQztBQUFDLGVBQ2pFYixNQUFNO0FBQUEifQ==","map":{"version":3,"names":["router","routerx","get","homeController","list","show_landing_product","post","search_product","config_initial","filter_products","auth","verifyEcommerce","profile_client","update_client"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["Home.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport homeController from '../controllers/HomeController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n\r\nrouter.get(\"/list\",homeController.list);\r\nrouter.get(\"/landing-product/:slug\",homeController.show_landing_product);\r\nrouter.post(\"/search_product\",homeController.search_product);\r\nrouter.get(\"/config_initial\",homeController.config_initial);\r\nrouter.post(\"/filter_products\",homeController.filter_products);\r\n\r\nrouter.post(\"/profile_client\",auth.verifyEcommerce,homeController.profile_client);\r\nrouter.post(\"/update_client\",auth.verifyEcommerce,homeController.update_client);\r\nexport default router;"],"mappings":";;;;;;AAAA;AACA;AACA;AAAsC;AAEtC,MAAMA,MAAM,GAAG,IAAAC,6BAAO,GAAE;AAExBD,MAAM,CAACE,GAAG,CAAC,OAAO,EAACC,uBAAc,CAACC,IAAI,CAAC;AACvCJ,MAAM,CAACE,GAAG,CAAC,wBAAwB,EAACC,uBAAc,CAACE,oBAAoB,CAAC;AACxEL,MAAM,CAACM,IAAI,CAAC,iBAAiB,EAACH,uBAAc,CAACI,cAAc,CAAC;AAC5DP,MAAM,CAACE,GAAG,CAAC,iBAAiB,EAACC,uBAAc,CAACK,cAAc,CAAC;AAC3DR,MAAM,CAACM,IAAI,CAAC,kBAAkB,EAACH,uBAAc,CAACM,eAAe,CAAC;AAE9DT,MAAM,CAACM,IAAI,CAAC,iBAAiB,EAACI,aAAI,CAACC,eAAe,EAACR,uBAAc,CAACS,cAAc,CAAC;AACjFZ,MAAM,CAACM,IAAI,CAAC,gBAAgB,EAACI,aAAI,CAACC,eAAe,EAACR,uBAAc,CAACU,aAAa,CAAC;AAAC,eACjEb,MAAM;AAAA"}},"mtime":1680991869393},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\HomeController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  list: async (req, res) => {\n    try {\n      var TIME_NOW = req.query.TIME_NOW;\n      let Sliders = await _models.default.Slider.find({\n        state: 1\n      });\n      Sliders = Sliders.map(slider => {\n        return _resources.default.Slider.slider_list(slider);\n      });\n      let Categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      Categories = Categories.map(categorie => {\n        return _resources.default.Categorie.categorie_list(categorie);\n      });\n      let CampaingDiscount = await _models.default.Discount.findOne({\n        type_campaign: 1,\n        start_date_num: {\n          $lte: TIME_NOW\n        },\n        // start_date_num >= TIME_NOW\n        end_date_num: {\n          $gte: TIME_NOW\n        } // >=\n      });\n      // console.log(CampaingDiscount);\n      let BestProducts = await _models.default.Product.find({\n        state: 2\n      }).sort({\n        \"createdAt\": -1\n      });\n      var ObjectBestProducts = [];\n      for (const Product of BestProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        let DISCOUNT_EXITS = null;\n        if (CampaingDiscount) {\n          if (CampaingDiscount.type_segment == 1) {\n            //por producto\n            let products_a = [];\n            CampaingDiscount.products.forEach(item => {\n              products_a.push(item._id);\n            });\n            if (products_a.includes(Product._id + \"\")) {\n              DISCOUNT_EXITS = CampaingDiscount;\n            }\n          } else {\n            //por categoria\n            let categories_a = [];\n            CampaingDiscount.categories.forEach(item => {\n              categories_a.push(item._id);\n            });\n            if (categories_a.includes(Product.categorie + \"\")) {\n              DISCOUNT_EXITS = CampaingDiscount;\n            }\n          }\n        }\n        ObjectBestProducts.push(_resources.default.Product.product_list(Product, VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n      }\n      let OursProducts = await _models.default.Product.find({\n        state: 2\n      }).sort({\n        \"createdAt\": 1\n      });\n      var ObjectOursProducts = [];\n      for (const Product of OursProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        let DISCOUNT_EXITS = null;\n        if (CampaingDiscount) {\n          if (CampaingDiscount.type_segment == 1) {\n            //por producto\n            let products_a = [];\n            CampaingDiscount.products.forEach(item => {\n              products_a.push(item._id);\n            });\n            if (products_a.includes(Product._id + \"\")) {\n              DISCOUNT_EXITS = CampaingDiscount;\n            }\n          } else {\n            //por categoria\n            let categories_a = [];\n            CampaingDiscount.categories.forEach(item => {\n              categories_a.push(item._id);\n            });\n            if (categories_a.includes(Product.categorie + \"\")) {\n              DISCOUNT_EXITS = CampaingDiscount;\n            }\n          }\n        }\n        ObjectOursProducts.push(_resources.default.Product.product_list(Product, VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n      }\n      // OursProducts = OursProducts.map(async (product) => {\n      //     let VARIEDADES = await models.Variedad.find({product: product._id});\n      //     return resource.Product.product_list(product,VARIEDADES);\n      // })\n\n      let FlashSale = await _models.default.Discount.findOne({\n        type_campaign: 2,\n        start_date_num: {\n          $lte: TIME_NOW\n        },\n        // start_date_num >= TIME_NOW\n        end_date_num: {\n          $gte: TIME_NOW\n        } // >=\n      });\n\n      let ProductList = [];\n      if (FlashSale) {\n        for (const product of FlashSale.products) {\n          var ObjecT = await _models.default.Product.findById({\n            _id: product._id\n          });\n          let VARIEDADES = await _models.default.Variedad.find({\n            product: product._id\n          });\n          ProductList.push(_resources.default.Product.product_list(ObjecT, VARIEDADES));\n        }\n      }\n      // console.log(FlashSale);\n      res.status(200).json({\n        sliders: Sliders,\n        categories: Categories,\n        best_products: ObjectBestProducts,\n        our_products: ObjectOursProducts,\n        FlashSale: FlashSale,\n        campaign_products: ProductList\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  show_landing_product: async (req, res) => {\n    try {\n      let SLUG = req.params.slug;\n      let DISCOUNT_ID = req.query._id;\n      console.log(DISCOUNT_ID);\n      let Product = await _models.default.Product.findOne({\n        slug: SLUG,\n        state: 2\n      });\n      let VARIEDADES = await _models.default.Variedad.find({\n        product: Product._id\n      });\n      let REVIEWS = await _models.default.Review.find({\n        product: Product._id\n      }).populate(\"user\");\n      let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n      let COUNT_REVIEW = REVIEWS.length;\n      let RelatedProducts = await _models.default.Product.find({\n        categorie: Product.categorie,\n        state: 2\n      });\n      var ObjectRelatedProducts = [];\n      for (const Product of RelatedProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        ObjectRelatedProducts.push(_resources.default.Product.product_list(Product, VARIEDADES));\n      }\n      let SALE_FLASH = null;\n      if (DISCOUNT_ID) {\n        SALE_FLASH = await _models.default.Discount.findById({\n          _id: DISCOUNT_ID\n        });\n      }\n      res.status(200).json({\n        product: _resources.default.Product.product_list(Product, VARIEDADES),\n        related_products: ObjectRelatedProducts,\n        SALE_FLASH: SALE_FLASH,\n        REVIEWS: REVIEWS,\n        AVG_REVIEW: AVG_REVIEW,\n        COUNT_REVIEW: COUNT_REVIEW\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  search_product: async (req, res) => {\n    try {\n      var TIME_NOW = req.query.TIME_NOW;\n      let search_product = req.body.search_product;\n      let OursProducts = await _models.default.Product.find({\n        state: 2,\n        title: new RegExp(search_product, 'i')\n      }).sort({\n        \"createdAt\": 1\n      });\n      let CampaingDiscount = await _models.default.Discount.findOne({\n        type_campaign: 1,\n        start_date_num: {\n          $lte: TIME_NOW\n        },\n        // start_date_num >= TIME_NOW\n        end_date_num: {\n          $gte: TIME_NOW\n        } // >=\n      });\n\n      var Products = [];\n      for (const Product of OursProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        let DISCOUNT_EXITS = null;\n        if (CampaingDiscount) {\n          if (CampaingDiscount.type_segment == 1) {\n            //por producto\n            let products_a = [];\n            CampaingDiscount.products.forEach(item => {\n              products_a.push(item._id);\n            });\n            if (products_a.includes(Product._id + \"\")) {\n              DISCOUNT_EXITS = CampaingDiscount;\n            }\n          } else {\n            //por categoria\n            let categories_a = [];\n            CampaingDiscount.categories.forEach(item => {\n              categories_a.push(item._id);\n            });\n            if (categories_a.includes(Product.categorie + \"\")) {\n              DISCOUNT_EXITS = CampaingDiscount;\n            }\n          }\n        }\n        Products.push(_resources.default.Product.product_list(Product, VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n      }\n      res.status(200).json({\n        products: Products\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"Ocurrio un error\"\n      });\n    }\n  },\n  profile_client: async (req, res) => {\n    try {\n      let user_id = req.body.user_id;\n      let Orders = await _models.default.Sale.find({\n        user: user_id\n      });\n      let sale_orders = [];\n      for (const order of Orders) {\n        let detail_orders = await _models.default.SaleDetail.find({\n          sale: order._id\n        }).populate({\n          path: \"product\",\n          populate: {\n            path: \"categorie\"\n          }\n        }).populate(\"variedad\");\n        let sale_address = await _models.default.SaleAddress.find({\n          sale: order._id\n        });\n        let collection_detail_orders = [];\n        for (const detail_order of detail_orders) {\n          let reviewS = await _models.default.Review.findOne({\n            sale_detail: detail_order._id\n          });\n          collection_detail_orders.push({\n            _id: detail_order._id,\n            product: {\n              _id: detail_order.product._id,\n              title: detail_order.product.title,\n              sku: detail_order.product.sku,\n              slug: detail_order.product.slug,\n              imagen: process.env.URL_BACKEND + '/api/products/uploads/product/' + detail_order.product.portada,\n              //*\n              categorie: detail_order.product.categorie,\n              price_soles: detail_order.product.price_soles,\n              price_usd: detail_order.product.price_usd\n            },\n            type_discount: detail_order.type_discount,\n            discount: detail_order.discount,\n            cantidad: detail_order.cantidad,\n            variedad: detail_order.variedad,\n            code_cupon: detail_order.code_cupon,\n            code_discount: detail_order.code_discount,\n            price_unitario: detail_order.price_unitario,\n            subtotal: detail_order.subtotal,\n            total: detail_order.total,\n            review: reviewS\n          });\n        }\n        sale_orders.push({\n          sale: order,\n          sale_details: collection_detail_orders,\n          sale_address: sale_address\n        });\n      }\n      let ADDRESS_CLIENT = await _models.default.AddressClient.find({\n        user: user_id\n      }).sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        sale_orders: sale_orders,\n        address_client: ADDRESS_CLIENT\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"Ocurrio un error\"\n      });\n    }\n  },\n  update_client: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('\\\\');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let User = await _models.default.User.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"SE GUARDO SU INFORMACIÓN CORRECTAMENTE\",\n        user: {\n          name: User.name,\n          surname: User.surname,\n          email: User.email,\n          _id: User._id\n        }\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"Ocurrio un error\"\n      });\n    }\n  },\n  config_initial: async (req, res) => {\n    try {\n      let categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      let variedades = await _models.default.Variedad.find({});\n      res.status(200).json({\n        categories: categories,\n        variedades: variedades\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"Ocurrio un error\"\n      });\n    }\n  },\n  filter_products: async (req, res) => {\n    try {\n      var TIME_NOW = req.query.TIME_NOW;\n      let search_product = req.body.search_product;\n      let categories_selecteds = req.body.categories_selecteds;\n      let is_discount = req.body.is_discount;\n      let variedad_selected = req.body.variedad_selected;\n      let price_min = req.body.price_min;\n      let price_max = req.body.price_max;\n      let filter = [{\n        state: 2\n      }];\n      var categories_s = [];\n      var products_s = [];\n      // {state: 2,title: new RegExp(search_product,'i')}\n      if (categories_selecteds.length > 0) {\n        categories_selecteds.forEach(categorie => {\n          categories_s.push(categorie);\n        });\n        // filter.push({\n        //     categorie: {$in: categories_selecteds},\n        // })\n      }\n\n      let CampaingDiscount = await _models.default.Discount.findOne({\n        type_campaign: 1,\n        start_date_num: {\n          $lte: TIME_NOW\n        },\n        // start_date_num >= TIME_NOW\n        end_date_num: {\n          $gte: TIME_NOW\n        } // >=\n      });\n\n      if (is_discount == 2) {\n        if (CampaingDiscount.type_segment == 1) {\n          CampaingDiscount.products.forEach(item => {\n            products_s.push(item._id);\n          });\n        } else {\n          CampaingDiscount.categories.forEach(item => {\n            categories_s.push(item._id);\n          });\n        }\n      }\n      if (variedad_selected) {\n        let VAR = await _models.default.Variedad.findById({\n          _id: variedad_selected._id\n        });\n        if (VAR) {\n          products_s.push(VAR.product);\n        }\n      }\n      if (categories_s.length > 0) {\n        filter.push({\n          categorie: {\n            $in: categories_s\n          }\n        });\n      }\n      if (products_s.length > 0) {\n        filter.push({\n          _id: {\n            $in: products_s\n          }\n        });\n      }\n      if (price_min > 0 && price_max > 0) {\n        filter.push({\n          price_usd: {\n            $gte: price_min,\n            $lte: price_max\n          }\n        });\n      }\n      let OursProducts = await _models.default.Product.find({\n        $and: filter\n      }).sort({\n        \"createdAt\": 1\n      });\n      var Products = [];\n      for (const Product of OursProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        let DISCOUNT_EXITS = null;\n        if (CampaingDiscount) {\n          if (CampaingDiscount.type_segment == 1) {\n            //por producto\n            let products_a = [];\n            CampaingDiscount.products.forEach(item => {\n              products_a.push(item._id);\n            });\n            if (products_a.includes(Product._id + \"\")) {\n              DISCOUNT_EXITS = CampaingDiscount;\n            }\n          } else {\n            //por categoria\n            let categories_a = [];\n            CampaingDiscount.categories.forEach(item => {\n              categories_a.push(item._id);\n            });\n            if (categories_a.includes(Product.categorie + \"\")) {\n              DISCOUNT_EXITS = CampaingDiscount;\n            }\n          }\n        }\n        Products.push(_resources.default.Product.product_list(Product, VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n      }\n      res.status(200).json({\n        products: Products\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"Ocurrio un error\"\n      });\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJsaXN0IiwicmVxIiwicmVzIiwiVElNRV9OT1ciLCJxdWVyeSIsIlNsaWRlcnMiLCJtb2RlbHMiLCJTbGlkZXIiLCJmaW5kIiwic3RhdGUiLCJtYXAiLCJzbGlkZXIiLCJyZXNvdXJjZSIsInNsaWRlcl9saXN0IiwiQ2F0ZWdvcmllcyIsIkNhdGVnb3JpZSIsImNhdGVnb3JpZSIsImNhdGVnb3JpZV9saXN0IiwiQ2FtcGFpbmdEaXNjb3VudCIsIkRpc2NvdW50IiwiZmluZE9uZSIsInR5cGVfY2FtcGFpZ24iLCJzdGFydF9kYXRlX251bSIsIiRsdGUiLCJlbmRfZGF0ZV9udW0iLCIkZ3RlIiwiQmVzdFByb2R1Y3RzIiwiUHJvZHVjdCIsInNvcnQiLCJPYmplY3RCZXN0UHJvZHVjdHMiLCJWQVJJRURBREVTIiwiVmFyaWVkYWQiLCJwcm9kdWN0IiwiX2lkIiwiUkVWSUVXUyIsIlJldmlldyIsIkFWR19SRVZJRVciLCJsZW5ndGgiLCJNYXRoIiwiY2VpbCIsInJlZHVjZSIsInN1bSIsIml0ZW0iLCJjYW50aWRhZCIsIkNPVU5UX1JFVklFVyIsIkRJU0NPVU5UX0VYSVRTIiwidHlwZV9zZWdtZW50IiwicHJvZHVjdHNfYSIsInByb2R1Y3RzIiwiZm9yRWFjaCIsInB1c2giLCJpbmNsdWRlcyIsImNhdGVnb3JpZXNfYSIsImNhdGVnb3JpZXMiLCJwcm9kdWN0X2xpc3QiLCJPdXJzUHJvZHVjdHMiLCJPYmplY3RPdXJzUHJvZHVjdHMiLCJGbGFzaFNhbGUiLCJQcm9kdWN0TGlzdCIsIk9iamVjVCIsImZpbmRCeUlkIiwic3RhdHVzIiwianNvbiIsInNsaWRlcnMiLCJiZXN0X3Byb2R1Y3RzIiwib3VyX3Byb2R1Y3RzIiwiY2FtcGFpZ25fcHJvZHVjdHMiLCJlcnJvciIsInNlbmQiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyIsInNob3dfbGFuZGluZ19wcm9kdWN0IiwiU0xVRyIsInBhcmFtcyIsInNsdWciLCJESVNDT1VOVF9JRCIsInBvcHVsYXRlIiwiUmVsYXRlZFByb2R1Y3RzIiwiT2JqZWN0UmVsYXRlZFByb2R1Y3RzIiwiU0FMRV9GTEFTSCIsInJlbGF0ZWRfcHJvZHVjdHMiLCJzZWFyY2hfcHJvZHVjdCIsImJvZHkiLCJ0aXRsZSIsIlJlZ0V4cCIsIlByb2R1Y3RzIiwicHJvZmlsZV9jbGllbnQiLCJ1c2VyX2lkIiwiT3JkZXJzIiwiU2FsZSIsInVzZXIiLCJzYWxlX29yZGVycyIsIm9yZGVyIiwiZGV0YWlsX29yZGVycyIsIlNhbGVEZXRhaWwiLCJzYWxlIiwicGF0aCIsInNhbGVfYWRkcmVzcyIsIlNhbGVBZGRyZXNzIiwiY29sbGVjdGlvbl9kZXRhaWxfb3JkZXJzIiwiZGV0YWlsX29yZGVyIiwicmV2aWV3UyIsInNhbGVfZGV0YWlsIiwic2t1IiwiaW1hZ2VuIiwicHJvY2VzcyIsImVudiIsIlVSTF9CQUNLRU5EIiwicG9ydGFkYSIsInByaWNlX3NvbGVzIiwicHJpY2VfdXNkIiwidHlwZV9kaXNjb3VudCIsImRpc2NvdW50IiwidmFyaWVkYWQiLCJjb2RlX2N1cG9uIiwiY29kZV9kaXNjb3VudCIsInByaWNlX3VuaXRhcmlvIiwic3VidG90YWwiLCJ0b3RhbCIsInJldmlldyIsInNhbGVfZGV0YWlscyIsIkFERFJFU1NfQ0xJRU5UIiwiQWRkcmVzc0NsaWVudCIsImFkZHJlc3NfY2xpZW50IiwidXBkYXRlX2NsaWVudCIsImZpbGVzIiwiaW1nX3BhdGgiLCJhdmF0YXIiLCJuYW1lIiwic3BsaXQiLCJhdmF0YXJfbmFtZSIsInBhc3N3b3JkIiwiYmNyeXB0IiwiaGFzaCIsIlVzZXIiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsInN1cm5hbWUiLCJlbWFpbCIsImNvbmZpZ19pbml0aWFsIiwidmFyaWVkYWRlcyIsImZpbHRlcl9wcm9kdWN0cyIsImNhdGVnb3JpZXNfc2VsZWN0ZWRzIiwiaXNfZGlzY291bnQiLCJ2YXJpZWRhZF9zZWxlY3RlZCIsInByaWNlX21pbiIsInByaWNlX21heCIsImZpbHRlciIsImNhdGVnb3JpZXNfcyIsInByb2R1Y3RzX3MiLCJWQVIiLCIkaW4iLCIkYW5kIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJIb21lQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gJy4uL21vZGVscydcclxuaW1wb3J0IHJlc291cmNlIGZyb20gJy4uL3Jlc291cmNlcydcclxuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIGxpc3Q6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgVElNRV9OT1cgID0gcmVxLnF1ZXJ5LlRJTUVfTk9XO1xyXG5cclxuICAgICAgICAgICAgbGV0IFNsaWRlcnMgPSBhd2FpdCBtb2RlbHMuU2xpZGVyLmZpbmQoe3N0YXRlOjF9KTtcclxuXHJcbiAgICAgICAgICAgIFNsaWRlcnMgPSBTbGlkZXJzLm1hcCgoc2xpZGVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb3VyY2UuU2xpZGVyLnNsaWRlcl9saXN0KHNsaWRlcik7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICBsZXQgQ2F0ZWdvcmllcyA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZCh7c3RhdGU6MX0pO1xyXG5cclxuICAgICAgICAgICAgQ2F0ZWdvcmllcyA9IENhdGVnb3JpZXMubWFwKChjYXRlZ29yaWUpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvdXJjZS5DYXRlZ29yaWUuY2F0ZWdvcmllX2xpc3QoY2F0ZWdvcmllKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBDYW1wYWluZ0Rpc2NvdW50ID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjogMSxcclxuICAgICAgICAgICAgICAgIHN0YXJ0X2RhdGVfbnVtOiB7JGx0ZTogVElNRV9OT1d9LC8vIHN0YXJ0X2RhdGVfbnVtID49IFRJTUVfTk9XXHJcbiAgICAgICAgICAgICAgICBlbmRfZGF0ZV9udW06IHskZ3RlOiBUSU1FX05PV30sLy8gPj1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKENhbXBhaW5nRGlzY291bnQpO1xyXG4gICAgICAgICAgICBsZXQgQmVzdFByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7c3RhdGU6IDJ9KS5zb3J0KHtcImNyZWF0ZWRBdFwiOiAtMX0pO1xyXG5cclxuICAgICAgICAgICAgdmFyIE9iamVjdEJlc3RQcm9kdWN0cyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFByb2R1Y3Qgb2YgQmVzdFByb2R1Y3RzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgVkFSSUVEQURFUyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHtwcm9kdWN0OiBQcm9kdWN0Ll9pZH0pO1xyXG4gICAgICAgICAgICAgICAgbGV0IFJFVklFV1MgPSBhd2FpdCBtb2RlbHMuUmV2aWV3LmZpbmQoe3Byb2R1Y3Q6IFByb2R1Y3QuX2lkfSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgQVZHX1JFVklFVyA9IFJFVklFV1MubGVuZ3RoID4gMCA/IE1hdGguY2VpbChSRVZJRVdTLnJlZHVjZSgoc3VtLGl0ZW0pID0+IHN1bSArIGl0ZW0uY2FudGlkYWQsMCkvUkVWSUVXUy5sZW5ndGgpIDogMDtcclxuICAgICAgICAgICAgICAgIGxldCBDT1VOVF9SRVZJRVcgPSBSRVZJRVdTLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIGxldCBESVNDT1VOVF9FWElUUyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBpZihDYW1wYWluZ0Rpc2NvdW50KXtcclxuICAgICAgICAgICAgICAgICAgICBpZihDYW1wYWluZ0Rpc2NvdW50LnR5cGVfc2VnbWVudCA9PSAxKXsvL3BvciBwcm9kdWN0b1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcHJvZHVjdHNfYSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDYW1wYWluZ0Rpc2NvdW50LnByb2R1Y3RzLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c19hLnB1c2goaXRlbS5faWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihwcm9kdWN0c19hLmluY2x1ZGVzKFByb2R1Y3QuX2lkK1wiXCIpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERJU0NPVU5UX0VYSVRTID0gQ2FtcGFpbmdEaXNjb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNley8vcG9yIGNhdGVnb3JpYVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2F0ZWdvcmllc19hID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIENhbXBhaW5nRGlzY291bnQuY2F0ZWdvcmllcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllc19hLnB1c2goaXRlbS5faWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihjYXRlZ29yaWVzX2EuaW5jbHVkZXMoUHJvZHVjdC5jYXRlZ29yaWUrXCJcIikpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRElTQ09VTlRfRVhJVFMgPSBDYW1wYWluZ0Rpc2NvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgT2JqZWN0QmVzdFByb2R1Y3RzLnB1c2gocmVzb3VyY2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUHJvZHVjdCxWQVJJRURBREVTLEFWR19SRVZJRVcsQ09VTlRfUkVWSUVXLERJU0NPVU5UX0VYSVRTKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBPdXJzUHJvZHVjdHMgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kKHtzdGF0ZTogMn0pLnNvcnQoe1wiY3JlYXRlZEF0XCI6IDF9KTtcclxuXHJcbiAgICAgICAgICAgIHZhciBPYmplY3RPdXJzUHJvZHVjdHMgPSBbXTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBQcm9kdWN0IG9mIE91cnNQcm9kdWN0cykge1xyXG4gICAgICAgICAgICAgICAgbGV0IFZBUklFREFERVMgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZCh7cHJvZHVjdDogUHJvZHVjdC5faWR9KTtcclxuICAgICAgICAgICAgICAgIGxldCBSRVZJRVdTID0gYXdhaXQgbW9kZWxzLlJldmlldy5maW5kKHtwcm9kdWN0OiBQcm9kdWN0Ll9pZH0pO1xyXG4gICAgICAgICAgICAgICAgbGV0IEFWR19SRVZJRVcgPSBSRVZJRVdTLmxlbmd0aCA+IDAgPyBNYXRoLmNlaWwoUkVWSUVXUy5yZWR1Y2UoKHN1bSxpdGVtKSA9PiBzdW0gKyBpdGVtLmNhbnRpZGFkLDApL1JFVklFV1MubGVuZ3RoKSA6IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgQ09VTlRfUkVWSUVXID0gUkVWSUVXUy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBsZXQgRElTQ09VTlRfRVhJVFMgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgaWYoQ2FtcGFpbmdEaXNjb3VudCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoQ2FtcGFpbmdEaXNjb3VudC50eXBlX3NlZ21lbnQgPT0gMSl7Ly9wb3IgcHJvZHVjdG9cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RzX2EgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQ2FtcGFpbmdEaXNjb3VudC5wcm9kdWN0cy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHNfYS5wdXNoKGl0ZW0uX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYocHJvZHVjdHNfYS5pbmNsdWRlcyhQcm9kdWN0Ll9pZCtcIlwiKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBESVNDT1VOVF9FWElUUyA9IENhbXBhaW5nRGlzY291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXsvL3BvciBjYXRlZ29yaWFcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNhdGVnb3JpZXNfYSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDYW1wYWluZ0Rpc2NvdW50LmNhdGVnb3JpZXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNfYS5wdXNoKGl0ZW0uX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2F0ZWdvcmllc19hLmluY2x1ZGVzKFByb2R1Y3QuY2F0ZWdvcmllK1wiXCIpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERJU0NPVU5UX0VYSVRTID0gQ2FtcGFpbmdEaXNjb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIE9iamVjdE91cnNQcm9kdWN0cy5wdXNoKHJlc291cmNlLlByb2R1Y3QucHJvZHVjdF9saXN0KFByb2R1Y3QsVkFSSUVEQURFUyxBVkdfUkVWSUVXLENPVU5UX1JFVklFVyxESVNDT1VOVF9FWElUUykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIE91cnNQcm9kdWN0cyA9IE91cnNQcm9kdWN0cy5tYXAoYXN5bmMgKHByb2R1Y3QpID0+IHtcclxuICAgICAgICAgICAgLy8gICAgIGxldCBWQVJJRURBREVTID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoe3Byb2R1Y3Q6IHByb2R1Y3QuX2lkfSk7XHJcbiAgICAgICAgICAgIC8vICAgICByZXR1cm4gcmVzb3VyY2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QocHJvZHVjdCxWQVJJRURBREVTKTtcclxuICAgICAgICAgICAgLy8gfSlcclxuXHJcbiAgICAgICAgICAgIGxldCBGbGFzaFNhbGUgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZE9uZSh7XHJcbiAgICAgICAgICAgICAgICB0eXBlX2NhbXBhaWduOiAyLFxyXG4gICAgICAgICAgICAgICAgc3RhcnRfZGF0ZV9udW06IHskbHRlOiBUSU1FX05PV30sLy8gc3RhcnRfZGF0ZV9udW0gPj0gVElNRV9OT1dcclxuICAgICAgICAgICAgICAgIGVuZF9kYXRlX251bTogeyRndGU6IFRJTUVfTk9XfSwvLyA+PVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBQcm9kdWN0TGlzdCA9IFtdO1xyXG4gICAgICAgICAgICBpZihGbGFzaFNhbGUpe1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwcm9kdWN0IG9mIEZsYXNoU2FsZS5wcm9kdWN0cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBPYmplY1QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kQnlJZCh7X2lkOiBwcm9kdWN0Ll9pZH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBWQVJJRURBREVTID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoe3Byb2R1Y3Q6IHByb2R1Y3QuX2lkfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvZHVjdExpc3QucHVzaChyZXNvdXJjZS5Qcm9kdWN0LnByb2R1Y3RfbGlzdChPYmplY1QsVkFSSUVEQURFUykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKEZsYXNoU2FsZSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIHNsaWRlcnM6IFNsaWRlcnMsXHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzOiBDYXRlZ29yaWVzLFxyXG4gICAgICAgICAgICAgICAgYmVzdF9wcm9kdWN0czogT2JqZWN0QmVzdFByb2R1Y3RzLFxyXG4gICAgICAgICAgICAgICAgb3VyX3Byb2R1Y3RzOiBPYmplY3RPdXJzUHJvZHVjdHMsXHJcbiAgICAgICAgICAgICAgICBGbGFzaFNhbGU6IEZsYXNoU2FsZSxcclxuICAgICAgICAgICAgICAgIGNhbXBhaWduX3Byb2R1Y3RzOiBQcm9kdWN0TGlzdCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTpcIk9DVVJSSU8gRVJST1JcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzaG93X2xhbmRpbmdfcHJvZHVjdDphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IFNMVUcgPSByZXEucGFyYW1zLnNsdWc7XHJcbiAgICAgICAgICAgIGxldCBESVNDT1VOVF9JRCA9IHJlcS5xdWVyeS5faWQ7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKERJU0NPVU5UX0lEKTtcclxuICAgICAgICAgICAgbGV0IFByb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kT25lKHtzbHVnOiBTTFVHLHN0YXRlOiAyfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgVkFSSUVEQURFUyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHtwcm9kdWN0OiBQcm9kdWN0Ll9pZH0pO1xyXG5cclxuICAgICAgICAgICAgbGV0IFJFVklFV1MgPSBhd2FpdCBtb2RlbHMuUmV2aWV3LmZpbmQoe3Byb2R1Y3Q6IFByb2R1Y3QuX2lkfSkucG9wdWxhdGUoXCJ1c2VyXCIpO1xyXG4gICAgICAgICAgICBsZXQgQVZHX1JFVklFVyA9IFJFVklFV1MubGVuZ3RoID4gMCA/IE1hdGguY2VpbChSRVZJRVdTLnJlZHVjZSgoc3VtLGl0ZW0pID0+IHN1bSArIGl0ZW0uY2FudGlkYWQsMCkvUkVWSUVXUy5sZW5ndGgpIDogMDtcclxuICAgICAgICAgICAgbGV0IENPVU5UX1JFVklFVyA9IFJFVklFV1MubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgbGV0IFJlbGF0ZWRQcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoe2NhdGVnb3JpZTogUHJvZHVjdC5jYXRlZ29yaWUsc3RhdGU6IDJ9KTtcclxuICAgICAgICAgICAgdmFyIE9iamVjdFJlbGF0ZWRQcm9kdWN0cyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFByb2R1Y3Qgb2YgUmVsYXRlZFByb2R1Y3RzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgVkFSSUVEQURFUyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHtwcm9kdWN0OiBQcm9kdWN0Ll9pZH0pO1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0UmVsYXRlZFByb2R1Y3RzLnB1c2gocmVzb3VyY2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUHJvZHVjdCxWQVJJRURBREVTKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IFNBTEVfRkxBU0ggPSBudWxsO1xyXG4gICAgICAgICAgICBpZihESVNDT1VOVF9JRCl7XHJcbiAgICAgICAgICAgICAgICBTQUxFX0ZMQVNIID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRCeUlkKHtfaWQ6IERJU0NPVU5UX0lEfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgcHJvZHVjdDogcmVzb3VyY2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUHJvZHVjdCxWQVJJRURBREVTKSxcclxuICAgICAgICAgICAgICAgIHJlbGF0ZWRfcHJvZHVjdHM6IE9iamVjdFJlbGF0ZWRQcm9kdWN0cyxcclxuICAgICAgICAgICAgICAgIFNBTEVfRkxBU0g6IFNBTEVfRkxBU0gsXHJcbiAgICAgICAgICAgICAgICBSRVZJRVdTOiBSRVZJRVdTLFxyXG4gICAgICAgICAgICAgICAgQVZHX1JFVklFVzogQVZHX1JFVklFVyxcclxuICAgICAgICAgICAgICAgIENPVU5UX1JFVklFVzogQ09VTlRfUkVWSUVXLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6XCJPQ1VSUklPIEVSUk9SXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2VhcmNoX3Byb2R1Y3Q6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBUSU1FX05PVyAgPSByZXEucXVlcnkuVElNRV9OT1c7XHJcbiAgICAgICAgICAgIGxldCBzZWFyY2hfcHJvZHVjdCA9IHJlcS5ib2R5LnNlYXJjaF9wcm9kdWN0O1xyXG4gICAgICAgICAgICBsZXQgT3Vyc1Byb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7c3RhdGU6IDIsdGl0bGU6IG5ldyBSZWdFeHAoc2VhcmNoX3Byb2R1Y3QsJ2knKX0pLnNvcnQoe1wiY3JlYXRlZEF0XCI6IDF9KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBDYW1wYWluZ0Rpc2NvdW50ID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjogMSxcclxuICAgICAgICAgICAgICAgIHN0YXJ0X2RhdGVfbnVtOiB7JGx0ZTogVElNRV9OT1d9LC8vIHN0YXJ0X2RhdGVfbnVtID49IFRJTUVfTk9XXHJcbiAgICAgICAgICAgICAgICBlbmRfZGF0ZV9udW06IHskZ3RlOiBUSU1FX05PV30sLy8gPj1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgUHJvZHVjdHMgPSBbXTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBQcm9kdWN0IG9mIE91cnNQcm9kdWN0cykge1xyXG4gICAgICAgICAgICAgICAgbGV0IFZBUklFREFERVMgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZCh7cHJvZHVjdDogUHJvZHVjdC5faWR9KTtcclxuICAgICAgICAgICAgICAgIGxldCBSRVZJRVdTID0gYXdhaXQgbW9kZWxzLlJldmlldy5maW5kKHtwcm9kdWN0OiBQcm9kdWN0Ll9pZH0pO1xyXG4gICAgICAgICAgICAgICAgbGV0IEFWR19SRVZJRVcgPSBSRVZJRVdTLmxlbmd0aCA+IDAgPyBNYXRoLmNlaWwoUkVWSUVXUy5yZWR1Y2UoKHN1bSxpdGVtKSA9PiBzdW0gKyBpdGVtLmNhbnRpZGFkLDApL1JFVklFV1MubGVuZ3RoKSA6IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgQ09VTlRfUkVWSUVXID0gUkVWSUVXUy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBsZXQgRElTQ09VTlRfRVhJVFMgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgaWYoQ2FtcGFpbmdEaXNjb3VudCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoQ2FtcGFpbmdEaXNjb3VudC50eXBlX3NlZ21lbnQgPT0gMSl7Ly9wb3IgcHJvZHVjdG9cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RzX2EgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQ2FtcGFpbmdEaXNjb3VudC5wcm9kdWN0cy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHNfYS5wdXNoKGl0ZW0uX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYocHJvZHVjdHNfYS5pbmNsdWRlcyhQcm9kdWN0Ll9pZCtcIlwiKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBESVNDT1VOVF9FWElUUyA9IENhbXBhaW5nRGlzY291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXsvL3BvciBjYXRlZ29yaWFcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNhdGVnb3JpZXNfYSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDYW1wYWluZ0Rpc2NvdW50LmNhdGVnb3JpZXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNfYS5wdXNoKGl0ZW0uX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2F0ZWdvcmllc19hLmluY2x1ZGVzKFByb2R1Y3QuY2F0ZWdvcmllK1wiXCIpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERJU0NPVU5UX0VYSVRTID0gQ2FtcGFpbmdEaXNjb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFByb2R1Y3RzLnB1c2gocmVzb3VyY2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUHJvZHVjdCxWQVJJRURBREVTLEFWR19SRVZJRVcsQ09VTlRfUkVWSUVXLERJU0NPVU5UX0VYSVRTKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgcHJvZHVjdHM6IFByb2R1Y3RzLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT2N1cnJpbyB1biBlcnJvclwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgcHJvZmlsZV9jbGllbnQ6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgdXNlcl9pZCA9IHJlcS5ib2R5LnVzZXJfaWQ7XHJcblxyXG4gICAgICAgICAgICBsZXQgT3JkZXJzID0gYXdhaXQgbW9kZWxzLlNhbGUuZmluZCh7dXNlcjogdXNlcl9pZH0pO1xyXG5cclxuICAgICAgICAgICAgbGV0IHNhbGVfb3JkZXJzID0gW107XHJcblxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IG9yZGVyIG9mIE9yZGVycykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGRldGFpbF9vcmRlcnMgPSBhd2FpdCBtb2RlbHMuU2FsZURldGFpbC5maW5kKHtzYWxlOiBvcmRlci5faWR9KS5wb3B1bGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogXCJwcm9kdWN0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgcG9wdWxhdGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogXCJjYXRlZ29yaWVcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9KS5wb3B1bGF0ZShcInZhcmllZGFkXCIpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNhbGVfYWRkcmVzcyA9IGF3YWl0IG1vZGVscy5TYWxlQWRkcmVzcy5maW5kKHtzYWxlOiBvcmRlci5faWR9KTtcclxuICAgICAgICAgICAgICAgIGxldCBjb2xsZWN0aW9uX2RldGFpbF9vcmRlcnMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZGV0YWlsX29yZGVyIG9mIGRldGFpbF9vcmRlcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcmV2aWV3UyA9IGF3YWl0IG1vZGVscy5SZXZpZXcuZmluZE9uZSh7c2FsZV9kZXRhaWw6IGRldGFpbF9vcmRlci5faWR9KTtcclxuICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uX2RldGFpbF9vcmRlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZDogZGV0YWlsX29yZGVyLl9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2lkOiBkZXRhaWxfb3JkZXIucHJvZHVjdC5faWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogZGV0YWlsX29yZGVyLnByb2R1Y3QudGl0bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBza3U6IGRldGFpbF9vcmRlci5wcm9kdWN0LnNrdSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsdWc6IGRldGFpbF9vcmRlci5wcm9kdWN0LnNsdWcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZW46IHByb2Nlc3MuZW52LlVSTF9CQUNLRU5EKycvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC8nK2RldGFpbF9vcmRlci5wcm9kdWN0LnBvcnRhZGEsLy8qXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWU6IGRldGFpbF9vcmRlci5wcm9kdWN0LmNhdGVnb3JpZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlX3NvbGVzOiBkZXRhaWxfb3JkZXIucHJvZHVjdC5wcmljZV9zb2xlcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlX3VzZDogZGV0YWlsX29yZGVyLnByb2R1Y3QucHJpY2VfdXNkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlX2Rpc2NvdW50OiBkZXRhaWxfb3JkZXIudHlwZV9kaXNjb3VudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzY291bnQ6IGRldGFpbF9vcmRlci5kaXNjb3VudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FudGlkYWQ6IGRldGFpbF9vcmRlci5jYW50aWRhZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWVkYWQ6IGRldGFpbF9vcmRlci52YXJpZWRhZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZV9jdXBvbjogZGV0YWlsX29yZGVyLmNvZGVfY3Vwb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVfZGlzY291bnQ6IGRldGFpbF9vcmRlci5jb2RlX2Rpc2NvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmljZV91bml0YXJpbzogZGV0YWlsX29yZGVyLnByaWNlX3VuaXRhcmlvLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0b3RhbDogZGV0YWlsX29yZGVyLnN1YnRvdGFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbDogZGV0YWlsX29yZGVyLnRvdGFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXZpZXc6IHJldmlld1MsXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNhbGVfb3JkZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIHNhbGU6IG9yZGVyLFxyXG4gICAgICAgICAgICAgICAgICAgIHNhbGVfZGV0YWlsczogY29sbGVjdGlvbl9kZXRhaWxfb3JkZXJzLFxyXG4gICAgICAgICAgICAgICAgICAgIHNhbGVfYWRkcmVzczogc2FsZV9hZGRyZXNzLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IEFERFJFU1NfQ0xJRU5UID0gYXdhaXQgbW9kZWxzLkFkZHJlc3NDbGllbnQuZmluZCh7dXNlcjogdXNlcl9pZH0pLnNvcnQoeydjcmVhdGVkQXQnOiAtMX0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBzYWxlX29yZGVyczogc2FsZV9vcmRlcnMsXHJcbiAgICAgICAgICAgICAgICBhZGRyZXNzX2NsaWVudDogQUREUkVTU19DTElFTlQsXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPY3VycmlvIHVuIGVycm9yXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB1cGRhdGVfY2xpZW50OiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYocmVxLmZpbGVzKXtcclxuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5hdmF0YXIucGF0aDtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJ1xcXFwnKTtcclxuICAgICAgICAgICAgICAgIHZhciBhdmF0YXJfbmFtZSA9IG5hbWVbMl07XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhdmF0YXJfbmFtZSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihyZXEuYm9keS5wYXNzd29yZCl7XHJcbiAgICAgICAgICAgICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLDEwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuVXNlci5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiByZXEuYm9keS5faWR9LHJlcS5ib2R5KTtcclxuICAgICAgICAgICAgbGV0IFVzZXIgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kT25lKHtfaWQ6IHJlcS5ib2R5Ll9pZH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlNFIEdVQVJETyBTVSBJTkZPUk1BQ0nDk04gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICAgICAgdXNlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFVzZXIubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBzdXJuYW1lOiBVc2VyLnN1cm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6VXNlci5lbWFpbCxcclxuICAgICAgICAgICAgICAgICAgICBfaWQ6VXNlci5faWQsXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPY3VycmlvIHVuIGVycm9yXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBjb25maWdfaW5pdGlhbDphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGNhdGVnb3JpZXMgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmZpbmQoe3N0YXRlOiAxfSk7XHJcbiAgICAgICAgICAgIGxldCB2YXJpZWRhZGVzID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoe30pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzOiBjYXRlZ29yaWVzLFxyXG4gICAgICAgICAgICAgICAgdmFyaWVkYWRlczogdmFyaWVkYWRlcyxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9jdXJyaW8gdW4gZXJyb3JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGZpbHRlcl9wcm9kdWN0czphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIFRJTUVfTk9XICA9IHJlcS5xdWVyeS5USU1FX05PVztcclxuICAgICAgICAgICAgbGV0IHNlYXJjaF9wcm9kdWN0ID0gcmVxLmJvZHkuc2VhcmNoX3Byb2R1Y3Q7XHJcblxyXG4gICAgICAgICAgICBsZXQgY2F0ZWdvcmllc19zZWxlY3RlZHMgPSByZXEuYm9keS5jYXRlZ29yaWVzX3NlbGVjdGVkcztcclxuICAgICAgICAgICAgbGV0IGlzX2Rpc2NvdW50ID0gcmVxLmJvZHkuaXNfZGlzY291bnQ7XHJcbiAgICAgICAgICAgIGxldCB2YXJpZWRhZF9zZWxlY3RlZCA9IHJlcS5ib2R5LnZhcmllZGFkX3NlbGVjdGVkO1xyXG4gICAgICAgICAgICBsZXQgcHJpY2VfbWluID0gcmVxLmJvZHkucHJpY2VfbWluO1xyXG4gICAgICAgICAgICBsZXQgcHJpY2VfbWF4ID0gcmVxLmJvZHkucHJpY2VfbWF4O1xyXG5cclxuICAgICAgICAgICAgbGV0IGZpbHRlciA9IFtcclxuICAgICAgICAgICAgICAgIHtzdGF0ZTogMn0sXHJcbiAgICAgICAgICAgIF07XHJcblxyXG4gICAgICAgICAgICB2YXIgY2F0ZWdvcmllc19zID0gW107XHJcbiAgICAgICAgICAgIHZhciBwcm9kdWN0c19zID0gW107XHJcbiAgICAgICAgICAgIC8vIHtzdGF0ZTogMix0aXRsZTogbmV3IFJlZ0V4cChzZWFyY2hfcHJvZHVjdCwnaScpfVxyXG4gICAgICAgICAgICBpZihjYXRlZ29yaWVzX3NlbGVjdGVkcy5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNfc2VsZWN0ZWRzLmZvckVhY2goKGNhdGVnb3JpZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNfcy5wdXNoKGNhdGVnb3JpZSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLy8gZmlsdGVyLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGNhdGVnb3JpZTogeyRpbjogY2F0ZWdvcmllc19zZWxlY3RlZHN9LFxyXG4gICAgICAgICAgICAgICAgLy8gfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgQ2FtcGFpbmdEaXNjb3VudCA9IGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kT25lKHtcclxuICAgICAgICAgICAgICAgIHR5cGVfY2FtcGFpZ246IDEsXHJcbiAgICAgICAgICAgICAgICBzdGFydF9kYXRlX251bTogeyRsdGU6IFRJTUVfTk9XfSwvLyBzdGFydF9kYXRlX251bSA+PSBUSU1FX05PV1xyXG4gICAgICAgICAgICAgICAgZW5kX2RhdGVfbnVtOiB7JGd0ZTogVElNRV9OT1d9LC8vID49XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYoaXNfZGlzY291bnQgPT0gMil7XHJcbiAgICAgICAgICAgICAgICBpZihDYW1wYWluZ0Rpc2NvdW50LnR5cGVfc2VnbWVudCA9PSAxKXtcclxuICAgICAgICAgICAgICAgICAgICBDYW1wYWluZ0Rpc2NvdW50LnByb2R1Y3RzLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzX3MucHVzaChpdGVtLl9pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIENhbXBhaW5nRGlzY291bnQuY2F0ZWdvcmllcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzX3MucHVzaChpdGVtLl9pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZih2YXJpZWRhZF9zZWxlY3RlZCl7XHJcbiAgICAgICAgICAgICAgICBsZXQgVkFSID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkKHtfaWQ6IHZhcmllZGFkX3NlbGVjdGVkLl9pZH0pO1xyXG4gICAgICAgICAgICAgICAgaWYoVkFSKXtcclxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c19zLnB1c2goVkFSLnByb2R1Y3QpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKGNhdGVnb3JpZXNfcy5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgICAgIGZpbHRlci5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWU6IHskaW46IGNhdGVnb3JpZXNfc30sXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihwcm9kdWN0c19zLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIF9pZDogeyRpbjogcHJvZHVjdHNfc31cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHByaWNlX21pbiA+IDAgJiYgcHJpY2VfbWF4ID4gMCl7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXIucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJpY2VfdXNkOiB7JGd0ZTogcHJpY2VfbWluLCAkbHRlOiBwcmljZV9tYXh9LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IE91cnNQcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoeyRhbmQ6IGZpbHRlcn0pLnNvcnQoe1wiY3JlYXRlZEF0XCI6IDF9KTtcclxuXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB2YXIgUHJvZHVjdHMgPSBbXTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBQcm9kdWN0IG9mIE91cnNQcm9kdWN0cykge1xyXG4gICAgICAgICAgICAgICAgbGV0IFZBUklFREFERVMgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZCh7cHJvZHVjdDogUHJvZHVjdC5faWR9KTtcclxuICAgICAgICAgICAgICAgIGxldCBSRVZJRVdTID0gYXdhaXQgbW9kZWxzLlJldmlldy5maW5kKHtwcm9kdWN0OiBQcm9kdWN0Ll9pZH0pO1xyXG4gICAgICAgICAgICAgICAgbGV0IEFWR19SRVZJRVcgPSBSRVZJRVdTLmxlbmd0aCA+IDAgPyBNYXRoLmNlaWwoUkVWSUVXUy5yZWR1Y2UoKHN1bSxpdGVtKSA9PiBzdW0gKyBpdGVtLmNhbnRpZGFkLDApL1JFVklFV1MubGVuZ3RoKSA6IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgQ09VTlRfUkVWSUVXID0gUkVWSUVXUy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBsZXQgRElTQ09VTlRfRVhJVFMgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgaWYoQ2FtcGFpbmdEaXNjb3VudCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoQ2FtcGFpbmdEaXNjb3VudC50eXBlX3NlZ21lbnQgPT0gMSl7Ly9wb3IgcHJvZHVjdG9cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RzX2EgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQ2FtcGFpbmdEaXNjb3VudC5wcm9kdWN0cy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHNfYS5wdXNoKGl0ZW0uX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYocHJvZHVjdHNfYS5pbmNsdWRlcyhQcm9kdWN0Ll9pZCtcIlwiKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBESVNDT1VOVF9FWElUUyA9IENhbXBhaW5nRGlzY291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXsvL3BvciBjYXRlZ29yaWFcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNhdGVnb3JpZXNfYSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDYW1wYWluZ0Rpc2NvdW50LmNhdGVnb3JpZXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNfYS5wdXNoKGl0ZW0uX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2F0ZWdvcmllc19hLmluY2x1ZGVzKFByb2R1Y3QuY2F0ZWdvcmllK1wiXCIpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERJU0NPVU5UX0VYSVRTID0gQ2FtcGFpbmdEaXNjb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFByb2R1Y3RzLnB1c2gocmVzb3VyY2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUHJvZHVjdCxWQVJJRURBREVTLEFWR19SRVZJRVcsQ09VTlRfUkVWSUVXLERJU0NPVU5UX0VYSVRTKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgcHJvZHVjdHM6IFByb2R1Y3RzLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT2N1cnJpbyB1biBlcnJvclwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFBNkI7QUFBQSxlQUVkO0VBQ1hBLElBQUksRUFBQyxPQUFNQyxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUNuQixJ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","map":{"version":3,"names":["list","req","res","TIME_NOW","query","Sliders","models","Slider","find","state","map","slider","resource","slider_list","Categories","Categorie","categorie","categorie_list","CampaingDiscount","Discount","findOne","type_campaign","start_date_num","$lte","end_date_num","$gte","BestProducts","Product","sort","ObjectBestProducts","VARIEDADES","Variedad","product","_id","REVIEWS","Review","AVG_REVIEW","length","Math","ceil","reduce","sum","item","cantidad","COUNT_REVIEW","DISCOUNT_EXITS","type_segment","products_a","products","forEach","push","includes","categories_a","categories","product_list","OursProducts","ObjectOursProducts","FlashSale","ProductList","ObjecT","findById","status","json","sliders","best_products","our_products","campaign_products","error","send","message","console","log","show_landing_product","SLUG","params","slug","DISCOUNT_ID","populate","RelatedProducts","ObjectRelatedProducts","SALE_FLASH","related_products","search_product","body","title","RegExp","Products","profile_client","user_id","Orders","Sale","user","sale_orders","order","detail_orders","SaleDetail","sale","path","sale_address","SaleAddress","collection_detail_orders","detail_order","reviewS","sale_detail","sku","imagen","process","env","URL_BACKEND","portada","price_soles","price_usd","type_discount","discount","variedad","code_cupon","code_discount","price_unitario","subtotal","total","review","sale_details","ADDRESS_CLIENT","AddressClient","address_client","update_client","files","img_path","avatar","name","split","avatar_name","password","bcrypt","hash","User","findByIdAndUpdate","surname","email","config_initial","variedades","filter_products","categories_selecteds","is_discount","variedad_selected","price_min","price_max","filter","categories_s","products_s","VAR","$in","$and"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["HomeController.js"],"sourcesContent":["import models from '../models'\r\nimport resource from '../resources'\r\nimport bcrypt from 'bcryptjs'\r\n\r\nexport default {\r\n    list:async(req,res) => {\r\n        try {\r\n\r\n            var TIME_NOW  = req.query.TIME_NOW;\r\n\r\n            let Sliders = await models.Slider.find({state:1});\r\n\r\n            Sliders = Sliders.map((slider) => {\r\n                return resource.Slider.slider_list(slider);\r\n            })\r\n\r\n            let Categories = await models.Categorie.find({state:1});\r\n\r\n            Categories = Categories.map((categorie) => {\r\n                return resource.Categorie.categorie_list(categorie);\r\n            })\r\n            \r\n            let CampaingDiscount = await models.Discount.findOne({\r\n                type_campaign: 1,\r\n                start_date_num: {$lte: TIME_NOW},// start_date_num >= TIME_NOW\r\n                end_date_num: {$gte: TIME_NOW},// >=\r\n            });\r\n            // console.log(CampaingDiscount);\r\n            let BestProducts = await models.Product.find({state: 2}).sort({\"createdAt\": -1});\r\n\r\n            var ObjectBestProducts = [];\r\n            for (const Product of BestProducts) {\r\n                let VARIEDADES = await models.Variedad.find({product: Product._id});\r\n                let REVIEWS = await models.Review.find({product: Product._id});\r\n                let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length) : 0;\r\n                let COUNT_REVIEW = REVIEWS.length;\r\n                let DISCOUNT_EXITS = null;\r\n                if(CampaingDiscount){\r\n                    if(CampaingDiscount.type_segment == 1){//por producto\r\n                        let products_a = [];\r\n                        CampaingDiscount.products.forEach(item => {\r\n                            products_a.push(item._id);\r\n                        })\r\n                        if(products_a.includes(Product._id+\"\")){\r\n                            DISCOUNT_EXITS = CampaingDiscount;\r\n                        }\r\n                    }else{//por categoria\r\n                        let categories_a = [];\r\n                        CampaingDiscount.categories.forEach(item => {\r\n                            categories_a.push(item._id);\r\n                        })\r\n                        if(categories_a.includes(Product.categorie+\"\")){\r\n                            DISCOUNT_EXITS = CampaingDiscount;\r\n                        }\r\n                    }\r\n                }\r\n                ObjectBestProducts.push(resource.Product.product_list(Product,VARIEDADES,AVG_REVIEW,COUNT_REVIEW,DISCOUNT_EXITS));\r\n            }\r\n\r\n            let OursProducts = await models.Product.find({state: 2}).sort({\"createdAt\": 1});\r\n\r\n            var ObjectOursProducts = [];\r\n            for (const Product of OursProducts) {\r\n                let VARIEDADES = await models.Variedad.find({product: Product._id});\r\n                let REVIEWS = await models.Review.find({product: Product._id});\r\n                let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length) : 0;\r\n                let COUNT_REVIEW = REVIEWS.length;\r\n                let DISCOUNT_EXITS = null;\r\n                if(CampaingDiscount){\r\n                    if(CampaingDiscount.type_segment == 1){//por producto\r\n                        let products_a = [];\r\n                        CampaingDiscount.products.forEach(item => {\r\n                            products_a.push(item._id);\r\n                        })\r\n                        if(products_a.includes(Product._id+\"\")){\r\n                            DISCOUNT_EXITS = CampaingDiscount;\r\n                        }\r\n                    }else{//por categoria\r\n                        let categories_a = [];\r\n                        CampaingDiscount.categories.forEach(item => {\r\n                            categories_a.push(item._id);\r\n                        })\r\n                        if(categories_a.includes(Product.categorie+\"\")){\r\n                            DISCOUNT_EXITS = CampaingDiscount;\r\n                        }\r\n                    }\r\n                }\r\n                ObjectOursProducts.push(resource.Product.product_list(Product,VARIEDADES,AVG_REVIEW,COUNT_REVIEW,DISCOUNT_EXITS));\r\n            }\r\n            // OursProducts = OursProducts.map(async (product) => {\r\n            //     let VARIEDADES = await models.Variedad.find({product: product._id});\r\n            //     return resource.Product.product_list(product,VARIEDADES);\r\n            // })\r\n\r\n            let FlashSale = await models.Discount.findOne({\r\n                type_campaign: 2,\r\n                start_date_num: {$lte: TIME_NOW},// start_date_num >= TIME_NOW\r\n                end_date_num: {$gte: TIME_NOW},// >=\r\n            });\r\n\r\n            let ProductList = [];\r\n            if(FlashSale){\r\n                for (const product of FlashSale.products) {\r\n                    var ObjecT = await models.Product.findById({_id: product._id});\r\n                    let VARIEDADES = await models.Variedad.find({product: product._id});\r\n                    ProductList.push(resource.Product.product_list(ObjecT,VARIEDADES));\r\n                }\r\n            }\r\n            // console.log(FlashSale);\r\n            res.status(200).json({\r\n                sliders: Sliders,\r\n                categories: Categories,\r\n                best_products: ObjectBestProducts,\r\n                our_products: ObjectOursProducts,\r\n                FlashSale: FlashSale,\r\n                campaign_products: ProductList,\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO ERROR\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    show_landing_product:async(req,res) => {\r\n        try {\r\n            let SLUG = req.params.slug;\r\n            let DISCOUNT_ID = req.query._id;\r\n            console.log(DISCOUNT_ID);\r\n            let Product = await models.Product.findOne({slug: SLUG,state: 2});\r\n            \r\n            let VARIEDADES = await models.Variedad.find({product: Product._id});\r\n\r\n            let REVIEWS = await models.Review.find({product: Product._id}).populate(\"user\");\r\n            let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length) : 0;\r\n            let COUNT_REVIEW = REVIEWS.length;\r\n\r\n            let RelatedProducts = await models.Product.find({categorie: Product.categorie,state: 2});\r\n            var ObjectRelatedProducts = [];\r\n            for (const Product of RelatedProducts) {\r\n                let VARIEDADES = await models.Variedad.find({product: Product._id});\r\n                ObjectRelatedProducts.push(resource.Product.product_list(Product,VARIEDADES));\r\n            }\r\n            let SALE_FLASH = null;\r\n            if(DISCOUNT_ID){\r\n                SALE_FLASH = await models.Discount.findById({_id: DISCOUNT_ID});\r\n            }\r\n            res.status(200).json({\r\n                product: resource.Product.product_list(Product,VARIEDADES),\r\n                related_products: ObjectRelatedProducts,\r\n                SALE_FLASH: SALE_FLASH,\r\n                REVIEWS: REVIEWS,\r\n                AVG_REVIEW: AVG_REVIEW,\r\n                COUNT_REVIEW: COUNT_REVIEW,\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO ERROR\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    search_product:async(req,res) => {\r\n        try {\r\n            var TIME_NOW  = req.query.TIME_NOW;\r\n            let search_product = req.body.search_product;\r\n            let OursProducts = await models.Product.find({state: 2,title: new RegExp(search_product,'i')}).sort({\"createdAt\": 1});\r\n\r\n            let CampaingDiscount = await models.Discount.findOne({\r\n                type_campaign: 1,\r\n                start_date_num: {$lte: TIME_NOW},// start_date_num >= TIME_NOW\r\n                end_date_num: {$gte: TIME_NOW},// >=\r\n            });\r\n\r\n            var Products = [];\r\n            for (const Product of OursProducts) {\r\n                let VARIEDADES = await models.Variedad.find({product: Product._id});\r\n                let REVIEWS = await models.Review.find({product: Product._id});\r\n                let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length) : 0;\r\n                let COUNT_REVIEW = REVIEWS.length;\r\n                let DISCOUNT_EXITS = null;\r\n                if(CampaingDiscount){\r\n                    if(CampaingDiscount.type_segment == 1){//por producto\r\n                        let products_a = [];\r\n                        CampaingDiscount.products.forEach(item => {\r\n                            products_a.push(item._id);\r\n                        })\r\n                        if(products_a.includes(Product._id+\"\")){\r\n                            DISCOUNT_EXITS = CampaingDiscount;\r\n                        }\r\n                    }else{//por categoria\r\n                        let categories_a = [];\r\n                        CampaingDiscount.categories.forEach(item => {\r\n                            categories_a.push(item._id);\r\n                        })\r\n                        if(categories_a.includes(Product.categorie+\"\")){\r\n                            DISCOUNT_EXITS = CampaingDiscount;\r\n                        }\r\n                    }\r\n                }\r\n                Products.push(resource.Product.product_list(Product,VARIEDADES,AVG_REVIEW,COUNT_REVIEW,DISCOUNT_EXITS));\r\n            }\r\n            res.status(200).json({\r\n                products: Products,\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"Ocurrio un error\",\r\n            });\r\n        }\r\n    },\r\n    profile_client:async(req,res) => {\r\n        try {\r\n            \r\n            let user_id = req.body.user_id;\r\n\r\n            let Orders = await models.Sale.find({user: user_id});\r\n\r\n            let sale_orders = [];\r\n\r\n            for (const order of Orders) {\r\n                let detail_orders = await models.SaleDetail.find({sale: order._id}).populate({\r\n                    path: \"product\",\r\n                    populate: {\r\n                        path: \"categorie\"\r\n                    },\r\n                }).populate(\"variedad\");\r\n                let sale_address = await models.SaleAddress.find({sale: order._id});\r\n                let collection_detail_orders = [];\r\n                for (const detail_order of detail_orders) {\r\n                    let reviewS = await models.Review.findOne({sale_detail: detail_order._id});\r\n                    collection_detail_orders.push({\r\n                        _id: detail_order._id,\r\n                        product: {\r\n                            _id: detail_order.product._id,\r\n                            title: detail_order.product.title,\r\n                            sku: detail_order.product.sku,\r\n                            slug: detail_order.product.slug,\r\n                            imagen: process.env.URL_BACKEND+'/api/products/uploads/product/'+detail_order.product.portada,//*\r\n                            categorie: detail_order.product.categorie,\r\n                            price_soles: detail_order.product.price_soles,\r\n                            price_usd: detail_order.product.price_usd,\r\n                        },\r\n                        type_discount: detail_order.type_discount,\r\n                        discount: detail_order.discount,\r\n                        cantidad: detail_order.cantidad,\r\n                        variedad: detail_order.variedad,\r\n                        code_cupon: detail_order.code_cupon,\r\n                        code_discount: detail_order.code_discount,\r\n                        price_unitario: detail_order.price_unitario,\r\n                        subtotal: detail_order.subtotal,\r\n                        total: detail_order.total,\r\n                        review: reviewS,\r\n                    })\r\n                }\r\n                sale_orders.push({\r\n                    sale: order,\r\n                    sale_details: collection_detail_orders,\r\n                    sale_address: sale_address,\r\n                });\r\n            }\r\n            let ADDRESS_CLIENT = await models.AddressClient.find({user: user_id}).sort({'createdAt': -1});\r\n            res.status(200).json({\r\n                sale_orders: sale_orders,\r\n                address_client: ADDRESS_CLIENT,\r\n            })\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"Ocurrio un error\",\r\n            });\r\n        }\r\n    },\r\n    update_client: async(req,res) => {\r\n        try {\r\n            if(req.files){\r\n                var img_path = req.files.avatar.path;\r\n                var name = img_path.split('\\\\');\r\n                var avatar_name = name[2];\r\n                console.log(avatar_name)\r\n            }\r\n            if(req.body.password){\r\n                req.body.password = await bcrypt.hash(req.body.password,10);\r\n            }\r\n            await models.User.findByIdAndUpdate({_id: req.body._id},req.body);\r\n            let User = await models.User.findOne({_id: req.body._id});\r\n            res.status(200).json({\r\n                message: \"SE GUARDO SU INFORMACIÓN CORRECTAMENTE\",\r\n                user: {\r\n                    name: User.name,\r\n                    surname: User.surname,\r\n                    email:User.email,\r\n                    _id:User._id,\r\n                }\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"Ocurrio un error\",\r\n            });\r\n        }\r\n    },\r\n    config_initial:async(req,res) => {\r\n        try {\r\n            let categories = await models.Categorie.find({state: 1});\r\n            let variedades = await models.Variedad.find({});\r\n            res.status(200).json({\r\n                categories: categories,\r\n                variedades: variedades,\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"Ocurrio un error\",\r\n            });\r\n        }\r\n    },\r\n    filter_products:async(req,res) => {\r\n        try {\r\n            var TIME_NOW  = req.query.TIME_NOW;\r\n            let search_product = req.body.search_product;\r\n\r\n            let categories_selecteds = req.body.categories_selecteds;\r\n            let is_discount = req.body.is_discount;\r\n            let variedad_selected = req.body.variedad_selected;\r\n            let price_min = req.body.price_min;\r\n            let price_max = req.body.price_max;\r\n\r\n            let filter = [\r\n                {state: 2},\r\n            ];\r\n\r\n            var categories_s = [];\r\n            var products_s = [];\r\n            // {state: 2,title: new RegExp(search_product,'i')}\r\n            if(categories_selecteds.length > 0){\r\n                categories_selecteds.forEach((categorie) => {\r\n                    categories_s.push(categorie);\r\n                })\r\n                // filter.push({\r\n                //     categorie: {$in: categories_selecteds},\r\n                // })\r\n            }\r\n            let CampaingDiscount = await models.Discount.findOne({\r\n                type_campaign: 1,\r\n                start_date_num: {$lte: TIME_NOW},// start_date_num >= TIME_NOW\r\n                end_date_num: {$gte: TIME_NOW},// >=\r\n            });\r\n            \r\n            if(is_discount == 2){\r\n                if(CampaingDiscount.type_segment == 1){\r\n                    CampaingDiscount.products.forEach(item => {\r\n                        products_s.push(item._id);\r\n                    })\r\n                }else{\r\n                    CampaingDiscount.categories.forEach(item => {\r\n                        categories_s.push(item._id);\r\n                    })\r\n                }\r\n            }\r\n            if(variedad_selected){\r\n                let VAR = await models.Variedad.findById({_id: variedad_selected._id});\r\n                if(VAR){\r\n                    products_s.push(VAR.product);\r\n                }\r\n            }\r\n            if(categories_s.length > 0){\r\n                filter.push({\r\n                    categorie: {$in: categories_s},\r\n                });\r\n            }\r\n            if(products_s.length > 0){\r\n                filter.push({\r\n                    _id: {$in: products_s}\r\n                });\r\n            }\r\n            if(price_min > 0 && price_max > 0){\r\n                filter.push({\r\n                    price_usd: {$gte: price_min, $lte: price_max},\r\n                });\r\n            }\r\n            let OursProducts = await models.Product.find({$and: filter}).sort({\"createdAt\": 1});\r\n\r\n            \r\n            var Products = [];\r\n            for (const Product of OursProducts) {\r\n                let VARIEDADES = await models.Variedad.find({product: Product._id});\r\n                let REVIEWS = await models.Review.find({product: Product._id});\r\n                let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length) : 0;\r\n                let COUNT_REVIEW = REVIEWS.length;\r\n                let DISCOUNT_EXITS = null;\r\n                if(CampaingDiscount){\r\n                    if(CampaingDiscount.type_segment == 1){//por producto\r\n                        let products_a = [];\r\n                        CampaingDiscount.products.forEach(item => {\r\n                            products_a.push(item._id);\r\n                        })\r\n                        if(products_a.includes(Product._id+\"\")){\r\n                            DISCOUNT_EXITS = CampaingDiscount;\r\n                        }\r\n                    }else{//por categoria\r\n                        let categories_a = [];\r\n                        CampaingDiscount.categories.forEach(item => {\r\n                            categories_a.push(item._id);\r\n                        })\r\n                        if(categories_a.includes(Product.categorie+\"\")){\r\n                            DISCOUNT_EXITS = CampaingDiscount;\r\n                        }\r\n                    }\r\n                }\r\n                Products.push(resource.Product.product_list(Product,VARIEDADES,AVG_REVIEW,COUNT_REVIEW,DISCOUNT_EXITS));\r\n            }\r\n            res.status(200).json({\r\n                products: Products,\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"Ocurrio un error\",\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":"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"}},"mtime":1681165444925},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\Cart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CartController = _interopRequireDefault(require(\"../controllers/CartController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.get(\"/list\", _auth.default.verifyEcommerce, _CartController.default.list);\nrouter.post(\"/register\", _auth.default.verifyEcommerce, _CartController.default.register);\nrouter.put(\"/update\", _auth.default.verifyEcommerce, _CartController.default.update);\nrouter.delete(\"/delete/:id\", _auth.default.verifyEcommerce, _CartController.default.delete);\nrouter.post(\"/aplicar_cupon\", _auth.default.verifyEcommerce, _CartController.default.applyCupon);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJyb3V0ZXJ4IiwiZ2V0IiwiYXV0aCIsInZlcmlmeUVjb21tZXJjZSIsImNhcnRDb250cm9sbGVyIiwibGlzdCIsInBvc3QiLCJyZWdpc3RlciIsInB1dCIsInVwZGF0ZSIsImRlbGV0ZSIsImFwcGx5Q3Vwb24iXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJDYXJ0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gJ2V4cHJlc3MtcHJvbWlzZS1yb3V0ZXInXHJcbmltcG9ydCBjYXJ0Q29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9DYXJ0Q29udHJvbGxlcidcclxuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCdcclxuXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuXHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLGNhcnRDb250cm9sbGVyLmxpc3QpO1xyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLGNhcnRDb250cm9sbGVyLnJlZ2lzdGVyKTtcclxucm91dGVyLnB1dChcIi91cGRhdGVcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxjYXJ0Q29udHJvbGxlci51cGRhdGUpO1xyXG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZS86aWRcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxjYXJ0Q29udHJvbGxlci5kZWxldGUpO1xyXG5yb3V0ZXIucG9zdChcIi9hcGxpY2FyX2N1cG9uXCIsYXV0aC52ZXJpZnlFY29tbWVyY2UsY2FydENvbnRyb2xsZXIuYXBwbHlDdXBvbik7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFBc0M7QUFFdEMsTUFBTUEsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEdBQUU7QUFFeEJELE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLE9BQU8sRUFBQ0MsYUFBSSxDQUFDQyxlQUFlLEVBQUNDLHVCQUFjLENBQUNDLElBQUksQ0FBQztBQUM1RE4sTUFBTSxDQUFDTyxJQUFJLENBQUMsV0FBVyxFQUFDSixhQUFJLENBQUNDLGVBQWUsRUFBQ0MsdUJBQWMsQ0FBQ0csUUFBUSxDQUFDO0FBQ3JFUixNQUFNLENBQUNTLEdBQUcsQ0FBQyxTQUFTLEVBQUNOLGFBQUksQ0FBQ0MsZUFBZSxFQUFDQyx1QkFBYyxDQUFDSyxNQUFNLENBQUM7QUFDaEVWLE1BQU0sQ0FBQ1csTUFBTSxDQUFDLGFBQWEsRUFBQ1IsYUFBSSxDQUFDQyxlQUFlLEVBQUNDLHVCQUFjLENBQUNNLE1BQU0sQ0FBQztBQUN2RVgsTUFBTSxDQUFDTyxJQUFJLENBQUMsZ0JBQWdCLEVBQUNKLGFBQUksQ0FBQ0MsZUFBZSxFQUFDQyx1QkFBYyxDQUFDTyxVQUFVLENBQUM7QUFBQyxlQUU5RFosTUFBTTtBQUFBIn0=","map":{"version":3,"names":["router","routerx","get","auth","verifyEcommerce","cartController","list","post","register","put","update","delete","applyCupon"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["Cart.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport cartController from '../controllers/CartController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n\r\nrouter.get(\"/list\",auth.verifyEcommerce,cartController.list);\r\nrouter.post(\"/register\",auth.verifyEcommerce,cartController.register);\r\nrouter.put(\"/update\",auth.verifyEcommerce,cartController.update);\r\nrouter.delete(\"/delete/:id\",auth.verifyEcommerce,cartController.delete);\r\nrouter.post(\"/aplicar_cupon\",auth.verifyEcommerce,cartController.applyCupon);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA;AACA;AACA;AAAsC;AAEtC,MAAMA,MAAM,GAAG,IAAAC,6BAAO,GAAE;AAExBD,MAAM,CAACE,GAAG,CAAC,OAAO,EAACC,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACC,IAAI,CAAC;AAC5DN,MAAM,CAACO,IAAI,CAAC,WAAW,EAACJ,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACG,QAAQ,CAAC;AACrER,MAAM,CAACS,GAAG,CAAC,SAAS,EAACN,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACK,MAAM,CAAC;AAChEV,MAAM,CAACW,MAAM,CAAC,aAAa,EAACR,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACM,MAAM,CAAC;AACvEX,MAAM,CAACO,IAAI,CAAC,gBAAgB,EAACJ,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACO,UAAU,CAAC;AAAC,eAE9DZ,MAAM;AAAA"}},"mtime":1679241548364},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\CartController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  list: async (req, res) => {\n    try {\n      let user_id = req.query.user_id;\n      let CARTS = await _models.default.Cart.find({\n        user: user_id\n      }).populate(\"variedad\").populate({\n        path: \"product\",\n        populate: {\n          path: \"categorie\"\n        }\n      });\n      CARTS = CARTS.map(cart => {\n        return _resources.default.Cart.cart_list(cart);\n      });\n      res.status(200).json({\n        carts: CARTS\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      //PRIMERO VAMOS A VALIDAR SI EL PRODUCTO EXISTE EN EL CARRITO DE COMPRA\n      if (data.variedad) {\n        let valid_cart = await _models.default.Cart.findOne({\n          user: data.user,\n          variedad: data.variedad,\n          product: data.product\n        });\n        if (valid_cart) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL PRODUCTO CON LA VARIEDAD YA EXISTE EN EL CARRITO DE COMPRA\"\n          });\n          return;\n        }\n      } else {\n        let valid_cart = await _models.default.Cart.findOne({\n          user: data.user,\n          product: data.product\n        });\n        if (valid_cart) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL PRODUCTO YA EXISTE EN EL CARRITO DE COMPRA\"\n          });\n          return;\n        }\n      }\n\n      //SEGUNDO VAMOS A VALIDAR SI EL STOCK ESTA DISPONIBLE\n\n      if (data.variedad) {\n        let valid_variedad = await _models.default.Variedad.findOne({\n          id_: data.variedad\n        });\n        if (valid_variedad.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL STOCK NO ESTA DISPONIBLE\"\n          });\n          return;\n        }\n      } else {\n        let valid_product = await _models.default.Product.findOne({\n          _id: data.product\n        });\n        if (valid_product.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL STOCK NO ESTA DISPONIBLE\"\n          });\n          return;\n        }\n      }\n      let CART = await _models.default.Cart.create(data);\n      let NEW_CART = await _models.default.Cart.findById({\n        _id: CART._id\n      }).populate(\"variedad\").populate({\n        path: \"product\",\n        populate: {\n          path: \"categorie\"\n        }\n      });\n      res.status(200).json({\n        cart: _resources.default.Cart.cart_list(NEW_CART),\n        message_text: \"EL CARRITO SE REGISTRO CON EXITO\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n\n      //SEGUNDO VAMOS A VALIDAR SI EL STOCK ESTA DISPONIBLE\n\n      if (data.variedad) {\n        let valid_variedad = await _models.default.Variedad.findOne({\n          id_: data.variedad\n        });\n        if (valid_variedad.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL STOCK NO ESTA DISPONIBLE\"\n          });\n          return;\n        }\n      } else {\n        let valid_product = await _models.default.Product.findOne({\n          _id: data.product\n        });\n        if (valid_product.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL STOCK NO ESTA DISPONIBLE\"\n          });\n          return;\n        }\n      }\n      let CART = await _models.default.Cart.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let NEW_CART = await _models.default.Cart.findById({\n        _id: CART._id\n      }).populate(\"variedad\").populate({\n        path: \"product\",\n        populate: {\n          path: \"categorie\"\n        }\n      });\n      res.status(200).json({\n        cart: _resources.default.Cart.cart_list(NEW_CART),\n        message_text: \"EL CARRITO SE ACTUALIZO CON EXITO\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.params.id;\n      let CART = await _models.default.Cart.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message_text: \"EL CARRITO SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  applyCupon: async (req, res) => {\n    try {\n      let data = req.body;\n      // LA PRIMERA VALIDACIÓN TIENE QUE VER CON LA EXISTENCIA DEL CUPON\n      let CUPON = await _models.default.Cupone.findOne({\n        code: data.code\n      });\n      if (!CUPON) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL CUPON INGRESADO NO EXISTE, DIGITE OTRO NUEVAMENTE\"\n        });\n        return;\n      }\n      // TIENE CON EL USO DEL CUPON -- ESPERA \n\n      //la parte operativa\n\n      let carts = await _models.default.Cart.find({\n        user: data.user_id\n      }).populate(\"product\");\n      console.log(carts);\n      let products = [];\n      let categories = [];\n      CUPON.products.forEach(product => {\n        products.push(product._id);\n      });\n      //[837373.838383]\n      //[{_id: 837373},{_id: 838383}].includes\n      CUPON.categories.forEach(categorie => {\n        categories.push(categorie._id);\n      });\n      console.log(products);\n      console.log(categories);\n      for (const cart of carts) {\n        if (products.length > 0) {\n          if (products.includes(cart.product._id + \"\")) {\n            let subtotal = 0;\n            let total = 0;\n            if (CUPON.type_discount == 1) {\n              //PORCENTAJE\n              subtotal = cart.price_unitario - cart.price_unitario * (CUPON.discount * 0.01);\n            } else {\n              //POR MONEDA\n              subtotal = cart.price_unitario - CUPON.discount;\n            }\n            total = subtotal * cart.cantidad;\n            await _models.default.Cart.findByIdAndUpdate({\n              _id: cart._id\n            }, {\n              subtotal: subtotal,\n              total: total,\n              type_discount: CUPON.type_discount,\n              discount: CUPON.discount,\n              code_cupon: CUPON.code\n            });\n          }\n        }\n        if (categories.length > 0) {\n          if (categories.includes(cart.product.categorie + \"\")) {\n            let subtotal = 0;\n            let total = 0;\n            if (CUPON.type_discount == 1) {\n              //PORCENTAJE\n              subtotal = cart.price_unitario - cart.price_unitario * (CUPON.discount * 0.01);\n            } else {\n              //POR MONEDA\n              subtotal = cart.price_unitario - CUPON.discount;\n            }\n            total = subtotal * cart.cantidad;\n            await _models.default.Cart.findByIdAndUpdate({\n              _id: cart._id\n            }, {\n              subtotal: subtotal,\n              total: total,\n              type_discount: CUPON.type_discount,\n              discount: CUPON.discount,\n              code_cupon: CUPON.code\n            });\n          }\n        }\n      }\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL CUPON SE APLICADO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJsaXN0IiwicmVxIiwicmVzIiwidXNlcl9pZCIsInF1ZXJ5IiwiQ0FSVFMiLCJtb2RlbHMiLCJDYXJ0IiwiZmluZCIsInVzZXIiLCJwb3B1bGF0ZSIsInBhdGgiLCJtYXAiLCJjYXJ0IiwicmVzb3VyY2UiLCJjYXJ0X2xpc3QiLCJzdGF0dXMiLCJqc29uIiwiY2FydHMiLCJlcnJvciIsInNlbmQiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyIsInJlZ2lzdGVyIiwiZGF0YSIsImJvZHkiLCJ2YXJpZWRhZCIsInZhbGlkX2NhcnQiLCJmaW5kT25lIiwicHJvZHVjdCIsIm1lc3NhZ2VfdGV4dCIsInZhbGlkX3ZhcmllZGFkIiwiVmFyaWVkYWQiLCJpZF8iLCJzdG9jayIsImNhbnRpZGFkIiwidmFsaWRfcHJvZHVjdCIsIlByb2R1Y3QiLCJfaWQiLCJDQVJUIiwiY3JlYXRlIiwiTkVXX0NBUlQiLCJmaW5kQnlJZCIsInVwZGF0ZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiZGVsZXRlIiwicGFyYW1zIiwiaWQiLCJmaW5kQnlJZEFuZERlbGV0ZSIsImFwcGx5Q3Vwb24iLCJDVVBPTiIsIkN1cG9uZSIsImNvZGUiLCJwcm9kdWN0cyIsImNhdGVnb3JpZXMiLCJmb3JFYWNoIiwicHVzaCIsImNhdGVnb3JpZSIsImxlbmd0aCIsImluY2x1ZGVzIiwic3VidG90YWwiLCJ0b3RhbCIsInR5cGVfZGlzY291bnQiLCJwcmljZV91bml0YXJpbyIsImRpc2NvdW50IiwiY29kZV9jdXBvbiJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiQ2FydENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnXHJcbmltcG9ydCByZXNvdXJjZSBmcm9tICcuLi9yZXNvdXJjZXMnXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIGxpc3Q6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCB1c2VyX2lkID0gcmVxLnF1ZXJ5LnVzZXJfaWQ7XHJcbiAgICAgICAgICAgIGxldCBDQVJUUyA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmQoe1xyXG4gICAgICAgICAgICAgICAgdXNlcjogdXNlcl9pZCxcclxuICAgICAgICAgICAgfSkucG9wdWxhdGUoXCJ2YXJpZWRhZFwiKS5wb3B1bGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBwYXRoOiBcInByb2R1Y3RcIixcclxuICAgICAgICAgICAgICAgIHBvcHVsYXRlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogXCJjYXRlZ29yaWVcIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBDQVJUUyA9IENBUlRTLm1hcCgoY2FydCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlLkNhcnQuY2FydF9saXN0KGNhcnQpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIGNhcnRzOiBDQVJUUyxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICByZWdpc3Rlcjphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuICAgICAgICAgICAgLy9QUklNRVJPIFZBTU9TIEEgVkFMSURBUiBTSSBFTCBQUk9EVUNUTyBFWElTVEUgRU4gRUwgQ0FSUklUTyBERSBDT01QUkFcclxuICAgICAgICAgICAgaWYoZGF0YS52YXJpZWRhZCl7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsaWRfY2FydCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXI6IGRhdGEudXNlcixcclxuICAgICAgICAgICAgICAgICAgICB2YXJpZWRhZDogZGF0YS52YXJpZWRhZCxcclxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiBkYXRhLnByb2R1Y3QsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlmKHZhbGlkX2NhcnQpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogNDAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgUFJPRFVDVE8gQ09OIExBIFZBUklFREFEIFlBIEVYSVNURSBFTiBFTCBDQVJSSVRPIERFIENPTVBSQVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGxldCB2YWxpZF9jYXJ0ID0gYXdhaXQgbW9kZWxzLkNhcnQuZmluZE9uZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcjogZGF0YS51c2VyLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6IGRhdGEucHJvZHVjdCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYodmFsaWRfY2FydCl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiA0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBQUk9EVUNUTyBZQSBFWElTVEUgRU4gRUwgQ0FSUklUTyBERSBDT01QUkFcIixcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9TRUdVTkRPIFZBTU9TIEEgVkFMSURBUiBTSSBFTCBTVE9DSyBFU1RBIERJU1BPTklCTEVcclxuXHJcbiAgICAgICAgICAgIGlmKGRhdGEudmFyaWVkYWQpe1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbGlkX3ZhcmllZGFkID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIGlkXzogZGF0YS52YXJpZWRhZCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYodmFsaWRfdmFyaWVkYWQuc3RvY2sgPCBkYXRhLmNhbnRpZGFkKXtcclxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDQwMyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIFNUT0NLIE5PIEVTVEEgRElTUE9OSUJMRVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbGlkX3Byb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kT25lKHtcclxuICAgICAgICAgICAgICAgICAgICBfaWQ6IGRhdGEucHJvZHVjdCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYodmFsaWRfcHJvZHVjdC5zdG9jayA8IGRhdGEuY2FudGlkYWQpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogNDAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgU1RPQ0sgTk8gRVNUQSBESVNQT05JQkxFXCJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IENBUlQgPSBhd2FpdCBtb2RlbHMuQ2FydC5jcmVhdGUoZGF0YSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgTkVXX0NBUlQgPSBhd2FpdCBtb2RlbHMuQ2FydC5maW5kQnlJZCh7X2lkOiBDQVJULl9pZH0pLnBvcHVsYXRlKFwidmFyaWVkYWRcIikucG9wdWxhdGUoe1xyXG4gICAgICAgICAgICAgICAgcGF0aDogXCJwcm9kdWN0XCIsXHJcbiAgICAgICAgICAgICAgICBwb3B1bGF0ZToge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IFwiY2F0ZWdvcmllXCJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBjYXJ0OiByZXNvdXJjZS5DYXJ0LmNhcnRfbGlzdChORVdfQ0FSVCksXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgQ0FSUklUTyBTRSBSRUdJU1RSTyBDT04gRVhJVE9cIixcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB1cGRhdGU6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XHJcblxyXG4gICAgICAgICAgICAvL1NFR1VORE8gVkFNT1MgQSBWQUxJREFSIFNJIEVMIFNUT0NLIEVTVEEgRElTUE9OSUJMRVxyXG5cclxuICAgICAgICAgICAgaWYoZGF0YS52YXJpZWRhZCl7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsaWRfdmFyaWVkYWQgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZE9uZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgaWRfOiBkYXRhLnZhcmllZGFkLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZih2YWxpZF92YXJpZWRhZC5zdG9jayA8IGRhdGEuY2FudGlkYWQpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogNDAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgU1RPQ0sgTk8gRVNUQSBESVNQT05JQkxFXCJcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsaWRfcHJvZHVjdCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIF9pZDogZGF0YS5wcm9kdWN0LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZih2YWxpZF9wcm9kdWN0LnN0b2NrIDwgZGF0YS5jYW50aWRhZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiA0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBTVE9DSyBOTyBFU1RBIERJU1BPTklCTEVcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgQ0FSVCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IGRhdGEuX2lkfSxkYXRhKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBORVdfQ0FSVCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkKHtfaWQ6IENBUlQuX2lkfSkucG9wdWxhdGUoXCJ2YXJpZWRhZFwiKS5wb3B1bGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBwYXRoOiBcInByb2R1Y3RcIixcclxuICAgICAgICAgICAgICAgIHBvcHVsYXRlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogXCJjYXRlZ29yaWVcIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIGNhcnQ6IHJlc291cmNlLkNhcnQuY2FydF9saXN0KE5FV19DQVJUKSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBDQVJSSVRPIFNFIEFDVFVBTElaTyBDT04gRVhJVE9cIixcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBkZWxldGU6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBfaWQgPSByZXEucGFyYW1zLmlkO1xyXG4gICAgICAgICAgICBsZXQgQ0FSVCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IF9pZH0pO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENBUlJJVE8gU0UgRUxJTUlOTyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6XCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGFwcGx5Q3Vwb246YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XHJcbiAgICAgICAgICAgIC8vIExBIFBSSU1FUkEgVkFMSURBQ0nDk04gVElFTkUgUVVFIFZFUiBDT04gTEEgRVhJU1RFTkNJQSBERUwgQ1VQT05cclxuICAgICAgICAgICAgbGV0IENVUE9OID0gYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kT25lKHtcclxuICAgICAgICAgICAgICAgIGNvZGU6IGRhdGEuY29kZSxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgaWYoIUNVUE9OKXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiA0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENVUE9OIElOR1JFU0FETyBOTyBFWElTVEUsIERJR0lURSBPVFJPIE5VRVZBTUVOVEVcIlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gVElFTkUgQ09OIEVMIFVTTyBERUwgQ1VQT04gLS0gRVNQRVJBIFxyXG5cclxuICAgICAgICAgICAgLy9sYSBwYXJ0ZSBvcGVyYXRpdmFcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBjYXJ0cyA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmQoe3VzZXI6IGRhdGEudXNlcl9pZH0pLnBvcHVsYXRlKFwicHJvZHVjdFwiKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coY2FydHMpO1xyXG4gICAgICAgICAgICBsZXQgcHJvZHVjdHMgPSBbXTtcclxuICAgICAgICAgICAgbGV0IGNhdGVnb3JpZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIENVUE9OLnByb2R1Y3RzLmZvckVhY2goKHByb2R1Y3QpID0+IHtcclxuICAgICAgICAgICAgICAgIHByb2R1Y3RzLnB1c2gocHJvZHVjdC5faWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy9bODM3MzczLjgzODM4M11cclxuICAgICAgICAgICAgLy9be19pZDogODM3MzczfSx7X2lkOiA4MzgzODN9XS5pbmNsdWRlc1xyXG4gICAgICAgICAgICBDVVBPTi5jYXRlZ29yaWVzLmZvckVhY2goKGNhdGVnb3JpZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllcy5wdXNoKGNhdGVnb3JpZS5faWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocHJvZHVjdHMpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjYXRlZ29yaWVzKTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBjYXJ0IG9mIGNhcnRzKSB7XHJcbiAgICAgICAgICAgICAgICBpZihwcm9kdWN0cy5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihwcm9kdWN0cy5pbmNsdWRlcyhjYXJ0LnByb2R1Y3QuX2lkK1wiXCIpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN1YnRvdGFsID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRvdGFsID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoQ1VQT04udHlwZV9kaXNjb3VudCA9PSAxKXsvL1BPUkNFTlRBSkVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRvdGFsID0gY2FydC5wcmljZV91bml0YXJpbyAtIGNhcnQucHJpY2VfdW5pdGFyaW8qKENVUE9OLmRpc2NvdW50KjAuMDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsvL1BPUiBNT05FREFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRvdGFsID0gY2FydC5wcmljZV91bml0YXJpbyAtIENVUE9OLmRpc2NvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsID0gc3VidG90YWwgKiBjYXJ0LmNhbnRpZGFkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgbW9kZWxzLkNhcnQuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogY2FydC5faWR9LHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRvdGFsOiBzdWJ0b3RhbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsOiB0b3RhbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVfZGlzY291bnQ6IENVUE9OLnR5cGVfZGlzY291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudDogQ1VQT04uZGlzY291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlX2N1cG9uOiBDVVBPTi5jb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZihjYXRlZ29yaWVzLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGNhdGVnb3JpZXMuaW5jbHVkZXMoY2FydC5wcm9kdWN0LmNhdGVnb3JpZStcIlwiKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdWJ0b3RhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0b3RhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKENVUE9OLnR5cGVfZGlzY291bnQgPT0gMSl7Ly9QT1JDRU5UQUpFXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0b3RhbCA9IGNhcnQucHJpY2VfdW5pdGFyaW8gLSBjYXJ0LnByaWNlX3VuaXRhcmlvKihDVVBPTi5kaXNjb3VudCowLjAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7Ly9QT1IgTU9ORURBXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0b3RhbCA9IGNhcnQucHJpY2VfdW5pdGFyaW8gLSBDVVBPTi5kaXNjb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCA9IHN1YnRvdGFsICogY2FydC5jYW50aWRhZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IGNhcnQuX2lkfSx7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0b3RhbDogc3VidG90YWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbDogdG90YWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlX2Rpc2NvdW50OiBDVVBPTi50eXBlX2Rpc2NvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzY291bnQ6IENVUE9OLmRpc2NvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZV9jdXBvbjogQ1VQT04uY29kZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgQ1VQT04gU0UgQVBMSUNBRE8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOyBcclxu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","map":{"version":3,"names":["list","req","res","user_id","query","CARTS","models","Cart","find","user","populate","path","map","cart","resource","cart_list","status","json","carts","error","send","message","console","log","register","data","body","variedad","valid_cart","findOne","product","message_text","valid_variedad","Variedad","id_","stock","cantidad","valid_product","Product","_id","CART","create","NEW_CART","findById","update","findByIdAndUpdate","delete","params","id","findByIdAndDelete","applyCupon","CUPON","Cupone","code","products","categories","forEach","push","categorie","length","includes","subtotal","total","type_discount","price_unitario","discount","code_cupon"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["CartController.js"],"sourcesContent":["import models from '../models'\r\nimport resource from '../resources'\r\nexport default {\r\n    list:async(req,res) => {\r\n        try {\r\n            let user_id = req.query.user_id;\r\n            let CARTS = await models.Cart.find({\r\n                user: user_id,\r\n            }).populate(\"variedad\").populate({\r\n                path: \"product\",\r\n                populate: {\r\n                    path: \"categorie\"\r\n                },\r\n            });\r\n\r\n            CARTS = CARTS.map((cart) => {\r\n                return resource.Cart.cart_list(cart);\r\n            });\r\n\r\n            res.status(200).json({\r\n                carts: CARTS,\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    register:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            //PRIMERO VAMOS A VALIDAR SI EL PRODUCTO EXISTE EN EL CARRITO DE COMPRA\r\n            if(data.variedad){\r\n                let valid_cart = await models.Cart.findOne({\r\n                    user: data.user,\r\n                    variedad: data.variedad,\r\n                    product: data.product,\r\n                });\r\n                if(valid_cart){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL PRODUCTO CON LA VARIEDAD YA EXISTE EN EL CARRITO DE COMPRA\",\r\n                    })\r\n                    return;\r\n                }\r\n            }else{\r\n                let valid_cart = await models.Cart.findOne({\r\n                    user: data.user,\r\n                    product: data.product,\r\n                });\r\n                if(valid_cart){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL PRODUCTO YA EXISTE EN EL CARRITO DE COMPRA\",\r\n                    })\r\n                    return;\r\n                }\r\n            }\r\n\r\n            //SEGUNDO VAMOS A VALIDAR SI EL STOCK ESTA DISPONIBLE\r\n\r\n            if(data.variedad){\r\n                let valid_variedad = await models.Variedad.findOne({\r\n                    id_: data.variedad,\r\n                });\r\n                if(valid_variedad.stock < data.cantidad){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL STOCK NO ESTA DISPONIBLE\"\r\n                    })\r\n                    return;\r\n                }\r\n            }else{\r\n                let valid_product = await models.Product.findOne({\r\n                    _id: data.product,\r\n                });\r\n                if(valid_product.stock < data.cantidad){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL STOCK NO ESTA DISPONIBLE\"\r\n                    });\r\n                    return;\r\n                }\r\n            }\r\n            let CART = await models.Cart.create(data);\r\n            \r\n            let NEW_CART = await models.Cart.findById({_id: CART._id}).populate(\"variedad\").populate({\r\n                path: \"product\",\r\n                populate: {\r\n                    path: \"categorie\"\r\n                },\r\n            });\r\n            res.status(200).json({\r\n                cart: resource.Cart.cart_list(NEW_CART),\r\n                message_text: \"EL CARRITO SE REGISTRO CON EXITO\",\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    update:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n\r\n            //SEGUNDO VAMOS A VALIDAR SI EL STOCK ESTA DISPONIBLE\r\n\r\n            if(data.variedad){\r\n                let valid_variedad = await models.Variedad.findOne({\r\n                    id_: data.variedad,\r\n                });\r\n                if(valid_variedad.stock < data.cantidad){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL STOCK NO ESTA DISPONIBLE\"\r\n                    })\r\n                    return;\r\n                }\r\n            }else{\r\n                let valid_product = await models.Product.findOne({\r\n                    _id: data.product,\r\n                });\r\n                if(valid_product.stock < data.cantidad){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL STOCK NO ESTA DISPONIBLE\"\r\n                    });\r\n                    return;\r\n                }\r\n            }\r\n            let CART = await models.Cart.findByIdAndUpdate({_id: data._id},data);\r\n            \r\n            let NEW_CART = await models.Cart.findById({_id: CART._id}).populate(\"variedad\").populate({\r\n                path: \"product\",\r\n                populate: {\r\n                    path: \"categorie\"\r\n                },\r\n            });\r\n            res.status(200).json({\r\n                cart: resource.Cart.cart_list(NEW_CART),\r\n                message_text: \"EL CARRITO SE ACTUALIZO CON EXITO\",\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    delete:async(req,res) => {\r\n        try {\r\n            let _id = req.params.id;\r\n            let CART = await models.Cart.findByIdAndDelete({_id: _id});\r\n\r\n            res.status(200).json({\r\n                message_text: \"EL CARRITO SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    applyCupon:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            // LA PRIMERA VALIDACIÓN TIENE QUE VER CON LA EXISTENCIA DEL CUPON\r\n            let CUPON = await models.Cupone.findOne({\r\n                code: data.code,\r\n            })\r\n            if(!CUPON){\r\n                res.status(200).json({\r\n                    message: 403,\r\n                    message_text: \"EL CUPON INGRESADO NO EXISTE, DIGITE OTRO NUEVAMENTE\"\r\n                });\r\n                return;\r\n            }\r\n            // TIENE CON EL USO DEL CUPON -- ESPERA \r\n\r\n            //la parte operativa\r\n            \r\n            let carts = await models.Cart.find({user: data.user_id}).populate(\"product\");\r\n            console.log(carts);\r\n            let products = [];\r\n            let categories = [];\r\n\r\n            CUPON.products.forEach((product) => {\r\n                products.push(product._id);\r\n            });\r\n            //[837373.838383]\r\n            //[{_id: 837373},{_id: 838383}].includes\r\n            CUPON.categories.forEach((categorie) => {\r\n                categories.push(categorie._id);\r\n            });\r\n            console.log(products);\r\n            console.log(categories);\r\n            for (const cart of carts) {\r\n                if(products.length > 0){\r\n                    if(products.includes(cart.product._id+\"\")){\r\n                        let subtotal = 0;\r\n                        let total = 0;\r\n                        if(CUPON.type_discount == 1){//PORCENTAJE\r\n                            subtotal = cart.price_unitario - cart.price_unitario*(CUPON.discount*0.01);\r\n                        }else{//POR MONEDA\r\n                            subtotal = cart.price_unitario - CUPON.discount;\r\n                        }\r\n                        total = subtotal * cart.cantidad;\r\n\r\n                        await models.Cart.findByIdAndUpdate({_id: cart._id},{\r\n                            subtotal: subtotal,\r\n                            total: total,\r\n                            type_discount: CUPON.type_discount,\r\n                            discount: CUPON.discount,\r\n                            code_cupon: CUPON.code,\r\n                        });\r\n                    }\r\n                }\r\n                if(categories.length > 0){\r\n                    if(categories.includes(cart.product.categorie+\"\")){\r\n                        let subtotal = 0;\r\n                        let total = 0;\r\n                        if(CUPON.type_discount == 1){//PORCENTAJE\r\n                            subtotal = cart.price_unitario - cart.price_unitario*(CUPON.discount*0.01);\r\n                        }else{//POR MONEDA\r\n                            subtotal = cart.price_unitario - CUPON.discount;\r\n                        }\r\n                        total = subtotal * cart.cantidad;\r\n\r\n                        await models.Cart.findByIdAndUpdate({_id: cart._id},{\r\n                            subtotal: subtotal,\r\n                            total: total,\r\n                            type_discount: CUPON.type_discount,\r\n                            discount: CUPON.discount,\r\n                            code_cupon: CUPON.code,\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL CUPON SE APLICADO CORRECTAMENTE\",\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error); \r\n        }\r\n    },\r\n}"],"mappings":"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"}},"mtime":1679242177694},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\AddressClient.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _AddressClientController = _interopRequireDefault(require(\"../controllers/AddressClientController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", _auth.default.verifyEcommerce, _AddressClientController.default.register);\nrouter.put(\"/update\", _auth.default.verifyEcommerce, _AddressClientController.default.update);\nrouter.get(\"/list\", _auth.default.verifyEcommerce, _AddressClientController.default.list);\nrouter.delete(\"/delete/:id\", _auth.default.verifyEcommerce, _AddressClientController.default.remove);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlFY29tbWVyY2UiLCJBZGRyZXNzQ2xpZW50Q29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImRlbGV0ZSIsInJlbW92ZSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxccm91dGVyXFwiLCJzb3VyY2VzIjpbIkFkZHJlc3NDbGllbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IEFkZHJlc3NDbGllbnRDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL0FkZHJlc3NDbGllbnRDb250cm9sbGVyJ1xyXG5pbXBvcnQgYXV0aCBmcm9tICcuLi9taWRkbGV3YXJlcy9hdXRoJ1xyXG5cclxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xyXG4vLyBodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3VzZXJzL3JlZ2lzdGVyXHJcblxyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLEFkZHJlc3NDbGllbnRDb250cm9sbGVyLnJlZ2lzdGVyKTtcclxucm91dGVyLnB1dChcIi91cGRhdGVcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxBZGRyZXNzQ2xpZW50Q29udHJvbGxlci51cGRhdGUpO1xyXG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxBZGRyZXNzQ2xpZW50Q29udHJvbGxlci5saXN0KTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGUvOmlkXCIsYXV0aC52ZXJpZnlFY29tbWVyY2UsQWRkcmVzc0NsaWVudENvbnRyb2xsZXIucmVtb3ZlKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUFzQztBQUV0QyxNQUFNQSxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sR0FBRTtBQUN4Qjs7QUFFQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFDQyxhQUFJLENBQUNDLGVBQWUsRUFBQ0MsZ0NBQXVCLENBQUNDLFFBQVEsQ0FBQztBQUM5RU4sTUFBTSxDQUFDTyxHQUFHLENBQUMsU0FBUyxFQUFDSixhQUFJLENBQUNDLGVBQWUsRUFBQ0MsZ0NBQXVCLENBQUNHLE1BQU0sQ0FBQztBQUN6RVIsTUFBTSxDQUFDUyxHQUFHLENBQUMsT0FBTyxFQUFDTixhQUFJLENBQUNDLGVBQWUsRUFBQ0MsZ0NBQXVCLENBQUNLLElBQUksQ0FBQztBQUNyRVYsTUFBTSxDQUFDVyxNQUFNLENBQUMsYUFBYSxFQUFDUixhQUFJLENBQUNDLGVBQWUsRUFBQ0MsZ0NBQXVCLENBQUNPLE1BQU0sQ0FBQztBQUFDLGVBRWxFWixNQUFNO0FBQUEifQ==","map":{"version":3,"names":["router","routerx","post","auth","verifyEcommerce","AddressClientController","register","put","update","get","list","delete","remove"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["AddressClient.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport AddressClientController from '../controllers/AddressClientController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n// http://localhost:3000/api/users/register\r\n\r\nrouter.post(\"/register\",auth.verifyEcommerce,AddressClientController.register);\r\nrouter.put(\"/update\",auth.verifyEcommerce,AddressClientController.update);\r\nrouter.get(\"/list\",auth.verifyEcommerce,AddressClientController.list);\r\nrouter.delete(\"/delete/:id\",auth.verifyEcommerce,AddressClientController.remove);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA;AACA;AACA;AAAsC;AAEtC,MAAMA,MAAM,GAAG,IAAAC,6BAAO,GAAE;AACxB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,eAAe,EAACC,gCAAuB,CAACC,QAAQ,CAAC;AAC9EN,MAAM,CAACO,GAAG,CAAC,SAAS,EAACJ,aAAI,CAACC,eAAe,EAACC,gCAAuB,CAACG,MAAM,CAAC;AACzER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,eAAe,EAACC,gCAAuB,CAACK,IAAI,CAAC;AACrEV,MAAM,CAACW,MAAM,CAAC,aAAa,EAACR,aAAI,CAACC,eAAe,EAACC,gCAAuB,CAACO,MAAM,CAAC;AAAC,eAElEZ,MAAM;AAAA"}},"mtime":1679756135320},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\AddressClientController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  register: async (req, res) => {\n    try {\n      const address_client = await _models.default.AddressClient.create(req.body);\n      res.status(200).json({\n        message: \"LA DIRECCIÓN DEL CLIENTE SE REGISTRO CORRECTAMENTE\",\n        address_client: address_client\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"HUBO UN ERROR\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      await _models.default.AddressClient.findByIdAndUpdate({\n        _id: req.body._id\n      }, data);\n      let AddressClient = await _models.default.AddressClient.findById({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"LA DIRECCIÓN DEL CLIENTE SE EDITO CORRECTAMENTE\",\n        address_client: AddressClient\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"HUBO UN ERROR\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      let ADDRESS_CLIENT = await _models.default.AddressClient.find({\n        user: req.query.user_id\n      }).sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        address_client: ADDRESS_CLIENT\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"HUBO UN ERROR\"\n      });\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.AddressClient.findByIdAndDelete({\n        _id: req.params._id\n      });\n      res.status(200).json({\n        message: \"LA DIRECCIÓN DEL CLIENTE SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"HUBO UN ERROR\"\n      });\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZWdpc3RlciIsInJlcSIsInJlcyIsImFkZHJlc3NfY2xpZW50IiwibW9kZWxzIiwiQWRkcmVzc0NsaWVudCIsImNyZWF0ZSIsImJvZHkiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInNlbmQiLCJ1cGRhdGUiLCJkYXRhIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJfaWQiLCJmaW5kQnlJZCIsImxpc3QiLCJBRERSRVNTX0NMSUVOVCIsImZpbmQiLCJ1c2VyIiwicXVlcnkiLCJ1c2VyX2lkIiwic29ydCIsInJlbW92ZSIsImZpbmRCeUlkQW5kRGVsZXRlIiwicGFyYW1zIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJBZGRyZXNzQ2xpZW50Q29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHJlZ2lzdGVyOmFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBhZGRyZXNzX2NsaWVudCA9IGF3YWl0IG1vZGVscy5BZGRyZXNzQ2xpZW50LmNyZWF0ZShyZXEuYm9keSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTEEgRElSRUNDScOTTiBERUwgQ0xJRU5URSBTRSBSRUdJU1RSTyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICBhZGRyZXNzX2NsaWVudDogYWRkcmVzc19jbGllbnQsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJIVUJPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB1cGRhdGU6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5BZGRyZXNzQ2xpZW50LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHJlcS5ib2R5Ll9pZH0sZGF0YSk7XHJcbiAgICAgICAgICAgIGxldCBBZGRyZXNzQ2xpZW50ID0gYXdhaXQgbW9kZWxzLkFkZHJlc3NDbGllbnQuZmluZEJ5SWQoe19pZDogcmVxLmJvZHkuX2lkfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTEEgRElSRUNDScOTTiBERUwgQ0xJRU5URSBTRSBFRElUTyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICBhZGRyZXNzX2NsaWVudDogQWRkcmVzc0NsaWVudCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkhVQk8gVU4gRVJST1JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGxpc3Q6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBBRERSRVNTX0NMSUVOVCA9IGF3YWl0IG1vZGVscy5BZGRyZXNzQ2xpZW50LmZpbmQoe3VzZXI6IHJlcS5xdWVyeS51c2VyX2lkfSkuc29ydCh7J2NyZWF0ZWRBdCc6IC0xfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIGFkZHJlc3NfY2xpZW50OiBBRERSRVNTX0NMSUVOVFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiSFVCTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgcmVtb3ZlOmFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuQWRkcmVzc0NsaWVudC5maW5kQnlJZEFuZERlbGV0ZSh7X2lkOiByZXEucGFyYW1zLl9pZH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkxBIERJUkVDQ0nDk04gREVMIENMSUVOVEUgU0UgRUxJTUlOTyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJIVUJPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQStCO0FBQUEsZUFFaEI7RUFDWEEsUUFBUSxFQUFD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","map":{"version":3,"names":["register","req","res","address_client","models","AddressClient","create","body","status","json","message","error","console","log","send","update","data","findByIdAndUpdate","_id","findById","list","ADDRESS_CLIENT","find","user","query","user_id","sort","remove","findByIdAndDelete","params"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["AddressClientController.js"],"sourcesContent":["import models from \"../models\";\r\n\r\nexport default {\r\n    register:async(req,res) => {\r\n        try {\r\n            const address_client = await models.AddressClient.create(req.body);\r\n            res.status(200).json({\r\n                message: \"LA DIRECCIÓN DEL CLIENTE SE REGISTRO CORRECTAMENTE\",\r\n                address_client: address_client,\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"HUBO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    update:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            await models.AddressClient.findByIdAndUpdate({_id: req.body._id},data);\r\n            let AddressClient = await models.AddressClient.findById({_id: req.body._id});\r\n            res.status(200).json({\r\n                message: \"LA DIRECCIÓN DEL CLIENTE SE EDITO CORRECTAMENTE\",\r\n                address_client: AddressClient,\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"HUBO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    list:async(req,res) => {\r\n        try {\r\n            let ADDRESS_CLIENT = await models.AddressClient.find({user: req.query.user_id}).sort({'createdAt': -1});\r\n            res.status(200).json({\r\n                address_client: ADDRESS_CLIENT\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"HUBO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    remove:async(req,res) => {\r\n        try {\r\n            await models.AddressClient.findByIdAndDelete({_id: req.params._id});\r\n            res.status(200).json({\r\n                message: \"LA DIRECCIÓN DEL CLIENTE SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"HUBO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":";;;;;;AAAA;AAA+B;AAAA,eAEhB;EACXA,QAAQ,EAAC,OAAMC,GAAG,EAACC,GAAG,KAAK;IACvB,IAAI;MACA,MAAMC,cAAc,GAAG,MAAMC,eAAM,CAACC,aAAa,CAACC,MAAM,CAACL,GAAG,CAACM,IAAI,CAAC;MAClEL,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE,oDAAoD;QAC7DP,cAAc,EAAEA;MACpB,CAAC,CAAC;IACN,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClBT,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;QACjBJ,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ,CAAC;EACDK,MAAM,EAAC,OAAMd,GAAG,EAACC,GAAG,KAAK;IACrB,IAAI;MACA,IAAIc,IAAI,GAAGf,GAAG,CAACM,IAAI;MACnB,MAAMH,eAAM,CAACC,aAAa,CAACY,iBAAiB,CAAC;QAACC,GAAG,EAAEjB,GAAG,CAACM,IAAI,CAACW;MAAG,CAAC,EAACF,IAAI,CAAC;MACtE,IAAIX,aAAa,GAAG,MAAMD,eAAM,CAACC,aAAa,CAACc,QAAQ,CAAC;QAACD,GAAG,EAAEjB,GAAG,CAACM,IAAI,CAACW;MAAG,CAAC,CAAC;MAC5EhB,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE,iDAAiD;QAC1DP,cAAc,EAAEE;MACpB,CAAC,CAAC;IACN,CAAC,CAAC,OAAOM,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClBT,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;QACjBJ,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ,CAAC;EACDU,IAAI,EAAC,OAAMnB,GAAG,EAACC,GAAG,KAAK;IACnB,IAAI;MACA,IAAImB,cAAc,GAAG,MAAMjB,eAAM,CAACC,aAAa,CAACiB,IAAI,CAAC;QAACC,IAAI,EAAEtB,GAAG,CAACuB,KAAK,CAACC;MAAO,CAAC,CAAC,CAACC,IAAI,CAAC;QAAC,WAAW,EAAE,CAAC;MAAC,CAAC,CAAC;MACvGxB,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBN,cAAc,EAAEkB;MACpB,CAAC,CAAC;IACN,CAAC,CAAC,OAAOV,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClBT,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;QACjBJ,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ,CAAC;EACDiB,MAAM,EAAC,OAAM1B,GAAG,EAACC,GAAG,KAAK;IACrB,IAAI;MACA,MAAME,eAAM,CAACC,aAAa,CAACuB,iBAAiB,CAAC;QAACV,GAAG,EAAEjB,GAAG,CAAC4B,MAAM,CAACX;MAAG,CAAC,CAAC;MACnEhB,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClBT,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;QACjBJ,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ;AACJ,CAAC;AAAA"}},"mtime":1679758734010},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\Sale.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _SaleController = _interopRequireDefault(require(\"../controllers/SaleController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", _auth.default.verifyEcommerce, _SaleController.default.register);\n// router.get(\"/send_email/:id\",SaleController.send_email);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlFY29tbWVyY2UiLCJTYWxlQ29udHJvbGxlciIsInJlZ2lzdGVyIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiU2FsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tICdleHByZXNzLXByb21pc2Utcm91dGVyJ1xyXG5pbXBvcnQgU2FsZUNvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvU2FsZUNvbnRyb2xsZXInXHJcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXHJcblxyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcbi8vIGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcnMvcmVnaXN0ZXJcclxuXHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsYXV0aC52ZXJpZnlFY29tbWVyY2UsU2FsZUNvbnRyb2xsZXIucmVnaXN0ZXIpO1xyXG4vLyByb3V0ZXIuZ2V0KFwiL3NlbmRfZW1haWwvOmlkXCIsU2FsZUNvbnRyb2xsZXIuc2VuZF9lbWFpbCk7XHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUFzQztBQUV0QyxNQUFNQSxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sR0FBRTtBQUN4Qjs7QUFFQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFDQyxhQUFJLENBQUNDLGVBQWUsRUFBQ0MsdUJBQWMsQ0FBQ0MsUUFBUSxDQUFDO0FBQ3JFO0FBQUEsZUFDZU4sTUFBTTtBQUFBIn0=","map":{"version":3,"names":["router","routerx","post","auth","verifyEcommerce","SaleController","register"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["Sale.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport SaleController from '../controllers/SaleController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n// http://localhost:3000/api/users/register\r\n\r\nrouter.post(\"/register\",auth.verifyEcommerce,SaleController.register);\r\n// router.get(\"/send_email/:id\",SaleController.send_email);\r\nexport default router;"],"mappings":";;;;;;AAAA;AACA;AACA;AAAsC;AAEtC,MAAMA,MAAM,GAAG,IAAAC,6BAAO,GAAE;AACxB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACC,QAAQ,CAAC;AACrE;AAAA,eACeN,MAAM;AAAA"}},"mtime":1680307071422},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\SaleController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _handlebars = _interopRequireDefault(require(\"handlebars\"));\nvar _ejs = _interopRequireDefault(require(\"ejs\"));\nvar _nodemailer = _interopRequireDefault(require(\"nodemailer\"));\nvar _nodemailerSmtpTransport = _interopRequireDefault(require(\"nodemailer-smtp-transport\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nasync function send_email(sale_id) {\n  try {\n    var readHTMLFile = function (path, callback) {\n      _fs.default.readFile(path, {\n        encoding: 'utf-8'\n      }, function (err, html) {\n        if (err) {\n          throw err;\n          callback(err);\n        } else {\n          callback(null, html);\n        }\n      });\n    };\n    let Order = await _models.default.Sale.findById({\n      _id: sale_id\n    }).populate(\"user\");\n    let OrderDetail = await _models.default.SaleDetail.find({\n      sale: Order._id\n    }).populate(\"product\").populate(\"variedad\");\n    let AddressSale = await _models.default.SaleAddress.findOne({\n      sale: Order._id\n    });\n    var transporter = _nodemailer.default.createTransport((0, _nodemailerSmtpTransport.default)({\n      service: 'gmail',\n      host: 'smtp.gmail.com',\n      auth: {\n        user: 'demo@gmail.com',\n        pass: 'bilcfvchcrscbseu'\n      }\n    }));\n    readHTMLFile(process.cwd() + '/mails/email_sale.html', (err, html) => {\n      let rest_html = _ejs.default.render(html, {\n        order: Order,\n        address_sale: AddressSale,\n        order_detail: OrderDetail\n      });\n      var template = _handlebars.default.compile(rest_html);\n      var htmlToSend = template({\n        op: true\n      });\n      var mailOptions = {\n        from: 'demo@gmail.com',\n        to: Order.user.email,\n        subject: 'Finaliza tu compra ' + Order._id,\n        html: htmlToSend\n      };\n      transporter.sendMail(mailOptions, function (error, info) {\n        if (!error) {\n          console.log('Email sent: ' + info.response);\n        }\n      });\n    });\n\n    // res.status(200).json({\n    //     message: \"EL CORREO SE ENVIO CORRECTAMENTE\",\n    // });\n  } catch (error) {\n    console.log(error);\n    // res.status(500).send({\n    //     menssage:\"OCURRIO UN ERROR\",\n    // });\n  }\n}\nvar _default = {\n  register: async (req, res) => {\n    try {\n      let sale_data = req.body.sale;\n      let sale_address_data = req.body.sale_address;\n      let SALE = await _models.default.Sale.create(sale_data);\n      sale_address_data.sale = SALE._id;\n      let SALE_ADDRESS = await _models.default.SaleAddress.create(sale_address_data);\n      let CARTS = await _models.default.Cart.find({\n        user: SALE.user\n      });\n      for (let CART of CARTS) {\n        CART = CART.toObject();\n        CART.sale = SALE._id;\n        //EL DESCUENTO DE INVENTARIO\n        if (CART.variedad) {\n          //MULTIPLE INVENTARIO\n          let VARIEDAD = await _models.default.Variedad.findById({\n            _id: CART.variedad\n          });\n          let new_stock = VARIEDAD.stock - CART.cantidad;\n          await _models.default.Variedad.findByIdAndUpdate({\n            _id: CART.variedad\n          }, {\n            stock: new_stock\n          });\n        } else {\n          //UNITARIO INVENTARIO\n          let PRODUCT = await _models.default.Product.findById({\n            _id: CART.product\n          });\n          let new_stock = PRODUCT.stock - CART.cantidad;\n          await _models.default.Product.findByIdAndUpdate({\n            _id: CART.product\n          }, {\n            stock: new_stock\n          });\n        }\n        // \n        await _models.default.SaleDetail.create(CART);\n        await _models.default.Cart.findByIdAndDelete({\n          _id: CART._id\n        });\n      }\n      await send_email(SALE._id);\n      res.status(200).json({\n        message: \"LA ORDEN DE GENERO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"HUBO UN ERROR\"\n      });\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzZW5kX2VtYWlsIiwic2FsZV9pZCIsInJlYWRIVE1MRmlsZSIsInBhdGgiLCJjYWxsYmFjayIsImZzIiwicmVhZEZpbGUiLCJlbmNvZGluZyIsImVyciIsImh0bWwiLCJPcmRlciIsIm1vZGVscyIsIlNhbGUiLCJmaW5kQnlJZCIsIl9pZCIsInBvcHVsYXRlIiwiT3JkZXJEZXRhaWwiLCJTYWxlRGV0YWlsIiwiZmluZCIsInNhbGUiLCJBZGRyZXNzU2FsZSIsIlNhbGVBZGRyZXNzIiwiZmluZE9uZSIsInRyYW5zcG9ydGVyIiwibm9kZW1haWxlciIsImNyZWF0ZVRyYW5zcG9ydCIsInNtdHBUcmFuc3BvcnQiLCJzZXJ2aWNlIiwiaG9zdCIsImF1dGgiLCJ1c2VyIiwicGFzcyIsInByb2Nlc3MiLCJjd2QiLCJyZXN0X2h0bWwiLCJlanMiLCJyZW5kZXIiLCJvcmRlciIsImFkZHJlc3Nfc2FsZSIsIm9yZGVyX2RldGFpbCIsInRlbXBsYXRlIiwiaGFuZGxlYmFycyIsImNvbXBpbGUiLCJodG1sVG9TZW5kIiwib3AiLCJtYWlsT3B0aW9ucyIsImZyb20iLCJ0byIsImVtYWlsIiwic3ViamVjdCIsInNlbmRNYWlsIiwiZXJyb3IiLCJpbmZvIiwiY29uc29sZSIsImxvZyIsInJlc3BvbnNlIiwicmVnaXN0ZXIiLCJyZXEiLCJyZXMiLCJzYWxlX2RhdGEiLCJib2R5Iiwic2FsZV9hZGRyZXNzX2RhdGEiLCJzYWxlX2FkZHJlc3MiLCJTQUxFIiwiY3JlYXRlIiwiU0FMRV9BRERSRVNTIiwiQ0FSVFMiLCJDYXJ0IiwiQ0FSVCIsInRvT2JqZWN0IiwidmFyaWVkYWQiLCJWQVJJRURBRCIsIlZhcmllZGFkIiwibmV3X3N0b2NrIiwic3RvY2siLCJjYW50aWRhZCIsImZpbmRCeUlkQW5kVXBkYXRlIiwiUFJPRFVDVCIsIlByb2R1Y3QiLCJwcm9kdWN0IiwiZmluZEJ5SWRBbmREZWxldGUiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInNlbmQiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIlNhbGVDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSAnLi4vbW9kZWxzJztcclxuXHJcbmltcG9ydCBmcyBmcm9tICdmcyc7XHJcbmltcG9ydCBoYW5kbGViYXJzIGZyb20gJ2hhbmRsZWJhcnMnO1xyXG5pbXBvcnQgZWpzIGZyb20gJ2Vqcyc7XHJcbmltcG9ydCBub2RlbWFpbGVyIGZyb20gJ25vZGVtYWlsZXInO1xyXG5pbXBvcnQgc210cFRyYW5zcG9ydCBmcm9tICdub2RlbWFpbGVyLXNtdHAtdHJhbnNwb3J0JztcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHNlbmRfZW1haWwoc2FsZV9pZCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB2YXIgcmVhZEhUTUxGaWxlID0gZnVuY3Rpb24ocGF0aCwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgZnMucmVhZEZpbGUocGF0aCwge2VuY29kaW5nOiAndXRmLTgnfSwgZnVuY3Rpb24gKGVyciwgaHRtbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgaHRtbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07ICBcclxuICAgICAgICBcclxuICAgICAgICBsZXQgT3JkZXIgPSBhd2FpdCBtb2RlbHMuU2FsZS5maW5kQnlJZCh7X2lkOiBzYWxlX2lkfSkucG9wdWxhdGUoXCJ1c2VyXCIpO1xyXG4gICAgICAgIGxldCBPcmRlckRldGFpbCA9IGF3YWl0IG1vZGVscy5TYWxlRGV0YWlsLmZpbmQoe3NhbGU6IE9yZGVyLl9pZH0pLnBvcHVsYXRlKFwicHJvZHVjdFwiKS5wb3B1bGF0ZShcInZhcmllZGFkXCIpO1xyXG4gICAgICAgIGxldCBBZGRyZXNzU2FsZSA9IGF3YWl0IG1vZGVscy5TYWxlQWRkcmVzcy5maW5kT25lKHtzYWxlOiBPcmRlci5faWR9KTtcclxuICAgICAgICB2YXIgdHJhbnNwb3J0ZXIgPSBub2RlbWFpbGVyLmNyZWF0ZVRyYW5zcG9ydChzbXRwVHJhbnNwb3J0KHtcclxuICAgICAgICAgICAgc2VydmljZTogJ2dtYWlsJyxcclxuICAgICAgICAgICAgaG9zdDogJ3NtdHAuZ21haWwuY29tJyxcclxuICAgICAgICAgICAgYXV0aDoge1xyXG4gICAgICAgICAgICB1c2VyOiAnZGVtb0BnbWFpbC5jb20nLFxyXG4gICAgICAgICAgICAgICAgcGFzczogJ2JpbGNmdmNoY3JzY2JzZXUnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgIHJlYWRIVE1MRmlsZShwcm9jZXNzLmN3ZCgpICsgJy9tYWlscy9lbWFpbF9zYWxlLmh0bWwnLCAoZXJyLCBodG1sKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgcmVzdF9odG1sID0gZWpzLnJlbmRlcihodG1sLCB7b3JkZXI6IE9yZGVyLGFkZHJlc3Nfc2FsZTogQWRkcmVzc1NhbGUsb3JkZXJfZGV0YWlsOiBPcmRlckRldGFpbH0pO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9IGhhbmRsZWJhcnMuY29tcGlsZShyZXN0X2h0bWwpO1xyXG4gICAgICAgICAgICB2YXIgaHRtbFRvU2VuZCA9IHRlbXBsYXRlKHtvcDp0cnVlfSk7XHJcbiAgICBcclxuICAgICAgICAgICAgdmFyIG1haWxPcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgZnJvbTogJ2RlbW9AZ21haWwuY29tJyxcclxuICAgICAgICAgICAgICAgIHRvOiBPcmRlci51c2VyLmVtYWlsLFxyXG4gICAgICAgICAgICAgICAgc3ViamVjdDogJ0ZpbmFsaXphIHR1IGNvbXByYSAnICsgT3JkZXIuX2lkLFxyXG4gICAgICAgICAgICAgICAgaHRtbDogaHRtbFRvU2VuZFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAgIHRyYW5zcG9ydGVyLnNlbmRNYWlsKG1haWxPcHRpb25zLCBmdW5jdGlvbihlcnJvciwgaW5mbyl7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0VtYWlsIHNlbnQ6ICcgKyBpbmZvLnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgIC8vICAgICBtZXNzYWdlOiBcIkVMIENPUlJFTyBTRSBFTlZJTyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAvLyByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgLy8gICAgIG1lbnNzYWdlOlwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHJlZ2lzdGVyOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IHNhbGVfZGF0YSA9IHJlcS5ib2R5LnNhbGU7XHJcbiAgICAgICAgICAgIGxldCBzYWxlX2FkZHJlc3NfZGF0YSA9IHJlcS5ib2R5LnNhbGVfYWRkcmVzcztcclxuXHJcbiAgICAgICAgICAgIGxldCBTQUxFID0gYXdhaXQgbW9kZWxzLlNhbGUuY3JlYXRlKHNhbGVfZGF0YSk7XHJcblxyXG4gICAgICAgICAgICBzYWxlX2FkZHJlc3NfZGF0YS5zYWxlID0gU0FMRS5faWQ7XHJcblxyXG4gICAgICAgICAgICBsZXQgU0FMRV9BRERSRVNTID0gYXdhaXQgbW9kZWxzLlNhbGVBZGRyZXNzLmNyZWF0ZShzYWxlX2FkZHJlc3NfZGF0YSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgQ0FSVFMgPSBhd2FpdCBtb2RlbHMuQ2FydC5maW5kKHt1c2VyOiBTQUxFLnVzZXJ9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGZvciAobGV0IENBUlQgb2YgQ0FSVFMpIHtcclxuICAgICAgICAgICAgICAgIENBUlQgPSBDQVJULnRvT2JqZWN0KCk7XHJcbiAgICAgICAgICAgICAgICBDQVJULnNhbGUgPSBTQUxFLl9pZDtcclxuICAgICAgICAgICAgICAgIC8vRUwgREVTQ1VFTlRPIERFIElOVkVOVEFSSU9cclxuICAgICAgICAgICAgICAgIGlmKENBUlQudmFyaWVkYWQpey8vTVVMVElQTEUgSU5WRU5UQVJJT1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBWQVJJRURBRCA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kQnlJZCh7X2lkOiBDQVJULnZhcmllZGFkfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld19zdG9jayA9IFZBUklFREFELnN0b2NrIC0gQ0FSVC5jYW50aWRhZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IENBUlQudmFyaWVkYWR9LHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RvY2s6IG5ld19zdG9jayxcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfWVsc2V7Ly9VTklUQVJJTyBJTlZFTlRBUklPXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IFBST0RVQ1QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kQnlJZCh7X2lkOiBDQVJULnByb2R1Y3R9KTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbmV3X3N0b2NrID0gUFJPRFVDVC5zdG9jayAtIENBUlQuY2FudGlkYWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IENBUlQucHJvZHVjdH0se1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9jazpuZXdfc3RvY2ssXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IG1vZGVscy5TYWxlRGV0YWlsLmNyZWF0ZShDQVJUKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IENBUlQuX2lkfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGF3YWl0IHNlbmRfZW1haWwoU0FMRS5faWQpO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJMQSBPUkRFTiBERSBHRU5FUk8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJIVUJPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAg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","map":{"version":3,"names":["send_email","sale_id","readHTMLFile","path","callback","fs","readFile","encoding","err","html","Order","models","Sale","findById","_id","populate","OrderDetail","SaleDetail","find","sale","AddressSale","SaleAddress","findOne","transporter","nodemailer","createTransport","smtpTransport","service","host","auth","user","pass","process","cwd","rest_html","ejs","render","order","address_sale","order_detail","template","handlebars","compile","htmlToSend","op","mailOptions","from","to","email","subject","sendMail","error","info","console","log","response","register","req","res","sale_data","body","sale_address_data","sale_address","SALE","create","SALE_ADDRESS","CARTS","Cart","CART","toObject","variedad","VARIEDAD","Variedad","new_stock","stock","cantidad","findByIdAndUpdate","PRODUCT","Product","product","findByIdAndDelete","status","json","message","send"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["SaleController.js"],"sourcesContent":["import models from '../models';\r\n\r\nimport fs from 'fs';\r\nimport handlebars from 'handlebars';\r\nimport ejs from 'ejs';\r\nimport nodemailer from 'nodemailer';\r\nimport smtpTransport from 'nodemailer-smtp-transport';\r\n\r\nasync function send_email(sale_id) {\r\n    try {\r\n        var readHTMLFile = function(path, callback) {\r\n            fs.readFile(path, {encoding: 'utf-8'}, function (err, html) {\r\n                if (err) {\r\n                    throw err;\r\n                    callback(err);\r\n                }\r\n                else {\r\n                    callback(null, html);\r\n                }\r\n            });\r\n        };  \r\n        \r\n        let Order = await models.Sale.findById({_id: sale_id}).populate(\"user\");\r\n        let OrderDetail = await models.SaleDetail.find({sale: Order._id}).populate(\"product\").populate(\"variedad\");\r\n        let AddressSale = await models.SaleAddress.findOne({sale: Order._id});\r\n        var transporter = nodemailer.createTransport(smtpTransport({\r\n            service: 'gmail',\r\n            host: 'smtp.gmail.com',\r\n            auth: {\r\n            user: 'demo@gmail.com',\r\n                pass: 'bilcfvchcrscbseu'\r\n            }\r\n        }));\r\n\r\n        readHTMLFile(process.cwd() + '/mails/email_sale.html', (err, html)=>{\r\n                                \r\n            let rest_html = ejs.render(html, {order: Order,address_sale: AddressSale,order_detail: OrderDetail});\r\n    \r\n            var template = handlebars.compile(rest_html);\r\n            var htmlToSend = template({op:true});\r\n    \r\n            var mailOptions = {\r\n                from: 'demo@gmail.com',\r\n                to: Order.user.email,\r\n                subject: 'Finaliza tu compra ' + Order._id,\r\n                html: htmlToSend\r\n            };\r\n          \r\n            transporter.sendMail(mailOptions, function(error, info){\r\n                if (!error) {\r\n                    console.log('Email sent: ' + info.response);\r\n                }\r\n            });\r\n        \r\n        });\r\n        \r\n        // res.status(200).json({\r\n        //     message: \"EL CORREO SE ENVIO CORRECTAMENTE\",\r\n        // });\r\n    } catch (error) {\r\n        console.log(error);\r\n        // res.status(500).send({\r\n        //     menssage:\"OCURRIO UN ERROR\",\r\n        // });\r\n    }\r\n}\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            let sale_data = req.body.sale;\r\n            let sale_address_data = req.body.sale_address;\r\n\r\n            let SALE = await models.Sale.create(sale_data);\r\n\r\n            sale_address_data.sale = SALE._id;\r\n\r\n            let SALE_ADDRESS = await models.SaleAddress.create(sale_address_data);\r\n\r\n            let CARTS = await models.Cart.find({user: SALE.user});\r\n            \r\n            for (let CART of CARTS) {\r\n                CART = CART.toObject();\r\n                CART.sale = SALE._id;\r\n                //EL DESCUENTO DE INVENTARIO\r\n                if(CART.variedad){//MULTIPLE INVENTARIO\r\n                    let VARIEDAD = await models.Variedad.findById({_id: CART.variedad});\r\n                    let new_stock = VARIEDAD.stock - CART.cantidad;\r\n\r\n                    await models.Variedad.findByIdAndUpdate({_id: CART.variedad},{\r\n                        stock: new_stock,\r\n                    })\r\n                }else{//UNITARIO INVENTARIO\r\n                    let PRODUCT = await models.Product.findById({_id: CART.product});\r\n                    let new_stock = PRODUCT.stock - CART.cantidad;\r\n\r\n                    await models.Product.findByIdAndUpdate({_id: CART.product},{\r\n                        stock:new_stock,\r\n                    });\r\n                }\r\n                // \r\n                await models.SaleDetail.create(CART);\r\n                await models.Cart.findByIdAndDelete({_id: CART._id});\r\n            }\r\n\r\n            await send_email(SALE._id);\r\n\r\n            res.status(200).json({\r\n                message: \"LA ORDEN DE GENERO CORRECTAMENTE\",\r\n            })\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"HUBO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":"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"}},"mtime":1681620934838},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\Review.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _ReviewClientController = _interopRequireDefault(require(\"../controllers/ReviewClientController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", _auth.default.verifyEcommerce, _ReviewClientController.default.register);\nrouter.put(\"/update\", _auth.default.verifyEcommerce, _ReviewClientController.default.update);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlFY29tbWVyY2UiLCJSZXZpZXdDbGllbnRDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJSZXZpZXcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IFJldmlld0NsaWVudENvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvUmV2aWV3Q2xpZW50Q29udHJvbGxlcidcclxuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCdcclxuXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuXHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsYXV0aC52ZXJpZnlFY29tbWVyY2UsUmV2aWV3Q2xpZW50Q29udHJvbGxlci5yZWdpc3Rlcik7XHJcbnJvdXRlci5wdXQoXCIvdXBkYXRlXCIsYXV0aC52ZXJpZnlFY29tbWVyY2UsUmV2aWV3Q2xpZW50Q29udHJvbGxlci51cGRhdGUpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQXNDO0FBRXRDLE1BQU1BLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxHQUFFO0FBRXhCRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUNDLGFBQUksQ0FBQ0MsZUFBZSxFQUFDQywrQkFBc0IsQ0FBQ0MsUUFBUSxDQUFDO0FBQzdFTixNQUFNLENBQUNPLEdBQUcsQ0FBQyxTQUFTLEVBQUNKLGFBQUksQ0FBQ0MsZUFBZSxFQUFDQywrQkFBc0IsQ0FBQ0csTUFBTSxDQUFDO0FBQUMsZUFFMURSLE1BQU07QUFBQSJ9","map":{"version":3,"names":["router","routerx","post","auth","verifyEcommerce","ReviewClientController","register","put","update"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["Review.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport ReviewClientController from '../controllers/ReviewClientController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n\r\nrouter.post(\"/register\",auth.verifyEcommerce,ReviewClientController.register);\r\nrouter.put(\"/update\",auth.verifyEcommerce,ReviewClientController.update);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA;AACA;AACA;AAAsC;AAEtC,MAAMA,MAAM,GAAG,IAAAC,6BAAO,GAAE;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,eAAe,EAACC,+BAAsB,CAACC,QAAQ,CAAC;AAC7EN,MAAM,CAACO,GAAG,CAAC,SAAS,EAACJ,aAAI,CAACC,eAAe,EAACC,+BAAsB,CAACG,MAAM,CAAC;AAAC,eAE1DR,MAAM;AAAA"}},"mtime":1680709913230},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\ReviewClientController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  register: async (req, res) => {\n    try {\n      let review = await _models.default.Review.create(req.body);\n      res.status(200).json({\n        message: \"LA RESEÑA HA SIDO REGISTRADA CORRECTAMENTE\",\n        review: review\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      await _models.default.Review.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let reviewD = await _models.default.Review.findById({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"LA RESEÑA HA MODIFICADO CORRECTAMENTE\",\n        review: reviewD\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  }\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZWdpc3RlciIsInJlcSIsInJlcyIsInJldmlldyIsIm1vZGVscyIsIlJldmlldyIsImNyZWF0ZSIsImJvZHkiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInNlbmQiLCJ1cGRhdGUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIl9pZCIsInJldmlld0QiLCJmaW5kQnlJZCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiUmV2aWV3Q2xpZW50Q29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHJlZ2lzdGVyOmFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgcmV2aWV3ID0gYXdhaXQgbW9kZWxzLlJldmlldy5jcmVhdGUocmVxLmJvZHkpO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJMQSBSRVNFw5FBIEhBIFNJRE8gUkVHSVNUUkFEQSBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICByZXZpZXc6IHJldmlldyxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlOmFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuUmV2aWV3LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHJlcS5ib2R5Ll9pZH0scmVxLmJvZHkpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHJldmlld0QgPSBhd2FpdCBtb2RlbHMuUmV2aWV3LmZpbmRCeUlkKHtfaWQ6IHJlcS5ib2R5Ll9pZH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkxBIFJFU0XDkUEgSEEgTU9ESUZJQ0FETyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICByZXZpZXc6IHJldmlld0RcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUErQjtBQUFBLGVBRWhCO0VBQ1hBLFFBQVEsRUFBQyxPQUFNQyxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUN2QixJQUFJO01BQ0EsSUFBSUMsTUFBTSxHQUFHLE1BQU1DLGVBQU0sQ0FBQ0MsTUFBTSxDQUFDQyxNQUFNLENBQUNMLEdBQUcsQ0FBQ00sSUFBSSxDQUFDO01BRWpETCxHQUFHLENBQUNNLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUUsNENBQTRDO1FBQ3JEUCxNQUFNLEVBQUVBO01BQ1osQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDLE9BQU9RLEtBQUssRUFBRTtNQUNaQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsS0FBSyxDQUFDO01BQ2xCVCxHQUFHLENBQUNNLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ00sSUFBSSxDQUFDO1FBQ2pCSixPQUFPLEVBQUM7TUFDWixDQUFDLENBQUM7SUFDTjtFQUNKLENBQUM7RUFDREssTUFBTSxFQUFDLE9BQU1kLEdBQUcsRUFBQ0MsR0FBRyxLQUFLO0lBQ3JCLElBQUk7TUFDQSxNQUFNRSxlQUFNLENBQUNDLE1BQU0sQ0FBQ1csaUJBQWlCLENBQUM7UUFBQ0MsR0FBRyxFQUFFaEIsR0FBRyxDQUFDTSxJQUFJLENBQUNVO01BQUcsQ0FBQyxFQUFDaEIsR0FBRyxDQUFDTSxJQUFJLENBQUM7TUFFbkUsSUFBSVcsT0FBTyxHQUFHLE1BQU1kLGVBQU0sQ0FBQ0MsTUFBTSxDQUFDYyxRQUFRLENBQUM7UUFBQ0YsR0FBRyxFQUFFaEIsR0FBRyxDQUFDTSxJQUFJLENBQUNVO01BQUcsQ0FBQyxDQUFDO01BQy9EZixHQUFHLENBQUNNLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUUsdUNBQXVDO1FBQ2hEUCxNQUFNLEVBQUVlO01BQ1osQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDLE9BQU9QLEtBQUssRUFBRTtNQUNaQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsS0FBSyxDQUFDO01BQ2xCVCxHQUFHLENBQUNNLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ00sSUFBSSxDQUFDO1FBQ2pCSixPQUFPLEVBQUM7TUFDWixDQUFDLENBQUM7SUFDTjtFQUNKO0FBQ0osQ0FBQztBQUFBIn0=","map":{"version":3,"names":["register","req","res","review","models","Review","create","body","status","json","message","error","console","log","send","update","findByIdAndUpdate","_id","reviewD","findById"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["ReviewClientController.js"],"sourcesContent":["import models from \"../models\";\r\n\r\nexport default {\r\n    register:async(req,res) => {\r\n        try {\r\n            let review = await models.Review.create(req.body);\r\n\r\n            res.status(200).json({\r\n                message: \"LA RESEÑA HA SIDO REGISTRADA CORRECTAMENTE\",\r\n                review: review,\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    update:async(req,res) => {\r\n        try {\r\n            await models.Review.findByIdAndUpdate({_id: req.body._id},req.body);\r\n\r\n            let reviewD = await models.Review.findById({_id: req.body._id});\r\n            res.status(200).json({\r\n                message: \"LA RESEÑA HA MODIFICADO CORRECTAMENTE\",\r\n                review: reviewD\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":";;;;;;AAAA;AAA+B;AAAA,eAEhB;EACXA,QAAQ,EAAC,OAAMC,GAAG,EAACC,GAAG,KAAK;IACvB,IAAI;MACA,IAAIC,MAAM,GAAG,MAAMC,eAAM,CAACC,MAAM,CAACC,MAAM,CAACL,GAAG,CAACM,IAAI,CAAC;MAEjDL,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE,4CAA4C;QACrDP,MAAM,EAAEA;MACZ,CAAC,CAAC;IACN,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClBT,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;QACjBJ,OAAO,EAAC;MACZ,CAAC,CAAC;IACN;EACJ,CAAC;EACDK,MAAM,EAAC,OAAMd,GAAG,EAACC,GAAG,KAAK;IACrB,IAAI;MACA,MAAME,eAAM,CAACC,MAAM,CAACW,iBAAiB,CAAC;QAACC,GAAG,EAAEhB,GAAG,CAACM,IAAI,CAACU;MAAG,CAAC,EAAChB,GAAG,CAACM,IAAI,CAAC;MAEnE,IAAIW,OAAO,GAAG,MAAMd,eAAM,CAACC,MAAM,CAACc,QAAQ,CAAC;QAACF,GAAG,EAAEhB,GAAG,CAACM,IAAI,CAACU;MAAG,CAAC,CAAC;MAC/Df,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE,uCAAuC;QAChDP,MAAM,EAAEe;MACZ,CAAC,CAAC;IACN,CAAC,CAAC,OAAOP,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClBT,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;QACjBJ,OAAO,EAAC;MACZ,CAAC,CAAC;IACN;EACJ;AACJ,CAAC;AAAA"}},"mtime":1680715491681},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _router = _interopRequireDefault(require(\"./router\"));\nvar dotenv = _interopRequireWildcard(require(\"dotenv\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// see https://github.com/motdotla/dotenv#how-do-i-use-dotenv-with-import\ndotenv.config();\n//CONEXION A LA BASE DE DATOS\n\n_mongoose.default.Promise = global.Promise;\nconst dbUrL = \"mongodb://127.0.0.1:27017/ecommerce\";\n_mongoose.default.connect(dbUrL, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}).then(mongoose => console.log(\"CONECTADO A LA BD EN EL PUERTO 27017\")).catch(err => console.log(err));\nconst app = (0, _express.default)();\napp.use((0, _cors.default)());\napp.use(_express.default.json());\napp.use(_express.default.urlencoded({\n  extended: true\n}));\napp.use(_express.default.static(_path.default.join(__dirname, 'public')));\napp.use('/api/', _router.default);\napp.set('port', process.env.PORT || 3000);\napp.listen(app.get('port'), () => {\n  console.log(\"EL SERVIDOR SE EJECUTO PERFECTAMENTE EN EL PUERTO 3000\");\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJtb25nb29zZSIsIlByb21pc2UiLCJnbG9iYWwiLCJkYlVyTCIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ0aGVuIiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyIiwiYXBwIiwiZXhwcmVzcyIsInVzZSIsImNvcnMiLCJqc29uIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwic3RhdGljIiwicGF0aCIsImpvaW4iLCJfX2Rpcm5hbWUiLCJyb3V0ZXIiLCJzZXQiLCJwcm9jZXNzIiwiZW52IiwiUE9SVCIsImxpc3RlbiIsImdldCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJ1xyXG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJ1xyXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xyXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnXHJcbmltcG9ydCByb3V0ZXIgZnJvbSAnLi9yb3V0ZXInXHJcbmltcG9ydCAqIGFzIGRvdGVudiBmcm9tICdkb3RlbnYnIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbW90ZG90bGEvZG90ZW52I2hvdy1kby1pLXVzZS1kb3RlbnYtd2l0aC1pbXBvcnRcclxuZG90ZW52LmNvbmZpZygpXHJcbi8vQ09ORVhJT04gQSBMQSBCQVNFIERFIERBVE9TXHJcblxyXG5tb25nb29zZS5Qcm9taXNlID0gZ2xvYmFsLlByb21pc2U7XHJcbmNvbnN0IGRiVXJMID0gXCJtb25nb2RiOi8vMTI3LjAuMC4xOjI3MDE3L2Vjb21tZXJjZVwiO1xyXG5tb25nb29zZS5jb25uZWN0KFxyXG4gICAgZGJVckwgLCB7XHJcbiAgICAgICAgdXNlTmV3VXJsUGFyc2VyOiAgdHJ1ZSxcclxuICAgICAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWVcclxuICAgIH1cclxuKS50aGVuKG1vbmdvb3NlID0+IGNvbnNvbGUubG9nKFwiQ09ORUNUQURPIEEgTEEgQkQgRU4gRUwgUFVFUlRPIDI3MDE3XCIpKVxyXG4uY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG5cclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5hcHAudXNlKGNvcnMoKSk7XHJcblxyXG5hcHAudXNlKGV4cHJlc3MuanNvbigpKTtcclxuYXBwLnVzZShleHByZXNzLnVybGVuY29kZWQoe2V4dGVuZGVkOiB0cnVlfSkpO1xyXG5hcHAudXNlKGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsJ3B1YmxpYycpKSlcclxuYXBwLnVzZSgnL2FwaS8nLHJvdXRlcilcclxuXHJcbmFwcC5zZXQoJ3BvcnQnLHByb2Nlc3MuZW52LlBPUlQgfHwgMzAwMCk7XHJcblxyXG5hcHAubGlzdGVuKGFwcC5nZXQoJ3BvcnQnKSwgKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coXCJFTCBTRVJWSURPUiBTRSBFSkVDVVRPIFBFUkZFQ1RBTUVOVEUgRU4gRUwgUFVFUlRPIDMwMDBcIik7XHJcbn0pIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFnQztBQUFBO0FBQUE7QUFBQztBQUNqQ0EsTUFBTSxDQUFDQyxNQUFNLEVBQUU7QUFDZjs7QUFFQUMsaUJBQVEsQ0FBQ0MsT0FBTyxHQUFHQyxNQUFNLENBQUNELE9BQU87QUFDakMsTUFBTUUsS0FBSyxHQUFHLHFDQUFxQztBQUNuREgsaUJBQVEsQ0FBQ0ksT0FBTyxDQUNaRCxLQUFLLEVBQUc7RUFDSkUsZUFBZSxFQUFHLElBQUk7RUFDdEJDLGtCQUFrQixFQUFFO0FBQ3hCLENBQUMsQ0FDSixDQUFDQyxJQUFJLENBQUNQLFFBQVEsSUFBSVEsT0FBTyxDQUFDQyxHQUFHLENBQUMsc0NBQXNDLENBQUMsQ0FBQyxDQUN0RUMsS0FBSyxDQUFDQyxHQUFHLElBQUlILE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRSxHQUFHLENBQUMsQ0FBQztBQUUvQixNQUFNQyxHQUFHLEdBQUcsSUFBQUMsZ0JBQU8sR0FBRTtBQUNyQkQsR0FBRyxDQUFDRSxHQUFHLENBQUMsSUFBQUMsYUFBSSxHQUFFLENBQUM7QUFFZkgsR0FBRyxDQUFDRSxHQUFHLENBQUNELGdCQUFPLENBQUNHLElBQUksRUFBRSxDQUFDO0FBQ3ZCSixHQUFHLENBQUNFLEdBQUcsQ0FBQ0QsZ0JBQU8sQ0FBQ0ksVUFBVSxDQUFDO0VBQUNDLFFBQVEsRUFBRTtBQUFJLENBQUMsQ0FBQyxDQUFDO0FBQzdDTixHQUFHLENBQUNFLEdBQUcsQ0FBQ0QsZ0JBQU8sQ0FBQ00sTUFBTSxDQUFDQyxhQUFJLENBQUNDLElBQUksQ0FBQ0MsU0FBUyxFQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7QUFDdERWLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLE9BQU8sRUFBQ1MsZUFBTSxDQUFDO0FBRXZCWCxHQUFHLENBQUNZLEdBQUcsQ0FBQyxNQUFNLEVBQUNDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxJQUFJLElBQUksSUFBSSxDQUFDO0FBRXhDZixHQUFHLENBQUNnQixNQUFNLENBQUNoQixHQUFHLENBQUNpQixHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsTUFBTTtFQUM5QnJCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHdEQUF3RCxDQUFDO0FBQ3pFLENBQUMsQ0FBQyJ9","map":{"version":3,"names":["dotenv","config","mongoose","Promise","global","dbUrL","connect","useNewUrlParser","useUnifiedTopology","then","console","log","catch","err","app","express","use","cors","json","urlencoded","extended","static","path","join","__dirname","router","set","process","env","PORT","listen","get"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\","sources":["index.js"],"sourcesContent":["import express from 'express'\r\nimport cors from 'cors'\r\nimport path from 'path'\r\nimport mongoose from 'mongoose'\r\nimport router from './router'\r\nimport * as dotenv from 'dotenv' // see https://github.com/motdotla/dotenv#how-do-i-use-dotenv-with-import\r\ndotenv.config()\r\n//CONEXION A LA BASE DE DATOS\r\n\r\nmongoose.Promise = global.Promise;\r\nconst dbUrL = \"mongodb://127.0.0.1:27017/ecommerce\";\r\nmongoose.connect(\r\n    dbUrL , {\r\n        useNewUrlParser:  true,\r\n        useUnifiedTopology: true\r\n    }\r\n).then(mongoose => console.log(\"CONECTADO A LA BD EN EL PUERTO 27017\"))\r\n.catch(err => console.log(err));\r\n\r\nconst app = express();\r\napp.use(cors());\r\n\r\napp.use(express.json());\r\napp.use(express.urlencoded({extended: true}));\r\napp.use(express.static(path.join(__dirname,'public')))\r\napp.use('/api/',router)\r\n\r\napp.set('port',process.env.PORT || 3000);\r\n\r\napp.listen(app.get('port'), () => {\r\n    console.log(\"EL SERVIDOR SE EJECUTO PERFECTAMENTE EN EL PUERTO 3000\");\r\n})"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AAAgC;AAAA;AAAA;AAAC;AACjCA,MAAM,CAACC,MAAM,EAAE;AACf;;AAEAC,iBAAQ,CAACC,OAAO,GAAGC,MAAM,CAACD,OAAO;AACjC,MAAME,KAAK,GAAG,qCAAqC;AACnDH,iBAAQ,CAACI,OAAO,CACZD,KAAK,EAAG;EACJE,eAAe,EAAG,IAAI;EACtBC,kBAAkB,EAAE;AACxB,CAAC,CACJ,CAACC,IAAI,CAACP,QAAQ,IAAIQ,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC,CAAC,CACtEC,KAAK,CAACC,GAAG,IAAIH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC,CAAC;AAE/B,MAAMC,GAAG,GAAG,IAAAC,gBAAO,GAAE;AACrBD,GAAG,CAACE,GAAG,CAAC,IAAAC,aAAI,GAAE,CAAC;AAEfH,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACG,IAAI,EAAE,CAAC;AACvBJ,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACI,UAAU,CAAC;EAACC,QAAQ,EAAE;AAAI,CAAC,CAAC,CAAC;AAC7CN,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACM,MAAM,CAACC,aAAI,CAACC,IAAI,CAACC,SAAS,EAAC,QAAQ,CAAC,CAAC,CAAC;AACtDV,GAAG,CAACE,GAAG,CAAC,OAAO,EAACS,eAAM,CAAC;AAEvBX,GAAG,CAACY,GAAG,CAAC,MAAM,EAACC,OAAO,CAACC,GAAG,CAACC,IAAI,IAAI,IAAI,CAAC;AAExCf,GAAG,CAACgB,MAAM,CAAChB,GAAG,CAACiB,GAAG,CAAC,MAAM,CAAC,EAAE,MAAM;EAC9BrB,OAAO,CAACC,GAAG,CAAC,wDAAwD,CAAC;AACzE,CAAC,CAAC"}},"mtime":1726095917090},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _Cupone = _interopRequireDefault(require(\"./Cupone\"));\nvar _Discount = _interopRequireDefault(require(\"./Discount\"));\nvar _Home = _interopRequireDefault(require(\"./Home\"));\nvar _Cart = _interopRequireDefault(require(\"./Cart\"));\nvar _AddressClient = _interopRequireDefault(require(\"./AddressClient\"));\nvar _Sale = _interopRequireDefault(require(\"./Sale\"));\nvar _Review = _interopRequireDefault(require(\"./Review\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.use('/users', _User.default);\nrouter.use('/categories', _Categorie.default);\nrouter.use('/products', _Product.default);\nrouter.use('/sliders', _Slider.default);\nrouter.use('/cupones', _Cupone.default);\nrouter.use('/discount', _Discount.default);\nrouter.use('/home', _Home.default);\nrouter.use('/cart', _Cart.default);\nrouter.use('/address_client', _AddressClient.default);\nrouter.use('/sale', _Sale.default);\nrouter.use('/review', _Review.default);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJyb3V0ZXJ4IiwidXNlIiwiVXNlciIsIkNhdGVnb3JpZSIsIlByb2R1Y3QiLCJTbGlkZXIiLCJDdXBvbmUiLCJEaXNjb3VudCIsIkhvbWUiLCJDYXJ0IiwiQWRkcmVzc0NsaWVudCIsIlNhbGUiLCJSZXZpZXciXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tICdleHByZXNzLXByb21pc2Utcm91dGVyJ1xyXG5pbXBvcnQgVXNlciBmcm9tICcuL1VzZXInXHJcbmltcG9ydCBDYXRlZ29yaWUgZnJvbSAnLi9DYXRlZ29yaWUnXHJcbmltcG9ydCBQcm9kdWN0IGZyb20gJy4vUHJvZHVjdCdcclxuaW1wb3J0IFNsaWRlciBmcm9tICcuL1NsaWRlcidcclxuaW1wb3J0IEN1cG9uZSBmcm9tICcuL0N1cG9uZSdcclxuaW1wb3J0IERpc2NvdW50IGZyb20gJy4vRGlzY291bnQnXHJcbmltcG9ydCBIb21lIGZyb20gJy4vSG9tZSdcclxuaW1wb3J0IENhcnQgZnJvbSAnLi9DYXJ0J1xyXG5pbXBvcnQgQWRkcmVzc0NsaWVudCBmcm9tICcuL0FkZHJlc3NDbGllbnQnXHJcbmltcG9ydCBTYWxlIGZyb20gJy4vU2FsZSdcclxuaW1wb3J0IFJldmlldyBmcm9tICcuL1JldmlldydcclxuXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxucm91dGVyLnVzZSgnL3VzZXJzJywgVXNlcik7XHJcbnJvdXRlci51c2UoJy9jYXRlZ29yaWVzJywgQ2F0ZWdvcmllKTtcclxucm91dGVyLnVzZSgnL3Byb2R1Y3RzJywgUHJvZHVjdCk7XHJcbnJvdXRlci51c2UoJy9zbGlkZXJzJywgU2xpZGVyKTtcclxucm91dGVyLnVzZSgnL2N1cG9uZXMnLCBDdXBvbmUpO1xyXG5yb3V0ZXIudXNlKCcvZGlzY291bnQnLCBEaXNjb3VudCk7XHJcbnJvdXRlci51c2UoJy9ob21lJywgSG9tZSk7XHJcbnJvdXRlci51c2UoJy9jYXJ0JywgQ2FydCk7XHJcbnJvdXRlci51c2UoJy9hZGRyZXNzX2NsaWVudCcsQWRkcmVzc0NsaWVudCk7XHJcbnJvdXRlci51c2UoJy9zYWxlJyxTYWxlKTtcclxucm91dGVyLnVzZSgnL3JldmlldycsUmV2aWV3KTtcclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQTZCO0FBRTdCLE1BQU1BLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxHQUFFO0FBQ3hCRCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxRQUFRLEVBQUVDLGFBQUksQ0FBQztBQUMxQkgsTUFBTSxDQUFDRSxHQUFHLENBQUMsYUFBYSxFQUFFRSxrQkFBUyxDQUFDO0FBQ3BDSixNQUFNLENBQUNFLEdBQUcsQ0FBQyxXQUFXLEVBQUVHLGdCQUFPLENBQUM7QUFDaENMLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLFVBQVUsRUFBRUksZUFBTSxDQUFDO0FBQzlCTixNQUFNLENBQUNFLEdBQUcsQ0FBQyxVQUFVLEVBQUVLLGVBQU0sQ0FBQztBQUM5QlAsTUFBTSxDQUFDRSxHQUFHLENBQUMsV0FBVyxFQUFFTSxpQkFBUSxDQUFDO0FBQ2pDUixNQUFNLENBQUNFLEdBQUcsQ0FBQyxPQUFPLEVBQUVPLGFBQUksQ0FBQztBQUN6QlQsTUFBTSxDQUFDRSxHQUFHLENBQUMsT0FBTyxFQUFFUSxhQUFJLENBQUM7QUFDekJWLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLGlCQUFpQixFQUFDUyxzQkFBYSxDQUFDO0FBQzNDWCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxPQUFPLEVBQUNVLGFBQUksQ0FBQztBQUN4QlosTUFBTSxDQUFDRSxHQUFHLENBQUMsU0FBUyxFQUFDVyxlQUFNLENBQUM7QUFBQyxpQ0FDZGIsTUFBTSJ9","map":{"version":3,"names":["router","routerx","use","User","Categorie","Product","Slider","Cupone","Discount","Home","Cart","AddressClient","Sale","Review"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["index.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport User from './User'\r\nimport Categorie from './Categorie'\r\nimport Product from './Product'\r\nimport Slider from './Slider'\r\nimport Cupone from './Cupone'\r\nimport Discount from './Discount'\r\nimport Home from './Home'\r\nimport Cart from './Cart'\r\nimport AddressClient from './AddressClient'\r\nimport Sale from './Sale'\r\nimport Review from './Review'\r\n\r\nconst router = routerx();\r\nrouter.use('/users', User);\r\nrouter.use('/categories', Categorie);\r\nrouter.use('/products', Product);\r\nrouter.use('/sliders', Slider);\r\nrouter.use('/cupones', Cupone);\r\nrouter.use('/discount', Discount);\r\nrouter.use('/home', Home);\r\nrouter.use('/cart', Cart);\r\nrouter.use('/address_client',AddressClient);\r\nrouter.use('/sale',Sale);\r\nrouter.use('/review',Review);\r\nexport default router;"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAA6B;AAE7B,MAAMA,MAAM,GAAG,IAAAC,6BAAO,GAAE;AACxBD,MAAM,CAACE,GAAG,CAAC,QAAQ,EAAEC,aAAI,CAAC;AAC1BH,MAAM,CAACE,GAAG,CAAC,aAAa,EAAEE,kBAAS,CAAC;AACpCJ,MAAM,CAACE,GAAG,CAAC,WAAW,EAAEG,gBAAO,CAAC;AAChCL,MAAM,CAACE,GAAG,CAAC,UAAU,EAAEI,eAAM,CAAC;AAC9BN,MAAM,CAACE,GAAG,CAAC,UAAU,EAAEK,eAAM,CAAC;AAC9BP,MAAM,CAACE,GAAG,CAAC,WAAW,EAAEM,iBAAQ,CAAC;AACjCR,MAAM,CAACE,GAAG,CAAC,OAAO,EAAEO,aAAI,CAAC;AACzBT,MAAM,CAACE,GAAG,CAAC,OAAO,EAAEQ,aAAI,CAAC;AACzBV,MAAM,CAACE,GAAG,CAAC,iBAAiB,EAACS,sBAAa,CAAC;AAC3CX,MAAM,CAACE,GAAG,CAAC,OAAO,EAACU,aAAI,CAAC;AACxBZ,MAAM,CAACE,GAAG,CAAC,SAAS,EAACW,eAAM,CAAC;AAAC,iCACdb,MAAM"}},"mtime":1680709936100},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _UserController = _interopRequireDefault(require(\"../controllers/UserController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", _UserController.default.register);\nrouter.put(\"/update\", _UserController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _UserController.default.list);\nrouter.post(\"/register_admin\", _auth.default.verifyAdmin, _UserController.default.register_admin);\nrouter.post(\"/login\", _UserController.default.login);\nrouter.post(\"/login_admin\", _UserController.default.login_admin);\nrouter.delete(\"/delete\", _UserController.default.remove);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsInVzZXJjb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJsaXN0IiwicmVnaXN0ZXJfYWRtaW4iLCJsb2dpbiIsImxvZ2luX2FkbWluIiwiZGVsZXRlIiwicmVtb3ZlIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tICdleHByZXNzLXByb21pc2Utcm91dGVyJ1xyXG5pbXBvcnQgdXNlcmNvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvVXNlckNvbnRyb2xsZXInXHJcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXHJcblxyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcbi8vIGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcnMvcmVnaXN0ZXJcclxuXHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsdXNlcmNvbnRyb2xsZXIucmVnaXN0ZXIpO1xyXG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLHVzZXJjb250cm9sbGVyLnVwZGF0ZSk7XHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4sdXNlcmNvbnRyb2xsZXIubGlzdCk7XHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyX2FkbWluXCIsYXV0aC52ZXJpZnlBZG1pbix1c2VyY29udHJvbGxlci5yZWdpc3Rlcl9hZG1pbik7XHJcbnJvdXRlci5wb3N0KFwiL2xvZ2luXCIsdXNlcmNvbnRyb2xsZXIubG9naW4pO1xyXG5yb3V0ZXIucG9zdChcIi9sb2dpbl9hZG1pblwiLHVzZXJjb250cm9sbGVyLmxvZ2luX2FkbWluKTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIix1c2VyY29udHJvbGxlci5yZW1vdmUpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQXNDO0FBRXRDLE1BQU1BLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxHQUFFO0FBQ3hCOztBQUVBRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUNDLHVCQUFjLENBQUNDLFFBQVEsQ0FBQztBQUNoREosTUFBTSxDQUFDSyxHQUFHLENBQUMsU0FBUyxFQUFDRix1QkFBYyxDQUFDRyxNQUFNLENBQUM7QUFDM0NOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLE9BQU8sRUFBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUNOLHVCQUFjLENBQUNPLElBQUksQ0FBQztBQUN4RFYsTUFBTSxDQUFDRSxJQUFJLENBQUMsaUJBQWlCLEVBQUNNLGFBQUksQ0FBQ0MsV0FBVyxFQUFDTix1QkFBYyxDQUFDUSxjQUFjLENBQUM7QUFDN0VYLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFFBQVEsRUFBQ0MsdUJBQWMsQ0FBQ1MsS0FBSyxDQUFDO0FBQzFDWixNQUFNLENBQUNFLElBQUksQ0FBQyxjQUFjLEVBQUNDLHVCQUFjLENBQUNVLFdBQVcsQ0FBQztBQUN0RGIsTUFBTSxDQUFDYyxNQUFNLENBQUMsU0FBUyxFQUFDWCx1QkFBYyxDQUFDWSxNQUFNLENBQUM7QUFBQyxpQ0FFaENmLE1BQU0ifQ==","map":{"version":3,"names":["router","routerx","post","usercontroller","register","put","update","get","auth","verifyAdmin","list","register_admin","login","login_admin","delete","remove"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["User.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport usercontroller from '../controllers/UserController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n// http://localhost:3000/api/users/register\r\n\r\nrouter.post(\"/register\",usercontroller.register);\r\nrouter.put(\"/update\",usercontroller.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,usercontroller.list);\r\nrouter.post(\"/register_admin\",auth.verifyAdmin,usercontroller.register_admin);\r\nrouter.post(\"/login\",usercontroller.login);\r\nrouter.post(\"/login_admin\",usercontroller.login_admin);\r\nrouter.delete(\"/delete\",usercontroller.remove);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA;AACA;AACA;AAAsC;AAEtC,MAAMA,MAAM,GAAG,IAAAC,6BAAO,GAAE;AACxB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,uBAAc,CAACC,QAAQ,CAAC;AAChDJ,MAAM,CAACK,GAAG,CAAC,SAAS,EAACF,uBAAc,CAACG,MAAM,CAAC;AAC3CN,MAAM,CAACO,GAAG,CAAC,OAAO,EAACC,aAAI,CAACC,WAAW,EAACN,uBAAc,CAACO,IAAI,CAAC;AACxDV,MAAM,CAACE,IAAI,CAAC,iBAAiB,EAACM,aAAI,CAACC,WAAW,EAACN,uBAAc,CAACQ,cAAc,CAAC;AAC7EX,MAAM,CAACE,IAAI,CAAC,QAAQ,EAACC,uBAAc,CAACS,KAAK,CAAC;AAC1CZ,MAAM,CAACE,IAAI,CAAC,cAAc,EAACC,uBAAc,CAACU,WAAW,CAAC;AACtDb,MAAM,CAACc,MAAM,CAAC,SAAS,EAACX,uBAAc,CAACY,MAAM,CAAC;AAAC,iCAEhCf,MAAM"}},"mtime":1676271632239},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      // rol\n      // name\n      // surname\n      // email\n      // password\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      const user = await _models.default.User.create(req.body);\n      res.status(200).json(user);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_admin: async (req, res) => {\n    try {\n      // rol\n      // name\n      // surname\n      // email\n      // password\n      const userV = await _models.default.User.findOne({\n        email: req.body.email\n      });\n      if (userV) {\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"admin\";\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      let user = await _models.default.User.create(req.body);\n      res.status(200).json({\n        user: _resources.default.User.user_list(user)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1\n      });\n      if (user) {\n        //SI ESTA RGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              _id: user._id,\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login_admin: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1,\n        rol: \"admin\"\n      });\n      if (user) {\n        //SI ESTA RGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar,\n              rol: user.rol\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('\\\\');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let UserT = await _models.default.User.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n        user: _resources.default.User.user_list(UserT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Users = await _models.default.User.find({\n        $or: [{\n          \"name\": new RegExp(search, \"i\")\n        }, {\n          \"surname\": new RegExp(search, \"i\")\n        }, {\n          \"email\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Users = Users.map(user => {\n        return _resources.default.User.user_list(user);\n      });\n      res.status(200).json({\n        users: Users\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      const User = await _models.default.User.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZWdpc3RlciIsInJlcSIsInJlcyIsImJvZHkiLCJwYXNzd29yZCIsImJjcnlwdCIsImhhc2giLCJ1c2VyIiwibW9kZWxzIiwiVXNlciIsImNyZWF0ZSIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInNlbmQiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyIsInJlZ2lzdGVyX2FkbWluIiwidXNlclYiLCJmaW5kT25lIiwiZW1haWwiLCJyb2wiLCJyZXNvdXJjZSIsInVzZXJfbGlzdCIsImxvZ2luIiwic3RhdGUiLCJjb21wYXJlIiwidG9rZW5UIiwidG9rZW4iLCJlbmNvZGUiLCJfaWQiLCJVU0VSX0ZST05URUQiLCJuYW1lIiwic3VybmFtZSIsImF2YXRhciIsImxvZ2luX2FkbWluIiwidXBkYXRlIiwiZmlsZXMiLCJpbWdfcGF0aCIsInBhdGgiLCJzcGxpdCIsImF2YXRhcl9uYW1lIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJVc2VyVCIsImxpc3QiLCJzZWFyY2giLCJxdWVyeSIsIlVzZXJzIiwiZmluZCIsIiRvciIsIlJlZ0V4cCIsInNvcnQiLCJtYXAiLCJ1c2VycyIsInJlbW92ZSIsImZpbmRCeUlkQW5kRGVsZXRlIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJVc2VyQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJ1xyXG5pbXBvcnQgbW9kZWxzIGZyb20gJy4uL21vZGVscydcclxuaW1wb3J0IHRva2VuIGZyb20gJy4uL3NlcnZpY2VzL3Rva2VuJ1xyXG5pbXBvcnQgcmVzb3VyY2UgZnJvbSAnLi4vcmVzb3VyY2VzJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyByb2xcclxuICAgICAgICAgICAgLy8gbmFtZVxyXG4gICAgICAgICAgICAvLyBzdXJuYW1lXHJcbiAgICAgICAgICAgIC8vIGVtYWlsXHJcbiAgICAgICAgICAgIC8vIHBhc3N3b3JkXHJcbiAgICAgICAgICAgIHJlcS5ib2R5LnBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocmVxLmJvZHkucGFzc3dvcmQsMTApO1xyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuY3JlYXRlKHJlcS5ib2R5KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24odXNlcik7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgcmVnaXN0ZXJfYWRtaW46IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyByb2xcclxuICAgICAgICAgICAgLy8gbmFtZVxyXG4gICAgICAgICAgICAvLyBzdXJuYW1lXHJcbiAgICAgICAgICAgIC8vIGVtYWlsXHJcbiAgICAgICAgICAgIC8vIHBhc3N3b3JkXHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXJWID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsfSk7XHJcbiAgICAgICAgICAgIGlmKHVzZXJWKXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gWUEgRVhJU1RFXCJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlcS5ib2R5LnJvbCA9IFwiYWRtaW5cIjtcclxuICAgICAgICAgICAgcmVxLmJvZHkucGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChyZXEuYm9keS5wYXNzd29yZCwxMCk7XHJcbiAgICAgICAgICAgIGxldCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuY3JlYXRlKHJlcS5ib2R5KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgdXNlcjogcmVzb3VyY2UuVXNlci51c2VyX2xpc3QodXNlcilcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbG9naW46IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsLHN0YXRlOjF9KTtcclxuICAgICAgICAgICAgaWYodXNlcil7XHJcbiAgICAgICAgICAgICAgICAvL1NJIEVTVEEgUkdJU1RSQURPIEVOIEVMIFNJU1RFTUFcclxuICAgICAgICAgICAgICAgIGxldCBjb21wYXJlID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocmVxLmJvZHkucGFzc3dvcmQsdXNlci5wYXNzd29yZCk7XHJcbiAgICAgICAgICAgICAgICBpZihjb21wYXJlKXtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdG9rZW5UID0gYXdhaXQgdG9rZW4uZW5jb2RlKHVzZXIuX2lkLHVzZXIucm9sLHVzZXIuZW1haWwpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBVU0VSX0ZST05URUQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOnRva2VuVCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2lkOiB1c2VyLl9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VybmFtZTogdXNlci5zdXJuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVVNFUl9GUk9OVEVEOlVTRVJfRlJPTlRFRCxcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVhJU1RFXCJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGxvZ2luX2FkbWluOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoe2VtYWlsOiByZXEuYm9keS5lbWFpbCxzdGF0ZToxLHJvbDogXCJhZG1pblwifSk7XHJcbiAgICAgICAgICAgIGlmKHVzZXIpe1xyXG4gICAgICAgICAgICAgICAgLy9TSSBFU1RBIFJHSVNUUkFETyBFTiBFTCBTSVNURU1BXHJcbiAgICAgICAgICAgICAgICBsZXQgY29tcGFyZSA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHJlcS5ib2R5LnBhc3N3b3JkLHVzZXIucGFzc3dvcmQpO1xyXG4gICAgICAgICAgICAgICAgaWYoY29tcGFyZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRva2VuVCA9IGF3YWl0IHRva2VuLmVuY29kZSh1c2VyLl9pZCx1c2VyLnJvbCx1c2VyLmVtYWlsKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgVVNFUl9GUk9OVEVEID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjp0b2tlblQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VybmFtZTogdXNlci5zdXJuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbDogdXNlci5yb2wsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFVTRVJfRlJPTlRFRDpVU0VSX0ZST05URUQsXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBOTyBFWElTVEVcIlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB1cGRhdGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZihyZXEuZmlsZXMpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLmF2YXRhci5wYXRoO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnXFxcXCcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGF2YXRhcl9uYW1lID0gbmFtZVsyXTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGF2YXRhcl9uYW1lKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHJlcS5ib2R5LnBhc3N3b3JkKXtcclxuICAgICAgICAgICAgICAgIHJlcS5ib2R5LnBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocmVxLmJvZHkucGFzc3dvcmQsMTApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHJlcS5ib2R5Ll9pZH0scmVxLmJvZHkpO1xyXG5cclxuICAgICAgICAgICAgbGV0IFVzZXJUID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7X2lkOiByZXEuYm9keS5faWR9KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIFNFIEhBIE1PRElGSUNBRE8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICAgICAgdXNlcjogcmVzb3VyY2UuVXNlci51c2VyX2xpc3QoVXNlclQpLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBsaXN0OiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIHNlYXJjaCA9IHJlcS5xdWVyeS5zZWFyY2g7XHJcbiAgICAgICAgICAgIGxldCBVc2VycyA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmQoe1xyXG4gICAgICAgICAgICAgICAgJG9yOltcclxuICAgICAgICAgICAgICAgICAgICB7XCJuYW1lXCI6IG5ldyBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcInN1cm5hbWVcIjogbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXHJcbiAgICAgICAgICAgICAgICAgICAge1wiZW1haWxcIjogbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH0pLnNvcnQoeydjcmVhdGVkQXQnOiAtMX0pO1xyXG5cclxuICAgICAgICAgICAgVXNlcnMgPSBVc2Vycy5tYXAoKHVzZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvdXJjZS5Vc2VyLnVzZXJfbGlzdCh1c2VyKTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIHVzZXJzOiBVc2Vyc1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICByZW1vdmU6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBVc2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZEJ5SWRBbmREZWxldGUoe19pZDogcmVxLnF1ZXJ5Ll9pZH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gU0UgRUxJTUlOTyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFtQztBQUFBLGlDQUVwQjtFQUNYQSxRQUFRLEVBQUUsT0FBTUMsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDeEIsSUFBSTtNQUNBO01BQ0E7TUFDQTtNQUNBO01BQ0E7TUFDQUQsR0FBRyxDQUFDRSxJQUFJLENBQUNDLFFBQVEsR0FBRyxNQUFNQyxpQkFBTSxDQUFDQyxJQUFJLENBQUNMLEdBQUcsQ0FBQ0UsSUFBSSxDQUFDQyxRQUFRLEVBQUMsRUFBRSxDQUFDO01BQzNELE1BQU1HLElBQUksR0FBRyxNQUFNQyxlQUFNLENBQUNDLElBQUksQ0FBQ0MsTUFBTSxDQUFDVCxHQUFHLENBQUNFLElBQUksQ0FBQztNQUMvQ0QsR0FBRyxDQUFDUyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQ0wsSUFBSSxDQUFDO0lBQzlCLENBQUMsQ0FBQyxPQUFP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","map":{"version":3,"names":["register","req","res","body","password","bcrypt","hash","user","models","User","create","status","json","error","send","message","console","log","register_admin","userV","findOne","email","rol","resource","user_list","login","state","compare","tokenT","token","encode","_id","USER_FRONTED","name","surname","avatar","login_admin","update","files","img_path","path","split","avatar_name","findByIdAndUpdate","UserT","list","search","query","Users","find","$or","RegExp","sort","map","users","remove","findByIdAndDelete"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["UserController.js"],"sourcesContent":["import bcrypt from 'bcryptjs'\r\nimport models from '../models'\r\nimport token from '../services/token'\r\nimport resource from '../resources'\r\n\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            // rol\r\n            // name\r\n            // surname\r\n            // email\r\n            // password\r\n            req.body.password = await bcrypt.hash(req.body.password,10);\r\n            const user = await models.User.create(req.body);\r\n            res.status(200).json(user);\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    register_admin: async(req,res) => {\r\n        try {\r\n            // rol\r\n            // name\r\n            // surname\r\n            // email\r\n            // password\r\n            const userV = await models.User.findOne({email: req.body.email});\r\n            if(userV){\r\n                res.status(500).send({\r\n                    message: \"EL USUARIO YA EXISTE\"\r\n                });\r\n            }\r\n            req.body.rol = \"admin\";\r\n            req.body.password = await bcrypt.hash(req.body.password,10);\r\n            let user = await models.User.create(req.body);\r\n            res.status(200).json({\r\n                user: resource.User.user_list(user)\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    login: async(req,res) => {\r\n        try {\r\n            const user = await models.User.findOne({email: req.body.email,state:1});\r\n            if(user){\r\n                //SI ESTA RGISTRADO EN EL SISTEMA\r\n                let compare = await bcrypt.compare(req.body.password,user.password);\r\n                if(compare){\r\n                    let tokenT = await token.encode(user._id,user.rol,user.email);\r\n\r\n                    const USER_FRONTED = {\r\n                        token:tokenT,\r\n                        user: {\r\n                            _id: user._id,\r\n                            name: user.name,\r\n                            email: user.email,\r\n                            surname: user.surname,\r\n                            avatar: user.avatar,\r\n                        },\r\n                    }\r\n\r\n                    res.status(200).json({\r\n                        USER_FRONTED:USER_FRONTED,\r\n                    })\r\n                }else{\r\n                    res.status(500).send({\r\n                        message: \"EL USUARIO NO EXISTE\"\r\n                    });\r\n                }\r\n            }else{\r\n                res.status(500).send({\r\n                    message: \"EL USUARIO NO EXISTE\"\r\n                });\r\n            }\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    login_admin: async(req,res) => {\r\n        try {\r\n            const user = await models.User.findOne({email: req.body.email,state:1,rol: \"admin\"});\r\n            if(user){\r\n                //SI ESTA RGISTRADO EN EL SISTEMA\r\n                let compare = await bcrypt.compare(req.body.password,user.password);\r\n                if(compare){\r\n                    let tokenT = await token.encode(user._id,user.rol,user.email);\r\n\r\n                    const USER_FRONTED = {\r\n                        token:tokenT,\r\n                        user: {\r\n                            name: user.name,\r\n                            email: user.email,\r\n                            surname: user.surname,\r\n                            avatar: user.avatar,\r\n                            rol: user.rol,\r\n                        },\r\n                    }\r\n\r\n                    res.status(200).json({\r\n                        USER_FRONTED:USER_FRONTED,\r\n                    })\r\n                }else{\r\n                    res.status(500).send({\r\n                        message: \"EL USUARIO NO EXISTE\"\r\n                    });\r\n                }\r\n            }else{\r\n                res.status(500).send({\r\n                    message: \"EL USUARIO NO EXISTE\"\r\n                });\r\n            }\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    update: async(req,res) => {\r\n        try {\r\n            if(req.files){\r\n                var img_path = req.files.avatar.path;\r\n                var name = img_path.split('\\\\');\r\n                var avatar_name = name[2];\r\n                console.log(avatar_name)\r\n            }\r\n            if(req.body.password){\r\n                req.body.password = await bcrypt.hash(req.body.password,10);\r\n            }\r\n            await models.User.findByIdAndUpdate({_id: req.body._id},req.body);\r\n\r\n            let UserT = await models.User.findOne({_id: req.body._id});\r\n            res.status(200).json({\r\n                message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\r\n                user: resource.User.user_list(UserT),\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    list: async(req,res) => {\r\n        try {\r\n            var search = req.query.search;\r\n            let Users = await models.User.find({\r\n                $or:[\r\n                    {\"name\": new RegExp(search, \"i\")},\r\n                    {\"surname\": new RegExp(search, \"i\")},\r\n                    {\"email\": new RegExp(search, \"i\")},\r\n                ]\r\n            }).sort({'createdAt': -1});\r\n\r\n            Users = Users.map((user) => {\r\n                return resource.User.user_list(user);\r\n            })\r\n\r\n            res.status(200).json({\r\n                users: Users\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    remove: async(req,res) => {\r\n        try {\r\n            const User = await models.User.findByIdAndDelete({_id: req.query._id});\r\n            res.status(200).json({\r\n                message: \"EL USUARIO SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    }\r\n}"],"mappings":"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"}},"mtime":1678755723103},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Variedad = _interopRequireDefault(require(\"./Variedad\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _Cupone = _interopRequireDefault(require(\"./Cupone\"));\nvar _Discount = _interopRequireDefault(require(\"./Discount\"));\nvar _Cart = _interopRequireDefault(require(\"./Cart\"));\nvar _AddressClient = _interopRequireDefault(require(\"./AddressClient\"));\nvar _Sale = _interopRequireDefault(require(\"./Sale\"));\nvar _SaleDetail = _interopRequireDefault(require(\"./SaleDetail\"));\nvar _SaleAddress = _interopRequireDefault(require(\"./SaleAddress\"));\nvar _Review = _interopRequireDefault(require(\"./Review\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  User: _User.default,\n  Categorie: _Categorie.default,\n  Product: _Product.default,\n  Variedad: _Variedad.default,\n  Slider: _Slider.default,\n  Cupone: _Cupone.default,\n  Discount: _Discount.default,\n  Cart: _Cart.default,\n  AddressClient: _AddressClient.default,\n  Sale: _Sale.default,\n  SaleDetail: _SaleDetail.default,\n  SaleAddress: _SaleAddress.default,\n  Review: _Review.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJVc2VyIiwiQ2F0ZWdvcmllIiwiUHJvZHVjdCIsIlZhcmllZGFkIiwiU2xpZGVyIiwiQ3Vwb25lIiwiRGlzY291bnQiLCJDYXJ0IiwiQWRkcmVzc0NsaWVudCIsIlNhbGUiLCJTYWxlRGV0YWlsIiwiU2FsZUFkZHJlc3MiLCJSZXZpZXciXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXG1vZGVsc1xcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXNlciBmcm9tICcuL1VzZXInXHJcbmltcG9ydCBDYXRlZ29yaWUgZnJvbSAnLi9DYXRlZ29yaWUnXHJcbmltcG9ydCBQcm9kdWN0IGZyb20gJy4vUHJvZHVjdCdcclxuaW1wb3J0IFZhcmllZGFkIGZyb20gJy4vVmFyaWVkYWQnXHJcbmltcG9ydCBTbGlkZXIgZnJvbSAnLi9TbGlkZXInXHJcbmltcG9ydCBDdXBvbmUgZnJvbSAnLi9DdXBvbmUnXHJcbmltcG9ydCBEaXNjb3VudCBmcm9tICcuL0Rpc2NvdW50J1xyXG5pbXBvcnQgQ2FydCBmcm9tICcuL0NhcnQnXHJcbmltcG9ydCBBZGRyZXNzQ2xpZW50IGZyb20gJy4vQWRkcmVzc0NsaWVudCdcclxuXHJcbmltcG9ydCBTYWxlIGZyb20gJy4vU2FsZSdcclxuaW1wb3J0IFNhbGVEZXRhaWwgZnJvbSAnLi9TYWxlRGV0YWlsJ1xyXG5pbXBvcnQgU2FsZUFkZHJlc3MgZnJvbSAnLi9TYWxlQWRkcmVzcydcclxuXHJcbmltcG9ydCBSZXZpZXcgZnJvbSAnLi9SZXZpZXcnXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICBVc2VyLFxyXG4gICAgQ2F0ZWdvcmllLFxyXG4gICAgUHJvZHVjdCxcclxuICAgIFZhcmllZGFkLFxyXG4gICAgU2xpZGVyLFxyXG4gICAgQ3Vwb25lLFxyXG4gICAgRGlzY291bnQsXHJcbiAgICBDYXJ0LFxyXG4gICAgQWRkcmVzc0NsaWVudCxcclxuICAgIFNhbGUsXHJcbiAgICBTYWxlRGV0YWlsLFxyXG4gICAgU2FsZUFkZHJlc3MsXHJcbiAgICBSZXZpZXcsXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQTZCO0FBQUEsaUNBRWQ7RUFDWEEsSUFBSSxFQUFKQSxhQUFJO0VBQ0pDLFNBQVMsRUFBVEEsa0JBQVM7RUFDVEMsT0FBTyxFQUFQQSxnQkFBTztFQUNQQyxRQUFRLEVBQVJBLGlCQUFRO0VBQ1JDLE1BQU0sRUFBTkEsZUFBTTtFQUNOQyxNQUFNLEVBQU5BLGVBQU07RUFDTkMsUUFBUSxFQUFSQSxpQkFBUTtFQUNSQyxJQUFJLEVBQUpBLGFBQUk7RUFDSkMsYUFBYSxFQUFiQSxzQkFBYTtFQUNiQyxJQUFJLEVBQUpBLGFBQUk7RUFDSkMsVUFBVSxFQUFWQSxtQkFBVTtFQUNWQyxXQUFXLEVBQVhBLG9CQUFXO0VBQ1hDLE1BQU0sRUFBTkE7QUFDSixDQUFDIn0=","map":{"version":3,"names":["User","Categorie","Product","Variedad","Slider","Cupone","Discount","Cart","AddressClient","Sale","SaleDetail","SaleAddress","Review"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["index.js"],"sourcesContent":["import User from './User'\r\nimport Categorie from './Categorie'\r\nimport Product from './Product'\r\nimport Variedad from './Variedad'\r\nimport Slider from './Slider'\r\nimport Cupone from './Cupone'\r\nimport Discount from './Discount'\r\nimport Cart from './Cart'\r\nimport AddressClient from './AddressClient'\r\n\r\nimport Sale from './Sale'\r\nimport SaleDetail from './SaleDetail'\r\nimport SaleAddress from './SaleAddress'\r\n\r\nimport Review from './Review'\r\n\r\nexport default {\r\n    User,\r\n    Categorie,\r\n    Product,\r\n    Variedad,\r\n    Slider,\r\n    Cupone,\r\n    Discount,\r\n    Cart,\r\n    AddressClient,\r\n    Sale,\r\n    SaleDetail,\r\n    SaleAddress,\r\n    Review,\r\n}"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAA6B;AAAA,iCAEd;EACXA,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA,kBAAS;EACTC,OAAO,EAAPA,gBAAO;EACPC,QAAQ,EAARA,iBAAQ;EACRC,MAAM,EAANA,eAAM;EACNC,MAAM,EAANA,eAAM;EACNC,QAAQ,EAARA,iBAAQ;EACRC,IAAI,EAAJA,aAAI;EACJC,aAAa,EAAbA,sBAAa;EACbC,IAAI,EAAJA,aAAI;EACJC,UAAU,EAAVA,mBAAU;EACVC,WAAW,EAAXA,oBAAW;EACXC,MAAM,EAANA;AACJ,CAAC"}},"mtime":1680709955464},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst UserSchema = new _mongoose.Schema({\n  rol: {\n    type: String,\n    maxlength: 30,\n    required: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    required: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  avatar: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  state: {\n    type: Number,\n    default: 1\n  },\n  //1 es activo y 2 es des activo\n  phone: {\n    type: String,\n    maxlength: 20,\n    required: false\n  },\n  birthday: {\n    type: String,\n    maxlength: 20,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst User = _mongoose.default.model(\"user\", UserSchema);\nvar _default = exports.default = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJVc2VyU2NoZW1hIiwiU2NoZW1hIiwicm9sIiwidHlwZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInJlcXVpcmVkIiwibmFtZSIsInN1cm5hbWUiLCJlbWFpbCIsInVuaXF1ZSIsInBhc3N3b3JkIiwiYXZhdGFyIiwic3RhdGUiLCJOdW1iZXIiLCJkZWZhdWx0IiwicGhvbmUiLCJiaXJ0aGRheSIsInRpbWVzdGFtcHMiLCJVc2VyIiwibW9uZ29vc2UiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIlVzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3QgVXNlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgcm9sOnt0eXBlOiBTdHJpbmcsbWF4bGVuZ3RoOjMwLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgbmFtZTp7dHlwZTogU3RyaW5nLG1heGxlbmd0aDoyNTAscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBzdXJuYW1lOnt0eXBlOiBTdHJpbmcsbWF4bGVuZ3RoOjI1MCxyZXF1aXJlZDpmYWxzZX0sXHJcbiAgICBlbWFpbDp7dHlwZTogU3RyaW5nLG1heGxlbmd0aDoyNTAscmVxdWlyZWQ6dHJ1ZSx1bmlxdWU6dHJ1ZX0sXHJcbiAgICBwYXNzd29yZDp7dHlwZTogU3RyaW5nLG1heGxlbmd0aDoyNTAscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBhdmF0YXI6e3R5cGU6IFN0cmluZyxtYXhsZW5ndGg6MjUwLHJlcXVpcmVkOmZhbHNlfSxcclxuICAgIHN0YXRlOnt0eXBlOiBOdW1iZXIsZGVmYXVsdDoxfSwvLzEgZXMgYWN0aXZvIHkgMiBlcyBkZXMgYWN0aXZvXHJcbiAgICBwaG9uZTp7dHlwZTogU3RyaW5nLG1heGxlbmd0aDoyMCxyZXF1aXJlZDpmYWxzZX0sXHJcbiAgICBiaXJ0aGRheTp7dHlwZTogU3RyaW5nLG1heGxlbmd0aDoyMCxyZXF1aXJlZDpmYWxzZX0sXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczogdHJ1ZVxyXG59KTtcclxuXHJcbmNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbChcInVzZXJcIixVc2VyU2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgVXNlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQXlDO0FBQUE7QUFFekMsTUFBTUEsVUFBVSxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDMUJDLEdBQUcsRUFBQztJQUFDQyxJQUFJLEVBQUVDLE1BQU07SUFBQ0MsU0FBUyxFQUFDLEVBQUU7SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUM3Q0MsSUFBSSxFQUFDO0lBQUNKLElBQUksRUFBRUMsTUFBTTtJQUFDQyxTQUFTLEVBQUMsR0FBRztJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQy9DRSxPQUFPLEVBQUM7SUFBQ0wsSUFBSSxFQUFFQyxNQUFNO0lBQUNDLFNBQVMsRUFBQyxHQUFHO0lBQUNDLFFBQVEsRUFBQztFQUFLLENBQUM7RUFDbkRHLEtBQUssRUFBQztJQUFDTixJQUFJLEVBQUVDLE1BQU07SUFBQ0MsU0FBUyxFQUFDLEdBQUc7SUFBQ0MsUUFBUSxFQUFDLElBQUk7SUFBQ0ksTUFBTSxFQUFDO0VBQUksQ0FBQztFQUM1REMsUUFBUSxFQUFDO0lBQUNSLElBQUksRUFBRUMsTUFBTTtJQUFDQyxTQUFTLEVBQUMsR0FBRztJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ25ETSxNQUFNLEVBQUM7SUFBQ1QsSUFBSSxFQUFFQyxNQUFNO0lBQUNDLFNBQVMsRUFBQyxHQUFHO0lBQUNDLFFBQVEsRUFBQztFQUFLLENBQUM7RUFDbERPLEtBQUssRUFBQztJQUFDVixJQUFJLEVBQUVXLE1BQU07SUFBQ0MsT0FBTyxFQUFDO0VBQUMsQ0FBQztFQUFDO0VBQy9CQyxLQUFLLEVBQUM7SUFBQ2IsSUFBSSxFQUFFQyxNQUFNO0lBQUNDLFNBQVMsRUFBQyxFQUFFO0lBQUNDLFFBQVEsRUFBQztFQUFLLENBQUM7RUFDaERXLFFBQVEsRUFBQztJQUFDZCxJQUFJLEVBQUVDLE1BQU07SUFBQ0MsU0FBUyxFQUFDLEVBQUU7SUFBQ0MsUUFBUSxFQUFDO0VBQUs7QUFDdEQsQ0FBQyxFQUFDO0VBQ0VZLFVBQVUsRUFBRTtBQUNoQixDQUFDLENBQUM7QUFFRixNQUFNQyxJQUFJLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxNQUFNLEVBQUNyQixVQUFVLENBQUM7QUFBQyxpQ0FDaENtQixJQUFJIn0=","map":{"version":3,"names":["UserSchema","Schema","rol","type","String","maxlength","required","name","surname","email","unique","password","avatar","state","Number","default","phone","birthday","timestamps","User","mongoose","model"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["User.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst UserSchema = new Schema({\r\n    rol:{type: String,maxlength:30,required:true},\r\n    name:{type: String,maxlength:250,required:true},\r\n    surname:{type: String,maxlength:250,required:false},\r\n    email:{type: String,maxlength:250,required:true,unique:true},\r\n    password:{type: String,maxlength:250,required:true},\r\n    avatar:{type: String,maxlength:250,required:false},\r\n    state:{type: Number,default:1},//1 es activo y 2 es des activo\r\n    phone:{type: String,maxlength:20,required:false},\r\n    birthday:{type: String,maxlength:20,required:false},\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst User = mongoose.model(\"user\",UserSchema);\r\nexport default User;"],"mappings":";;;;;;AAAA;AAAyC;AAAA;AAEzC,MAAMA,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC1BC,GAAG,EAAC;IAACC,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC7CC,IAAI,EAAC;IAACJ,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC/CE,OAAO,EAAC;IAACL,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAK,CAAC;EACnDG,KAAK,EAAC;IAACN,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC,IAAI;IAACI,MAAM,EAAC;EAAI,CAAC;EAC5DC,QAAQ,EAAC;IAACR,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EACnDM,MAAM,EAAC;IAACT,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAK,CAAC;EAClDO,KAAK,EAAC;IAACV,IAAI,EAAEW,MAAM;IAACC,OAAO,EAAC;EAAC,CAAC;EAAC;EAC/BC,KAAK,EAAC;IAACb,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAK,CAAC;EAChDW,QAAQ,EAAC;IAACd,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAK;AACtD,CAAC,EAAC;EACEY,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAACrB,UAAU,CAAC;AAAC,iCAChCmB,IAAI"}},"mtime":1676098831866},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst CategorieSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  imagen: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  state: {\n    type: Number,\n    maxlength: 2,\n    default: 1\n  }\n}, {\n  timestamps: true\n});\nconst Categorie = _mongoose.default.model(\"categorie\", CategorieSchema);\nvar _default = exports.default = Categorie;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDYXRlZ29yaWVTY2hlbWEiLCJTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJyZXF1aXJlZCIsImltYWdlbiIsInN0YXRlIiwiTnVtYmVyIiwiZGVmYXVsdCIsInRpbWVzdGFtcHMiLCJDYXRlZ29yaWUiLCJtb25nb29zZSIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiQ2F0ZWdvcmllLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IENhdGVnb3JpZVNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgdGl0bGU6e3R5cGU6U3RyaW5nLG1heGxlbmd0aCA6IDI1MCxyZXF1aXJlZDp0cnVlfSxcclxuICAgIGltYWdlbjp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgc3RhdGU6e3R5cGU6TnVtYmVyLG1heGxlbmd0aDoyLGRlZmF1bHQ6MX0sXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczogdHJ1ZVxyXG59KTtcclxuXHJcbmNvbnN0IENhdGVnb3JpZSA9IG1vbmdvb3NlLm1vZGVsKFwiY2F0ZWdvcmllXCIsQ2F0ZWdvcmllU2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgQ2F0ZWdvcmllOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFBeUM7QUFBQTtBQUV6QyxNQUFNQSxlQUFlLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUMvQkMsS0FBSyxFQUFDO0lBQUNDLElBQUksRUFBQ0MsTUFBTTtJQUFDQyxTQUFTLEVBQUcsR0FBRztJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2pEQyxNQUFNLEVBQUM7SUFBQ0osSUFBSSxFQUFDQyxNQUFNO0lBQUNDLFNBQVMsRUFBRSxHQUFHO0lBQUVDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDbERFLEtBQUssRUFBQztJQUFDTCxJQUFJLEVBQUNNLE1BQU07SUFBQ0osU0FBUyxFQUFDLENBQUM7SUFBQ0ssT0FBTyxFQUFDO0VBQUM7QUFDNUMsQ0FBQyxFQUFDO0VBQ0VDLFVBQVUsRUFBRTtBQUNoQixDQUFDLENBQUM7QUFFRixNQUFNQyxTQUFTLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxXQUFXLEVBQUNkLGVBQWUsQ0FBQztBQUFDLGlDQUMvQ1ksU0FBUyJ9","map":{"version":3,"names":["CategorieSchema","Schema","title","type","String","maxlength","required","imagen","state","Number","default","timestamps","Categorie","mongoose","model"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Categorie.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst CategorieSchema = new Schema({\r\n    title:{type:String,maxlength : 250,required:true},\r\n    imagen:{type:String,maxlength: 250, required:true},\r\n    state:{type:Number,maxlength:2,default:1},\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst Categorie = mongoose.model(\"categorie\",CategorieSchema);\r\nexport default Categorie;"],"mappings":";;;;;;AAAA;AAAyC;AAAA;AAEzC,MAAMA,eAAe,GAAG,IAAIC,gBAAM,CAAC;EAC/BC,KAAK,EAAC;IAACC,IAAI,EAACC,MAAM;IAACC,SAAS,EAAG,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EACjDC,MAAM,EAAC;IAACJ,IAAI,EAACC,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EAClDE,KAAK,EAAC;IAACL,IAAI,EAACM,MAAM;IAACJ,SAAS,EAAC,CAAC;IAACK,OAAO,EAAC;EAAC;AAC5C,CAAC,EAAC;EACEC,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,SAAS,GAAGC,iBAAQ,CAACC,KAAK,CAAC,WAAW,EAACd,eAAe,CAAC;AAAC,iCAC/CY,SAAS"}},"mtime":1676360021242},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst ProductSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  slug: {\n    type: String,\n    required: true,\n    maxlength: 1000\n  },\n  sku: {\n    type: String,\n    required: true\n  },\n  categorie: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'categorie',\n    required: true\n  },\n  price_pesos: {\n    type: Number,\n    required: true\n  },\n  price_usd: {\n    type: Number,\n    required: true\n  },\n  portada: {\n    type: String,\n    required: true\n  },\n  galerias: [{\n    type: Object,\n    required: false\n  }],\n  state: {\n    type: Number,\n    default: 1\n  },\n  //1 es en prueba o desarrollo , 2 va ser publico y 3 va ser anulado\n  stock: {\n    type: Number,\n    default: 0\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  resumen: {\n    type: String,\n    required: true\n  },\n  tags: {\n    type: String,\n    required: true\n  },\n  type_inventario: {\n    type: Number,\n    default: 1\n  }\n}, {\n  timestamps: true\n});\nconst Product = _mongoose.default.model('product', ProductSchema);\nvar _default = exports.default = Product;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQcm9kdWN0U2NoZW1hIiwiU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJtYXhsZW5ndGgiLCJzbHVnIiwic2t1IiwiY2F0ZWdvcmllIiwiT2JqZWN0SWQiLCJyZWYiLCJwcmljZV9wZXNvcyIsIk51bWJlciIsInByaWNlX3VzZCIsInBvcnRhZGEiLCJnYWxlcmlhcyIsIk9iamVjdCIsInN0YXRlIiwiZGVmYXVsdCIsInN0b2NrIiwiZGVzY3JpcHRpb24iLCJyZXN1bWVuIiwidGFncyIsInR5cGVfaW52ZW50YXJpbyIsInRpbWVzdGFtcHMiLCJQcm9kdWN0IiwibW9uZ29vc2UiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIlByb2R1Y3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3QgUHJvZHVjdFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgdGl0bGU6e3R5cGU6U3RyaW5nLHJlcXVpcmVkOnRydWUsbWF4bGVuZ3RoOjI1MH0sXHJcbiAgICBzbHVnOnt0eXBlOlN0cmluZyxyZXF1aXJlZDp0cnVlLG1heGxlbmd0aDoxMDAwfSxcclxuICAgIHNrdTp7dHlwZTpTdHJpbmcscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBjYXRlZ29yaWU6e3R5cGU6U2NoZW1hLk9iamVjdElkLHJlZjonY2F0ZWdvcmllJyxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHByaWNlX3Blc29zOnt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSxcclxuICAgIHByaWNlX3VzZDp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBwb3J0YWRhOnt0eXBlOlN0cmluZyxyZXF1aXJlZDp0cnVlfSxcclxuICAgIGdhbGVyaWFzOlt7dHlwZTpPYmplY3QscmVxdWlyZWQ6ZmFsc2V9XSxcclxuICAgIHN0YXRlOnt0eXBlOk51bWJlcixkZWZhdWx0OjF9LC8vMSBlcyBlbiBwcnVlYmEgbyBkZXNhcnJvbGxvICwgMiB2YSBzZXIgcHVibGljbyB5IDMgdmEgc2VyIGFudWxhZG9cclxuICAgIHN0b2NrOnt0eXBlOk51bWJlcixkZWZhdWx0OiAwfSxcclxuICAgIGRlc2NyaXB0aW9uOnt0eXBlOlN0cmluZyxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHJlc3VtZW46e3R5cGU6U3RyaW5nLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgdGFnczp7dHlwZTpTdHJpbmcscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICB0eXBlX2ludmVudGFyaW86e3R5cGU6TnVtYmVyLGRlZmF1bHQ6IDF9LFxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6dHJ1ZSxcclxufSk7XHJcblxyXG5jb25zdCBQcm9kdWN0ID0gbW9uZ29vc2UubW9kZWwoJ3Byb2R1Y3QnLFByb2R1Y3RTY2hlbWEpO1xyXG5leHBvcnQgZGVmYXVsdCBQcm9kdWN0OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFBeUM7QUFBQTtBQUV6QyxNQUFNQSxhQUFhLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUM3QkMsS0FBSyxFQUFDO0lBQUNDLElBQUksRUFBQ0MsTUFBTTtJQUFDQyxRQUFRLEVBQUMsSUFBSTtJQUFDQyxTQUFTLEVBQUM7RUFBRyxDQUFDO0VBQy9DQyxJQUFJLEVBQUM7SUFBQ0osSUFBSSxFQUFDQyxNQUFNO0lBQUNDLFFBQVEsRUFBQyxJQUFJO0lBQUNDLFNBQVMsRUFBQztFQUFJLENBQUM7RUFDL0NFLEdBQUcsRUFBQztJQUFDTCxJQUFJLEVBQUNDLE1BQU07SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUMvQkksU0FBUyxFQUFDO0lBQUNOLElBQUksRUFBQ0YsZ0JBQU0sQ0FBQ1MsUUFBUTtJQUFDQyxHQUFHLEVBQUMsV0FBVztJQUFDTixRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQzlETyxXQUFXLEVBQUM7SUFBQ1QsSUFBSSxFQUFDVSxNQUFNO0lBQUNSLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDdkNTLFNBQVMsRUFBQztJQUFDWCxJQUFJLEVBQUNVLE1BQU07SUFBQ1IsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNyQ1UsT0FBTyxFQUFDO0lBQUNaLElBQUksRUFBQ0MsTUFBTTtJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ25DVyxRQUFRLEVBQUMsQ0FBQztJQUFDYixJQUFJLEVBQUNjLE1BQU07SUFBQ1osUUFBUSxFQUFDO0VBQUssQ0FBQyxDQUFDO0VBQ3ZDYSxLQUFLLEVBQUM7SUFBQ2YsSUFBSSxFQUFDVSxNQUFNO0lBQUNNLE9BQU8sRUFBQztFQUFDLENBQUM7RUFBQztFQUM5QkMsS0FBSyxFQUFDO0lBQUNqQixJQUFJLEVBQUNVLE1BQU07SUFBQ00sT0FBTyxFQUFFO0VBQUMsQ0FBQztFQUM5QkUsV0FBVyxFQUFDO0lBQUNsQixJQUFJLEVBQUNDLE1BQU07SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUN2Q2lCLE9BQU8sRUFBQztJQUFDbkIsSUFBSSxFQUFDQyxNQUFNO0lBQUNDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDbkNrQixJQUFJLEVBQUM7SUFBQ3BCLElBQUksRUFBQ0MsTUFBTTtJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2hDbUIsZUFBZSxFQUFDO0lBQUNyQixJQUFJLEVBQUNVLE1BQU07SUFBQ00sT0FBTyxFQUFFO0VBQUM7QUFDM0MsQ0FBQyxFQUFDO0VBQ0VNLFVBQVUsRUFBQztBQUNmLENBQUMsQ0FBQztBQUVGLE1BQU1DLE9BQU8sR0FBR0MsaUJBQVEsQ0FBQ0MsS0FBSyxDQUFDLFNBQVMsRUFBQzVCLGFBQWEsQ0FBQztBQUFDLGlDQUN6QzBCLE9BQU8ifQ==","map":{"version":3,"names":["ProductSchema","Schema","title","type","String","required","maxlength","slug","sku","categorie","ObjectId","ref","price_pesos","Number","price_usd","portada","galerias","Object","state","default","stock","description","resumen","tags","type_inventario","timestamps","Product","mongoose","model"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Product.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst ProductSchema = new Schema({\r\n    title:{type:String,required:true,maxlength:250},\r\n    slug:{type:String,required:true,maxlength:1000},\r\n    sku:{type:String,required:true},\r\n    categorie:{type:Schema.ObjectId,ref:'categorie',required:true},\r\n    price_pesos:{type:Number,required:true},\r\n    price_usd:{type:Number,required:true},\r\n    portada:{type:String,required:true},\r\n    galerias:[{type:Object,required:false}],\r\n    state:{type:Number,default:1},//1 es en prueba o desarrollo , 2 va ser publico y 3 va ser anulado\r\n    stock:{type:Number,default: 0},\r\n    description:{type:String,required:true},\r\n    resumen:{type:String,required:true},\r\n    tags:{type:String,required:true},\r\n    type_inventario:{type:Number,default: 1},\r\n},{\r\n    timestamps:true,\r\n});\r\n\r\nconst Product = mongoose.model('product',ProductSchema);\r\nexport default Product;"],"mappings":";;;;;;AAAA;AAAyC;AAAA;AAEzC,MAAMA,aAAa,GAAG,IAAIC,gBAAM,CAAC;EAC7BC,KAAK,EAAC;IAACC,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC,IAAI;IAACC,SAAS,EAAC;EAAG,CAAC;EAC/CC,IAAI,EAAC;IAACJ,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC,IAAI;IAACC,SAAS,EAAC;EAAI,CAAC;EAC/CE,GAAG,EAAC;IAACL,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC/BI,SAAS,EAAC;IAACN,IAAI,EAACF,gBAAM,CAACS,QAAQ;IAACC,GAAG,EAAC,WAAW;IAACN,QAAQ,EAAC;EAAI,CAAC;EAC9DO,WAAW,EAAC;IAACT,IAAI,EAACU,MAAM;IAACR,QAAQ,EAAC;EAAI,CAAC;EACvCS,SAAS,EAAC;IAACX,IAAI,EAACU,MAAM;IAACR,QAAQ,EAAC;EAAI,CAAC;EACrCU,OAAO,EAAC;IAACZ,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EACnCW,QAAQ,EAAC,CAAC;IAACb,IAAI,EAACc,MAAM;IAACZ,QAAQ,EAAC;EAAK,CAAC,CAAC;EACvCa,KAAK,EAAC;IAACf,IAAI,EAACU,MAAM;IAACM,OAAO,EAAC;EAAC,CAAC;EAAC;EAC9BC,KAAK,EAAC;IAACjB,IAAI,EAACU,MAAM;IAACM,OAAO,EAAE;EAAC,CAAC;EAC9BE,WAAW,EAAC;IAAClB,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EACvCiB,OAAO,EAAC;IAACnB,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EACnCkB,IAAI,EAAC;IAACpB,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EAChCmB,eAAe,EAAC;IAACrB,IAAI,EAACU,MAAM;IAACM,OAAO,EAAE;EAAC;AAC3C,CAAC,EAAC;EACEM,UAAU,EAAC;AACf,CAAC,CAAC;AAEF,MAAMC,OAAO,GAAGC,iBAAQ,CAACC,KAAK,CAAC,SAAS,EAAC5B,aAAa,CAAC;AAAC,iCACzC0B,OAAO"}},"mtime":1726095898714},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Variedad.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst VariedadSchema = new _mongoose.Schema({\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  valor: {\n    type: String,\n    required: true\n  },\n  stock: {\n    type: Number,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst Variedad = _mongoose.default.model('variedad', VariedadSchema);\nvar _default = exports.default = Variedad;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJWYXJpZWRhZFNjaGVtYSIsIlNjaGVtYSIsInByb2R1Y3QiLCJ0eXBlIiwiT2JqZWN0SWQiLCJyZWYiLCJyZXF1aXJlZCIsInZhbG9yIiwiU3RyaW5nIiwic3RvY2siLCJOdW1iZXIiLCJ0aW1lc3RhbXBzIiwiVmFyaWVkYWQiLCJtb25nb29zZSIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiVmFyaWVkYWQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3QgVmFyaWVkYWRTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIHByb2R1Y3Q6e3R5cGU6U2NoZW1hLk9iamVjdElkLHJlZjoncHJvZHVjdCcscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICB2YWxvcjp7dHlwZTpTdHJpbmcscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBzdG9jazp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczp0cnVlLFxyXG59KTtcclxuXHJcbmNvbnN0IFZhcmllZGFkID0gbW9uZ29vc2UubW9kZWwoJ3ZhcmllZGFkJyxWYXJpZWRhZFNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IFZhcmllZGFkOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFBeUM7QUFBQTtBQUV6QyxNQUFNQSxjQUFjLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUM5QkMsT0FBTyxFQUFDO0lBQUNDLElBQUksRUFBQ0YsZ0JBQU0sQ0FBQ0csUUFBUTtJQUFDQyxHQUFHLEVBQUMsU0FBUztJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQzFEQyxLQUFLLEVBQUM7SUFBQ0osSUFBSSxFQUFDSyxNQUFNO0lBQUNGLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDakNHLEtBQUssRUFBQztJQUFDTixJQUFJLEVBQUNPLE1BQU07SUFBQ0osUUFBUSxFQUFDO0VBQUk7QUFDcEMsQ0FBQyxFQUFDO0VBQ0VLLFVBQVUsRUFBQztBQUNmLENBQUMsQ0FBQztBQUVGLE1BQU1DLFFBQVEsR0FBR0MsaUJBQVEsQ0FBQ0MsS0FBSyxDQUFDLFVBQVUsRUFBQ2QsY0FBYyxDQUFDO0FBQUMsaUNBQzVDWSxRQUFRIn0=","map":{"version":3,"names":["VariedadSchema","Schema","product","type","ObjectId","ref","required","valor","String","stock","Number","timestamps","Variedad","mongoose","model"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Variedad.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst VariedadSchema = new Schema({\r\n    product:{type:Schema.ObjectId,ref:'product',required:true},\r\n    valor:{type:String,required:true},\r\n    stock:{type:Number,required:true},\r\n},{\r\n    timestamps:true,\r\n});\r\n\r\nconst Variedad = mongoose.model('variedad',VariedadSchema);\r\nexport default Variedad;"],"mappings":";;;;;;AAAA;AAAyC;AAAA;AAEzC,MAAMA,cAAc,GAAG,IAAIC,gBAAM,CAAC;EAC9BC,OAAO,EAAC;IAACC,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,SAAS;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC1DC,KAAK,EAAC;IAACJ,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC;EAAI,CAAC;EACjCG,KAAK,EAAC;IAACN,IAAI,EAACO,MAAM;IAACJ,QAAQ,EAAC;EAAI;AACpC,CAAC,EAAC;EACEK,UAAU,EAAC;AACf,CAAC,CAAC;AAEF,MAAMC,QAAQ,GAAGC,iBAAQ,CAACC,KAAK,CAAC,UAAU,EAACd,cAAc,CAAC;AAAC,iCAC5CY,QAAQ"}},"mtime":1676530728228},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst SliderSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  link: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  imagen: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  state: {\n    type: Number,\n    maxlength: 2,\n    default: 1\n  }\n}, {\n  timestamps: true\n});\nconst Slider = _mongoose.default.model(\"sliders\", SliderSchema);\nvar _default = exports.default = Slider;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTbGlkZXJTY2hlbWEiLCJTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJyZXF1aXJlZCIsImxpbmsiLCJpbWFnZW4iLCJzdGF0ZSIsIk51bWJlciIsImRlZmF1bHQiLCJ0aW1lc3RhbXBzIiwiU2xpZGVyIiwibW9uZ29vc2UiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIlNsaWRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2Use1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCBTbGlkZXJTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIHRpdGxlOnt0eXBlOlN0cmluZyxtYXhsZW5ndGggOiAyNTAscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBsaW5rOnt0eXBlOlN0cmluZyxtYXhsZW5ndGggOiAyNTAscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBpbWFnZW46e3R5cGU6U3RyaW5nLG1heGxlbmd0aDogMjUwLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIHN0YXRlOnt0eXBlOk51bWJlcixtYXhsZW5ndGg6MixkZWZhdWx0OjF9LFxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6IHRydWVcclxufSk7XHJcblxyXG5jb25zdCBTbGlkZXIgPSBtb25nb29zZS5tb2RlbChcInNsaWRlcnNcIixTbGlkZXJTY2hlbWEpO1xyXG5leHBvcnQgZGVmYXVsdCBTbGlkZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUF5QztBQUFBO0FBRXpDLE1BQU1BLFlBQVksR0FBRyxJQUFJQyxnQkFBTSxDQUFDO0VBQzVCQyxLQUFLLEVBQUM7SUFBQ0MsSUFBSSxFQUFDQyxNQUFNO0lBQUNDLFNBQVMsRUFBRyxHQUFHO0lBQUNDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDakRDLElBQUksRUFBQztJQUFDSixJQUFJLEVBQUNDLE1BQU07SUFBQ0MsU0FBUyxFQUFHLEdBQUc7SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNoREUsTUFBTSxFQUFDO0lBQUNMLElBQUksRUFBQ0MsTUFBTTtJQUFDQyxTQUFTLEVBQUUsR0FBRztJQUFFQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2xERyxLQUFLLEVBQUM7SUFBQ04sSUFBSSxFQUFDTyxNQUFNO0lBQUNMLFNBQVMsRUFBQyxDQUFDO0lBQUNNLE9BQU8sRUFBQztFQUFDO0FBQzVDLENBQUMsRUFBQztFQUNFQyxVQUFVLEVBQUU7QUFDaEIsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsTUFBTSxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsU0FBUyxFQUFDZixZQUFZLENBQUM7QUFBQyxpQ0FDdkNhLE1BQU0ifQ==","map":{"version":3,"names":["SliderSchema","Schema","title","type","String","maxlength","required","link","imagen","state","Number","default","timestamps","Slider","mongoose","model"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Slider.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst SliderSchema = new Schema({\r\n    title:{type:String,maxlength : 250,required:true},\r\n    link:{type:String,maxlength : 250,required:true},\r\n    imagen:{type:String,maxlength: 250, required:true},\r\n    state:{type:Number,maxlength:2,default:1},\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst Slider = mongoose.model(\"sliders\",SliderSchema);\r\nexport default Slider;"],"mappings":";;;;;;AAAA;AAAyC;AAAA;AAEzC,MAAMA,YAAY,GAAG,IAAIC,gBAAM,CAAC;EAC5BC,KAAK,EAAC;IAACC,IAAI,EAACC,MAAM;IAACC,SAAS,EAAG,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EACjDC,IAAI,EAAC;IAACJ,IAAI,EAACC,MAAM;IAACC,SAAS,EAAG,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAChDE,MAAM,EAAC;IAACL,IAAI,EAACC,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EAClDG,KAAK,EAAC;IAACN,IAAI,EAACO,MAAM;IAACL,SAAS,EAAC,CAAC;IAACM,OAAO,EAAC;EAAC;AAC5C,CAAC,EAAC;EACEC,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAGC,iBAAQ,CAACC,KAAK,CAAC,SAAS,EAACf,YAAY,CAAC;AAAC,iCACvCa,MAAM"}},"mtime":1677624834052},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Cupone.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst CuponeSchema = new _mongoose.Schema({\n  code: {\n    type: String,\n    maxlength: 50,\n    required: true\n  },\n  type_discount: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  //por porcentaje 1  o por moneda 2\n  discount: {\n    type: Number,\n    required: true\n  },\n  //por moneda o por porcentaje\n  type_count: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  //ilimitado 1 o limitado 2\n  num_use: {\n    type: Number,\n    required: false\n  },\n  type_segment: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es cupon por producto y 2 seria por categoria\n  state: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es activo\n  products: [{\n    type: Object\n  }],\n  //[{_id: asdasdas },{_id: dsdsds}]\n  categories: [{\n    type: Object\n  }]\n}, {\n  timestamps: true\n});\nconst Cupone = _mongoose.default.model(\"cupones\", CuponeSchema);\nvar _default = exports.default = Cupone;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDdXBvbmVTY2hlbWEiLCJTY2hlbWEiLCJjb2RlIiwidHlwZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInJlcXVpcmVkIiwidHlwZV9kaXNjb3VudCIsIk51bWJlciIsImRlZmF1bHQiLCJkaXNjb3VudCIsInR5cGVfY291bnQiLCJudW1fdXNlIiwidHlwZV9zZWdtZW50Iiwic3RhdGUiLCJwcm9kdWN0cyIsIk9iamVjdCIsImNhdGVnb3JpZXMiLCJ0aW1lc3RhbXBzIiwiQ3Vwb25lIiwibW9uZ29vc2UiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIkN1cG9uZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2Use1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCBDdXBvbmVTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIGNvZGU6e3R5cGU6U3RyaW5nLG1heGxlbmd0aDo1MCxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHR5cGVfZGlzY291bnQ6e3R5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWUsZGVmYXVsdDogMX0sLy9wb3IgcG9yY2VudGFqZSAxICBvIHBvciBtb25lZGEgMlxyXG4gICAgZGlzY291bnQ6e3R5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWV9LC8vcG9yIG1vbmVkYSBvIHBvciBwb3JjZW50YWplXHJcbiAgICB0eXBlX2NvdW50Ont0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlLGRlZmF1bHQ6MX0sLy9pbGltaXRhZG8gMSBvIGxpbWl0YWRvIDJcclxuICAgIG51bV91c2U6e3R5cGU6TnVtYmVyLHJlcXVpcmVkOmZhbHNlfSxcclxuICAgIHR5cGVfc2VnbWVudDoge3R5cGU6TnVtYmVyLHJlcXVpcmVkOmZhbHNlLGRlZmF1bHQ6MX0sLy8xIGVzIGN1cG9uIHBvciBwcm9kdWN0byB5IDIgc2VyaWEgcG9yIGNhdGVnb3JpYVxyXG4gICAgc3RhdGU6e3R5cGU6TnVtYmVyLHJlcXVpcmVkOmZhbHNlLGRlZmF1bHQ6IDF9LC8vMSBlcyBhY3Rpdm9cclxuICAgIHByb2R1Y3RzOlt7dHlwZTpPYmplY3R9XSwvL1t7X2lkOiBhc2Rhc2RhcyB9LHtfaWQ6IGRzZHNkc31dXHJcbiAgICBjYXRlZ29yaWVzOlt7dHlwZTpPYmplY3R9XVxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6dHJ1ZVxyXG59KVxyXG5cclxuY29uc3QgQ3Vwb25lID0gbW9uZ29vc2UubW9kZWwoXCJjdXBvbmVzXCIsQ3Vwb25lU2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgQ3Vwb25lOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFBeUM7QUFBQTtBQUV6QyxNQUFNQSxZQUFZLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUM1QkMsSUFBSSxFQUFDO0lBQUNDLElBQUksRUFBQ0MsTUFBTTtJQUFDQyxTQUFTLEVBQUMsRUFBRTtJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQzdDQyxhQUFhLEVBQUM7SUFBQ0osSUFBSSxFQUFDSyxNQUFNO0lBQUNGLFFBQVEsRUFBQyxJQUFJO0lBQUNHLE9BQU8sRUFBRTtFQUFDLENBQUM7RUFBQztFQUNyREMsUUFBUSxFQUFDO0lBQUNQLElBQUksRUFBQ0ssTUFBTTtJQUFDRixRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQUM7RUFDckNLLFVBQVUsRUFBQztJQUFDUixJQUFJLEVBQUNLLE1BQU07SUFBQ0YsUUFBUSxFQUFDLElBQUk7SUFBQ0csT0FBTyxFQUFDO0VBQUMsQ0FBQztFQUFDO0VBQ2pERyxPQUFPLEVBQUM7SUFBQ1QsSUFBSSxFQUFDSyxNQUFNO0lBQUNGLFFBQVEsRUFBQztFQUFLLENBQUM7RUFDcENPLFlBQVksRUFBRTtJQUFDVixJQUFJLEVBQUNLLE1BQU07SUFBQ0YsUUFBUSxFQUFDLEtBQUs7SUFBQ0csT0FBTyxFQUFDO0VBQUMsQ0FBQztFQUFDO0VBQ3JESyxLQUFLLEVBQUM7SUFBQ1gsSUFBSSxFQUFDSyxNQUFNO0lBQUNGLFFBQVEsRUFBQyxLQUFLO0lBQUNHLE9BQU8sRUFBRTtFQUFDLENBQUM7RUFBQztFQUM5Q00sUUFBUSxFQUFDLENBQUM7SUFBQ1osSUFBSSxFQUFDYTtFQUFNLENBQUMsQ0FBQztFQUFDO0VBQ3pCQyxVQUFVLEVBQUMsQ0FBQztJQUFDZCxJQUFJLEVBQUNhO0VBQU0sQ0FBQztBQUM3QixDQUFDLEVBQUM7RUFDRUUsVUFBVSxFQUFDO0FBQ2YsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsTUFBTSxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsU0FBUyxFQUFDckIsWUFBWSxDQUFDO0FBQUMsaUNBQ3ZDbUIsTUFBTSJ9","map":{"version":3,"names":["CuponeSchema","Schema","code","type","String","maxlength","required","type_discount","Number","default","discount","type_count","num_use","type_segment","state","products","Object","categories","timestamps","Cupone","mongoose","model"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Cupone.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst CuponeSchema = new Schema({\r\n    code:{type:String,maxlength:50,required:true},\r\n    type_discount:{type:Number,required:true,default: 1},//por porcentaje 1  o por moneda 2\r\n    discount:{type:Number,required:true},//por moneda o por porcentaje\r\n    type_count:{type:Number,required:true,default:1},//ilimitado 1 o limitado 2\r\n    num_use:{type:Number,required:false},\r\n    type_segment: {type:Number,required:false,default:1},//1 es cupon por producto y 2 seria por categoria\r\n    state:{type:Number,required:false,default: 1},//1 es activo\r\n    products:[{type:Object}],//[{_id: asdasdas },{_id: dsdsds}]\r\n    categories:[{type:Object}]\r\n},{\r\n    timestamps:true\r\n})\r\n\r\nconst Cupone = mongoose.model(\"cupones\",CuponeSchema);\r\nexport default Cupone;"],"mappings":";;;;;;AAAA;AAAyC;AAAA;AAEzC,MAAMA,YAAY,GAAG,IAAIC,gBAAM,CAAC;EAC5BC,IAAI,EAAC;IAACC,IAAI,EAACC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC7CC,aAAa,EAAC;IAACJ,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,IAAI;IAACG,OAAO,EAAE;EAAC,CAAC;EAAC;EACrDC,QAAQ,EAAC;IAACP,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC;EAAI,CAAC;EAAC;EACrCK,UAAU,EAAC;IAACR,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,IAAI;IAACG,OAAO,EAAC;EAAC,CAAC;EAAC;EACjDG,OAAO,EAAC;IAACT,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC;EAAK,CAAC;EACpCO,YAAY,EAAE;IAACV,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,KAAK;IAACG,OAAO,EAAC;EAAC,CAAC;EAAC;EACrDK,KAAK,EAAC;IAACX,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,KAAK;IAACG,OAAO,EAAE;EAAC,CAAC;EAAC;EAC9CM,QAAQ,EAAC,CAAC;IAACZ,IAAI,EAACa;EAAM,CAAC,CAAC;EAAC;EACzBC,UAAU,EAAC,CAAC;IAACd,IAAI,EAACa;EAAM,CAAC;AAC7B,CAAC,EAAC;EACEE,UAAU,EAAC;AACf,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAGC,iBAAQ,CAACC,KAAK,CAAC,SAAS,EAACrB,YAAY,CAAC;AAAC,iCACvCmB,MAAM"}},"mtime":1677795746073},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Discount.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst DiscountSchema = new _mongoose.Schema({\n  type_campaign: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1 es campaña norma y 2 es venta flash\n  type_discount: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1 es porcentaje y 2 es moneda\n  discount: {\n    type: Number,\n    required: true\n  },\n  start_date: {\n    type: Date,\n    required: true\n  },\n  end_date: {\n    type: Date,\n    required: true\n  },\n  start_date_num: {\n    type: Number,\n    required: true\n  },\n  end_date_num: {\n    type: Number,\n    required: true\n  },\n  state: {\n    type: Number,\n    default: 1\n  },\n  //1 es activo y 2 es desactivo\n  type_segment: {\n    type: Number,\n    default: 1\n  },\n  //1 es por producto y 2 es por categoria\n  products: [{\n    type: Object,\n    required: false\n  }],\n  categories: [{\n    type: Object,\n    required: false\n  }]\n}, {\n  timestamps: true\n});\nconst Discount = _mongoose.default.model(\"discounts\", DiscountSchema);\nvar _default = exports.default = Discount;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEaXNjb3VudFNjaGVtYSIsIlNjaGVtYSIsInR5cGVfY2FtcGFpZ24iLCJ0eXBlIiwiTnVtYmVyIiwicmVxdWlyZWQiLCJkZWZhdWx0IiwidHlwZV9kaXNjb3VudCIsImRpc2NvdW50Iiwic3RhcnRfZGF0ZSIsIkRhdGUiLCJlbmRfZGF0ZSIsInN0YXJ0X2RhdGVfbnVtIiwiZW5kX2RhdGVfbnVtIiwic3RhdGUiLCJ0eXBlX3NlZ21lbnQiLCJwcm9kdWN0cyIsIk9iamVjdCIsImNhdGVnb3JpZXMiLCJ0aW1lc3RhbXBzIiwiRGlzY291bnQiLCJtb25nb29zZSIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiRGlzY291bnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLCB7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IERpc2NvdW50U2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICB0eXBlX2NhbXBhaWduOiB7dHlwZTpOdW1iZXIsIHJlcXVpcmVkOnRydWUsIGRlZmF1bHQ6IDF9LCAvLyAxIGVzIGNhbXBhw7FhIG5vcm1hIHkgMiBlcyB2ZW50YSBmbGFzaFxyXG4gICAgdHlwZV9kaXNjb3VudDoge3R5cGU6TnVtYmVyLCByZXF1aXJlZDp0cnVlLCBkZWZhdWx0OiAxfSwgLy8gMSBlcyBwb3JjZW50YWplIHkgMiBlcyBtb25lZGFcclxuICAgIGRpc2NvdW50OiB7dHlwZTogTnVtYmVyLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIHN0YXJ0X2RhdGU6IHt0eXBlOkRhdGUscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBlbmRfZGF0ZTp7IHR5cGU6RGF0ZSxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHN0YXJ0X2RhdGVfbnVtOiB7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBlbmRfZGF0ZV9udW06eyB0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSxcclxuICAgIHN0YXRlOnt0eXBlOk51bWJlcixkZWZhdWx0OiAxfSwgLy8xIGVzIGFjdGl2byB5IDIgZXMgZGVzYWN0aXZvXHJcbiAgICB0eXBlX3NlZ21lbnQ6e3R5cGU6TnVtYmVyLGRlZmF1bHQ6IDF9LC8vMSBlcyBwb3IgcHJvZHVjdG8geSAyIGVzIHBvciBjYXRlZ29yaWFcclxuICAgIHByb2R1Y3RzOlt7dHlwZTpPYmplY3QsIHJlcXVpcmVkOmZhbHNlfV0sXHJcbiAgICBjYXRlZ29yaWVzOlt7dHlwZTpPYmplY3QsIHJlcXVpcmVkOmZhbHNlfV0sXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczp0cnVlLFxyXG59KTtcclxuXHJcbmNvbnN0IERpc2NvdW50ID0gbW9uZ29vc2UubW9kZWwoXCJkaXNjb3VudHNcIixEaXNjb3VudFNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IERpc2NvdW50OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFBMEM7QUFBQTtBQUUxQyxNQUFNQSxjQUFjLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUM5QkMsYUFBYSxFQUFFO0lBQUNDLElBQUksRUFBQ0MsTUFBTTtJQUFFQyxRQUFRLEVBQUMsSUFBSTtJQUFFQyxPQUFPLEVBQUU7RUFBQyxDQUFDO0VBQUU7RUFDekRDLGFBQWEsRUFBRTtJQUFDSixJQUFJLEVBQUNDLE1BQU07SUFBRUMsUUFBUSxFQUFDLElBQUk7SUFBRUMsT0FBTyxFQUFFO0VBQUMsQ0FBQztFQUFFO0VBQ3pERSxRQUFRLEVBQUU7SUFBQ0wsSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDdkNJLFVBQVUsRUFBRTtJQUFDTixJQUFJLEVBQUNPLElBQUk7SUFBQ0wsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNyQ00sUUFBUSxFQUFDO0lBQUVSLElBQUksRUFBQ08sSUFBSTtJQUFDTCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ25DTyxjQUFjLEVBQUU7SUFBQ1QsSUFBSSxFQUFDQyxNQUFNO0lBQUNDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDM0NRLFlBQVksRUFBQztJQUFFVixJQUFJLEVBQUNDLE1BQU07SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUN6Q1MsS0FBSyxFQUFDO0lBQUNYLElBQUksRUFBQ0MsTUFBTTtJQUFDRSxPQUFPLEVBQUU7RUFBQyxDQUFDO0VBQUU7RUFDaENTLFlBQVksRUFBQztJQUFDWixJQUFJLEVBQUNDLE1BQU07SUFBQ0UsT0FBTyxFQUFFO0VBQUMsQ0FBQztFQUFDO0VBQ3RDVSxRQUFRLEVBQUMsQ0FBQztJQUFDYixJQUFJLEVBQUNjLE1BQU07SUFBRVosUUFBUSxFQUFDO0VBQUssQ0FBQyxDQUFDO0VBQ3hDYSxVQUFVLEVBQUMsQ0FBQztJQUFDZixJQUFJLEVBQUNjLE1BQU07SUFBRVosUUFBUSxFQUFDO0VBQUssQ0FBQztBQUM3QyxDQUFDLEVBQUM7RUFDRWMsVUFBVSxFQUFDO0FBQ2YsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsUUFBUSxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsV0FBVyxFQUFDdEIsY0FBYyxDQUFDO0FBQUMsaUNBQzdDb0IsUUFBUSJ9","map":{"version":3,"names":["DiscountSchema","Schema","type_campaign","type","Number","required","default","type_discount","discount","start_date","Date","end_date","start_date_num","end_date_num","state","type_segment","products","Object","categories","timestamps","Discount","mongoose","model"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Discount.js"],"sourcesContent":["import mongoose, {Schema} from \"mongoose\";\r\n\r\nconst DiscountSchema = new Schema({\r\n    type_campaign: {type:Number, required:true, default: 1}, // 1 es campaña norma y 2 es venta flash\r\n    type_discount: {type:Number, required:true, default: 1}, // 1 es porcentaje y 2 es moneda\r\n    discount: {type: Number, required:true},\r\n    start_date: {type:Date,required:true},\r\n    end_date:{ type:Date,required:true},\r\n    start_date_num: {type:Number,required:true},\r\n    end_date_num:{ type:Number,required:true},\r\n    state:{type:Number,default: 1}, //1 es activo y 2 es desactivo\r\n    type_segment:{type:Number,default: 1},//1 es por producto y 2 es por categoria\r\n    products:[{type:Object, required:false}],\r\n    categories:[{type:Object, required:false}],\r\n},{\r\n    timestamps:true,\r\n});\r\n\r\nconst Discount = mongoose.model(\"discounts\",DiscountSchema);\r\nexport default Discount;"],"mappings":";;;;;;AAAA;AAA0C;AAAA;AAE1C,MAAMA,cAAc,GAAG,IAAIC,gBAAM,CAAC;EAC9BC,aAAa,EAAE;IAACC,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC,IAAI;IAAEC,OAAO,EAAE;EAAC,CAAC;EAAE;EACzDC,aAAa,EAAE;IAACJ,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC,IAAI;IAAEC,OAAO,EAAE;EAAC,CAAC;EAAE;EACzDE,QAAQ,EAAE;IAACL,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACvCI,UAAU,EAAE;IAACN,IAAI,EAACO,IAAI;IAACL,QAAQ,EAAC;EAAI,CAAC;EACrCM,QAAQ,EAAC;IAAER,IAAI,EAACO,IAAI;IAACL,QAAQ,EAAC;EAAI,CAAC;EACnCO,cAAc,EAAE;IAACT,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC3CQ,YAAY,EAAC;IAAEV,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EACzCS,KAAK,EAAC;IAACX,IAAI,EAACC,MAAM;IAACE,OAAO,EAAE;EAAC,CAAC;EAAE;EAChCS,YAAY,EAAC;IAACZ,IAAI,EAACC,MAAM;IAACE,OAAO,EAAE;EAAC,CAAC;EAAC;EACtCU,QAAQ,EAAC,CAAC;IAACb,IAAI,EAACc,MAAM;IAAEZ,QAAQ,EAAC;EAAK,CAAC,CAAC;EACxCa,UAAU,EAAC,CAAC;IAACf,IAAI,EAACc,MAAM;IAAEZ,QAAQ,EAAC;EAAK,CAAC;AAC7C,CAAC,EAAC;EACEc,UAAU,EAAC;AACf,CAAC,CAAC;AAEF,MAAMC,QAAQ,GAAGC,iBAAQ,CAACC,KAAK,CAAC,WAAW,EAACtB,cAAc,CAAC;AAAC,iCAC7CoB,QAAQ"}},"mtime":1678545410605},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Cart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst CartSchema = new _mongoose.Schema({\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  type_discount: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es por porcentaje y 2 es por moneda\n  discount: {\n    type: Number,\n    default: 0\n  },\n  //50%\n  cantidad: {\n    type: Number,\n    required: true\n  },\n  //2\n  variedad: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'variedad',\n    required: false\n  },\n  code_cupon: {\n    type: String,\n    required: false\n  },\n  code_discount: {\n    type: String,\n    required: false\n  },\n  price_unitario: {\n    type: Number,\n    required: true\n  },\n  //60\n  subtotal: {\n    type: Number,\n    required: true\n  },\n  //30\n  total: {\n    type: Number,\n    required: true\n  } //60\n}, {\n  timestamps: true\n});\nconst Cart = _mongoose.default.model(\"cart\", CartSchema);\nvar _default = exports.default = Cart;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDYXJ0U2NoZW1hIiwiU2NoZW1hIiwidXNlciIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwicHJvZHVjdCIsInR5cGVfZGlzY291bnQiLCJOdW1iZXIiLCJkZWZhdWx0IiwiZGlzY291bnQiLCJjYW50aWRhZCIsInZhcmllZGFkIiwiY29kZV9jdXBvbiIsIlN0cmluZyIsImNvZGVfZGlzY291bnQiLCJwcmljZV91bml0YXJpbyIsInN1YnRvdGFsIiwidG90YWwiLCJ0aW1lc3RhbXBzIiwiQ2FydCIsIm1vbmdvb3NlIiwibW9kZWwiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXG1vZGVsc1xcIiwic291cmNlcyI6WyJDYXJ0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSwge1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCBDYXJ0U2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICB1c2VyOiB7dHlwZTogU2NoZW1hLk9iamVjdElkLHJlZjogJ3VzZXInLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgcHJvZHVjdDoge3R5cGU6IFNjaGVtYS5PYmplY3RJZCwgcmVmOiAncHJvZHVjdCcscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICB0eXBlX2Rpc2NvdW50OiB7dHlwZTpOdW1iZXIscmVxdWlyZWQ6ZmFsc2UsZGVmYXVsdDogMX0sLy8xIGVzIHBvciBwb3JjZW50YWplIHkgMiBlcyBwb3IgbW9uZWRhXHJcbiAgICBkaXNjb3VudDp7dHlwZTpOdW1iZXIsZGVmYXVsdDogMH0sLy81MCVcclxuICAgIGNhbnRpZGFkOiB7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sLy8yXHJcbiAgICB2YXJpZWRhZDoge3R5cGU6U2NoZW1hLk9iamVjdElkLCByZWY6ICd2YXJpZWRhZCcsIHJlcXVpcmVkOiBmYWxzZX0sXHJcbiAgICBjb2RlX2N1cG9uOiB7dHlwZTpTdHJpbmcscmVxdWlyZWQ6ZmFsc2V9LFxyXG4gICAgY29kZV9kaXNjb3VudDoge3R5cGU6U3RyaW5nLHJlcXVpcmVkOmZhbHNlfSxcclxuICAgIHByaWNlX3VuaXRhcmlvOiB7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sLy82MFxyXG4gICAgc3VidG90YWw6IHt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSwvLzMwXHJcbiAgICB0b3RhbDoge3R5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWV9LC8vNjBcclxufSx7XHJcbiAgICB0aW1lc3RhbXBzOnRydWVcclxufSk7XHJcblxyXG5jb25zdCBDYXJ0ID0gbW9uZ29vc2UubW9kZWwoXCJjYXJ0XCIsQ2FydFNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IENhcnQ7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUEwQztBQUFBO0FBRTFDLE1BQU1BLFVBQVUsR0FBRyxJQUFJQyxnQkFBTSxDQUFDO0VBQzFCQyxJQUFJLEVBQUU7SUFBQ0MsSUFBSSxFQUFFRixnQkFBTSxDQUFDRyxRQUFRO0lBQUNDLEdBQUcsRUFBRSxNQUFNO0lBQUNDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDdkRDLE9BQU8sRUFBRTtJQUFDSixJQUFJLEVBQUVGLGdCQUFNLENBQUNHLFFBQVE7SUFBRUMsR0FBRyxFQUFFLFNBQVM7SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUM5REUsYUFBYSxFQUFFO0lBQUNMLElBQUksRUFBQ00sTUFBTTtJQUFDSCxRQUFRLEVBQUMsS0FBSztJQUFDSSxPQUFPLEVBQUU7RUFBQyxDQUFDO0VBQUM7RUFDdkRDLFFBQVEsRUFBQztJQUFDUixJQUFJLEVBQUNNLE1BQU07SUFBQ0MsT0FBTyxFQUFFO0VBQUMsQ0FBQztFQUFDO0VBQ2xDRSxRQUFRLEVBQUU7SUFBQ1QsSUFBSSxFQUFDTSxNQUFNO0lBQUNILFFBQVEsRUFBQztFQUFJLENBQUM7RUFBQztFQUN0Q08sUUFBUSxFQUFFO0lBQUNWLElBQUksRUFBQ0YsZ0JBQU0sQ0FBQ0csUUFBUTtJQUFFQyxHQUFHLEVBQUUsVUFBVTtJQUFFQyxRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQ2xFUSxVQUFVLEVBQUU7SUFBQ1gsSUFBSSxFQUFDWSxNQUFNO0lBQUNULFFBQVEsRUFBQztFQUFLLENBQUM7RUFDeENVLGFBQWEsRUFBRTtJQUFDYixJQUFJLEVBQUNZLE1BQU07SUFBQ1QsUUFBUSxFQUFDO0VBQUssQ0FBQztFQUMzQ1csY0FBYyxFQUFFO0lBQUNkLElBQUksRUFBQ00sTUFBTTtJQUFDSCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQUM7RUFDNUNZLFFBQVEsRUFBRTtJQUFDZixJQUFJLEVBQUNNLE1BQU07SUFBQ0gsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUFDO0VBQ3RDYSxLQUFLLEVBQUU7SUFBQ2hCLElBQUksRUFBQ00sTUFBTTtJQUFDSCxRQUFRLEVBQUM7RUFBSSxDQUFDLENBQUM7QUFDdkMsQ0FBQyxFQUFDO0VBQ0VjLFVBQVUsRUFBQztBQUNmLENBQUMsQ0FBQztBQUVGLE1BQU1DLElBQUksR0FBR0MsaUJBQVEsQ0FBQ0MsS0FBSyxDQUFDLE1BQU0sRUFBQ3ZCLFVBQVUsQ0FBQztBQUFDLGlDQUNoQ3FCLElBQUkifQ==","map":{"version":3,"names":["CartSchema","Schema","user","type","ObjectId","ref","required","product","type_discount","Number","default","discount","cantidad","variedad","code_cupon","String","code_discount","price_unitario","subtotal","total","timestamps","Cart","mongoose","model"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Cart.js"],"sourcesContent":["import mongoose, {Schema} from \"mongoose\";\r\n\r\nconst CartSchema = new Schema({\r\n    user: {type: Schema.ObjectId,ref: 'user',required:true},\r\n    product: {type: Schema.ObjectId, ref: 'product',required:true},\r\n    type_discount: {type:Number,required:false,default: 1},//1 es por porcentaje y 2 es por moneda\r\n    discount:{type:Number,default: 0},//50%\r\n    cantidad: {type:Number,required:true},//2\r\n    variedad: {type:Schema.ObjectId, ref: 'variedad', required: false},\r\n    code_cupon: {type:String,required:false},\r\n    code_discount: {type:String,required:false},\r\n    price_unitario: {type:Number,required:true},//60\r\n    subtotal: {type:Number,required:true},//30\r\n    total: {type:Number,required:true},//60\r\n},{\r\n    timestamps:true\r\n});\r\n\r\nconst Cart = mongoose.model(\"cart\",CartSchema);\r\nexport default Cart;"],"mappings":";;;;;;AAAA;AAA0C;AAAA;AAE1C,MAAMA,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC1BC,IAAI,EAAE;IAACC,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAE,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EACvDC,OAAO,EAAE;IAACJ,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAE,SAAS;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC9DE,aAAa,EAAE;IAACL,IAAI,EAACM,MAAM;IAACH,QAAQ,EAAC,KAAK;IAACI,OAAO,EAAE;EAAC,CAAC;EAAC;EACvDC,QAAQ,EAAC;IAACR,IAAI,EAACM,MAAM;IAACC,OAAO,EAAE;EAAC,CAAC;EAAC;EAClCE,QAAQ,EAAE;IAACT,IAAI,EAACM,MAAM;IAACH,QAAQ,EAAC;EAAI,CAAC;EAAC;EACtCO,QAAQ,EAAE;IAACV,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAE,UAAU;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAClEQ,UAAU,EAAE;IAACX,IAAI,EAACY,MAAM;IAACT,QAAQ,EAAC;EAAK,CAAC;EACxCU,aAAa,EAAE;IAACb,IAAI,EAACY,MAAM;IAACT,QAAQ,EAAC;EAAK,CAAC;EAC3CW,cAAc,EAAE;IAACd,IAAI,EAACM,MAAM;IAACH,QAAQ,EAAC;EAAI,CAAC;EAAC;EAC5CY,QAAQ,EAAE;IAACf,IAAI,EAACM,MAAM;IAACH,QAAQ,EAAC;EAAI,CAAC;EAAC;EACtCa,KAAK,EAAE;IAAChB,IAAI,EAACM,MAAM;IAACH,QAAQ,EAAC;EAAI,CAAC,CAAC;AACvC,CAAC,EAAC;EACEc,UAAU,EAAC;AACf,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAACvB,UAAU,CAAC;AAAC,iCAChCqB,IAAI"}},"mtime":1679240384767},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\AddressClient.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst AddressClientSchema = new _mongoose.Schema({\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  pais: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  address: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  referencia: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  ciudad: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  region: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  telefono: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  nota: {\n    type: String,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst AddressClient = _mongoose.default.model(\"address_client\", AddressClientSchema);\nvar _default = exports.default = AddressClient;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJBZGRyZXNzQ2xpZW50U2NoZW1hIiwiU2NoZW1hIiwidXNlciIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwibmFtZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInN1cm5hbWUiLCJwYWlzIiwiYWRkcmVzcyIsInJlZmVyZW5jaWEiLCJjaXVkYWQiLCJyZWdpb24iLCJ0ZWxlZm9ubyIsImVtYWlsIiwibm90YSIsInRpbWVzdGFtcHMiLCJBZGRyZXNzQ2xpZW50IiwibW9uZ29vc2UiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIkFkZHJlc3NDbGllbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3QgQWRkcmVzc0NsaWVudFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgdXNlcjp7dHlwZTpTY2hlbWEuT2JqZWN0SWQscmVmOiAndXNlcicscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBuYW1lOnt0eXBlOlN0cmluZyxtYXhsZW5ndGggOiAyNTAscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBzdXJuYW1lOnt0eXBlOlN0cmluZyxtYXhsZW5ndGggOiAyNTAscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBwYWlzOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBhZGRyZXNzOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICByZWZlcmVuY2lhOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6ZmFsc2V9LFxyXG4gICAgY2l1ZGFkOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICByZWdpb246e3R5cGU6U3RyaW5nLG1heGxlbmd0aDogMjUwLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIHRlbGVmb25vOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBlbWFpbDp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgbm90YTp7dHlwZTpTdHJpbmcsIHJlcXVpcmVkOmZhbHNlfSxcclxufSx7XHJcbiAgICB0aW1lc3RhbXBzOiB0cnVlXHJcbn0pO1xyXG5cclxuY29uc3QgQWRkcmVzc0NsaWVudCA9IG1vbmdvb3NlLm1vZGVsKFwiYWRkcmVzc19jbGllbnRcIixBZGRyZXNzQ2xpZW50U2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgQWRkcmVzc0NsaWVudDsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQXlDO0FBQUE7QUFFekMsTUFBTUEsbUJBQW1CLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUNuQ0MsSUFBSSxFQUFDO0lBQUNDLElBQUksRUFBQ0YsZ0JBQU0sQ0FBQ0csUUFBUTtJQUFDQyxHQUFHLEVBQUUsTUFBTTtJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ3JEQyxJQUFJLEVBQUM7SUFBQ0osSUFBSSxFQUFDSyxNQUFNO0lBQUNDLFNBQVMsRUFBRyxHQUFHO0lBQUNILFFBQVEsRUFBQztFQUFJLENBQUM7RUFDaERJLE9BQU8sRUFBQztJQUFDUCxJQUFJLEVBQUNLLE1BQU07SUFBQ0MsU0FBUyxFQUFHLEdBQUc7SUFBQ0gsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNuREssSUFBSSxFQUFDO0lBQUNSLElBQUksRUFBQ0ssTUFBTTtJQUFDQyxTQUFTLEVBQUUsR0FBRztJQUFFSCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2hETSxPQUFPLEVBQUM7SUFBQ1QsSUFBSSxFQUFDSyxNQUFNO0lBQUNDLFNBQVMsRUFBRSxHQUFHO0lBQUVILFFBQVEsRUFBQztFQUFJLENBQUM7RUFDbkRPLFVBQVUsRUFBQztJQUFDVixJQUFJLEVBQUNLLE1BQU07SUFBQ0MsU0FBUyxFQUFFLEdBQUc7SUFBRUgsUUFBUSxFQUFDO0VBQUssQ0FBQztFQUN2RFEsTUFBTSxFQUFDO0lBQUNYLElBQUksRUFBQ0ssTUFBTTtJQUFDQyxTQUFTLEVBQUUsR0FBRztJQUFFSCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2xEUyxNQUFNLEVBQUM7SUFBQ1osSUFBSSxFQUFDSyxNQUFNO0lBQUNDLFNBQVMsRUFBRSxHQUFHO0lBQUVILFFBQVEsRUFBQztFQUFJLENBQUM7RUFDbERVLFFBQVEsRUFBQztJQUFDYixJQUFJLEVBQUNLLE1BQU07SUFBQ0MsU0FBUyxFQUFFLEdBQUc7SUFBRUgsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNwRFcsS0FBSyxFQUFDO0lBQUNkLElBQUksRUFBQ0ssTUFBTTtJQUFDQyxTQUFTLEVBQUUsR0FBRztJQUFFSCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2pEWSxJQUFJLEVBQUM7SUFBQ2YsSUFBSSxFQUFDSyxNQUFNO0lBQUVGLFFBQVEsRUFBQztFQUFLO0FBQ3JDLENBQUMsRUFBQztFQUNFYSxVQUFVLEVBQUU7QUFDaEIsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsYUFBYSxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsZ0JBQWdCLEVBQUN0QixtQkFBbUIsQ0FBQztBQUFDLGlDQUM1RG9CLGFBQWEifQ==","map":{"version":3,"names":["AddressClientSchema","Schema","user","type","ObjectId","ref","required","name","String","maxlength","surname","pais","address","referencia","ciudad","region","telefono","email","nota","timestamps","AddressClient","mongoose","model"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["AddressClient.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst AddressClientSchema = new Schema({\r\n    user:{type:Schema.ObjectId,ref: 'user',required:true},\r\n    name:{type:String,maxlength : 250,required:true},\r\n    surname:{type:String,maxlength : 250,required:true},\r\n    pais:{type:String,maxlength: 250, required:true},\r\n    address:{type:String,maxlength: 250, required:true},\r\n    referencia:{type:String,maxlength: 250, required:false},\r\n    ciudad:{type:String,maxlength: 250, required:true},\r\n    region:{type:String,maxlength: 250, required:true},\r\n    telefono:{type:String,maxlength: 250, required:true},\r\n    email:{type:String,maxlength: 250, required:true},\r\n    nota:{type:String, required:false},\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst AddressClient = mongoose.model(\"address_client\",AddressClientSchema);\r\nexport default AddressClient;"],"mappings":";;;;;;AAAA;AAAyC;AAAA;AAEzC,MAAMA,mBAAmB,GAAG,IAAIC,gBAAM,CAAC;EACnCC,IAAI,EAAC;IAACC,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAE,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EACrDC,IAAI,EAAC;IAACJ,IAAI,EAACK,MAAM;IAACC,SAAS,EAAG,GAAG;IAACH,QAAQ,EAAC;EAAI,CAAC;EAChDI,OAAO,EAAC;IAACP,IAAI,EAACK,MAAM;IAACC,SAAS,EAAG,GAAG;IAACH,QAAQ,EAAC;EAAI,CAAC;EACnDK,IAAI,EAAC;IAACR,IAAI,EAACK,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEH,QAAQ,EAAC;EAAI,CAAC;EAChDM,OAAO,EAAC;IAACT,IAAI,EAACK,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEH,QAAQ,EAAC;EAAI,CAAC;EACnDO,UAAU,EAAC;IAACV,IAAI,EAACK,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEH,QAAQ,EAAC;EAAK,CAAC;EACvDQ,MAAM,EAAC;IAACX,IAAI,EAACK,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEH,QAAQ,EAAC;EAAI,CAAC;EAClDS,MAAM,EAAC;IAACZ,IAAI,EAACK,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEH,QAAQ,EAAC;EAAI,CAAC;EAClDU,QAAQ,EAAC;IAACb,IAAI,EAACK,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEH,QAAQ,EAAC;EAAI,CAAC;EACpDW,KAAK,EAAC;IAACd,IAAI,EAACK,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEH,QAAQ,EAAC;EAAI,CAAC;EACjDY,IAAI,EAAC;IAACf,IAAI,EAACK,MAAM;IAAEF,QAAQ,EAAC;EAAK;AACrC,CAAC,EAAC;EACEa,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,aAAa,GAAGC,iBAAQ,CAACC,KAAK,CAAC,gBAAgB,EAACtB,mBAAmB,CAAC;AAAC,iCAC5DoB,aAAa"}},"mtime":1679756615219},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Sale.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst SaleSchema = new _mongoose.Schema({\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  currency_payment: {\n    type: String,\n    default: 'USD'\n  },\n  method_payment: {\n    type: String,\n    maxlength: 50,\n    required: true\n  },\n  n_transacccion: {\n    type: String,\n    maxlength: 200,\n    required: true\n  },\n  total: {\n    type: Number,\n    required: true\n  },\n  // \n  currency_total: {\n    type: String,\n    maxlength: 50,\n    default: 'USD'\n  },\n  price_dolar: {\n    type: Number,\n    default: 0\n  }\n}, {\n  timestamps: true\n});\nconst Sale = _mongoose.default.model(\"sale\", SaleSchema);\nvar _default = exports.default = Sale;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTYWxlU2NoZW1hIiwiU2NoZW1hIiwidXNlciIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwiY3VycmVuY3lfcGF5bWVudCIsIlN0cmluZyIsImRlZmF1bHQiLCJtZXRob2RfcGF5bWVudCIsIm1heGxlbmd0aCIsIm5fdHJhbnNhY2NjaW9uIiwidG90YWwiLCJOdW1iZXIiLCJjdXJyZW5jeV90b3RhbCIsInByaWNlX2RvbGFyIiwidGltZXN0YW1wcyIsIlNhbGUiLCJtb25nb29zZSIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiU2FsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2Use1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCBTYWxlU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICB1c2VyOnt0eXBlOiBTY2hlbWEuT2JqZWN0SWQscmVmOid1c2VyJyxyZXF1aXJlZDp0cnVlfSxcclxuICAgIGN1cnJlbmN5X3BheW1lbnQ6e3R5cGU6IFN0cmluZyxkZWZhdWx0OiAnVVNEJ30sXHJcbiAgICBtZXRob2RfcGF5bWVudDp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiA1MCxyZXF1aXJlZDp0cnVlfSxcclxuICAgIG5fdHJhbnNhY2NjaW9uOiB7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyMDAscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICB0b3RhbDp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICAvLyBcclxuICAgIGN1cnJlbmN5X3RvdGFsOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6IDUwLCBkZWZhdWx0OiAnVVNEJ30sXHJcbiAgICBwcmljZV9kb2xhcjp7dHlwZTpOdW1iZXIsZGVmYXVsdDogMH0sXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczogdHJ1ZSxcclxufSk7XHJcblxyXG5jb25zdCBTYWxlID0gbW9uZ29vc2UubW9kZWwoXCJzYWxlXCIsU2FsZVNjaGVtYSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTYWxlOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFBeUM7QUFBQTtBQUV6QyxNQUFNQSxVQUFVLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUMxQkMsSUFBSSxFQUFDO0lBQUNDLElBQUksRUFBRUYsZ0JBQU0sQ0FBQ0csUUFBUTtJQUFDQyxHQUFHLEVBQUMsTUFBTTtJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ3JEQyxnQkFBZ0IsRUFBQztJQUFDSixJQUFJLEVBQUVLLE1BQU07SUFBQ0MsT0FBTyxFQUFFO0VBQUssQ0FBQztFQUM5Q0MsY0FBYyxFQUFDO0lBQUNQLElBQUksRUFBQ0ssTUFBTTtJQUFDRyxTQUFTLEVBQUUsRUFBRTtJQUFDTCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ3hETSxjQUFjLEVBQUU7SUFBQ1QsSUFBSSxFQUFDSyxNQUFNO0lBQUNHLFNBQVMsRUFBRSxHQUFHO0lBQUNMLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDMURPLEtBQUssRUFBQztJQUFDVixJQUFJLEVBQUNXLE1BQU07SUFBQ1IsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNqQztFQUNBUyxjQUFjLEVBQUU7SUFBQ1osSUFBSSxFQUFFSyxNQUFNO0lBQUVHLFNBQVMsRUFBRSxFQUFFO0lBQUVGLE9BQU8sRUFBRTtFQUFLLENBQUM7RUFDN0RPLFdBQVcsRUFBQztJQUFDYixJQUFJLEVBQUNXLE1BQU07SUFBQ0wsT0FBTyxFQUFFO0VBQUM7QUFDdkMsQ0FBQyxFQUFDO0VBQ0VRLFVBQVUsRUFBRTtBQUNoQixDQUFDLENBQUM7QUFFRixNQUFNQyxJQUFJLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxNQUFNLEVBQUNwQixVQUFVLENBQUM7QUFBQyxpQ0FFaENrQixJQUFJIn0=","map":{"version":3,"names":["SaleSchema","Schema","user","type","ObjectId","ref","required","currency_payment","String","default","method_payment","maxlength","n_transacccion","total","Number","currency_total","price_dolar","timestamps","Sale","mongoose","model"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Sale.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst SaleSchema = new Schema({\r\n    user:{type: Schema.ObjectId,ref:'user',required:true},\r\n    currency_payment:{type: String,default: 'USD'},\r\n    method_payment:{type:String,maxlength: 50,required:true},\r\n    n_transacccion: {type:String,maxlength: 200,required:true},\r\n    total:{type:Number,required:true},\r\n    // \r\n    currency_total: {type: String, maxlength: 50, default: 'USD'},\r\n    price_dolar:{type:Number,default: 0},\r\n},{\r\n    timestamps: true,\r\n});\r\n\r\nconst Sale = mongoose.model(\"sale\",SaleSchema);\r\n\r\nexport default Sale;"],"mappings":";;;;;;AAAA;AAAyC;AAAA;AAEzC,MAAMA,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC1BC,IAAI,EAAC;IAACC,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EACrDC,gBAAgB,EAAC;IAACJ,IAAI,EAAEK,MAAM;IAACC,OAAO,EAAE;EAAK,CAAC;EAC9CC,cAAc,EAAC;IAACP,IAAI,EAACK,MAAM;IAACG,SAAS,EAAE,EAAE;IAACL,QAAQ,EAAC;EAAI,CAAC;EACxDM,cAAc,EAAE;IAACT,IAAI,EAACK,MAAM;IAACG,SAAS,EAAE,GAAG;IAACL,QAAQ,EAAC;EAAI,CAAC;EAC1DO,KAAK,EAAC;IAACV,IAAI,EAACW,MAAM;IAACR,QAAQ,EAAC;EAAI,CAAC;EACjC;EACAS,cAAc,EAAE;IAACZ,IAAI,EAAEK,MAAM;IAAEG,SAAS,EAAE,EAAE;IAAEF,OAAO,EAAE;EAAK,CAAC;EAC7DO,WAAW,EAAC;IAACb,IAAI,EAACW,MAAM;IAACL,OAAO,EAAE;EAAC;AACvC,CAAC,EAAC;EACEQ,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAACpB,UAAU,CAAC;AAAC,iCAEhCkB,IAAI"}},"mtime":1679842300790},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\SaleDetail.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst SaleDetailSchema = new _mongoose.Schema({\n  sale: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'sale',\n    required: true\n  },\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  type_discount: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es por porcentaje y 2 es por moneda\n  discount: {\n    type: Number,\n    default: 0\n  },\n  //50%\n  cantidad: {\n    type: Number,\n    required: true\n  },\n  //2\n  variedad: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'variedad',\n    required: false\n  },\n  code_cupon: {\n    type: String,\n    required: false\n  },\n  code_discount: {\n    type: String,\n    required: false\n  },\n  price_unitario: {\n    type: Number,\n    required: true\n  },\n  //60\n  subtotal: {\n    type: Number,\n    required: true\n  },\n  //30\n  total: {\n    type: Number,\n    required: true\n  } //60\n}, {\n  timestamps: true\n});\nconst SaleDetail = _mongoose.default.model(\"sale_detail\", SaleDetailSchema);\nvar _default = exports.default = SaleDetail;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTYWxlRGV0YWlsU2NoZW1hIiwiU2NoZW1hIiwic2FsZSIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwicHJvZHVjdCIsInR5cGVfZGlzY291bnQiLCJOdW1iZXIiLCJkZWZhdWx0IiwiZGlzY291bnQiLCJjYW50aWRhZCIsInZhcmllZGFkIiwiY29kZV9jdXBvbiIsIlN0cmluZyIsImNvZGVfZGlzY291bnQiLCJwcmljZV91bml0YXJpbyIsInN1YnRvdGFsIiwidG90YWwiLCJ0aW1lc3RhbXBzIiwiU2FsZURldGFpbCIsIm1vbmdvb3NlIiwibW9kZWwiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXG1vZGVsc1xcIiwic291cmNlcyI6WyJTYWxlRGV0YWlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IFNhbGVEZXRhaWxTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIHNhbGU6IHt0eXBlOiBTY2hlbWEuT2JqZWN0SWQscmVmOiAnc2FsZScscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBwcm9kdWN0OiB7dHlwZTogU2NoZW1hLk9iamVjdElkLCByZWY6ICdwcm9kdWN0JyxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHR5cGVfZGlzY291bnQ6IHt0eXBlOk51bWJlcixyZXF1aXJlZDpmYWxzZSxkZWZhdWx0OiAxfSwvLzEgZXMgcG9yIHBvcmNlbnRhamUgeSAyIGVzIHBvciBtb25lZGFcclxuICAgIGRpc2NvdW50Ont0eXBlOk51bWJlcixkZWZhdWx0OiAwfSwvLzUwJVxyXG4gICAgY2FudGlkYWQ6IHt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSwvLzJcclxuICAgIHZhcmllZGFkOiB7dHlwZTpTY2hlbWEuT2JqZWN0SWQsIHJlZjogJ3ZhcmllZGFkJywgcmVxdWlyZWQ6IGZhbHNlfSxcclxuICAgIGNvZGVfY3Vwb246IHt0eXBlOlN0cmluZyxyZXF1aXJlZDpmYWxzZX0sXHJcbiAgICBjb2RlX2Rpc2NvdW50OiB7dHlwZTpTdHJpbmcscmVxdWlyZWQ6ZmFsc2V9LFxyXG4gICAgcHJpY2VfdW5pdGFyaW86IHt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSwvLzYwXHJcbiAgICBzdWJ0b3RhbDoge3R5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWV9LC8vMzBcclxuICAgIHRvdGFsOiB7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sLy82MFxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6dHJ1ZSxcclxufSk7XHJcblxyXG5jb25zdCBTYWxlRGV0YWlsID0gbW9uZ29vc2UubW9kZWwoXCJzYWxlX2RldGFpbFwiLFNhbGVEZXRhaWxTY2hlbWEpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2FsZURldGFpbDsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQXlDO0FBQUE7QUFFekMsTUFBTUEsZ0JBQWdCLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUNoQ0MsSUFBSSxFQUFFO0lBQUNDLElBQUksRUFBRUYsZ0JBQU0sQ0FBQ0csUUFBUTtJQUFDQyxHQUFHLEVBQUUsTUFBTTtJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ3ZEQyxPQUFPLEVBQUU7SUFBQ0osSUFBSSxFQUFFRixnQkFBTSxDQUFDRyxRQUFRO0lBQUVDLEdBQUcsRUFBRSxTQUFTO0lBQUNDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDOURFLGFBQWEsRUFBRTtJQUFDTCxJQUFJLEVBQUNNLE1BQU07SUFBQ0gsUUFBUSxFQUFDLEtBQUs7SUFBQ0ksT0FBTyxFQUFFO0VBQUMsQ0FBQztFQUFDO0VBQ3ZEQyxRQUFRLEVBQUM7SUFBQ1IsSUFBSSxFQUFDTSxNQUFNO0lBQUNDLE9BQU8sRUFBRTtFQUFDLENBQUM7RUFBQztFQUNsQ0UsUUFBUSxFQUFFO0lBQUNULElBQUksRUFBQ00sTUFBTTtJQUFDSCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQUM7RUFDdENPLFFBQVEsRUFBRTtJQUFDVixJQUFJLEVBQUNGLGdCQUFNLENBQUNHLFFBQVE7SUFBRUMsR0FBRyxFQUFFLFVBQVU7SUFBRUMsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUNsRVEsVUFBVSxFQUFFO0lBQUNYLElBQUksRUFBQ1ksTUFBTTtJQUFDVCxRQUFRLEVBQUM7RUFBSyxDQUFDO0VBQ3hDVSxhQUFhLEVBQUU7SUFBQ2IsSUFBSSxFQUFDWSxNQUFNO0lBQUNULFFBQVEsRUFBQztFQUFLLENBQUM7RUFDM0NXLGNBQWMsRUFBRTtJQUFDZCxJQUFJLEVBQUNNLE1BQU07SUFBQ0gsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUFDO0VBQzVDWSxRQUFRLEVBQUU7SUFBQ2YsSUFBSSxFQUFDTSxNQUFNO0lBQUNILFFBQVEsRUFBQztFQUFJLENBQUM7RUFBQztFQUN0Q2EsS0FBSyxFQUFFO0lBQUNoQixJQUFJLEVBQUNNLE1BQU07SUFBQ0gsUUFBUSxFQUFDO0VBQUksQ0FBQyxDQUFDO0FBQ3ZDLENBQUMsRUFBQztFQUNFYyxVQUFVLEVBQUM7QUFDZixDQUFDLENBQUM7QUFFRixNQUFNQyxVQUFVLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxhQUFhLEVBQUN2QixnQkFBZ0IsQ0FBQztBQUFDLGlDQUVuRHFCLFVBQVUifQ==","map":{"version":3,"names":["SaleDetailSchema","Schema","sale","type","ObjectId","ref","required","product","type_discount","Number","default","discount","cantidad","variedad","code_cupon","String","code_discount","price_unitario","subtotal","total","timestamps","SaleDetail","mongoose","model"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["SaleDetail.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst SaleDetailSchema = new Schema({\r\n    sale: {type: Schema.ObjectId,ref: 'sale',required:true},\r\n    product: {type: Schema.ObjectId, ref: 'product',required:true},\r\n    type_discount: {type:Number,required:false,default: 1},//1 es por porcentaje y 2 es por moneda\r\n    discount:{type:Number,default: 0},//50%\r\n    cantidad: {type:Number,required:true},//2\r\n    variedad: {type:Schema.ObjectId, ref: 'variedad', required: false},\r\n    code_cupon: {type:String,required:false},\r\n    code_discount: {type:String,required:false},\r\n    price_unitario: {type:Number,required:true},//60\r\n    subtotal: {type:Number,required:true},//30\r\n    total: {type:Number,required:true},//60\r\n},{\r\n    timestamps:true,\r\n});\r\n\r\nconst SaleDetail = mongoose.model(\"sale_detail\",SaleDetailSchema);\r\n\r\nexport default SaleDetail;"],"mappings":";;;;;;AAAA;AAAyC;AAAA;AAEzC,MAAMA,gBAAgB,GAAG,IAAIC,gBAAM,CAAC;EAChCC,IAAI,EAAE;IAACC,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAE,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EACvDC,OAAO,EAAE;IAACJ,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAE,SAAS;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC9DE,aAAa,EAAE;IAACL,IAAI,EAACM,MAAM;IAACH,QAAQ,EAAC,KAAK;IAACI,OAAO,EAAE;EAAC,CAAC;EAAC;EACvDC,QAAQ,EAAC;IAACR,IAAI,EAACM,MAAM;IAACC,OAAO,EAAE;EAAC,CAAC;EAAC;EAClCE,QAAQ,EAAE;IAACT,IAAI,EAACM,MAAM;IAACH,QAAQ,EAAC;EAAI,CAAC;EAAC;EACtCO,QAAQ,EAAE;IAACV,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAE,UAAU;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAClEQ,UAAU,EAAE;IAACX,IAAI,EAACY,MAAM;IAACT,QAAQ,EAAC;EAAK,CAAC;EACxCU,aAAa,EAAE;IAACb,IAAI,EAACY,MAAM;IAACT,QAAQ,EAAC;EAAK,CAAC;EAC3CW,cAAc,EAAE;IAACd,IAAI,EAACM,MAAM;IAACH,QAAQ,EAAC;EAAI,CAAC;EAAC;EAC5CY,QAAQ,EAAE;IAACf,IAAI,EAACM,MAAM;IAACH,QAAQ,EAAC;EAAI,CAAC;EAAC;EACtCa,KAAK,EAAE;IAAChB,IAAI,EAACM,MAAM;IAACH,QAAQ,EAAC;EAAI,CAAC,CAAC;AACvC,CAAC,EAAC;EACEc,UAAU,EAAC;AACf,CAAC,CAAC;AAEF,MAAMC,UAAU,GAAGC,iBAAQ,CAACC,KAAK,CAAC,aAAa,EAACvB,gBAAgB,CAAC;AAAC,iCAEnDqB,UAAU"}},"mtime":1679842349406},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\SaleAddress.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst SaleAddressSchema = new _mongoose.Schema({\n  sale: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'sale',\n    required: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  pais: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  address: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  referencia: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  ciudad: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  region: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  telefono: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  nota: {\n    type: String,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst SaleAddress = _mongoose.default.model(\"sale_address\", SaleAddressSchema);\nvar _default = exports.default = SaleAddress;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTYWxlQWRkcmVzc1NjaGVtYSIsIlNjaGVtYSIsInNhbGUiLCJ0eXBlIiwiT2JqZWN0SWQiLCJyZWYiLCJyZXF1aXJlZCIsIm5hbWUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJzdXJuYW1lIiwicGFpcyIsImFkZHJlc3MiLCJyZWZlcmVuY2lhIiwiY2l1ZGFkIiwicmVnaW9uIiwidGVsZWZvbm8iLCJlbWFpbCIsIm5vdGEiLCJ0aW1lc3RhbXBzIiwiU2FsZUFkZHJlc3MiLCJtb25nb29zZSIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiU2FsZUFkZHJlc3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3QgU2FsZUFkZHJlc3NTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIHNhbGU6e3R5cGU6U2NoZW1hLk9iamVjdElkLHJlZjogJ3NhbGUnLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgbmFtZTp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoIDogMjUwLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgc3VybmFtZTp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoIDogMjUwLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgcGFpczp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgYWRkcmVzczp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgcmVmZXJlbmNpYTp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOmZhbHNlfSxcclxuICAgIGNpdWRhZDp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgcmVnaW9uOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICB0ZWxlZm9ubzp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgZW1haWw6e3R5cGU6U3RyaW5nLG1heGxlbmd0aDogMjUwLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIG5vdGE6e3R5cGU6U3RyaW5nLCByZXF1aXJlZDpmYWxzZX0sXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczogdHJ1ZVxyXG59KTtcclxuXHJcbmNvbnN0IFNhbGVBZGRyZXNzID0gbW9uZ29vc2UubW9kZWwoXCJzYWxlX2FkZHJlc3NcIixTYWxlQWRkcmVzc1NjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IFNhbGVBZGRyZXNzOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFBeUM7QUFBQTtBQUV6QyxNQUFNQSxpQkFBaUIsR0FBRyxJQUFJQyxnQkFBTSxDQUFDO0VBQ2pDQyxJQUFJLEVBQUM7SUFBQ0MsSUFBSSxFQUFDRixnQkFBTSxDQUFDRyxRQUFRO0lBQUNDLEdBQUcsRUFBRSxNQUFNO0lBQUNDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDckRDLElBQUksRUFBQztJQUFDSixJQUFJLEVBQUNLLE1BQU07SUFBQ0MsU0FBUyxFQUFHLEdBQUc7SUFBQ0gsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNoREksT0FBTyxFQUFDO0lBQUNQLElBQUksRUFBQ0ssTUFBTTtJQUFDQyxTQUFTLEVBQUcsR0FBRztJQUFDSCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ25ESyxJQUFJLEVBQUM7SUFBQ1IsSUFBSSxFQUFDSyxNQUFNO0lBQUNDLFNBQVMsRUFBRSxHQUFHO0lBQUVILFFBQVEsRUFBQztFQUFJLENBQUM7RUFDaERNLE9BQU8sRUFBQztJQUFDVCxJQUFJLEVBQUNLLE1BQU07SUFBQ0MsU0FBUyxFQUFFLEdBQUc7SUFBRUgsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNuRE8sVUFBVSxFQUFDO0lBQUNWLElBQUksRUFBQ0ssTUFBTTtJQUFDQyxTQUFTLEVBQUUsR0FBRztJQUFFSCxRQUFRLEVBQUM7RUFBSyxDQUFDO0VBQ3ZEUSxNQUFNLEVBQUM7SUFBQ1gsSUFBSSxFQUFDSyxNQUFNO0lBQUNDLFNBQVMsRUFBRSxHQUFHO0lBQUVILFFBQVEsRUFBQztFQUFJLENBQUM7RUFDbERTLE1BQU0sRUFBQztJQUFDWixJQUFJLEVBQUNLLE1BQU07SUFBQ0MsU0FBUyxFQUFFLEdBQUc7SUFBRUgsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNsRFUsUUFBUSxFQUFDO0lBQUNiLElBQUksRUFBQ0ssTUFBTTtJQUFDQyxTQUFTLEVBQUUsR0FBRztJQUFFSCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ3BEVyxLQUFLLEVBQUM7SUFBQ2QsSUFBSSxFQUFDSyxNQUFNO0lBQUNDLFNBQVMsRUFBRSxHQUFHO0lBQUVILFFBQVEsRUFBQztFQUFJLENBQUM7RUFDakRZLElBQUksRUFBQztJQUFDZixJQUFJLEVBQUNLLE1BQU07SUFBRUYsUUFBUSxFQUFDO0VBQUs7QUFDckMsQ0FBQyxFQUFDO0VBQ0VhLFVBQVUsRUFBRTtBQUNoQixDQUFDLENBQUM7QUFFRixNQUFNQyxXQUFXLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxjQUFjLEVBQUN0QixpQkFBaUIsQ0FBQztBQUFDLGlDQUN0RG9CLFdBQVcifQ==","map":{"version":3,"names":["SaleAddressSchema","Schema","sale","type","ObjectId","ref","required","name","String","maxlength","surname","pais","address","referencia","ciudad","region","telefono","email","nota","timestamps","SaleAddress","mongoose","model"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["SaleAddress.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst SaleAddressSchema = new Schema({\r\n    sale:{type:Schema.ObjectId,ref: 'sale',required:true},\r\n    name:{type:String,maxlength : 250,required:true},\r\n    surname:{type:String,maxlength : 250,required:true},\r\n    pais:{type:String,maxlength: 250, required:true},\r\n    address:{type:String,maxlength: 250, required:true},\r\n    referencia:{type:String,maxlength: 250, required:false},\r\n    ciudad:{type:String,maxlength: 250, required:true},\r\n    region:{type:String,maxlength: 250, required:true},\r\n    telefono:{type:String,maxlength: 250, required:true},\r\n    email:{type:String,maxlength: 250, required:true},\r\n    nota:{type:String, required:false},\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst SaleAddress = mongoose.model(\"sale_address\",SaleAddressSchema);\r\nexport default SaleAddress;"],"mappings":";;;;;;AAAA;AAAyC;AAAA;AAEzC,MAAMA,iBAAiB,GAAG,IAAIC,gBAAM,CAAC;EACjCC,IAAI,EAAC;IAACC,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAE,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EACrDC,IAAI,EAAC;IAACJ,IAAI,EAACK,MAAM;IAACC,SAAS,EAAG,GAAG;IAACH,QAAQ,EAAC;EAAI,CAAC;EAChDI,OAAO,EAAC;IAACP,IAAI,EAACK,MAAM;IAACC,SAAS,EAAG,GAAG;IAACH,QAAQ,EAAC;EAAI,CAAC;EACnDK,IAAI,EAAC;IAACR,IAAI,EAACK,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEH,QAAQ,EAAC;EAAI,CAAC;EAChDM,OAAO,EAAC;IAACT,IAAI,EAACK,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEH,QAAQ,EAAC;EAAI,CAAC;EACnDO,UAAU,EAAC;IAACV,IAAI,EAACK,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEH,QAAQ,EAAC;EAAK,CAAC;EACvDQ,MAAM,EAAC;IAACX,IAAI,EAACK,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEH,QAAQ,EAAC;EAAI,CAAC;EAClDS,MAAM,EAAC;IAACZ,IAAI,EAACK,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEH,QAAQ,EAAC;EAAI,CAAC;EAClDU,QAAQ,EAAC;IAACb,IAAI,EAACK,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEH,QAAQ,EAAC;EAAI,CAAC;EACpDW,KAAK,EAAC;IAACd,IAAI,EAACK,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEH,QAAQ,EAAC;EAAI,CAAC;EACjDY,IAAI,EAAC;IAACf,IAAI,EAACK,MAAM;IAAEF,QAAQ,EAAC;EAAK;AACrC,CAAC,EAAC;EACEa,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,WAAW,GAAGC,iBAAQ,CAACC,KAAK,CAAC,cAAc,EAACtB,iBAAiB,CAAC;AAAC,iCACtDoB,WAAW"}},"mtime":1679842388462},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\models\\\\Review.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst ReviewSchema = new _mongoose.Schema({\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  sale_detail: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'sale_detail',\n    required: true\n  },\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  cantidad: {\n    type: Number,\n    maxlength: 2,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst Review = _mongoose.default.model(\"review\", ReviewSchema);\nvar _default = exports.default = Review;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZXZpZXdTY2hlbWEiLCJTY2hlbWEiLCJwcm9kdWN0IiwidHlwZSIsIk9iamVjdElkIiwicmVmIiwicmVxdWlyZWQiLCJzYWxlX2RldGFpbCIsInVzZXIiLCJjYW50aWRhZCIsIk51bWJlciIsIm1heGxlbmd0aCIsImRlc2NyaXB0aW9uIiwiU3RyaW5nIiwidGltZXN0YW1wcyIsIlJldmlldyIsIm1vbmdvb3NlIiwibW9kZWwiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXG1vZGVsc1xcIiwic291cmNlcyI6WyJSZXZpZXcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3QgUmV2aWV3U2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICBwcm9kdWN0Ont0eXBlOlNjaGVtYS5PYmplY3RJZCxyZWY6J3Byb2R1Y3QnLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgc2FsZV9kZXRhaWw6e3R5cGU6U2NoZW1hLk9iamVjdElkLHJlZjonc2FsZV9kZXRhaWwnLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIHVzZXI6e3R5cGU6U2NoZW1hLk9iamVjdElkLHJlZjondXNlcicsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgY2FudGlkYWQ6e3R5cGU6TnVtYmVyLG1heGxlbmd0aDoyLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgZGVzY3JpcHRpb246e3R5cGU6U3RyaW5nLHJlcXVpcmVkOnRydWV9LFxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6IHRydWVcclxufSk7XHJcblxyXG5jb25zdCBSZXZpZXcgPSBtb25nb29zZS5tb2RlbChcInJldmlld1wiLFJldmlld1NjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IFJldmlldzsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQXlDO0FBQUE7QUFFekMsTUFBTUEsWUFBWSxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDNUJDLE9BQU8sRUFBQztJQUFDQyxJQUFJLEVBQUNGLGdCQUFNLENBQUNHLFFBQVE7SUFBQ0MsR0FBRyxFQUFDLFNBQVM7SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUMxREMsV0FBVyxFQUFDO0lBQUNKLElBQUksRUFBQ0YsZ0JBQU0sQ0FBQ0csUUFBUTtJQUFDQyxHQUFHLEVBQUMsYUFBYTtJQUFFQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ25FRSxJQUFJLEVBQUM7SUFBQ0wsSUFBSSxFQUFDRixnQkFBTSxDQUFDRyxRQUFRO0lBQUNDLEdBQUcsRUFBQyxNQUFNO0lBQUVDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDckRHLFFBQVEsRUFBQztJQUFDTixJQUFJLEVBQUNPLE1BQU07SUFBQ0MsU0FBUyxFQUFDLENBQUM7SUFBQ0wsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNoRE0sV0FBVyxFQUFDO0lBQUNULElBQUksRUFBQ1UsTUFBTTtJQUFDUCxRQUFRLEVBQUM7RUFBSTtBQUMxQyxDQUFDLEVBQUM7RUFDRVEsVUFBVSxFQUFFO0FBQ2hCLENBQUMsQ0FBQztBQUVGLE1BQU1DLE1BQU0sR0FBR0MsaUJBQVEsQ0FBQ0MsS0FBSyxDQUFDLFFBQVEsRUFBQ2pCLFlBQVksQ0FBQztBQUFDLGlDQUN0Q2UsTUFBTSJ9","map":{"version":3,"names":["ReviewSchema","Schema","product","type","ObjectId","ref","required","sale_detail","user","cantidad","Number","maxlength","description","String","timestamps","Review","mongoose","model"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\models\\","sources":["Review.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst ReviewSchema = new Schema({\r\n    product:{type:Schema.ObjectId,ref:'product',required:true},\r\n    sale_detail:{type:Schema.ObjectId,ref:'sale_detail', required:true},\r\n    user:{type:Schema.ObjectId,ref:'user', required:true},\r\n    cantidad:{type:Number,maxlength:2,required:true},\r\n    description:{type:String,required:true},\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst Review = mongoose.model(\"review\",ReviewSchema);\r\nexport default Review;"],"mappings":";;;;;;AAAA;AAAyC;AAAA;AAEzC,MAAMA,YAAY,GAAG,IAAIC,gBAAM,CAAC;EAC5BC,OAAO,EAAC;IAACC,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,SAAS;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC1DC,WAAW,EAAC;IAACJ,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,aAAa;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACnEE,IAAI,EAAC;IAACL,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,MAAM;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACrDG,QAAQ,EAAC;IAACN,IAAI,EAACO,MAAM;IAACC,SAAS,EAAC,CAAC;IAACL,QAAQ,EAAC;EAAI,CAAC;EAChDM,WAAW,EAAC;IAACT,IAAI,EAACU,MAAM;IAACP,QAAQ,EAAC;EAAI;AAC1C,CAAC,EAAC;EACEQ,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAGC,iBAAQ,CAACC,KAAK,CAAC,QAAQ,EAACjB,YAAY,CAAC;AAAC,iCACtCe,MAAM"}},"mtime":1680709802540},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\services\\\\token.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  encode: async (_id, rol, email) => {\n    const token = _jsonwebtoken.default.sign({\n      _id: _id,\n      rol: rol,\n      email: email\n    }, 'ecommerce_udemy', {\n      expiresIn: '1d'\n    });\n    return token;\n  },\n  decode: async token => {\n    try {\n      const {\n        _id\n      } = await _jsonwebtoken.default.verify(token, 'ecommerce_udemy');\n      const user = _models.default.User.findOne({\n        _id: _id,\n        state: 1\n      });\n      if (user) {\n        return user;\n      }\n      return false;\n    } catch (error) {\n      console.log(error);\n      return false;\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJlbmNvZGUiLCJfaWQiLCJyb2wiLCJlbWFpbCIsInRva2VuIiwiand0Iiwic2lnbiIsImV4cGlyZXNJbiIsImRlY29kZSIsInZlcmlmeSIsInVzZXIiLCJtb2RlbHMiLCJVc2VyIiwiZmluZE9uZSIsInN0YXRlIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxzZXJ2aWNlc1xcIiwic291cmNlcyI6WyJ0b2tlbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbidcclxuaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICBlbmNvZGU6IGFzeW5jKF9pZCxyb2wsZW1haWwpID0+e1xyXG4gICAgICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oe19pZDogX2lkLHJvbDogcm9sLGVtYWlsOiBlbWFpbH0sJ2Vjb21tZXJjZV91ZGVteScse2V4cGlyZXNJbjogJzFkJ30pO1xyXG4gICAgICAgIHJldHVybiB0b2tlbjtcclxuICAgIH0sXHJcbiAgICBkZWNvZGU6IGFzeW5jKHRva2VuKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3Qge19pZH0gPSBhd2FpdCBqd3QudmVyaWZ5KHRva2VuLCdlY29tbWVyY2VfdWRlbXknKTtcclxuICAgICAgICAgICAgY29uc3QgdXNlciA9IG1vZGVscy5Vc2VyLmZpbmRPbmUoe19pZDogX2lkLHN0YXRlOiAxfSk7XHJcbiAgICAgICAgICAgIGlmKHVzZXIpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUE4QjtBQUFBLGlDQUVmO0VBQ1hBLE1BQU0sRUFBRSxPQUFNQyxHQUFHLEVBQUNDLEdBQUcsRUFBQ0MsS0FBSyxLQUFJO0lBQzNCLE1BQU1DLEtBQUssR0FBR0MscUJBQUcsQ0FBQ0MsSUFBSSxDQUFDO01BQUNMLEdBQUcsRUFBRUEsR0FBRztNQUFDQyxHQUFHLEVBQUVBLEdBQUc7TUFBQ0MsS0FBSyxFQUFFQTtJQUFLLENBQUMsRUFBQyxpQkFBaUIsRUFBQztNQUFDSSxTQUFTLEVBQUU7SUFBSSxDQUFDLENBQUM7SUFDNUYsT0FBT0gsS0FBSztFQUNoQixDQUFDO0VBQ0RJLE1BQU0sRUFBRSxNQUFNSixLQUFLLElBQUs7SUFDcEIsSUFBSTtNQUNBLE1BQU07UUFBQ0g7TUFBRyxDQUFDLEdBQUcsTUFBTUkscUJBQUcsQ0FBQ0ksTUFBTSxDQUFDTCxLQUFLLEVBQUMsaUJBQWlCLENBQUM7TUFDdkQsTUFBTU0sSUFBSSxHQUFHQyxlQUFNLENBQUNDLElBQUksQ0FBQ0MsT0FBTyxDQUFDO1FBQUNaLEdBQUcsRUFBRUEsR0FBRztRQUFDYSxLQUFLLEVBQUU7TUFBQyxDQUFDLENBQUM7TUFDckQsSUFBR0osSUFBSSxFQUFDO1FBQ0osT0FBT0EsSUFBSTtNQUNmO01BQ0EsT0FBTyxLQUFLO0lBQ2hCLENBQUMsQ0FBQyxPQUFPSyxLQUFLLEVBQUU7TUFDWkMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEtBQUssQ0FBQztNQUNsQixPQUFPLEtBQUs7SUFDaEI7RUFDSjtBQUNKLENBQUMifQ==","map":{"version":3,"names":["encode","_id","rol","email","token","jwt","sign","expiresIn","decode","verify","user","models","User","findOne","state","error","console","log"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\services\\","sources":["token.js"],"sourcesContent":["import jwt from 'jsonwebtoken'\r\nimport models from '../models'\r\n\r\nexport default {\r\n    encode: async(_id,rol,email) =>{\r\n        const token = jwt.sign({_id: _id,rol: rol,email: email},'ecommerce_udemy',{expiresIn: '1d'});\r\n        return token;\r\n    },\r\n    decode: async(token) => {\r\n        try {\r\n            const {_id} = await jwt.verify(token,'ecommerce_udemy');\r\n            const user = models.User.findOne({_id: _id,state: 1});\r\n            if(user){\r\n                return user;\r\n            }\r\n            return false;\r\n        } catch (error) {\r\n            console.log(error);\r\n            return false;\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;AAAA;AACA;AAA8B;AAAA,iCAEf;EACXA,MAAM,EAAE,OAAMC,GAAG,EAACC,GAAG,EAACC,KAAK,KAAI;IAC3B,MAAMC,KAAK,GAAGC,qBAAG,CAACC,IAAI,CAAC;MAACL,GAAG,EAAEA,GAAG;MAACC,GAAG,EAAEA,GAAG;MAACC,KAAK,EAAEA;IAAK,CAAC,EAAC,iBAAiB,EAAC;MAACI,SAAS,EAAE;IAAI,CAAC,CAAC;IAC5F,OAAOH,KAAK;EAChB,CAAC;EACDI,MAAM,EAAE,MAAMJ,KAAK,IAAK;IACpB,IAAI;MACA,MAAM;QAACH;MAAG,CAAC,GAAG,MAAMI,qBAAG,CAACI,MAAM,CAACL,KAAK,EAAC,iBAAiB,CAAC;MACvD,MAAMM,IAAI,GAAGC,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAACZ,GAAG,EAAEA,GAAG;QAACa,KAAK,EAAE;MAAC,CAAC,CAAC;MACrD,IAAGJ,IAAI,EAAC;QACJ,OAAOA,IAAI;MACf;MACA,OAAO,KAAK;IAChB,CAAC,CAAC,OAAOK,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClB,OAAO,KAAK;IAChB;EACJ;AACJ,CAAC"}},"mtime":1676101734781},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _Cart = _interopRequireDefault(require(\"./Cart\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  User: _User.default,\n  Categorie: _Categorie.default,\n  Product: _Product.default,\n  Slider: _Slider.default,\n  Cart: _Cart.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJVc2VyIiwiQ2F0ZWdvcmllIiwiUHJvZHVjdCIsIlNsaWRlciIsIkNhcnQiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJlc291cmNlc1xcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXNlciBmcm9tICcuL1VzZXInXHJcblxyXG5pbXBvcnQgQ2F0ZWdvcmllIGZyb20gJy4vQ2F0ZWdvcmllJ1xyXG5pbXBvcnQgUHJvZHVjdCBmcm9tICcuL1Byb2R1Y3QnXHJcbmltcG9ydCBTbGlkZXIgZnJvbSAnLi9TbGlkZXInXHJcbmltcG9ydCBDYXJ0IGZyb20gJy4vQ2FydCdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIFVzZXIsXHJcbiAgICBDYXRlZ29yaWUsXHJcbiAgICBQcm9kdWN0LFxyXG4gICAgU2xpZGVyLFxyXG4gICAgQ2FydCxcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUF5QjtBQUFBLGlDQUVWO0VBQ1hBLElBQUksRUFBSkEsYUFBSTtFQUNKQyxTQUFTLEVBQVRBLGtCQUFTO0VBQ1RDLE9BQU8sRUFBUEEsZ0JBQU87RUFDUEMsTUFBTSxFQUFOQSxlQUFNO0VBQ05DLElBQUksRUFBSkE7QUFDSixDQUFDIn0=","map":{"version":3,"names":["User","Categorie","Product","Slider","Cart"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\resources\\","sources":["index.js"],"sourcesContent":["import User from './User'\r\n\r\nimport Categorie from './Categorie'\r\nimport Product from './Product'\r\nimport Slider from './Slider'\r\nimport Cart from './Cart'\r\n\r\nexport default {\r\n    User,\r\n    Categorie,\r\n    Product,\r\n    Slider,\r\n    Cart,\r\n}"],"mappings":";;;;;;AAAA;AAEA;AACA;AACA;AACA;AAAyB;AAAA,iCAEV;EACXA,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA,kBAAS;EACTC,OAAO,EAAPA,gBAAO;EACPC,MAAM,EAANA,eAAM;EACNC,IAAI,EAAJA;AACJ,CAAC"}},"mtime":1678744277277},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  user_list: user => {\n    return {\n      _id: user._id,\n      name: user.name,\n      surname: user.surname,\n      email: user.email,\n      avatar: user.avatar\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyX2xpc3QiLCJ1c2VyIiwiX2lkIiwibmFtZSIsInN1cm5hbWUiLCJlbWFpbCIsImF2YXRhciJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxccmVzb3VyY2VzXFwiLCJzb3VyY2VzIjpbIlVzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgdXNlcl9saXN0OiAodXNlcikgPT4ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIF9pZDogdXNlci5faWQsXHJcbiAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcclxuICAgICAgICAgICAgc3VybmFtZTogdXNlci5zdXJuYW1lLFxyXG4gICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhcixcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztpQ0FBZTtFQUNYQSxTQUFTLEVBQUdDLElBQUksSUFBSztJQUNqQixPQUFPO01BQ0hDLEdBQUcsRUFBRUQsSUFBSSxDQUFDQyxHQUFHO01BQ2JDLElBQUksRUFBRUYsSUFBSSxDQUFDRSxJQUFJO01BQ2ZDLE9BQU8sRUFBRUgsSUFBSSxDQUFDRyxPQUFPO01BQ3JCQyxLQUFLLEVBQUVKLElBQUksQ0FBQ0ksS0FBSztNQUNqQkMsTUFBTSxFQUFFTCxJQUFJLENBQUNLO0lBQ2pCLENBQUM7RUFDTDtBQUNKLENBQUMifQ==","map":{"version":3,"names":["user_list","user","_id","name","surname","email","avatar"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\resources\\","sources":["User.js"],"sourcesContent":["export default {\r\n    user_list: (user) => {\r\n        return {\r\n            _id: user._id,\r\n            name: user.name,\r\n            surname: user.surname,\r\n            email: user.email,\r\n            avatar: user.avatar,\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;iCAAe;EACXA,SAAS,EAAGC,IAAI,IAAK;IACjB,OAAO;MACHC,GAAG,EAAED,IAAI,CAACC,GAAG;MACbC,IAAI,EAAEF,IAAI,CAACE,IAAI;MACfC,OAAO,EAAEH,IAAI,CAACG,OAAO;MACrBC,KAAK,EAAEJ,IAAI,CAACI,KAAK;MACjBC,MAAM,EAAEL,IAAI,CAACK;IACjB,CAAC;EACL;AACJ,CAAC"}},"mtime":1676275953604},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  categorie_list: categorie => {\n    return {\n      _id: categorie._id,\n      title: categorie.title,\n      imagen: categorie.imagen,\n      imagen_home: process.env.URL_BACKEND + '/api/categories/uploads/categorie/' + categorie.imagen,\n      state: categorie.state\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXRlZ29yaWVfbGlzdCIsImNhdGVnb3JpZSIsIl9pZCIsInRpdGxlIiwiaW1hZ2VuIiwiaW1hZ2VuX2hvbWUiLCJwcm9jZXNzIiwiZW52IiwiVVJMX0JBQ0tFTkQiLCJzdGF0ZSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxccmVzb3VyY2VzXFwiLCJzb3VyY2VzIjpbIkNhdGVnb3JpZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XHJcbiAgICBjYXRlZ29yaWVfbGlzdDogKGNhdGVnb3JpZSkgPT4ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIF9pZDogY2F0ZWdvcmllLl9pZCxcclxuICAgICAgICAgICAgdGl0bGU6IGNhdGVnb3JpZS50aXRsZSxcclxuICAgICAgICAgICAgaW1hZ2VuOiBjYXRlZ29yaWUuaW1hZ2VuLFxyXG4gICAgICAgICAgICBpbWFnZW5faG9tZTogcHJvY2Vzcy5lbnYuVVJMX0JBQ0tFTkQrJy9hcGkvY2F0ZWdvcmllcy91cGxvYWRzL2NhdGVnb3JpZS8nK2NhdGVnb3JpZS5pbWFnZW4sXHJcbiAgICAgICAgICAgIHN0YXRlOiBjYXRlZ29yaWUuc3RhdGUsXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7aUNBQWU7RUFDWEEsY0FBYyxFQUFHQyxTQUFTLElBQUs7SUFDM0IsT0FBTztNQUNIQyxHQUFHLEVBQUVELFNBQVMsQ0FBQ0MsR0FBRztNQUNsQkMsS0FBSyxFQUFFRixTQUFTLENBQUNFLEtBQUs7TUFDdEJDLE1BQU0sRUFBRUgsU0FBUyxDQUFDRyxNQUFNO01BQ3hCQyxXQUFXLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxXQUFXLEdBQUMsb0NBQW9DLEdBQUNQLFNBQVMsQ0FBQ0csTUFBTTtNQUMxRkssS0FBSyxFQUFFUixTQUFTLENBQUNRO0lBQ3JCLENBQUM7RUFDTDtBQUNKLENBQUMifQ==","map":{"version":3,"names":["categorie_list","categorie","_id","title","imagen","imagen_home","process","env","URL_BACKEND","state"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\resources\\","sources":["Categorie.js"],"sourcesContent":["export default {\r\n    categorie_list: (categorie) => {\r\n        return {\r\n            _id: categorie._id,\r\n            title: categorie.title,\r\n            imagen: categorie.imagen,\r\n            imagen_home: process.env.URL_BACKEND+'/api/categories/uploads/categorie/'+categorie.imagen,\r\n            state: categorie.state,\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;iCAAe;EACXA,cAAc,EAAGC,SAAS,IAAK;IAC3B,OAAO;MACHC,GAAG,EAAED,SAAS,CAACC,GAAG;MAClBC,KAAK,EAAEF,SAAS,CAACE,KAAK;MACtBC,MAAM,EAAEH,SAAS,CAACG,MAAM;MACxBC,WAAW,EAAEC,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,oCAAoC,GAACP,SAAS,CAACG,MAAM;MAC1FK,KAAK,EAAER,SAAS,CAACQ;IACrB,CAAC;EACL;AACJ,CAAC"}},"mtime":1681165458498},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  product_list: (product, variedades = [], avg_review = 0, count_review = 0, CampaingDiscount = null) => {\n    var IMAGEN_TWO = \"\";\n    let GALERIAS = product.galerias.map(galeria => {\n      galeria.imagen = process.env.URL_BACKEND + '/api/products/uploads/product/' + galeria.imagen; //*\n      return galeria;\n    });\n    var VAL = Math.floor(Math.random() * 3); //0,1,2\n    IMAGEN_TWO = GALERIAS[VAL].imagen;\n    return {\n      _id: product._id,\n      title: product.title,\n      sku: product.sku,\n      slug: product.slug,\n      imagen: process.env.URL_BACKEND + '/api/products/uploads/product/' + product.portada,\n      //*\n      categorie: product.categorie,\n      price_pesos: product.price_pesos,\n      price_usd: product.price_usd,\n      stock: product.stock,\n      description: product.description,\n      resumen: product.resumen,\n      tags: product.tags ? JSON.parse(product.tags) : [],\n      type_inventario: product.type_inventario,\n      state: product.state,\n      variedades: variedades,\n      imagen_two: IMAGEN_TWO,\n      galerias: GALERIAS,\n      avg_review: avg_review,\n      count_review: count_review,\n      campaing_discount: CampaingDiscount\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9kdWN0X2xpc3QiLCJwcm9kdWN0IiwidmFyaWVkYWRlcyIsImF2Z19yZXZpZXciLCJjb3VudF9yZXZpZXciLCJDYW1wYWluZ0Rpc2NvdW50IiwiSU1BR0VOX1RXTyIsIkdBTEVSSUFTIiwiZ2FsZXJpYXMiLCJtYXAiLCJnYWxlcmlhIiwiaW1hZ2VuIiwicHJvY2VzcyIsImVudiIsIlVSTF9CQUNLRU5EIiwiVkFMIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiX2lkIiwidGl0bGUiLCJza3UiLCJzbHVnIiwicG9ydGFkYSIsImNhdGVnb3JpZSIsInByaWNlX3Blc29zIiwicHJpY2VfdXNkIiwic3RvY2siLCJkZXNjcmlwdGlvbiIsInJlc3VtZW4iLCJ0YWdzIiwiSlNPTiIsInBhcnNlIiwidHlwZV9pbnZlbnRhcmlvIiwic3RhdGUiLCJpbWFnZW5fdHdvIiwiY2FtcGFpbmdfZGlzY291bnQiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJlc291cmNlc1xcIiwic291cmNlcyI6WyJQcm9kdWN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHByb2R1Y3RfbGlzdDogKHByb2R1Y3QsdmFyaWVkYWRlcyA9IFtdLGF2Z19yZXZpZXcgPSAwLGNvdW50X3JldmlldyA9IDAsQ2FtcGFpbmdEaXNjb3VudCA9IG51bGwpID0+IHtcclxuICAgICAgICB2YXIgSU1BR0VOX1RXTyA9IFwiXCI7XHJcbiAgICAgICAgbGV0IEdBTEVSSUFTID0gcHJvZHVjdC5nYWxlcmlhcy5tYXAoKGdhbGVyaWEpID0+IHtcclxuICAgICAgICAgICAgZ2FsZXJpYS5pbWFnZW4gPSBwcm9jZXNzLmVudi5VUkxfQkFDS0VORCsnL2FwaS9wcm9kdWN0cy91cGxvYWRzL3Byb2R1Y3QvJytnYWxlcmlhLmltYWdlbjsvLypcclxuICAgICAgICAgICAgcmV0dXJuIGdhbGVyaWE7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIFZBTCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMpOy8vMCwxLDJcclxuICAgICAgICBJTUFHRU5fVFdPID0gR0FMRVJJQVNbVkFMXS5pbWFnZW47XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgX2lkOiBwcm9kdWN0Ll9pZCxcclxuICAgICAgICAgICAgdGl0bGU6IHByb2R1Y3QudGl0bGUsXHJcbiAgICAgICAgICAgIHNrdTogcHJvZHVjdC5za3UsXHJcbiAgICAgICAgICAgIHNsdWc6IHByb2R1Y3Quc2x1ZyxcclxuICAgICAgICAgICAgaW1hZ2VuOiBwcm9jZXNzLmVudi5VUkxfQkFDS0VORCsnL2FwaS9wcm9kdWN0cy91cGxvYWRzL3Byb2R1Y3QvJytwcm9kdWN0LnBvcnRhZGEsLy8qXHJcbiAgICAgICAgICAgIGNhdGVnb3JpZTogcHJvZHVjdC5jYXRlZ29yaWUsXHJcbiAgICAgICAgICAgIHByaWNlX3Blc29zOiBwcm9kdWN0LnByaWNlX3Blc29zLFxyXG4gICAgICAgICAgICBwcmljZV91c2Q6IHByb2R1Y3QucHJpY2VfdXNkLFxyXG4gICAgICAgICAgICBzdG9jazogcHJvZHVjdC5zdG9jayxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHByb2R1Y3QuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgIHJlc3VtZW46IHByb2R1Y3QucmVzdW1lbixcclxuICAgICAgICAgICAgdGFnczogcHJvZHVjdC50YWdzID8gSlNPTi5wYXJzZShwcm9kdWN0LnRhZ3MpIDogW10sXHJcbiAgICAgICAgICAgIHR5cGVfaW52ZW50YXJpbzogcHJvZHVjdC50eXBlX2ludmVudGFyaW8sXHJcbiAgICAgICAgICAgIHN0YXRlOiBwcm9kdWN0LnN0YXRlLFxyXG4gICAgICAgICAgICB2YXJpZWRhZGVzOiB2YXJpZWRhZGVzLFxyXG4gICAgICAgICAgICBpbWFnZW5fdHdvOiBJTUFHRU5fVFdPLFxyXG4gICAgICAgICAgICBnYWxlcmlhczpHQUxFUklBUyxcclxuICAgICAgICAgICAgYXZnX3JldmlldzogYXZnX3JldmlldyxcclxuICAgICAgICAgICAgY291bnRfcmV2aWV3OiBjb3VudF9yZXZpZXcsXHJcbiAgICAgICAgICAgIGNhbXBhaW5nX2Rpc2NvdW50OiBDYW1wYWluZ0Rpc2NvdW50LFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2lDQUFlO0VBQ1hBLFlBQVksRUFBRSxDQUFDQyxPQUFPLEVBQUNDLFVBQVUsR0FBRyxFQUFFLEVBQUNDLFVBQVUsR0FBRyxDQUFDLEVBQUNDLFlBQVksR0FBRyxDQUFDLEVBQUNDLGdCQUFnQixHQUFHLElBQUksS0FBSztJQUMvRixJQUFJQyxVQUFVLEdBQUcsRUFBRTtJQUNuQixJQUFJQyxRQUFRLEdBQUdOLE9BQU8sQ0FBQ08sUUFBUSxDQUFDQyxHQUFHLENBQUVDLE9BQU8sSUFBSztNQUM3Q0EsT0FBTyxDQUFDQyxNQUFNLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxXQUFXLEdBQUMsZ0NBQWdDLEdBQUNKLE9BQU8sQ0FBQ0MsTUFBTSxDQUFDO01BQ3pGLE9BQU9ELE9BQU87SUFDbEIsQ0FBQyxDQUFDO0lBQ0YsSUFBSUssR0FBRyxHQUFHQyxJQUFJLENBQUNDLEtBQUssQ0FBQ0QsSUFBSSxDQUFDRSxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUN4Q1osVUFBVSxHQUFHQyxRQUFRLENBQUNRLEdBQUcsQ0FBQyxDQUFDSixNQUFNO0lBQ2pDLE9BQU87TUFDSFEsR0FBRyxFQUFFbEIsT0FBTyxDQUFDa0IsR0FBRztNQUNoQkMsS0FBSyxFQUFFbkIsT0FBTyxDQUFDbUIsS0FBSztNQUNwQkMsR0FBRyxFQUFFcEIsT0FBTyxDQUFDb0IsR0FBRztNQUNoQkMsSUFBSSxFQUFFckIsT0FBTyxDQUFDcUIsSUFBSTtNQUNsQlgsTUFBTSxFQUFFQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsV0FBVyxHQUFDLGdDQUFnQyxHQUFDYixPQUFPLENBQUNzQixPQUFPO01BQUM7TUFDakZDLFNBQVMsRUFBRXZCLE9BQU8sQ0FBQ3VCLFNBQVM7TUFDNUJDLFdBQVcsRUFBRXhCLE9BQU8sQ0FBQ3dCLFdBQVc7TUFDaENDLFNBQVMsRUFBRXpCLE9BQU8sQ0FBQ3lCLFNBQVM7TUFDNUJDLEtBQUssRUFBRTFCLE9BQU8sQ0FBQzBCLEtBQUs7TUFDcEJDLFdBQVcsRUFBRTNCLE9BQU8sQ0FBQzJCLFdBQVc7TUFDaENDLE9BQU8sRUFBRTVCLE9BQU8sQ0FBQzRCLE9BQU87TUFDeEJDLElBQUksRUFBRTdCLE9BQU8sQ0FBQzZCLElBQUksR0FBR0MsSUFBSSxDQUFDQyxLQUFLLENBQUMvQixPQUFPLENBQUM2QixJQUFJLENBQUMsR0FBRyxFQUFFO01BQ2xERyxlQUFlLEVBQUVoQyxPQUFPLENBQUNnQyxlQUFlO01BQ3hDQyxLQUFLLEVBQUVqQyxPQUFPLENBQUNpQyxLQUFLO01BQ3BCaEMsVUFBVSxFQUFFQSxVQUFVO01BQ3RCaUMsVUFBVSxFQUFFN0IsVUFBVTtNQUN0QkUsUUFBUSxFQUFDRCxRQUFRO01BQ2pCSixVQUFVLEVBQUVBLFVBQVU7TUFDdEJDLFlBQVksRUFBRUEsWUFBWTtNQUMxQmdDLGlCQUFpQixFQUFFL0I7SUFDdkIsQ0FBQztFQUNMO0FBQ0osQ0FBQyJ9","map":{"version":3,"names":["product_list","product","variedades","avg_review","count_review","CampaingDiscount","IMAGEN_TWO","GALERIAS","galerias","map","galeria","imagen","process","env","URL_BACKEND","VAL","Math","floor","random","_id","title","sku","slug","portada","categorie","price_pesos","price_usd","stock","description","resumen","tags","JSON","parse","type_inventario","state","imagen_two","campaing_discount"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\resources\\","sources":["Product.js"],"sourcesContent":["export default {\r\n    product_list: (product,variedades = [],avg_review = 0,count_review = 0,CampaingDiscount = null) => {\r\n        var IMAGEN_TWO = \"\";\r\n        let GALERIAS = product.galerias.map((galeria) => {\r\n            galeria.imagen = process.env.URL_BACKEND+'/api/products/uploads/product/'+galeria.imagen;//*\r\n            return galeria;\r\n        });\r\n        var VAL = Math.floor(Math.random() * 3);//0,1,2\r\n        IMAGEN_TWO = GALERIAS[VAL].imagen;\r\n        return {\r\n            _id: product._id,\r\n            title: product.title,\r\n            sku: product.sku,\r\n            slug: product.slug,\r\n            imagen: process.env.URL_BACKEND+'/api/products/uploads/product/'+product.portada,//*\r\n            categorie: product.categorie,\r\n            price_pesos: product.price_pesos,\r\n            price_usd: product.price_usd,\r\n            stock: product.stock,\r\n            description: product.description,\r\n            resumen: product.resumen,\r\n            tags: product.tags ? JSON.parse(product.tags) : [],\r\n            type_inventario: product.type_inventario,\r\n            state: product.state,\r\n            variedades: variedades,\r\n            imagen_two: IMAGEN_TWO,\r\n            galerias:GALERIAS,\r\n            avg_review: avg_review,\r\n            count_review: count_review,\r\n            campaing_discount: CampaingDiscount,\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;iCAAe;EACXA,YAAY,EAAE,CAACC,OAAO,EAACC,UAAU,GAAG,EAAE,EAACC,UAAU,GAAG,CAAC,EAACC,YAAY,GAAG,CAAC,EAACC,gBAAgB,GAAG,IAAI,KAAK;IAC/F,IAAIC,UAAU,GAAG,EAAE;IACnB,IAAIC,QAAQ,GAAGN,OAAO,CAACO,QAAQ,CAACC,GAAG,CAAEC,OAAO,IAAK;MAC7CA,OAAO,CAACC,MAAM,GAAGC,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,gCAAgC,GAACJ,OAAO,CAACC,MAAM,CAAC;MACzF,OAAOD,OAAO;IAClB,CAAC,CAAC;IACF,IAAIK,GAAG,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC;IACxCZ,UAAU,GAAGC,QAAQ,CAACQ,GAAG,CAAC,CAACJ,MAAM;IACjC,OAAO;MACHQ,GAAG,EAAElB,OAAO,CAACkB,GAAG;MAChBC,KAAK,EAAEnB,OAAO,CAACmB,KAAK;MACpBC,GAAG,EAAEpB,OAAO,CAACoB,GAAG;MAChBC,IAAI,EAAErB,OAAO,CAACqB,IAAI;MAClBX,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,gCAAgC,GAACb,OAAO,CAACsB,OAAO;MAAC;MACjFC,SAAS,EAAEvB,OAAO,CAACuB,SAAS;MAC5BC,WAAW,EAAExB,OAAO,CAACwB,WAAW;MAChCC,SAAS,EAAEzB,OAAO,CAACyB,SAAS;MAC5BC,KAAK,EAAE1B,OAAO,CAAC0B,KAAK;MACpBC,WAAW,EAAE3B,OAAO,CAAC2B,WAAW;MAChCC,OAAO,EAAE5B,OAAO,CAAC4B,OAAO;MACxBC,IAAI,EAAE7B,OAAO,CAAC6B,IAAI,GAAGC,IAAI,CAACC,KAAK,CAAC/B,OAAO,CAAC6B,IAAI,CAAC,GAAG,EAAE;MAClDG,eAAe,EAAEhC,OAAO,CAACgC,eAAe;MACxCC,KAAK,EAAEjC,OAAO,CAACiC,KAAK;MACpBhC,UAAU,EAAEA,UAAU;MACtBiC,UAAU,EAAE7B,UAAU;MACtBE,QAAQ,EAACD,QAAQ;MACjBJ,UAAU,EAAEA,UAAU;MACtBC,YAAY,EAAEA,YAAY;MAC1BgC,iBAAiB,EAAE/B;IACvB,CAAC;EACL;AACJ,CAAC"}},"mtime":1726095898720},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  slider_list: slider => {\n    return {\n      _id: slider._id,\n      title: slider.title,\n      link: slider.link,\n      imagen: slider.imagen,\n      imagen_home: process.env.URL_BACKEND + '/api/sliders/uploads/slider/' + slider.imagen,\n      state: slider.state\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzbGlkZXJfbGlzdCIsInNsaWRlciIsIl9pZCIsInRpdGxlIiwibGluayIsImltYWdlbiIsImltYWdlbl9ob21lIiwicHJvY2VzcyIsImVudiIsIlVSTF9CQUNLRU5EIiwic3RhdGUiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJlc291cmNlc1xcIiwic291cmNlcyI6WyJTbGlkZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgc2xpZGVyX2xpc3Q6IChzbGlkZXIpID0+IHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBfaWQ6IHNsaWRlci5faWQsXHJcbiAgICAgICAgICAgIHRpdGxlOiBzbGlkZXIudGl0bGUsXHJcbiAgICAgICAgICAgIGxpbms6IHNsaWRlci5saW5rLFxyXG4gICAgICAgICAgICBpbWFnZW46IHNsaWRlci5pbWFnZW4sXHJcbiAgICAgICAgICAgIGltYWdlbl9ob21lOiBwcm9jZXNzLmVudi5VUkxfQkFDS0VORCsnL2FwaS9zbGlkZXJzL3VwbG9hZHMvc2xpZGVyLycrc2xpZGVyLmltYWdlbixcclxuICAgICAgICAgICAgc3RhdGU6IHNsaWRlci5zdGF0ZSxcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztpQ0FBZTtFQUNYQSxXQUFXLEVBQUdDLE1BQU0sSUFBSztJQUNyQixPQUFPO01BQ0hDLEdBQUcsRUFBRUQsTUFBTSxDQUFDQyxHQUFHO01BQ2ZDLEtBQUssRUFBRUYsTUFBTSxDQUFDRSxLQUFLO01BQ25CQyxJQUFJLEVBQUVILE1BQU0sQ0FBQ0csSUFBSTtNQUNqQkMsTUFBTSxFQUFFSixNQUFNLENBQUNJLE1BQU07TUFDckJDLFdBQVcsRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFdBQVcsR0FBQyw4QkFBOEIsR0FBQ1IsTUFBTSxDQUFDSSxNQUFNO01BQ2pGSyxLQUFLLEVBQUVULE1BQU0sQ0FBQ1M7SUFDbEIsQ0FBQztFQUNMO0FBQ0osQ0FBQyJ9","map":{"version":3,"names":["slider_list","slider","_id","title","link","imagen","imagen_home","process","env","URL_BACKEND","state"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\resources\\","sources":["Slider.js"],"sourcesContent":["export default {\r\n    slider_list: (slider) => {\r\n        return {\r\n            _id: slider._id,\r\n            title: slider.title,\r\n            link: slider.link,\r\n            imagen: slider.imagen,\r\n            imagen_home: process.env.URL_BACKEND+'/api/sliders/uploads/slider/'+slider.imagen,\r\n            state: slider.state,\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;iCAAe;EACXA,WAAW,EAAGC,MAAM,IAAK;IACrB,OAAO;MACHC,GAAG,EAAED,MAAM,CAACC,GAAG;MACfC,KAAK,EAAEF,MAAM,CAACE,KAAK;MACnBC,IAAI,EAAEH,MAAM,CAACG,IAAI;MACjBC,MAAM,EAAEJ,MAAM,CAACI,MAAM;MACrBC,WAAW,EAAEC,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,8BAA8B,GAACR,MAAM,CAACI,MAAM;MACjFK,KAAK,EAAET,MAAM,CAACS;IAClB,CAAC;EACL;AACJ,CAAC"}},"mtime":1681165462286},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\resources\\\\Cart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  cart_list: cart => {\n    return {\n      _id: cart._id,\n      user: cart.user,\n      product: {\n        _id: cart.product._id,\n        title: cart.product.title,\n        sku: cart.product.sku,\n        slug: cart.product.slug,\n        imagen: process.env.URL_BACKEND + '/api/products/uploads/product/' + cart.product.portada,\n        //*\n        categorie: cart.product.categorie,\n        price_pesos: cart.product.price_pesos,\n        price_usd: cart.product.price_usd\n      },\n      type_discount: cart.type_discount,\n      discount: cart.discount,\n      cantidad: cart.cantidad,\n      variedad: cart.variedad,\n      code_cupon: cart.code_cupon,\n      code_discount: cart.code_discount,\n      price_unitario: cart.price_unitario,\n      subtotal: cart.subtotal,\n      total: cart.total\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXJ0X2xpc3QiLCJjYXJ0IiwiX2lkIiwidXNlciIsInByb2R1Y3QiLCJ0aXRsZSIsInNrdSIsInNsdWciLCJpbWFnZW4iLCJwcm9jZXNzIiwiZW52IiwiVVJMX0JBQ0tFTkQiLCJwb3J0YWRhIiwiY2F0ZWdvcmllIiwicHJpY2VfcGVzb3MiLCJwcmljZV91c2QiLCJ0eXBlX2Rpc2NvdW50IiwiZGlzY291bnQiLCJjYW50aWRhZCIsInZhcmllZGFkIiwiY29kZV9jdXBvbiIsImNvZGVfZGlzY291bnQiLCJwcmljZV91bml0YXJpbyIsInN1YnRvdGFsIiwidG90YWwiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJlc291cmNlc1xcIiwic291cmNlcyI6WyJDYXJ0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IHtcclxuICAgIGNhcnRfbGlzdDogKGNhcnQpID0+IHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBfaWQ6IGNhcnQuX2lkLFxyXG4gICAgICAgICAgICB1c2VyOiBjYXJ0LnVzZXIsXHJcbiAgICAgICAgICAgIHByb2R1Y3Q6IHtcclxuICAgICAgICAgICAgICAgIF9pZDogY2FydC5wcm9kdWN0Ll9pZCxcclxuICAgICAgICAgICAgICAgIHRpdGxlOiBjYXJ0LnByb2R1Y3QudGl0bGUsXHJcbiAgICAgICAgICAgICAgICBza3U6IGNhcnQucHJvZHVjdC5za3UsXHJcbiAgICAgICAgICAgICAgICBzbHVnOiBjYXJ0LnByb2R1Y3Quc2x1ZyxcclxuICAgICAgICAgICAgICAgIGltYWdlbjogcHJvY2Vzcy5lbnYuVVJMX0JBQ0tFTkQrJy9hcGkvcHJvZHVjdHMvdXBsb2Fkcy9wcm9kdWN0LycrY2FydC5wcm9kdWN0LnBvcnRhZGEsLy8qXHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWU6IGNhcnQucHJvZHVjdC5jYXRlZ29yaWUsXHJcbiAgICAgICAgICAgICAgICBwcmljZV9wZXNvczogY2FydC5wcm9kdWN0LnByaWNlX3Blc29zLFxyXG4gICAgICAgICAgICAgICAgcHJpY2VfdXNkOiBjYXJ0LnByb2R1Y3QucHJpY2VfdXNkLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0eXBlX2Rpc2NvdW50OiBjYXJ0LnR5cGVfZGlzY291bnQsXHJcbiAgICAgICAgICAgIGRpc2NvdW50OiBjYXJ0LmRpc2NvdW50LFxyXG4gICAgICAgICAgICBjYW50aWRhZDogY2FydC5jYW50aWRhZCxcclxuICAgICAgICAgICAgdmFyaWVkYWQ6IGNhcnQudmFyaWVkYWQsXHJcbiAgICAgICAgICAgIGNvZGVfY3Vwb246IGNhcnQuY29kZV9jdXBvbixcclxuICAgICAgICAgICAgY29kZV9kaXNjb3VudDogY2FydC5jb2RlX2Rpc2NvdW50LFxyXG4gICAgICAgICAgICBwcmljZV91bml0YXJpbzogY2FydC5wcmljZV91bml0YXJpbyxcclxuICAgICAgICAgICAgc3VidG90YWw6IGNhcnQuc3VidG90YWwsXHJcbiAgICAgICAgICAgIHRvdGFsOiBjYXJ0LnRvdGFsLFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2lDQUFlO0VBQ1hBLFNBQVMsRUFBR0MsSUFBSSxJQUFLO0lBQ2pCLE9BQU87TUFDSEMsR0FBRyxFQUFFRCxJQUFJLENBQUNDLEdBQUc7TUFDYkMsSUFBSSxFQUFFRixJQUFJLENBQUNFLElBQUk7TUFDZkMsT0FBTyxFQUFFO1FBQ0xGLEdBQUcsRUFBRUQsSUFBSSxDQUFDRyxPQUFPLENBQUNGLEdBQUc7UUFDckJHLEtBQUssRUFBRUosSUFBSSxDQUFDRyxPQUFPLENBQUNDLEtBQUs7UUFDekJDLEdBQUcsRUFBRUwsSUFBSSxDQUFDRyxPQUFPLENBQUNFLEdBQUc7UUFDckJDLElBQUksRUFBRU4sSUFBSSxDQUFDRyxPQUFPLENBQUNHLElBQUk7UUFDdkJDLE1BQU0sRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFdBQVcsR0FBQyxnQ0FBZ0MsR0FBQ1YsSUFBSSxDQUFDRyxPQUFPLENBQUNRLE9BQU87UUFBQztRQUN0RkMsU0FBUyxFQUFFWixJQUFJLENBQUNHLE9BQU8sQ0FBQ1MsU0FBUztRQUNqQ0MsV0FBVyxFQUFFYixJQUFJLENBQUNHLE9BQU8sQ0FBQ1UsV0FBVztRQUNyQ0MsU0FBUyxFQUFFZCxJQUFJLENBQUNHLE9BQU8sQ0FBQ1c7TUFDNUIsQ0FBQztNQUNEQyxhQUFhLEVBQUVmLElBQUksQ0FBQ2UsYUFBYTtNQUNqQ0MsUUFBUSxFQUFFaEIsSUFBSSxDQUFDZ0IsUUFBUTtNQUN2QkMsUUFBUSxFQUFFakIsSUFBSSxDQUFDaUIsUUFBUTtNQUN2QkMsUUFBUSxFQUFFbEIsSUFBSSxDQUFDa0IsUUFBUTtNQUN2QkMsVUFBVSxFQUFFbkIsSUFBSSxDQUFDbUIsVUFBVTtNQUMzQkMsYUFBYSxFQUFFcEIsSUFBSSxDQUFDb0IsYUFBYTtNQUNqQ0MsY0FBYyxFQUFFckIsSUFBSSxDQUFDcUIsY0FBYztNQUNuQ0MsUUFBUSxFQUFFdEIsSUFBSSxDQUFDc0IsUUFBUTtNQUN2QkMsS0FBSyxFQUFFdkIsSUFBSSxDQUFDdUI7SUFDaEIsQ0FBQztFQUNMO0FBQ0osQ0FBQyJ9","map":{"version":3,"names":["cart_list","cart","_id","user","product","title","sku","slug","imagen","process","env","URL_BACKEND","portada","categorie","price_pesos","price_usd","type_discount","discount","cantidad","variedad","code_cupon","code_discount","price_unitario","subtotal","total"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\resources\\","sources":["Cart.js"],"sourcesContent":["export default {\r\n    cart_list: (cart) => {\r\n        return {\r\n            _id: cart._id,\r\n            user: cart.user,\r\n            product: {\r\n                _id: cart.product._id,\r\n                title: cart.product.title,\r\n                sku: cart.product.sku,\r\n                slug: cart.product.slug,\r\n                imagen: process.env.URL_BACKEND+'/api/products/uploads/product/'+cart.product.portada,//*\r\n                categorie: cart.product.categorie,\r\n                price_pesos: cart.product.price_pesos,\r\n                price_usd: cart.product.price_usd,\r\n            },\r\n            type_discount: cart.type_discount,\r\n            discount: cart.discount,\r\n            cantidad: cart.cantidad,\r\n            variedad: cart.variedad,\r\n            code_cupon: cart.code_cupon,\r\n            code_discount: cart.code_discount,\r\n            price_unitario: cart.price_unitario,\r\n            subtotal: cart.subtotal,\r\n            total: cart.total,\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;iCAAe;EACXA,SAAS,EAAGC,IAAI,IAAK;IACjB,OAAO;MACHC,GAAG,EAAED,IAAI,CAACC,GAAG;MACbC,IAAI,EAAEF,IAAI,CAACE,IAAI;MACfC,OAAO,EAAE;QACLF,GAAG,EAAED,IAAI,CAACG,OAAO,CAACF,GAAG;QACrBG,KAAK,EAAEJ,IAAI,CAACG,OAAO,CAACC,KAAK;QACzBC,GAAG,EAAEL,IAAI,CAACG,OAAO,CAACE,GAAG;QACrBC,IAAI,EAAEN,IAAI,CAACG,OAAO,CAACG,IAAI;QACvBC,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,gCAAgC,GAACV,IAAI,CAACG,OAAO,CAACQ,OAAO;QAAC;QACtFC,SAAS,EAAEZ,IAAI,CAACG,OAAO,CAACS,SAAS;QACjCC,WAAW,EAAEb,IAAI,CAACG,OAAO,CAACU,WAAW;QACrCC,SAAS,EAAEd,IAAI,CAACG,OAAO,CAACW;MAC5B,CAAC;MACDC,aAAa,EAAEf,IAAI,CAACe,aAAa;MACjCC,QAAQ,EAAEhB,IAAI,CAACgB,QAAQ;MACvBC,QAAQ,EAAEjB,IAAI,CAACiB,QAAQ;MACvBC,QAAQ,EAAElB,IAAI,CAACkB,QAAQ;MACvBC,UAAU,EAAEnB,IAAI,CAACmB,UAAU;MAC3BC,aAAa,EAAEpB,IAAI,CAACoB,aAAa;MACjCC,cAAc,EAAErB,IAAI,CAACqB,cAAc;MACnCC,QAAQ,EAAEtB,IAAI,CAACsB,QAAQ;MACvBC,KAAK,EAAEvB,IAAI,CAACuB;IAChB,CAAC;EACL;AACJ,CAAC"}},"mtime":1726095898721},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\middlewares\\\\auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  verifyEcommerce: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(404).send({\n        message: 'NO SE ENVIO EL TOKEN'\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"cliente\" || response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(403).send({\n          message: 'NO ESTA PERMITIDO VISITAR ESTA RUTA'\n        });\n      }\n    } else {\n      res.status(403).send({\n        message: 'EL TOKEN NO ES VALIDO'\n      });\n    }\n  },\n  verifyAdmin: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(404).send({\n        message: 'NO SE ENVIO EL TOKEN'\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(403).send({\n          message: 'NO ESTA PERMITIDO VISITAR ESTA RUTA'\n        });\n      }\n    } else {\n      res.status(403).send({\n        message: 'EL TOKEN NO ES VALIDO'\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ2ZXJpZnlFY29tbWVyY2UiLCJyZXEiLCJyZXMiLCJuZXh0IiwiaGVhZGVycyIsInRva2VuIiwic3RhdHVzIiwic2VuZCIsIm1lc3NhZ2UiLCJyZXNwb25zZSIsImRlY29kZSIsInJvbCIsInZlcmlmeUFkbWluIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxtaWRkbGV3YXJlc1xcIiwic291cmNlcyI6WyJhdXRoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0b2tlbiBmcm9tICcuLi9zZXJ2aWNlcy90b2tlbidcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHZlcmlmeUVjb21tZXJjZTogYXN5bmMocmVxLHJlcyxuZXh0KSA9PiB7XHJcbiAgICAgICAgaWYoIXJlcS5oZWFkZXJzLnRva2VuKXtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ05PIFNFIEVOVklPIEVMIFRPS0VOJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0b2tlbi5kZWNvZGUocmVxLmhlYWRlcnMudG9rZW4pO1xyXG4gICAgICAgIGlmKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgaWYocmVzcG9uc2Uucm9sID09IFwiY2xpZW50ZVwiIHx8IHJlc3BvbnNlLnJvbCA9PSBcImFkbWluXCIpe1xyXG4gICAgICAgICAgICAgICAgbmV4dCgpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTk8gRVNUQSBQRVJNSVRJRE8gVklTSVRBUiBFU1RBIFJVVEEnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMykuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRUwgVE9LRU4gTk8gRVMgVkFMSURPJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgdmVyaWZ5QWRtaW46IGFzeW5jKHJlcSxyZXMsbmV4dCkgPT4ge1xyXG4gICAgICAgIGlmKCFyZXEuaGVhZGVycy50b2tlbil7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdOTyBTRSBFTlZJTyBFTCBUT0tFTidcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdG9rZW4uZGVjb2RlKHJlcS5oZWFkZXJzLnRva2VuKTtcclxuICAgICAgICBpZihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgIGlmKHJlc3BvbnNlLnJvbCA9PSBcImFkbWluXCIpe1xyXG4gICAgICAgICAgICAgICAgbmV4dCgpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTk8gRVNUQSBQRVJNSVRJRE8gVklTSVRBUiBFU1RBIFJVVEEnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMykuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRUwgVE9LRU4gTk8gRVMgVkFMSURPJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQXFDO0FBQUEsaUNBRXRCO0VBQ1hBLGVBQWUsRUFBRSxPQUFNQyxHQUFHLEVBQUNDLEdBQUcsRUFBQ0MsSUFBSSxLQUFLO0lBQ3BDLElBQUcsQ0FBQ0YsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssRUFBQztNQUNsQkgsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ047SUFDQSxNQUFNQyxRQUFRLEdBQUcsTUFBTUosY0FBSyxDQUFDSyxNQUFNLENBQUNULEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLENBQUM7SUFDdEQsSUFBR0ksUUFBUSxFQUFDO01BQ1IsSUFBR0EsUUFBUSxDQUFDRSxHQUFHLElBQUksU0FBUyxJQUFJRixRQUFRLENBQUNFLEdBQUcsSUFBSSxPQUFPLEVBQUM7UUFDcERSLElBQUksRUFBRTtNQUNWLENBQUMsTUFBSTtRQUNERCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQ2pCQyxPQUFPLEVBQUU7UUFDYixDQUFDLENBQUM7TUFDTjtJQUNKLENBQUMsTUFBSTtNQUNETixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtFQUNKLENBQUM7RUFDREksV0FBVyxFQUFFLE9BQU1YLEdBQUcsRUFBQ0MsR0FBRyxFQUFDQyxJQUFJLEtBQUs7SUFDaEMsSUFBRyxDQUFDRixHQUFHLENBQUNHLE9BQU8sQ0FBQ0MsS0FBSyxFQUFDO01BQ2xCSCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtJQUNBLE1BQU1DLFFBQVEsR0FBRyxNQUFNSixjQUFLLENBQUNLLE1BQU0sQ0FBQ1QsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssQ0FBQztJQUN0RCxJQUFHSSxRQUFRLEVBQUM7TUFDUixJQUFHQSxRQUFRLENBQUNFLEdBQUcsSUFBSSxPQUFPLEVBQUM7UUFDdkJSLElBQUksRUFBRTtNQUNWLENBQUMsTUFBSTtRQUNERCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQ2pCQyxPQUFPLEVBQUU7UUFDYixDQUFDLENBQUM7TUFDTjtJQUNKLENBQUMsTUFBSTtNQUNETixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtFQUNKO0FBQ0osQ0FBQyJ9","map":{"version":3,"names":["verifyEcommerce","req","res","next","headers","token","status","send","message","response","decode","rol","verifyAdmin"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\middlewares\\","sources":["auth.js"],"sourcesContent":["import token from '../services/token'\r\n\r\nexport default {\r\n    verifyEcommerce: async(req,res,next) => {\r\n        if(!req.headers.token){\r\n            res.status(404).send({\r\n                message: 'NO SE ENVIO EL TOKEN'\r\n            });\r\n        }\r\n        const response = await token.decode(req.headers.token);\r\n        if(response){\r\n            if(response.rol == \"cliente\" || response.rol == \"admin\"){\r\n                next();\r\n            }else{\r\n                res.status(403).send({\r\n                    message: 'NO ESTA PERMITIDO VISITAR ESTA RUTA'\r\n                });\r\n            }\r\n        }else{\r\n            res.status(403).send({\r\n                message: 'EL TOKEN NO ES VALIDO'\r\n            });\r\n        }\r\n    },\r\n    verifyAdmin: async(req,res,next) => {\r\n        if(!req.headers.token){\r\n            res.status(404).send({\r\n                message: 'NO SE ENVIO EL TOKEN'\r\n            });\r\n        }\r\n        const response = await token.decode(req.headers.token);\r\n        if(response){\r\n            if(response.rol == \"admin\"){\r\n                next();\r\n            }else{\r\n                res.status(403).send({\r\n                    message: 'NO ESTA PERMITIDO VISITAR ESTA RUTA'\r\n                });\r\n            }\r\n        }else{\r\n            res.status(403).send({\r\n                message: 'EL TOKEN NO ES VALIDO'\r\n            });\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;AAAA;AAAqC;AAAA,iCAEtB;EACXA,eAAe,EAAE,OAAMC,GAAG,EAACC,GAAG,EAACC,IAAI,KAAK;IACpC,IAAG,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAC;MAClBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAGI,QAAQ,EAAC;MACR,IAAGA,QAAQ,CAACE,GAAG,IAAI,SAAS,IAAIF,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAC;QACpDR,IAAI,EAAE;MACV,CAAC,MAAI;QACDD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,MAAI;MACDN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ,CAAC;EACDI,WAAW,EAAE,OAAMX,GAAG,EAACC,GAAG,EAACC,IAAI,KAAK;IAChC,IAAG,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAC;MAClBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAGI,QAAQ,EAAC;MACR,IAAGA,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAC;QACvBR,IAAI,EAAE;MACV,CAAC,MAAI;QACDD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,MAAI;MACDN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ;AACJ,CAAC"}},"mtime":1676102350909},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CategorieController = _interopRequireDefault(require(\"../controllers/CategorieController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/categorie'\n});\nconst router = (0, _expressPromiseRouter.default)();\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _CategorieController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _CategorieController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _CategorieController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _CategorieController.default.remove);\nrouter.get(\"/uploads/categorie/:img\", _CategorieController.default.obtener_imagen);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwYXRoIiwibXVsdGlwYXJ0eSIsInVwbG9hZERpciIsInJvdXRlciIsInJvdXRlcngiLCJwb3N0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwiY2F0ZWdvcmllY29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImRlbGV0ZSIsInJlbW92ZSIsIm9idGVuZXJfaW1hZ2VuIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiQ2F0ZWdvcmllLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gJ2V4cHJlc3MtcHJvbWlzZS1yb3V0ZXInXHJcbmltcG9ydCBjYXRlZ29yaWVjb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL0NhdGVnb3JpZUNvbnRyb2xsZXInXHJcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXHJcblxyXG5pbXBvcnQgbXVsdGlwYXJ0eSBmcm9tICdjb25uZWN0LW11bHRpcGFydHknXHJcbnZhciBwYXRoID0gbXVsdGlwYXJ0eSh7dXBsb2FkRGlyOiAnLi91cGxvYWRzL2NhdGVnb3JpZSd9KVxyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcbi8vIGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcnMvcmVnaXN0ZXJcclxuXHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsW2F1dGgudmVyaWZ5QWRtaW4scGF0aF0sY2F0ZWdvcmllY29udHJvbGxlci5yZWdpc3Rlcik7XHJcbnJvdXRlci5wdXQoXCIvdXBkYXRlXCIsW2F1dGgudmVyaWZ5QWRtaW4scGF0aF0sY2F0ZWdvcmllY29udHJvbGxlci51cGRhdGUpO1xyXG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIixhdXRoLnZlcmlmeUFkbWluLGNhdGVnb3JpZWNvbnRyb2xsZXIubGlzdCk7XHJcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlXCIsYXV0aC52ZXJpZnlBZG1pbixjYXRlZ29yaWVjb250cm9sbGVyLnJlbW92ZSk7XHJcblxyXG5yb3V0ZXIuZ2V0KFwiL3VwbG9hZHMvY2F0ZWdvcmllLzppbWdcIixjYXRlZ29yaWVjb250cm9sbGVyLm9idGVuZXJfaW1hZ2VuKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQTJDO0FBQzNDLElBQUlBLElBQUksR0FBRyxJQUFBQywwQkFBVSxFQUFDO0VBQUNDLFNBQVMsRUFBRTtBQUFxQixDQUFDLENBQUM7QUFDekQsTUFBTUMsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEdBQUU7QUFDeEI7O0FBRUFELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBQyxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNRLDRCQUFtQixDQUFDQyxRQUFRLENBQUM7QUFDN0VOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLFNBQVMsRUFBQyxDQUFDSixhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNRLDRCQUFtQixDQUFDRyxNQUFNLENBQUM7QUFDeEVSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDRCQUFtQixDQUFDSyxJQUFJLENBQUM7QUFDN0RWLE1BQU0sQ0FBQ1csTUFBTSxDQUFDLFNBQVMsRUFBQ1IsYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDRCQUFtQixDQUFDTyxNQUFNLENBQUM7QUFFcEVaLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLHlCQUF5QixFQUFDSiw0QkFBbUIsQ0FBQ1EsY0FBYyxDQUFDO0FBQUMsaUNBRTFEYixNQUFNIn0=","map":{"version":3,"names":["path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","categoriecontroller","register","put","update","get","list","delete","remove","obtener_imagen"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["Categorie.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport categoriecontroller from '../controllers/CategorieController'\r\nimport auth from '../middlewares/auth'\r\n\r\nimport multiparty from 'connect-multiparty'\r\nvar path = multiparty({uploadDir: './uploads/categorie'})\r\nconst router = routerx();\r\n// http://localhost:3000/api/users/register\r\n\r\nrouter.post(\"/register\",[auth.verifyAdmin,path],categoriecontroller.register);\r\nrouter.put(\"/update\",[auth.verifyAdmin,path],categoriecontroller.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,categoriecontroller.list);\r\nrouter.delete(\"/delete\",auth.verifyAdmin,categoriecontroller.remove);\r\n\r\nrouter.get(\"/uploads/categorie/:img\",categoriecontroller.obtener_imagen);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA;AACA;AACA;AAEA;AAA2C;AAC3C,IAAIA,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAE;AAAqB,CAAC,CAAC;AACzD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,GAAE;AACxB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAC,CAACC,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,4BAAmB,CAACC,QAAQ,CAAC;AAC7EN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAC,CAACJ,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,4BAAmB,CAACG,MAAM,CAAC;AACxER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,4BAAmB,CAACK,IAAI,CAAC;AAC7DV,MAAM,CAACW,MAAM,CAAC,SAAS,EAACR,aAAI,CAACC,WAAW,EAACC,4BAAmB,CAACO,MAAM,CAAC;AAEpEZ,MAAM,CAACS,GAAG,CAAC,yBAAyB,EAACJ,4BAAmB,CAACQ,cAAc,CAAC;AAAC,iCAE1Db,MAAM"}},"mtime":1676448878888},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\CategorieController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        // console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      const categorie = await _models.default.Categorie.create(req.body);\n      res.status(200).json(categorie);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files && req.files.portada) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        // console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      await _models.default.Categorie.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let CategorieT = await _models.default.Categorie.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"LA CATEGORIA SE HA MODIFICADO CORRECTAMENTE\",\n        categorie: _resources.default.Categorie.categorie_list(CategorieT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Categories = await _models.default.Categorie.find({\n        $or: [{\n          \"title\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Categories = Categories.map(user => {\n        return _resources.default.Categorie.categorie_list(user);\n      });\n      res.status(200).json({\n        categories: Categories\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/categorie/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/categorie/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.Categorie.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"LA CATEGORIA SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZWdpc3RlciIsInJlcSIsInJlcyIsImZpbGVzIiwiaW1nX3BhdGgiLCJwb3J0YWRhIiwicGF0aCIsIm5hbWUiLCJzcGxpdCIsInBvcnRhZGFfbmFtZSIsImJvZHkiLCJpbWFnZW4iLCJjYXRlZ29yaWUiLCJtb2RlbHMiLCJDYXRlZ29yaWUiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJzZW5kIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJ1cGRhdGUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIl9pZCIsIkNhdGVnb3JpZVQiLCJmaW5kT25lIiwicmVzb3VyY2UiLCJjYXRlZ29yaWVfbGlzdCIsImxpc3QiLCJzZWFyY2giLCJxdWVyeSIsIkNhdGVnb3JpZXMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwic29ydCIsIm1hcCIsInVzZXIiLCJjYXRlZ29yaWVzIiwib2J0ZW5lcl9pbWFnZW4iLCJpbWciLCJwYXJhbXMiLCJmcyIsInN0YXQiLCJlcnIiLCJwYXRoX2ltZyIsInNlbmRGaWxlIiwicmVzb2x2ZSIsInJlbW92ZSIsImZpbmRCeUlkQW5kRGVsZXRlIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJDYXRlZ29yaWVDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSAnLi4vbW9kZWxzJ1xyXG5pbXBvcnQgcmVzb3VyY2UgZnJvbSAnLi4vcmVzb3VyY2VzJ1xyXG5pbXBvcnQgZnMgZnJvbSAnZnMnXHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHJlZ2lzdGVyOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYocmVxLmZpbGVzKXtcclxuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5wb3J0YWRhLnBhdGg7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9ydGFkYV9uYW1lID0gbmFtZVsyXTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHBvcnRhZGFfbmFtZSlcclxuICAgICAgICAgICAgICAgIHJlcS5ib2R5LmltYWdlbiA9IHBvcnRhZGFfbmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBjYXRlZ29yaWUgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmNyZWF0ZShyZXEuYm9keSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGNhdGVnb3JpZSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYocmVxLmZpbGVzICYmIHJlcS5maWxlcy5wb3J0YWRhKXtcclxuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5wb3J0YWRhLnBhdGg7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9ydGFkYV9uYW1lID0gbmFtZVsyXTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHBvcnRhZGFfbmFtZSlcclxuICAgICAgICAgICAgICAgIHJlcS5ib2R5LmltYWdlbiA9IHBvcnRhZGFfbmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHJlcS5ib2R5Ll9pZH0scmVxLmJvZHkpO1xyXG5cclxuICAgICAgICAgICAgbGV0IENhdGVnb3JpZVQgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmZpbmRPbmUoe19pZDogcmVxLmJvZHkuX2lkfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTEEgQ0FURUdPUklBIFNFIEhBIE1PRElGSUNBRE8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllOiByZXNvdXJjZS5DYXRlZ29yaWUuY2F0ZWdvcmllX2xpc3QoQ2F0ZWdvcmllVCksXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGxpc3Q6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaDtcclxuICAgICAgICAgICAgbGV0IENhdGVnb3JpZXMgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmZpbmQoe1xyXG4gICAgICAgICAgICAgICAgJG9yOltcclxuICAgICAgICAgICAgICAgICAgICB7XCJ0aXRsZVwiOiBuZXcgUmVnRXhwKHNlYXJjaCwgXCJpXCIpfSxcclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSkuc29ydCh7J2NyZWF0ZWRBdCc6IC0xfSk7XHJcblxyXG4gICAgICAgICAgICBDYXRlZ29yaWVzID0gQ2F0ZWdvcmllcy5tYXAoKHVzZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvdXJjZS5DYXRlZ29yaWUuY2F0ZWdvcmllX2xpc3QodXNlcik7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzOiBDYXRlZ29yaWVzXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIG9idGVuZXJfaW1hZ2VuOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIGltZyA9IHJlcS5wYXJhbXNbJ2ltZyddO1xyXG5cclxuICAgICAgICAgICAgZnMuc3RhdCgnLi91cGxvYWRzL2NhdGVnb3JpZS8nK2ltZywgZnVuY3Rpb24oZXJyKXtcclxuICAgICAgICAgICAgICAgIGlmKCFlcnIpe1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvY2F0ZWdvcmllLycraW1nO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kRmlsZShwYXRoLnJlc29sdmUocGF0aF9pbWcpKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvZGVmYXVsdC5qcGcnO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kRmlsZShwYXRoLnJlc29sdmUocGF0aF9pbWcpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sICBcclxuICAgIHJlbW92ZTogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZEJ5SWRBbmREZWxldGUoe19pZDogcmVxLnF1ZXJ5Ll9pZH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkxBIENBVEVHT1JJQSBTRSBFTElNSU5PIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQXVCO0FBQUEsaUNBQ1I7RUFDWEEsUUFBUSxFQUFFLE9BQU1DLEdBQUcsRUFBQ0MsR0FB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","map":{"version":3,"names":["register","req","res","files","img_path","portada","path","name","split","portada_name","body","imagen","categorie","models","Categorie","create","status","json","error","send","message","console","log","update","findByIdAndUpdate","_id","CategorieT","findOne","resource","categorie_list","list","search","query","Categories","find","$or","RegExp","sort","map","user","categories","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","remove","findByIdAndDelete"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["CategorieController.js"],"sourcesContent":["import models from '../models'\r\nimport resource from '../resources'\r\nimport fs from 'fs'\r\nimport path from 'path'\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            if(req.files){\r\n                var img_path = req.files.portada.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                // console.log(portada_name)\r\n                req.body.imagen = portada_name;\r\n            }\r\n            const categorie = await models.Categorie.create(req.body);\r\n            res.status(200).json(categorie);\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    update: async(req,res) => {\r\n        try {\r\n            if(req.files && req.files.portada){\r\n                var img_path = req.files.portada.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                // console.log(portada_name)\r\n                req.body.imagen = portada_name;\r\n            }\r\n            await models.Categorie.findByIdAndUpdate({_id: req.body._id},req.body);\r\n\r\n            let CategorieT = await models.Categorie.findOne({_id: req.body._id});\r\n            res.status(200).json({\r\n                message: \"LA CATEGORIA SE HA MODIFICADO CORRECTAMENTE\",\r\n                categorie: resource.Categorie.categorie_list(CategorieT),\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    list: async(req,res) => {\r\n        try {\r\n            var search = req.query.search;\r\n            let Categories = await models.Categorie.find({\r\n                $or:[\r\n                    {\"title\": new RegExp(search, \"i\")},\r\n                ]\r\n            }).sort({'createdAt': -1});\r\n\r\n            Categories = Categories.map((user) => {\r\n                return resource.Categorie.categorie_list(user);\r\n            })\r\n\r\n            res.status(200).json({\r\n                categories: Categories\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    obtener_imagen: async(req,res) => {\r\n        try {\r\n            var img = req.params['img'];\r\n\r\n            fs.stat('./uploads/categorie/'+img, function(err){\r\n                if(!err){\r\n                    let path_img = './uploads/categorie/'+img;\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }else{\r\n                    let path_img = './uploads/default.jpg';\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },  \r\n    remove: async(req,res) => {\r\n        try {\r\n            await models.Categorie.findByIdAndDelete({_id: req.query._id});\r\n            res.status(200).json({\r\n                message: \"LA CATEGORIA SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    }\r\n}"],"mappings":"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"}},"mtime":1676450129490},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _ProductController = _interopRequireDefault(require(\"../controllers/ProductController\"));\nvar _VariedadController = _interopRequireDefault(require(\"../controllers/VariedadController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/product'\n});\nconst router = (0, _expressPromiseRouter.default)();\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _ProductController.default.register);\nrouter.post(\"/register_imagen\", [_auth.default.verifyAdmin, path], _ProductController.default.register_imagen);\nrouter.post(\"/remove_imagen\", [_auth.default.verifyAdmin, path], _ProductController.default.remove_imagen);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _ProductController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _ProductController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _ProductController.default.remove);\nrouter.get(\"/uploads/product/:img\", _ProductController.default.obtener_imagen);\nrouter.get(\"/show/:id\", _ProductController.default.show);\n\n// VARIEDAD\n\nrouter.post(\"/register-variedad\", [_auth.default.verifyAdmin, path], _VariedadController.default.register);\nrouter.put(\"/update-variedad\", [_auth.default.verifyAdmin, path], _VariedadController.default.update);\nrouter.delete(\"/delete-variedad/:id\", [_auth.default.verifyAdmin, path], _VariedadController.default.delete);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwYXRoIiwibXVsdGlwYXJ0eSIsInVwbG9hZERpciIsInJvdXRlciIsInJvdXRlcngiLCJwb3N0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwicHJvZHVjdENvbnRyb2xsZXIiLCJyZWdpc3RlciIsInJlZ2lzdGVyX2ltYWdlbiIsInJlbW92ZV9pbWFnZW4iLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJsaXN0IiwiZGVsZXRlIiwicmVtb3ZlIiwib2J0ZW5lcl9pbWFnZW4iLCJzaG93IiwidmFyaWVkYWRDb250cm9sbGVyIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiUHJvZHVjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tICdleHByZXNzLXByb21pc2Utcm91dGVyJ1xyXG5pbXBvcnQgcHJvZHVjdENvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvUHJvZHVjdENvbnRyb2xsZXInXHJcbmltcG9ydCB2YXJpZWRhZENvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvVmFyaWVkYWRDb250cm9sbGVyJ1xyXG5pbXBvcnQgYXV0aCBmcm9tICcuLi9taWRkbGV3YXJlcy9hdXRoJ1xyXG5cclxuaW1wb3J0IG11bHRpcGFydHkgZnJvbSAnY29ubmVjdC1tdWx0aXBhcnR5J1xyXG52YXIgcGF0aCA9IG11bHRpcGFydHkoe3VwbG9hZERpcjogJy4vdXBsb2Fkcy9wcm9kdWN0J30pXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuLy8gaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2Vycy9yZWdpc3RlclxyXG5cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSxwcm9kdWN0Q29udHJvbGxlci5yZWdpc3Rlcik7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3Rlcl9pbWFnZW5cIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSxwcm9kdWN0Q29udHJvbGxlci5yZWdpc3Rlcl9pbWFnZW4pO1xyXG5yb3V0ZXIucG9zdChcIi9yZW1vdmVfaW1hZ2VuXCIsW2F1dGgudmVyaWZ5QWRtaW4scGF0aF0scHJvZHVjdENvbnRyb2xsZXIucmVtb3ZlX2ltYWdlbik7XHJcblxyXG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLFthdXRoLnZlcmlmeUFkbWluLHBhdGhdLHByb2R1Y3RDb250cm9sbGVyLnVwZGF0ZSk7XHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4scHJvZHVjdENvbnRyb2xsZXIubGlzdCk7XHJcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlXCIsYXV0aC52ZXJpZnlBZG1pbixwcm9kdWN0Q29udHJvbGxlci5yZW1vdmUpO1xyXG5cclxucm91dGVyLmdldChcIi91cGxvYWRzL3Byb2R1Y3QvOmltZ1wiLHByb2R1Y3RDb250cm9sbGVyLm9idGVuZXJfaW1hZ2VuKTtcclxuXHJcbnJvdXRlci5nZXQoXCIvc2hvdy86aWRcIixwcm9kdWN0Q29udHJvbGxlci5zaG93KTtcclxuXHJcbi8vIFZBUklFREFEXHJcblxyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3Rlci12YXJpZWRhZFwiLFthdXRoLnZlcmlmeUFkbWluLHBhdGhdLHZhcmllZGFkQ29udHJvbGxlci5yZWdpc3Rlcik7XHJcbnJvdXRlci5wdXQoXCIvdXBkYXRlLXZhcmllZGFkXCIsW2F1dGgudmVyaWZ5QWRtaW4scGF0aF0sdmFyaWVkYWRDb250cm9sbGVyLnVwZGF0ZSk7XHJcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlLXZhcmllZGFkLzppZFwiLFthdXRoLnZlcmlmeUFkbWluLHBhdGhdLHZhcmllZGFkQ29udHJvbGxlci5kZWxldGUpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUEyQztBQUMzQyxJQUFJQSxJQUFJLEdBQUcsSUFBQUMsMEJBQVUsRUFBQztFQUFDQyxTQUFTLEVBQUU7QUFBbUIsQ0FBQyxDQUFDO0FBQ3ZELE1BQU1DLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxHQUFFO0FBQ3hCOztBQUVBRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUMsQ0FBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUNQLElBQUksQ0FBQyxFQUFDUSwwQkFBaUIsQ0FBQ0MsUUFBUSxDQUFDO0FBRTNFTixNQUFNLENBQUNFLElBQUksQ0FBQyxrQkFBa0IsRUFBQyxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNRLDBCQUFpQixDQUFDRSxlQUFlLENBQUM7QUFDekZQLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLGdCQUFnQixFQUFDLENBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFDUCxJQUFJLENBQUMsRUFBQ1EsMEJBQWlCLENBQUNHLGFBQWEsQ0FBQztBQUVyRlIsTUFBTSxDQUFDUyxHQUFHLENBQUMsU0FBUyxFQUFDLENBQUNOLGFBQUksQ0FBQ0MsV0FBVyxFQUFDUCxJQUFJLENBQUMsRUFBQ1EsMEJBQWlCLENBQUNLLE1BQU0sQ0FBQztBQUN0RVYsTUFBTSxDQUFDVyxHQUFHLENBQUMsT0FBTyxFQUFDUixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMEJBQWlCLENBQUNPLElBQUksQ0FBQztBQUMzRFosTUFBTSxDQUFDYSxNQUFNLENBQUMsU0FBUyxFQUFDVixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMEJBQWlCLENBQUNTLE1BQU0sQ0FBQztBQUVsRWQsTUFBTSxDQUFDVyxHQUFHLENBQUMsdUJBQXVCLEVBQUNOLDBCQUFpQixDQUFDVSxjQUFjLENBQUM7QUFFcEVmLE1BQU0sQ0FBQ1csR0FBRyxDQUFDLFdBQVcsRUFBQ04sMEJBQWlCLENBQUNXLElBQUksQ0FBQzs7QUFFOUM7O0FBRUFoQixNQUFNLENBQUNFLElBQUksQ0FBQyxvQkFBb0IsRUFBQyxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNvQiwyQkFBa0IsQ0FBQ1gsUUFBUSxDQUFDO0FBQ3JGTixNQUFNLENBQUNTLEdBQUcsQ0FBQyxrQkFBa0IsRUFBQyxDQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNvQiwyQkFBa0IsQ0FBQ1AsTUFBTSxDQUFDO0FBQ2hGVixNQUFNLENBQUNhLE1BQU0sQ0FBQyxzQkFBc0IsRUFBQyxDQUFDVixhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNvQiwyQkFBa0IsQ0FBQ0osTUFBTSxDQUFDO0FBQUMsaUNBRXpFYixNQUFNIn0=","map":{"version":3,"names":["path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","productController","register","register_imagen","remove_imagen","put","update","get","list","delete","remove","obtener_imagen","show","variedadController"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["Product.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport productController from '../controllers/ProductController'\r\nimport variedadController from '../controllers/VariedadController'\r\nimport auth from '../middlewares/auth'\r\n\r\nimport multiparty from 'connect-multiparty'\r\nvar path = multiparty({uploadDir: './uploads/product'})\r\nconst router = routerx();\r\n// http://localhost:3000/api/users/register\r\n\r\nrouter.post(\"/register\",[auth.verifyAdmin,path],productController.register);\r\n\r\nrouter.post(\"/register_imagen\",[auth.verifyAdmin,path],productController.register_imagen);\r\nrouter.post(\"/remove_imagen\",[auth.verifyAdmin,path],productController.remove_imagen);\r\n\r\nrouter.put(\"/update\",[auth.verifyAdmin,path],productController.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,productController.list);\r\nrouter.delete(\"/delete\",auth.verifyAdmin,productController.remove);\r\n\r\nrouter.get(\"/uploads/product/:img\",productController.obtener_imagen);\r\n\r\nrouter.get(\"/show/:id\",productController.show);\r\n\r\n// VARIEDAD\r\n\r\nrouter.post(\"/register-variedad\",[auth.verifyAdmin,path],variedadController.register);\r\nrouter.put(\"/update-variedad\",[auth.verifyAdmin,path],variedadController.update);\r\nrouter.delete(\"/delete-variedad/:id\",[auth.verifyAdmin,path],variedadController.delete);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AAEA;AAA2C;AAC3C,IAAIA,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAE;AAAmB,CAAC,CAAC;AACvD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,GAAE;AACxB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAC,CAACC,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,0BAAiB,CAACC,QAAQ,CAAC;AAE3EN,MAAM,CAACE,IAAI,CAAC,kBAAkB,EAAC,CAACC,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,0BAAiB,CAACE,eAAe,CAAC;AACzFP,MAAM,CAACE,IAAI,CAAC,gBAAgB,EAAC,CAACC,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,0BAAiB,CAACG,aAAa,CAAC;AAErFR,MAAM,CAACS,GAAG,CAAC,SAAS,EAAC,CAACN,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,0BAAiB,CAACK,MAAM,CAAC;AACtEV,MAAM,CAACW,GAAG,CAAC,OAAO,EAACR,aAAI,CAACC,WAAW,EAACC,0BAAiB,CAACO,IAAI,CAAC;AAC3DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAACV,aAAI,CAACC,WAAW,EAACC,0BAAiB,CAACS,MAAM,CAAC;AAElEd,MAAM,CAACW,GAAG,CAAC,uBAAuB,EAACN,0BAAiB,CAACU,cAAc,CAAC;AAEpEf,MAAM,CAACW,GAAG,CAAC,WAAW,EAACN,0BAAiB,CAACW,IAAI,CAAC;;AAE9C;;AAEAhB,MAAM,CAACE,IAAI,CAAC,oBAAoB,EAAC,CAACC,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACoB,2BAAkB,CAACX,QAAQ,CAAC;AACrFN,MAAM,CAACS,GAAG,CAAC,kBAAkB,EAAC,CAACN,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACoB,2BAAkB,CAACP,MAAM,CAAC;AAChFV,MAAM,CAACa,MAAM,CAAC,sBAAsB,EAAC,CAACV,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACoB,2BAAkB,CAACJ,MAAM,CAAC;AAAC,iCAEzEb,MAAM"}},"mtime":1677538217364},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\ProductController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let valid_Product = await _models.default.Product.findOne({\n        title: data.title\n      });\n      if (valid_Product) {\n        res.status(200).json({\n          code: 403,\n          message: 'EL PRODUCTO YA EXISTE'\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g, '-').replace(/[^\\w-]+/g, '');\n      if (req.files) {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        data.portada = portada_name;\n      }\n      let product = await _models.default.Product.create(data);\n      res.status(200).json({\n        message: \"EL PRODUCTO SE REGISTRO CON EXITO\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"COURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      let valid_Product = await _models.default.Product.findOne({\n        title: data.title,\n        _id: {\n          $ne: data._id\n        }\n      });\n      if (valid_Product) {\n        res.status(200).json({\n          code: 403,\n          message: 'EL PRODUCTO YA EXISTE'\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g, '-').replace(/[^\\w-]+/g, '');\n      if (req.files && req.files.imagen) {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        data.portada = portada_name;\n      }\n      await _models.default.Product.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      res.status(200).json({\n        message: \"EL PRODUCTO SE REGISTRO SE ACTUALIZO CON EXITO\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"COURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var filter = [];\n      if (req.query.search) {\n        filter.push({\n          \"title\": new RegExp(req.query.search, 'i')\n        });\n      }\n      if (req.query.categorie) {\n        filter.push({\n          \"categorie\": req.query.categorie\n        });\n      }\n      let products = await _models.default.Product.find({\n        $and: filter\n      }).populate('categorie');\n      products = products.map(product => {\n        return _resources.default.Product.product_list(product);\n      });\n      res.status(200).json({\n        products: products\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"COURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Product.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: \"EL PRODUCTO SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"COURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/product/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/product/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  show: async (req, res) => {\n    try {\n      var product_id = req.params.id;\n      let PRODUCT = await _models.default.Product.findById({\n        _id: product_id\n      }).populate(\"categorie\");\n      let VARIEDADES = await _models.default.Variedad.find({\n        product: product_id\n      });\n      res.status(200).json({\n        product: _resources.default.Product.product_list(PRODUCT, VARIEDADES)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_imagen: async (req, res) => {\n    try {\n      var img_path = req.files.imagen.path;\n      var name = img_path.split('\\\\');\n      var imagen_name = name[2];\n      let product = await _models.default.Product.findByIdAndUpdate({\n        _id: req.body._id\n      }, {\n        $push: {\n          galerias: {\n            imagen: imagen_name,\n            _id: req.body.__id\n          }\n        }\n      });\n      res.status(200).json({\n        message: \"LA IMAGEN SE SUBIO PERFECTAMENTE\",\n        imagen: {\n          imagen: process.env.URL_BACKEND + '/api/products/uploads/product/' + imagen_name,\n          _id: req.body.__id\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  remove_imagen: async (req, res) => {\n    try {\n      await _models.default.Product.findByIdAndUpdate({\n        _id: req.body._id\n      }, {\n        $pull: {\n          galerias: {\n            _id: req.body.__id\n          }\n        }\n      });\n      res.status(200).json({\n        message: \"LA IMAGEN SE ELIMINO PERFECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZWdpc3RlciIsInJlcSIsInJlcyIsImRhdGEiLCJib2R5IiwidmFsaWRfUHJvZHVjdCIsIm1vZGVscyIsIlByb2R1Y3QiLCJmaW5kT25lIiwidGl0bGUiLCJzdGF0dXMiLCJqc29uIiwiY29kZSIsIm1lc3NhZ2UiLCJzbHVnIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwiZmlsZXMiLCJpbWdfcGF0aCIsImltYWdlbiIsInBhdGgiLCJuYW1lIiwic3BsaXQiLCJwb3J0YWRhX25hbWUiLCJwb3J0YWRhIiwicHJvZHVjdCIsImNyZWF0ZSIsImVycm9yIiwic2VuZCIsInVwZGF0ZSIsIl9pZCIsIiRuZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwibGlzdCIsImZpbHRlciIsInF1ZXJ5Iiwic2VhcmNoIiwicHVzaCIsIlJlZ0V4cCIsImNhdGVnb3JpZSIsInByb2R1Y3RzIiwiZmluZCIsIiRhbmQiLCJwb3B1bGF0ZSIsIm1hcCIsInJlc291cmNlcyIsInByb2R1Y3RfbGlzdCIsInJlbW92ZSIsImZpbmRCeUlkQW5kRGVsZXRlIiwib2J0ZW5lcl9pbWFnZW4iLCJpbWciLCJwYXJhbXMiLCJmcyIsInN0YXQiLCJlcnIiLCJwYXRoX2ltZyIsInNlbmRGaWxlIiwicmVzb2x2ZSIsImNvbnNvbGUiLCJsb2ciLCJzaG93IiwicHJvZHVjdF9pZCIsImlkIiwiUFJPRFVDVCIsImZpbmRCeUlkIiwiVkFSSUVEQURFUyIsIlZhcmllZGFkIiwicmVnaXN0ZXJfaW1hZ2VuIiwiaW1hZ2VuX25hbWUiLCIkcHVzaCIsImdhbGVyaWFzIiwiX19pZCIsInByb2Nlc3MiLCJlbnYiLCJVUkxfQkFDS0VORCIsInJlbW92ZV9pbWFnZW4iLCIkcHVsbCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiUHJvZHVjdENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnXHJcbmltcG9ydCByZXNvdXJjZXMgZnJvbSAnLi4vcmVzb3VyY2VzJztcclxuaW1wb3J0IGZzIGZyb20gJ2ZzJ1xyXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbGV0IHZhbGlkX1Byb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kT25lKHt0aXRsZTogZGF0YS50aXRsZX0pO1xyXG5cclxuICAgICAgICAgICAgaWYodmFsaWRfUHJvZHVjdCl7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgY29kZTogNDAzLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdFTCBQUk9EVUNUTyBZQSBFWElTVEUnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZGF0YS5zbHVnID0gZGF0YS50aXRsZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyAvZywnLScpLnJlcGxhY2UoL1teXFx3LV0rL2csJycpO1xyXG4gICAgICAgICAgICBpZihyZXEuZmlsZXMpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLmltYWdlbi5wYXRoO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnXFxcXCcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBvcnRhZGFfbmFtZSA9IG5hbWVbMl07XHJcbiAgICAgICAgICAgICAgICBkYXRhLnBvcnRhZGEgPSBwb3J0YWRhX25hbWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBwcm9kdWN0ID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuY3JlYXRlKGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBQUk9EVUNUTyBTRSBSRUdJU1RSTyBDT04gRVhJVE9cIlxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDT1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHVwZGF0ZTphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCB2YWxpZF9Qcm9kdWN0ID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZE9uZSh7dGl0bGU6IGRhdGEudGl0bGUsIF9pZDogeyRuZSA6IGRhdGEuX2lkfX0pO1xyXG5cclxuICAgICAgICAgICAgaWYodmFsaWRfUHJvZHVjdCl7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgY29kZTogNDAzLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdFTCBQUk9EVUNUTyBZQSBFWElTVEUnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZGF0YS5zbHVnID0gZGF0YS50aXRsZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyAvZywnLScpLnJlcGxhY2UoL1teXFx3LV0rL2csJycpO1xyXG4gICAgICAgICAgICBpZihyZXEuZmlsZXMgJiYgcmVxLmZpbGVzLmltYWdlbil7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMuaW1hZ2VuLnBhdGg7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9ydGFkYV9uYW1lID0gbmFtZVsyXTtcclxuICAgICAgICAgICAgICAgIGRhdGEucG9ydGFkYSA9IHBvcnRhZGFfbmFtZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDpkYXRhLl9pZH0sZGF0YSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFBST0RVQ1RPIFNFIFJFR0lTVFJPIFNFIEFDVFVBTElaTyBDT04gRVhJVE9cIlxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDT1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGxpc3Q6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBmaWx0ZXIgPSBbXTtcclxuICAgICAgICAgICAgaWYocmVxLnF1ZXJ5LnNlYXJjaCl7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXIucHVzaChcclxuICAgICAgICAgICAgICAgICAgICB7XCJ0aXRsZVwiOiBuZXcgUmVnRXhwKHJlcS5xdWVyeS5zZWFyY2gsJ2knKX0sXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHJlcS5xdWVyeS5jYXRlZ29yaWUpe1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAge1wiY2F0ZWdvcmllXCI6IHJlcS5xdWVyeS5jYXRlZ29yaWV9XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBwcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoe1xyXG4gICAgICAgICAgICAgICAgJGFuZDpmaWx0ZXIsXHJcbiAgICAgICAgICAgIH0pLnBvcHVsYXRlKCdjYXRlZ29yaWUnKVxyXG4gICAgICAgICAgICBwcm9kdWN0cyA9IHByb2R1Y3RzLm1hcChwcm9kdWN0ID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvdXJjZXMuUHJvZHVjdC5wcm9kdWN0X2xpc3QocHJvZHVjdCk7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBwcm9kdWN0czogcHJvZHVjdHMsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDT1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHJlbW92ZTphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IF9pZCA9IHJlcS5xdWVyeS5faWQ7XHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IF9pZH0pO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBQUk9EVUNUTyBTRSBFTElNSU5PIENPUlJFQ1RBTUVOVEVcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNPVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgb2J0ZW5lcl9pbWFnZW46YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBpbWcgPSByZXEucGFyYW1zWydpbWcnXTtcclxuXHJcbiAgICAgICAgICAgIGZzLnN0YXQoJy4vdXBsb2Fkcy9wcm9kdWN0LycraW1nLCBmdW5jdGlvbihlcnIpe1xyXG4gICAgICAgICAgICAgICAgaWYoIWVycil7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9wcm9kdWN0LycraW1nO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kRmlsZShwYXRoLnJlc29sdmUocGF0aF9pbWcpKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvZGVmYXVsdC5qcGcnO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kRmlsZShwYXRoLnJlc29sdmUocGF0aF9pbWcpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzaG93OiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIHByb2R1Y3RfaWQgPSByZXEucGFyYW1zLmlkO1xyXG4gICAgICAgICAgICBsZXQgUFJPRFVDVCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkKHtfaWQ6IHByb2R1Y3RfaWR9KS5wb3B1bGF0ZShcImNhdGVnb3JpZVwiKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBWQVJJRURBREVTID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoe3Byb2R1Y3Q6IHByb2R1Y3RfaWR9KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgcHJvZHVjdDogcmVzb3VyY2VzLlByb2R1Y3QucHJvZHVjdF9saXN0KFBST0RVQ1QsVkFSSUVEQURFUyksXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgcmVnaXN0ZXJfaW1hZ2VuOmFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMuaW1hZ2VuLnBhdGg7XHJcbiAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJ1xcXFwnKTtcclxuICAgICAgICAgICAgdmFyIGltYWdlbl9uYW1lID0gbmFtZVsyXTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBwcm9kdWN0ID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogcmVxLmJvZHkuX2lkfSx7XHJcbiAgICAgICAgICAgICAgICAkcHVzaDoge1xyXG4gICAgICAgICAgICAgICAgICAgIGdhbGVyaWFzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlbjogaW1hZ2VuX25hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZDogcmVxLmJvZHkuX19pZFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJMQSBJTUFHRU4gU0UgU1VCSU8gUEVSRkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICAgICAgaW1hZ2VuOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VuOiBwcm9jZXNzLmVudi5VUkxfQkFDS0VORCsnL2FwaS9wcm9kdWN0cy91cGxvYWRzL3Byb2R1Y3QvJytpbWFnZW5fbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBfaWQ6IHJlcS5ib2R5Ll9faWRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgcmVtb3ZlX2ltYWdlbjphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogcmVxLmJvZHkuX2lkfSx7XHJcbiAgICAgICAgICAgICAgICAkcHVsbDoge1xyXG4gICAgICAgICAgICAgICAgICAgIGdhbGVyaWFzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZDogcmVxLmJvZHkuX19pZFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJMQSBJTUFHRU4gU0UgRUxJTUlOTyBQRVJGRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBdUI7QUFBQSxpQ0FFUjtFQUNYQSxRQUFRLEVBQUUsT0FBTUMsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDeEIsSUFBSTtNQUNBLElBQUlDLElBQUksR0FBR0YsR0FBRyxDQUFDRyxJQUFJO01BRW5CLElBQUlDLGFBQWEsR0FBRyxNQUFNQyxlQUFNLENBQUNDLE9BQU8sQ0FBQ0MsT0FBTyxDQUFDO1FBQUNDLEtBQUssRUFBRU4sSUFBSSxDQUFDTTtNQUFLLENBQUMsQ0FBQztNQUVyRSxJQUFHSixhQUFhLEVBQUM7UUFDYkgsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElB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","map":{"version":3,"names":["register","req","res","data","body","valid_Product","models","Product","findOne","title","status","json","code","message","slug","toLowerCase","replace","files","img_path","imagen","path","name","split","portada_name","portada","product","create","error","send","update","_id","$ne","findByIdAndUpdate","list","filter","query","search","push","RegExp","categorie","products","find","$and","populate","map","resources","product_list","remove","findByIdAndDelete","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","console","log","show","product_id","id","PRODUCT","findById","VARIEDADES","Variedad","register_imagen","imagen_name","$push","galerias","__id","process","env","URL_BACKEND","remove_imagen","$pull"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["ProductController.js"],"sourcesContent":["import models from '../models'\r\nimport resources from '../resources';\r\nimport fs from 'fs'\r\nimport path from 'path'\r\n\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            \r\n            let valid_Product = await models.Product.findOne({title: data.title});\r\n\r\n            if(valid_Product){\r\n                res.status(200).json({\r\n                    code: 403,\r\n                    message: 'EL PRODUCTO YA EXISTE'\r\n                });\r\n                return;\r\n            }\r\n\r\n            data.slug = data.title.toLowerCase().replace(/ /g,'-').replace(/[^\\w-]+/g,'');\r\n            if(req.files){\r\n                var img_path = req.files.imagen.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                data.portada = portada_name;\r\n            }\r\n\r\n            let product = await models.Product.create(data);\r\n\r\n            res.status(200).json({\r\n                message: \"EL PRODUCTO SE REGISTRO CON EXITO\"\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"COURRIO UN PROBLEMA\"\r\n            });\r\n        }\r\n    },\r\n    update:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            \r\n            let valid_Product = await models.Product.findOne({title: data.title, _id: {$ne : data._id}});\r\n\r\n            if(valid_Product){\r\n                res.status(200).json({\r\n                    code: 403,\r\n                    message: 'EL PRODUCTO YA EXISTE'\r\n                });\r\n                return;\r\n            }\r\n\r\n            data.slug = data.title.toLowerCase().replace(/ /g,'-').replace(/[^\\w-]+/g,'');\r\n            if(req.files && req.files.imagen){\r\n                var img_path = req.files.imagen.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                data.portada = portada_name;\r\n            }\r\n\r\n            await models.Product.findByIdAndUpdate({_id:data._id},data);\r\n\r\n            res.status(200).json({\r\n                message: \"EL PRODUCTO SE REGISTRO SE ACTUALIZO CON EXITO\"\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"COURRIO UN PROBLEMA\"\r\n            });\r\n        }\r\n    },\r\n    list:async(req,res) => {\r\n        try {\r\n            var filter = [];\r\n            if(req.query.search){\r\n                filter.push(\r\n                    {\"title\": new RegExp(req.query.search,'i')},\r\n                );\r\n            }\r\n            if(req.query.categorie){\r\n                filter.push(\r\n                    {\"categorie\": req.query.categorie}\r\n                );\r\n            }\r\n            let products = await models.Product.find({\r\n                $and:filter,\r\n            }).populate('categorie')\r\n            products = products.map(product => {\r\n                return resources.Product.product_list(product);\r\n            })\r\n\r\n            res.status(200).json({\r\n                products: products,\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"COURRIO UN PROBLEMA\"\r\n            });\r\n        }\r\n    },\r\n    remove:async(req,res) => {\r\n        try {\r\n            let _id = req.query._id;\r\n            await models.Product.findByIdAndDelete({_id: _id});\r\n\r\n            res.status(200).json({\r\n                message: \"EL PRODUCTO SE ELIMINO CORRECTAMENTE\"\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"COURRIO UN PROBLEMA\"\r\n            });\r\n        }\r\n    },\r\n    obtener_imagen:async(req,res) => {\r\n        try {\r\n            var img = req.params['img'];\r\n\r\n            fs.stat('./uploads/product/'+img, function(err){\r\n                if(!err){\r\n                    let path_img = './uploads/product/'+img;\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }else{\r\n                    let path_img = './uploads/default.jpg';\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    show: async(req,res) => {\r\n        try {\r\n            var product_id = req.params.id;\r\n            let PRODUCT = await models.Product.findById({_id: product_id}).populate(\"categorie\");\r\n\r\n            let VARIEDADES = await models.Variedad.find({product: product_id});\r\n            res.status(200).json({\r\n                product: resources.Product.product_list(PRODUCT,VARIEDADES),\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    register_imagen:async(req,res) => {\r\n        try {\r\n            var img_path = req.files.imagen.path;\r\n            var name = img_path.split('\\\\');\r\n            var imagen_name = name[2];\r\n            \r\n            let product = await models.Product.findByIdAndUpdate({_id: req.body._id},{\r\n                $push: {\r\n                    galerias: {\r\n                        imagen: imagen_name,\r\n                        _id: req.body.__id\r\n                    }\r\n                }\r\n            })\r\n            res.status(200).json({\r\n                message: \"LA IMAGEN SE SUBIO PERFECTAMENTE\",\r\n                imagen: {\r\n                    imagen: process.env.URL_BACKEND+'/api/products/uploads/product/'+imagen_name,\r\n                    _id: req.body.__id\r\n                }\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n        }\r\n    },\r\n    remove_imagen:async(req,res) => {\r\n        try {\r\n            await models.Product.findByIdAndUpdate({_id: req.body._id},{\r\n                $pull: {\r\n                    galerias: {\r\n                        _id: req.body.__id\r\n                    }\r\n                }\r\n            })\r\n            res.status(200).json({\r\n                message: \"LA IMAGEN SE ELIMINO PERFECTAMENTE\",\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":"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"}},"mtime":1681165449978},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\VariedadController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let variedad_exits = await _models.default.Variedad.findOne({\n        valor: data.valor,\n        product: data.product\n      });\n      var variedad = null;\n      if (variedad_exits) {\n        data.stock = variedad_exits.stock + data.stock;\n        await _models.default.Variedad.findByIdAndUpdate({\n          _id: variedad_exits._id\n        }, data);\n        variedad = await _models.default.Variedad.findById({\n          _id: variedad_exits._id\n        });\n      } else {\n        variedad = await _models.default.Variedad.create(data);\n      }\n      res.status(200).json({\n        variedad: variedad\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      await _models.default.Variedad.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let variedad = await _models.default.Variedad.findById({\n        _id: data._id\n      });\n      res.status(200).json({\n        variedad: variedad\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.params.id;\n      await _models.default.Variedad.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: \"SE ELIMINO LA VARIEDAD\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZWdpc3RlciIsInJlcSIsInJlcyIsImRhdGEiLCJib2R5IiwidmFyaWVkYWRfZXhpdHMiLCJtb2RlbHMiLCJWYXJpZWRhZCIsImZpbmRPbmUiLCJ2YWxvciIsInByb2R1Y3QiLCJ2YXJpZWRhZCIsInN0b2NrIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJfaWQiLCJmaW5kQnlJZCIsImNyZWF0ZSIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInNlbmQiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyIsInVwZGF0ZSIsImRlbGV0ZSIsInBhcmFtcyIsImlkIiwiZmluZEJ5SWRBbmREZWxldGUiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIlZhcmllZGFkQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gJy4uL21vZGVscydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHJlZ2lzdGVyOmFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xyXG5cclxuICAgICAgICAgICAgbGV0IHZhcmllZGFkX2V4aXRzID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRPbmUoe3ZhbG9yOiBkYXRhLnZhbG9yLCBwcm9kdWN0OiBkYXRhLnByb2R1Y3R9KTtcclxuICAgICAgICAgICAgdmFyIHZhcmllZGFkID0gbnVsbDtcclxuICAgICAgICAgICAgaWYodmFyaWVkYWRfZXhpdHMpe1xyXG4gICAgICAgICAgICAgICAgZGF0YS5zdG9jayA9IHZhcmllZGFkX2V4aXRzLnN0b2NrICsgZGF0YS5zdG9jaztcclxuICAgICAgICAgICAgICAgIGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiB2YXJpZWRhZF9leGl0cy5faWR9LGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgdmFyaWVkYWQgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZEJ5SWQoe19pZDogdmFyaWVkYWRfZXhpdHMuX2lkfSk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdmFyaWVkYWQgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuY3JlYXRlKGRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICB2YXJpZWRhZDogdmFyaWVkYWRcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlOmFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xyXG5cclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6ZGF0YS5faWR9LGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHZhcmllZGFkID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkKHtfaWQ6IGRhdGEuX2lkfSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICB2YXJpZWRhZDogdmFyaWVkYWRcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgZGVsZXRlOmFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgX2lkID0gcmVxLnBhcmFtcy5pZDtcclxuXHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kQnlJZEFuZERlbGV0ZSh7X2lkOl9pZH0pO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJTRSBFTElNSU5PIExBIFZBUklFREFEXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUE4QjtBQUFBLGlDQUVmO0VBQ1hBLFFBQVEsRUFBQyxPQUFNQyxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUN2QixJQUFJO01BQ0EsSUFBSUMsSUFBSSxHQUFHRixHQUFHLENBQUNHLElBQUk7TUFFbkIsSUFBSUMsY0FBYyxHQUFHLE1BQU1DLGVBQU0sQ0FBQ0MsUUFBUSxDQUFDQyxPQUFPLENBQUM7UUFBQ0MsS0FBSyxFQUFFTixJQUFJLENBQUNNLEtBQUs7UUFBRUMsT0FBTyxF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","map":{"version":3,"names":["register","req","res","data","body","variedad_exits","models","Variedad","findOne","valor","product","variedad","stock","findByIdAndUpdate","_id","findById","create","status","json","error","send","message","console","log","update","delete","params","id","findByIdAndDelete"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["VariedadController.js"],"sourcesContent":["import models from '../models'\r\n\r\nexport default {\r\n    register:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n\r\n            let variedad_exits = await models.Variedad.findOne({valor: data.valor, product: data.product});\r\n            var variedad = null;\r\n            if(variedad_exits){\r\n                data.stock = variedad_exits.stock + data.stock;\r\n                await models.Variedad.findByIdAndUpdate({_id: variedad_exits._id},data);\r\n                variedad = await models.Variedad.findById({_id: variedad_exits._id});\r\n            }else{\r\n                variedad = await models.Variedad.create(data);\r\n            }\r\n\r\n            res.status(200).json({\r\n                variedad: variedad\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    update:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n\r\n            await models.Variedad.findByIdAndUpdate({_id:data._id},data);\r\n\r\n            let variedad = await models.Variedad.findById({_id: data._id});\r\n\r\n            res.status(200).json({\r\n                variedad: variedad\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    delete:async(req,res) => {\r\n        try {\r\n            let _id = req.params.id;\r\n\r\n            await models.Variedad.findByIdAndDelete({_id:_id});\r\n\r\n            res.status(200).json({\r\n                message: \"SE ELIMINO LA VARIEDAD\"\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n}"],"mappings":";;;;;;AAAA;AAA8B;AAAA,iCAEf;EACXA,QAAQ,EAAC,OAAMC,GAAG,EAACC,GAAG,KAAK;IACvB,IAAI;MACA,IAAIC,IAAI,GAAGF,GAAG,CAACG,IAAI;MAEnB,IAAIC,cAAc,GAAG,MAAMC,eAAM,CAACC,QAAQ,CAACC,OAAO,CAAC;QAACC,KAAK,EAAEN,IAAI,CAACM,KAAK;QAAEC,OAAO,EAAEP,IAAI,CAACO;MAAO,CAAC,CAAC;MAC9F,IAAIC,QAAQ,GAAG,IAAI;MACnB,IAAGN,cAAc,EAAC;QACdF,IAAI,CAACS,KAAK,GAAGP,cAAc,CAACO,KAAK,GAAGT,IAAI,CAACS,KAAK;QAC9C,MAAMN,eAAM,CAACC,QAAQ,CAACM,iBAAiB,CAAC;UAACC,GAAG,EAAET,cAAc,CAACS;QAAG,CAAC,EAACX,IAAI,CAAC;QACvEQ,QAAQ,GAAG,MAAML,eAAM,CAACC,QAAQ,CAACQ,QAAQ,CAAC;UAACD,GAAG,EAAET,cAAc,CAACS;QAAG,CAAC,CAAC;MACxE,CAAC,MAAI;QACDH,QAAQ,GAAG,MAAML,eAAM,CAACC,QAAQ,CAACS,MAAM,CAACb,IAAI,CAAC;MACjD;MAEAD,GAAG,CAACe,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBP,QAAQ,EAAEA;MACd,CAAC,CAAC;IACN,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACZjB,GAAG,CAACe,MAAM,CAAC,GAAG,CAAC,CAACG,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACtB;EACJ,CAAC;EACDK,MAAM,EAAC,OAAMvB,GAAG,EAACC,GAAG,KAAK;IACrB,IAAI;MACA,IAAIC,IAAI,GAAGF,GAAG,CAACG,IAAI;MAEnB,MAAME,eAAM,CAACC,QAAQ,CAACM,iBAAiB,CAAC;QAACC,GAAG,EAACX,IAAI,CAACW;MAAG,CAAC,EAACX,IAAI,CAAC;MAE5D,IAAIQ,QAAQ,GAAG,MAAML,eAAM,CAACC,QAAQ,CAACQ,QAAQ,CAAC;QAACD,GAAG,EAAEX,IAAI,CAACW;MAAG,CAAC,CAAC;MAE9DZ,GAAG,CAACe,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBP,QAAQ,EAAEA;MACd,CAAC,CAAC;IACN,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACZjB,GAAG,CAACe,MAAM,CAAC,GAAG,CAAC,CAACG,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACtB;EACJ,CAAC;EACDM,MAAM,EAAC,OAAMxB,GAAG,EAACC,GAAG,KAAK;IACrB,IAAI;MACA,IAAIY,GAAG,GAAGb,GAAG,CAACyB,MAAM,CAACC,EAAE;MAEvB,MAAMrB,eAAM,CAACC,QAAQ,CAACqB,iBAAiB,CAAC;QAACd,GAAG,EAACA;MAAG,CAAC,CAAC;MAElDZ,GAAG,CAACe,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBG,OAAO,EAAE;MACb,CAAC,CAAC;IACN,CAAC,CAAC,OAAOF,KAAK,EAAE;MACZjB,GAAG,CAACe,MAAM,CAAC,GAAG,CAAC,CAACG,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACtB;EACJ;AACJ,CAAC"}},"mtime":1677537925822},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _SliderController = _interopRequireDefault(require(\"../controllers/SliderController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/slider'\n});\nconst router = (0, _expressPromiseRouter.default)();\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _SliderController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _SliderController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _SliderController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _SliderController.default.remove);\nrouter.get(\"/uploads/slider/:img\", _SliderController.default.obtener_imagen);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwYXRoIiwibXVsdGlwYXJ0eSIsInVwbG9hZERpciIsInJvdXRlciIsInJvdXRlcngiLCJwb3N0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwic2xpZGVyQ29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImRlbGV0ZSIsInJlbW92ZSIsIm9idGVuZXJfaW1hZ2VuIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiU2xpZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gJ2V4cHJlc3MtcHJvbWlzZS1yb3V0ZXInXHJcbmltcG9ydCBzbGlkZXJDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL1NsaWRlckNvbnRyb2xsZXInXHJcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXHJcblxyXG5pbXBvcnQgbXVsdGlwYXJ0eSBmcm9tICdjb25uZWN0LW11bHRpcGFydHknXHJcbnZhciBwYXRoID0gbXVsdGlwYXJ0eSh7dXBsb2FkRGlyOiAnLi91cGxvYWRzL3NsaWRlcid9KVxyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcbi8vIGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcnMvcmVnaXN0ZXJcclxuXHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsW2F1dGgudmVyaWZ5QWRtaW4scGF0aF0sc2xpZGVyQ29udHJvbGxlci5yZWdpc3Rlcik7XHJcbnJvdXRlci5wdXQoXCIvdXBkYXRlXCIsW2F1dGgudmVyaWZ5QWRtaW4scGF0aF0sc2xpZGVyQ29udHJvbGxlci51cGRhdGUpO1xyXG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIixhdXRoLnZlcmlmeUFkbWluLHNsaWRlckNvbnRyb2xsZXIubGlzdCk7XHJcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlXCIsYXV0aC52ZXJpZnlBZG1pbixzbGlkZXJDb250cm9sbGVyLnJlbW92ZSk7XHJcblxyXG5yb3V0ZXIuZ2V0KFwiL3VwbG9hZHMvc2xpZGVyLzppbWdcIixzbGlkZXJDb250cm9sbGVyLm9idGVuZXJfaW1hZ2VuKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQTJDO0FBQzNDLElBQUlBLElBQUksR0FBRyxJQUFBQywwQkFBVSxFQUFDO0VBQUNDLFNBQVMsRUFBRTtBQUFrQixDQUFDLENBQUM7QUFDdEQsTUFBTUMsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEdBQUU7QUFDeEI7O0FBRUFELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBQyxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNRLHlCQUFnQixDQUFDQyxRQUFRLENBQUM7QUFDMUVOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLFNBQVMsRUFBQyxDQUFDSixhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNRLHlCQUFnQixDQUFDRyxNQUFNLENBQUM7QUFDckVSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUNDLHlCQUFnQixDQUFDSyxJQUFJLENBQUM7QUFDMURWLE1BQU0sQ0FBQ1csTUFBTSxDQUFDLFNBQVMsRUFBQ1IsYUFBSSxDQUFDQyxXQUFXLEVBQUNDLHlCQUFnQixDQUFDTyxNQUFNLENBQUM7QUFFakVaLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLHNCQUFzQixFQUFDSix5QkFBZ0IsQ0FBQ1EsY0FBYyxDQUFDO0FBQUMsaUNBRXBEYixNQUFNIn0=","map":{"version":3,"names":["path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","sliderController","register","put","update","get","list","delete","remove","obtener_imagen"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["Slider.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport sliderController from '../controllers/SliderController'\r\nimport auth from '../middlewares/auth'\r\n\r\nimport multiparty from 'connect-multiparty'\r\nvar path = multiparty({uploadDir: './uploads/slider'})\r\nconst router = routerx();\r\n// http://localhost:3000/api/users/register\r\n\r\nrouter.post(\"/register\",[auth.verifyAdmin,path],sliderController.register);\r\nrouter.put(\"/update\",[auth.verifyAdmin,path],sliderController.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,sliderController.list);\r\nrouter.delete(\"/delete\",auth.verifyAdmin,sliderController.remove);\r\n\r\nrouter.get(\"/uploads/slider/:img\",sliderController.obtener_imagen);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA;AACA;AACA;AAEA;AAA2C;AAC3C,IAAIA,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAE;AAAkB,CAAC,CAAC;AACtD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,GAAE;AACxB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAC,CAACC,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,yBAAgB,CAACC,QAAQ,CAAC;AAC1EN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAC,CAACJ,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,yBAAgB,CAACG,MAAM,CAAC;AACrER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACK,IAAI,CAAC;AAC1DV,MAAM,CAACW,MAAM,CAAC,SAAS,EAACR,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACO,MAAM,CAAC;AAEjEZ,MAAM,CAACS,GAAG,CAAC,sBAAsB,EAACJ,yBAAgB,CAACQ,cAAc,CAAC;AAAC,iCAEpDb,MAAM"}},"mtime":1677624959347},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\SliderController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        // console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      const slider = await _models.default.Slider.create(req.body);\n      res.status(200).json(slider);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files && req.files.portada) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        // console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      await _models.default.Slider.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let SliderT = await _models.default.Slider.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL SLIDER SE HA MODIFICADO CORRECTAMENTE\",\n        slider: _resources.default.Slider.slider_list(SliderT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Sliders = await _models.default.Slider.find({\n        $or: [{\n          \"title\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Sliders = Sliders.map(user => {\n        return _resources.default.Slider.slider_list(user);\n      });\n      res.status(200).json({\n        sliders: Sliders\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/slider/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/slider/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.Slider.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"EL SLIDER SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZWdpc3RlciIsInJlcSIsInJlcyIsImZpbGVzIiwiaW1nX3BhdGgiLCJwb3J0YWRhIiwicGF0aCIsIm5hbWUiLCJzcGxpdCIsInBvcnRhZGFfbmFtZSIsImJvZHkiLCJpbWFnZW4iLCJzbGlkZXIiLCJtb2RlbHMiLCJTbGlkZXIiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJzZW5kIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJ1cGRhdGUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIl9pZCIsIlNsaWRlclQiLCJmaW5kT25lIiwicmVzb3VyY2UiLCJzbGlkZXJfbGlzdCIsImxpc3QiLCJzZWFyY2giLCJxdWVyeSIsIlNsaWRlcnMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwic29ydCIsIm1hcCIsInVzZXIiLCJzbGlkZXJzIiwib2J0ZW5lcl9pbWFnZW4iLCJpbWciLCJwYXJhbXMiLCJmcyIsInN0YXQiLCJlcnIiLCJwYXRoX2ltZyIsInNlbmRGaWxlIiwicmVzb2x2ZSIsInJlbW92ZSIsImZpbmRCeUlkQW5kRGVsZXRlIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJTbGlkZXJDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSAnLi4vbW9kZWxzJ1xyXG5pbXBvcnQgcmVzb3VyY2UgZnJvbSAnLi4vcmVzb3VyY2VzJ1xyXG5pbXBvcnQgZnMgZnJvbSAnZnMnXHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHJlZ2lzdGVyOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYocmVxLmZpbGVzKXtcclxuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5wb3J0YWRhLnBhdGg7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9ydGFkYV9uYW1lID0gbmFtZVsyXTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHBvcnRhZGFfbmFtZSlcclxuICAgICAgICAgICAgICAgIHJlcS5ib2R5LmltYWdlbiA9IHBvcnRhZGFfbmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBzbGlkZXIgPSBhd2FpdCBtb2RlbHMuU2xpZGVyLmNyZWF0ZShyZXEuYm9keSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHNsaWRlcik7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYocmVxLmZpbGVzICYmIHJlcS5maWxlcy5wb3J0YWRhKXtcclxuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5wb3J0YWRhLnBhdGg7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9ydGFkYV9uYW1lID0gbmFtZVsyXTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHBvcnRhZGFfbmFtZSlcclxuICAgICAgICAgICAgICAgIHJlcS5ib2R5LmltYWdlbiA9IHBvcnRhZGFfbmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuU2xpZGVyLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHJlcS5ib2R5Ll9pZH0scmVxLmJvZHkpO1xyXG5cclxuICAgICAgICAgICAgbGV0IFNsaWRlclQgPSBhd2FpdCBtb2RlbHMuU2xpZGVyLmZpbmRPbmUoe19pZDogcmVxLmJvZHkuX2lkfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgU0xJREVSIFNFIEhBIE1PRElGSUNBRE8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICAgICAgc2xpZGVyOiByZXNvdXJjZS5TbGlkZXIuc2xpZGVyX2xpc3QoU2xpZGVyVCksXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGxpc3Q6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaDtcclxuICAgICAgICAgICAgbGV0IFNsaWRlcnMgPSBhd2FpdCBtb2RlbHMuU2xpZGVyLmZpbmQoe1xyXG4gICAgICAgICAgICAgICAgJG9yOltcclxuICAgICAgICAgICAgICAgICAgICB7XCJ0aXRsZVwiOiBuZXcgUmVnRXhwKHNlYXJjaCwgXCJpXCIpfSxcclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSkuc29ydCh7J2NyZWF0ZWRBdCc6IC0xfSk7XHJcblxyXG4gICAgICAgICAgICBTbGlkZXJzID0gU2xpZGVycy5tYXAoKHVzZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvdXJjZS5TbGlkZXIuc2xpZGVyX2xpc3QodXNlcik7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBzbGlkZXJzOiBTbGlkZXJzXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIG9idGVuZXJfaW1hZ2VuOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIGltZyA9IHJlcS5wYXJhbXNbJ2ltZyddO1xyXG5cclxuICAgICAgICAgICAgZnMuc3RhdCgnLi91cGxvYWRzL3NsaWRlci8nK2ltZywgZnVuY3Rpb24oZXJyKXtcclxuICAgICAgICAgICAgICAgIGlmKCFlcnIpe1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvc2xpZGVyLycraW1nO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kRmlsZShwYXRoLnJlc29sdmUocGF0aF9pbWcpKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvZGVmYXVsdC5qcGcnO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kRmlsZShwYXRoLnJlc29sdmUocGF0aF9pbWcpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sICBcclxuICAgIHJlbW92ZTogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5TbGlkZXIuZmluZEJ5SWRBbmREZWxldGUoe19pZDogcmVxLnF1ZXJ5Ll9pZH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFNMSURFUiBTRSBFTElNSU5PIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQXVCO0FBQUEsaUNBQ1I7RUFDWEEsUUFBUSxFQUFFLE9BQU1DLEdBQUcsRUFBQ0MsR0FBRyxLQUFLO0lBQ3hCLElBQUk7TUFDQSxJQUFHRCxHQUFHLENBQUNFLEtBQUssRUFBQztRQUNULElBQUlDLFFBQVEsR0FBR0gsR0FBRyxDQUFDRSxLQUFLLENB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","map":{"version":3,"names":["register","req","res","files","img_path","portada","path","name","split","portada_name","body","imagen","slider","models","Slider","create","status","json","error","send","message","console","log","update","findByIdAndUpdate","_id","SliderT","findOne","resource","slider_list","list","search","query","Sliders","find","$or","RegExp","sort","map","user","sliders","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","remove","findByIdAndDelete"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["SliderController.js"],"sourcesContent":["import models from '../models'\r\nimport resource from '../resources'\r\nimport fs from 'fs'\r\nimport path from 'path'\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            if(req.files){\r\n                var img_path = req.files.portada.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                // console.log(portada_name)\r\n                req.body.imagen = portada_name;\r\n            }\r\n            const slider = await models.Slider.create(req.body);\r\n            res.status(200).json(slider);\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    update: async(req,res) => {\r\n        try {\r\n            if(req.files && req.files.portada){\r\n                var img_path = req.files.portada.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                // console.log(portada_name)\r\n                req.body.imagen = portada_name;\r\n            }\r\n            await models.Slider.findByIdAndUpdate({_id: req.body._id},req.body);\r\n\r\n            let SliderT = await models.Slider.findOne({_id: req.body._id});\r\n            res.status(200).json({\r\n                message: \"EL SLIDER SE HA MODIFICADO CORRECTAMENTE\",\r\n                slider: resource.Slider.slider_list(SliderT),\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    list: async(req,res) => {\r\n        try {\r\n            var search = req.query.search;\r\n            let Sliders = await models.Slider.find({\r\n                $or:[\r\n                    {\"title\": new RegExp(search, \"i\")},\r\n                ]\r\n            }).sort({'createdAt': -1});\r\n\r\n            Sliders = Sliders.map((user) => {\r\n                return resource.Slider.slider_list(user);\r\n            })\r\n\r\n            res.status(200).json({\r\n                sliders: Sliders\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    obtener_imagen: async(req,res) => {\r\n        try {\r\n            var img = req.params['img'];\r\n\r\n            fs.stat('./uploads/slider/'+img, function(err){\r\n                if(!err){\r\n                    let path_img = './uploads/slider/'+img;\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }else{\r\n                    let path_img = './uploads/default.jpg';\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },  \r\n    remove: async(req,res) => {\r\n        try {\r\n            await models.Slider.findByIdAndDelete({_id: req.query._id});\r\n            res.status(200).json({\r\n                message: \"EL SLIDER SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    }\r\n}"],"mappings":"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"}},"mtime":1677627512867},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\Cupone.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CuponeController = _interopRequireDefault(require(\"../controllers/CuponeController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", _auth.default.verifyAdmin, _CuponeController.default.register);\nrouter.put(\"/update\", _auth.default.verifyAdmin, _CuponeController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _CuponeController.default.list);\nrouter.get(\"/config\", _auth.default.verifyAdmin, _CuponeController.default.config);\nrouter.get(\"/show\", _auth.default.verifyAdmin, _CuponeController.default.show);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _CuponeController.default.delete);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlBZG1pbiIsImN1cG9uZUNvbnRyb2xsZXIiLCJyZWdpc3RlciIsInB1dCIsInVwZGF0ZSIsImdldCIsImxpc3QiLCJjb25maWciLCJzaG93IiwiZGVsZXRlIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiQ3Vwb25lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gJ2V4cHJlc3MtcHJvbWlzZS1yb3V0ZXInXHJcbmltcG9ydCBjdXBvbmVDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL0N1cG9uZUNvbnRyb2xsZXInXHJcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXHJcblxyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLGF1dGgudmVyaWZ5QWRtaW4sY3Vwb25lQ29udHJvbGxlci5yZWdpc3Rlcik7XHJcbnJvdXRlci5wdXQoXCIvdXBkYXRlXCIsYXV0aC52ZXJpZnlBZG1pbixjdXBvbmVDb250cm9sbGVyLnVwZGF0ZSk7XHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4sY3Vwb25lQ29udHJvbGxlci5saXN0KTtcclxucm91dGVyLmdldChcIi9jb25maWdcIixhdXRoLnZlcmlmeUFkbWluLGN1cG9uZUNvbnRyb2xsZXIuY29uZmlnKTtcclxucm91dGVyLmdldChcIi9zaG93XCIsYXV0aC52ZXJpZnlBZG1pbixjdXBvbmVDb250cm9sbGVyLnNob3cpO1xyXG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZVwiLGF1dGgudmVyaWZ5QWRtaW4sY3Vwb25lQ29udHJvbGxlci5kZWxldGUpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQXNDO0FBRXRDLE1BQU1BLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxHQUFFO0FBRXhCRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ0MsUUFBUSxDQUFDO0FBQ25FTixNQUFNLENBQUNPLEdBQUcsQ0FBQyxTQUFTLEVBQUNKLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ0csTUFBTSxDQUFDO0FBQzlEUixNQUFNLENBQUNTLEdBQUcsQ0FBQyxPQUFPLEVBQUNOLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ0ssSUFBSSxDQUFDO0FBQzFEVixNQUFNLENBQUNTLEdBQUcsQ0FBQyxTQUFTLEVBQUNOLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ00sTUFBTSxDQUFDO0FBQzlEWCxNQUFNLENBQUNTLEdBQUcsQ0FBQyxPQUFPLEVBQUNOLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ08sSUFBSSxDQUFDO0FBQzFEWixNQUFNLENBQUNhLE1BQU0sQ0FBQyxTQUFTLEVBQUNWLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ1EsTUFBTSxDQUFDO0FBQUMsaUNBRW5EYixNQUFNIn0=","map":{"version":3,"names":["router","routerx","post","auth","verifyAdmin","cuponeController","register","put","update","get","list","config","show","delete"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["Cupone.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport cuponeController from '../controllers/CuponeController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n\r\nrouter.post(\"/register\",auth.verifyAdmin,cuponeController.register);\r\nrouter.put(\"/update\",auth.verifyAdmin,cuponeController.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,cuponeController.list);\r\nrouter.get(\"/config\",auth.verifyAdmin,cuponeController.config);\r\nrouter.get(\"/show\",auth.verifyAdmin,cuponeController.show);\r\nrouter.delete(\"/delete\",auth.verifyAdmin,cuponeController.delete);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA;AACA;AACA;AAAsC;AAEtC,MAAMA,MAAM,GAAG,IAAAC,6BAAO,GAAE;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACC,QAAQ,CAAC;AACnEN,MAAM,CAACO,GAAG,CAAC,SAAS,EAACJ,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACG,MAAM,CAAC;AAC9DR,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACK,IAAI,CAAC;AAC1DV,MAAM,CAACS,GAAG,CAAC,SAAS,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACM,MAAM,CAAC;AAC9DX,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACO,IAAI,CAAC;AAC1DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAACV,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACQ,MAAM,CAAC;AAAC,iCAEnDb,MAAM"}},"mtime":1677794861977},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\CuponeController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let exits_cupone = await _models.default.Cupone.findOne({\n        code: data.code\n      });\n      if (exits_cupone) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\n        });\n        return;\n      }\n      let cupone = await _models.default.Cupone.create(data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL CUPON REGISTRO CORRECTAMENTE\",\n        cupone: cupone\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      let exits_cupone = await _models.default.Cupone.findOne({\n        code: data.code,\n        _id: {\n          $ne: data._id\n        }\n      });\n      if (exits_cupone) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\n        });\n        return;\n      }\n      let cupone = await _models.default.Cupone.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let cuponeT = await _models.default.Cupone.findById({\n        _id: data._id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL CUPON SE ACTUALIZO CORRECTAMENTE\",\n        cupone: cuponeT\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Cupone.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL CUPON SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      let search = req.query.search;\n      let cupones = await _models.default.Cupone.find({\n        $or: [{\n          \"code\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        message: 200,\n        cupones: cupones\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  show: async (req, res) => {\n    try {\n      let cupone_id = req.query.cupone_id;\n      let cupon = await _models.default.Cupone.findOne({\n        _id: cupone_id\n      });\n      res.status(200).json({\n        message: 200,\n        cupon: cupon\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  config: async (req, res) => {\n    try {\n      let Products = await _models.default.Product.find({\n        state: 2\n      });\n      let Categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      res.status(200).json({\n        message: 200,\n        products: Products,\n        categories: Categories\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZWdpc3RlciIsInJlcSIsInJlcyIsImRhdGEiLCJib2R5IiwiZXhpdHNfY3Vwb25lIiwibW9kZWxzIiwiQ3Vwb25lIiwiZmluZE9uZSIsImNvZGUiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsIm1lc3NhZ2VfdGV4dCIsImN1cG9uZSIsImNyZWF0ZSIsImVycm9yIiwic2VuZCIsInVwZGF0ZSIsIl9pZCIsIiRuZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiY3Vwb25lVCIsImZpbmRCeUlkIiwiZGVsZXRlIiwicXVlcnkiLCJmaW5kQnlJZEFuZERlbGV0ZSIsImxpc3QiLCJzZWFyY2giLCJjdXBvbmVzIiwiZmluZCIsIiRvciIsIlJlZ0V4cCIsInNvcnQiLCJzaG93IiwiY3Vwb25lX2lkIiwiY3Vwb24iLCJjb25maWciLCJQcm9kdWN0cyIsIlByb2R1Y3QiLCJzdGF0ZSIsIkNhdGVnb3JpZXMiLCJDYXRlZ29yaWUiLCJwcm9kdWN0cyIsImNhdGVnb3JpZXMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIkN1cG9uZUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHJlZ2lzdGVyOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuXHJcbiAgICAgICAgICAgIGxldCBleGl0c19jdXBvbmUgPSBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmRPbmUoe2NvZGU6IGRhdGEuY29kZX0pO1xyXG5cclxuICAgICAgICAgICAgaWYoZXhpdHNfY3Vwb25lKXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOjQwMyxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgQ09ESUdPIERFTCBDVVBPTiBZQSBFWElTVEVcIlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBjdXBvbmUgPSBhd2FpdCBtb2RlbHMuQ3Vwb25lLmNyZWF0ZShkYXRhKTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBDVVBPTiBSRUdJU1RSTyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICBjdXBvbmU6Y3Vwb25lXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHVwZGF0ZTogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XHJcblxyXG4gICAgICAgICAgICBsZXQgZXhpdHNfY3Vwb25lID0gYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kT25lKHtjb2RlOiBkYXRhLmNvZGUsX2lkOiB7JG5lOiBkYXRhLl9pZH19KTtcclxuXHJcbiAgICAgICAgICAgIGlmKGV4aXRzX2N1cG9uZSl7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTo0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENPRElHTyBERUwgQ1VQT04gWUEgRVhJU1RFXCJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgY3Vwb25lID0gYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiBkYXRhLl9pZH0sZGF0YSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgY3Vwb25lVCA9IGF3YWl0IG1vZGVscy5DdXBvbmUuZmluZEJ5SWQoe19pZDogZGF0YS5faWR9KTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBDVVBPTiBTRSBBQ1RVQUxJWk8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICAgICAgY3Vwb25lOmN1cG9uZVQsXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGRlbGV0ZTogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBfaWQgPSByZXEucXVlcnkuX2lkO1xyXG5cclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kQnlJZEFuZERlbGV0ZSh7X2lkOiBfaWR9KTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBDVVBPTiBTRSBFTElNSU5PIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbGlzdDogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBzZWFyY2ggPSByZXEucXVlcnkuc2VhcmNoO1xyXG5cclxuICAgICAgICAgICAgbGV0IGN1cG9uZXMgPSBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmQoe1xyXG4gICAgICAgICAgICAgICAgJG9yOltcclxuICAgICAgICAgICAgICAgICAgICB7XCJjb2RlXCI6IG5ldyBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9KS5zb3J0KHsnY3JlYXRlZEF0JzogLTF9KTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcclxuICAgICAgICAgICAgICAgIGN1cG9uZXM6IGN1cG9uZXMsXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHNob3c6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgY3Vwb25lX2lkID0gcmVxLnF1ZXJ5LmN1cG9uZV9pZDtcclxuXHJcbiAgICAgICAgICAgIGxldCBjdXBvbiA9IGF3YWl0IG1vZGVscy5DdXBvbmUuZmluZE9uZSh7X2lkOiBjdXBvbmVfaWR9KTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcclxuICAgICAgICAgICAgICAgIGN1cG9uOiBjdXBvbixcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgY29uZmlnOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuXHJcbiAgICAgICAgICAgIGxldCBQcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoe3N0YXRlOiAyfSk7XHJcbiAgICAgICAgICAgIGxldCBDYXRlZ29yaWVzID0gYXdhaXQgbW9kZWxzLkNhdGVnb3JpZS5maW5kKHtzdGF0ZToxfSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICBwcm9kdWN0czogUHJvZHVjdHMsXHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzOiBDYXRlZ29yaWVzLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQThCO0FBQUEsaUNBRWY7RUFDWEEsUUFBUSxFQUFFLE9BQU1DLEdBQUcsRUFBQ0MsR0FBRyxLQUFLO0lBQ3hCLElBQUk7TUFDQSxJQUFJQyxJQUFJLEdBQUdGLEdBQUcsQ0FBQ0csSUFBSTtNQUVuQixJQUFJQyxZQUFZLEdBQUcsTUFBTUMsZUFBTSxDQUFDQyxNQUFNLENBQUNDLE9BQU8sQ0FBQztRQUFDQyxJQUFJLEVBQUVOLElBQUksQ0FBQ007TUFBSSxDQUFDLENBQUM7TUFFakUsSUFBR0osWUFBWSxFQUFDO1FBQ1pILEdBQUcsQ0FBQ1EsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7VUFDakJDLE9BQU8sRUFBQyxHQUFHO1VBQ1hDLFlBQVksRUFBRTtRQUNsQixDQUFDLENBQUM7UUFDRjtNQUNKO01BRUEsSUFBSUMsTUFBTSxHQUFHLE1BQU1SLGVBQU0sQ0FBQ0MsTUFBTSxDQUFDUSxNQUFNLENBQUNaLElBQUksQ0FBQztNQUU3Q0QsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFLEdBQUc7UUFDWkMsWUFBWSxFQUFFLGlDQUFpQztRQUMvQ0MsTUFBTSxFQUFDQTtNQUNYLENBQUMsQ0FBQztJQUVOLENBQUMsQ0FBQyxPQUFPRSxLQUFLLEVBQUU7TUFDWmQsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNPLElBQUksQ0FBQztRQUNqQkwsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ047RUFDSixDQUFDO0VBQ0RNLE1BQU0sRUFBRSxPQUFNakIsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDdEIsSUFBSTtNQUNBLElBQUlDLElB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","map":{"version":3,"names":["register","req","res","data","body","exits_cupone","models","Cupone","findOne","code","status","json","message","message_text","cupone","create","error","send","update","_id","$ne","findByIdAndUpdate","cuponeT","findById","delete","query","findByIdAndDelete","list","search","cupones","find","$or","RegExp","sort","show","cupone_id","cupon","config","Products","Product","state","Categories","Categorie","products","categories"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["CuponeController.js"],"sourcesContent":["import models from \"../models\"\r\n\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n\r\n            let exits_cupone = await models.Cupone.findOne({code: data.code});\r\n\r\n            if(exits_cupone){\r\n                res.status(200).json({\r\n                    message:403,\r\n                    message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\r\n                });\r\n                return;\r\n            }\r\n\r\n            let cupone = await models.Cupone.create(data);\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL CUPON REGISTRO CORRECTAMENTE\",\r\n                cupone:cupone\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    update: async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n\r\n            let exits_cupone = await models.Cupone.findOne({code: data.code,_id: {$ne: data._id}});\r\n\r\n            if(exits_cupone){\r\n                res.status(200).json({\r\n                    message:403,\r\n                    message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\r\n                });\r\n                return;\r\n            }\r\n\r\n            let cupone = await models.Cupone.findByIdAndUpdate({_id: data._id},data);\r\n            \r\n            let cuponeT = await models.Cupone.findById({_id: data._id});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL CUPON SE ACTUALIZO CORRECTAMENTE\",\r\n                cupone:cuponeT,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    delete: async(req,res) => {\r\n        try {\r\n            let _id = req.query._id;\r\n\r\n            await models.Cupone.findByIdAndDelete({_id: _id});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL CUPON SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    list: async(req,res) => {\r\n        try {\r\n            let search = req.query.search;\r\n\r\n            let cupones = await models.Cupone.find({\r\n                $or:[\r\n                    {\"code\": new RegExp(search, \"i\")},\r\n                ]\r\n            }).sort({'createdAt': -1});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                cupones: cupones,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    show: async(req,res) => {\r\n        try {\r\n            let cupone_id = req.query.cupone_id;\r\n\r\n            let cupon = await models.Cupone.findOne({_id: cupone_id});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                cupon: cupon,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    config: async(req,res) => {\r\n        try {\r\n\r\n            let Products = await models.Product.find({state: 2});\r\n            let Categories = await models.Categorie.find({state:1});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                products: Products,\r\n                categories: Categories,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":"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"}},"mtime":1677795764816},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\Discount.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _DiscountController = _interopRequireDefault(require(\"../controllers/DiscountController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", _auth.default.verifyAdmin, _DiscountController.default.register);\nrouter.put(\"/update\", _auth.default.verifyAdmin, _DiscountController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _DiscountController.default.list);\nrouter.get(\"/config\", _auth.default.verifyAdmin, _DiscountController.default.config);\nrouter.get(\"/show\", _auth.default.verifyAdmin, _DiscountController.default.show);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _DiscountController.default.delete);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlBZG1pbiIsImRpc2NvdW50Q29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImNvbmZpZyIsInNob3ciLCJkZWxldGUiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJEaXNjb3VudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tICdleHByZXNzLXByb21pc2Utcm91dGVyJ1xyXG5pbXBvcnQgZGlzY291bnRDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL0Rpc2NvdW50Q29udHJvbGxlcidcclxuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCdcclxuXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuXHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsYXV0aC52ZXJpZnlBZG1pbixkaXNjb3VudENvbnRyb2xsZXIucmVnaXN0ZXIpO1xyXG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLGF1dGgudmVyaWZ5QWRtaW4sZGlzY291bnRDb250cm9sbGVyLnVwZGF0ZSk7XHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4sZGlzY291bnRDb250cm9sbGVyLmxpc3QpO1xyXG5yb3V0ZXIuZ2V0KFwiL2NvbmZpZ1wiLGF1dGgudmVyaWZ5QWRtaW4sZGlzY291bnRDb250cm9sbGVyLmNvbmZpZyk7XHJcbnJvdXRlci5nZXQoXCIvc2hvd1wiLGF1dGgudmVyaWZ5QWRtaW4sZGlzY291bnRDb250cm9sbGVyLnNob3cpO1xyXG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZVwiLGF1dGgudmVyaWZ5QWRtaW4sZGlzY291bnRDb250cm9sbGVyLmRlbGV0ZSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFBc0M7QUFFdEMsTUFBTUEsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEdBQUU7QUFFeEJELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDJCQUFrQixDQUFDQyxRQUFRLENBQUM7QUFDckVOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLFNBQVMsRUFBQ0osYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDJCQUFrQixDQUFDRyxNQUFNLENBQUM7QUFDaEVSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDJCQUFrQixDQUFDSyxJQUFJLENBQUM7QUFDNURWLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLFNBQVMsRUFBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDJCQUFrQixDQUFDTSxNQUFNLENBQUM7QUFDaEVYLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDJCQUFrQixDQUFDTyxJQUFJLENBQUM7QUFDNURaLE1BQU0sQ0FBQ2EsTUFBTSxDQUFDLFNBQVMsRUFBQ1YsYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDJCQUFrQixDQUFDUSxNQUFNLENBQUM7QUFBQyxpQ0FFckRiLE1BQU0ifQ==","map":{"version":3,"names":["router","routerx","post","auth","verifyAdmin","discountController","register","put","update","get","list","config","show","delete"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["Discount.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport discountController from '../controllers/DiscountController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n\r\nrouter.post(\"/register\",auth.verifyAdmin,discountController.register);\r\nrouter.put(\"/update\",auth.verifyAdmin,discountController.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,discountController.list);\r\nrouter.get(\"/config\",auth.verifyAdmin,discountController.config);\r\nrouter.get(\"/show\",auth.verifyAdmin,discountController.show);\r\nrouter.delete(\"/delete\",auth.verifyAdmin,discountController.delete);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA;AACA;AACA;AAAsC;AAEtC,MAAMA,MAAM,GAAG,IAAAC,6BAAO,GAAE;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACC,QAAQ,CAAC;AACrEN,MAAM,CAACO,GAAG,CAAC,SAAS,EAACJ,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACG,MAAM,CAAC;AAChER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACK,IAAI,CAAC;AAC5DV,MAAM,CAACS,GAAG,CAAC,SAAS,EAACN,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACM,MAAM,CAAC;AAChEX,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACO,IAAI,CAAC;AAC5DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAACV,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACQ,MAAM,CAAC;AAAC,iCAErDb,MAAM"}},"mtime":1677809088332},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\DiscountController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      var filter_a = [];\n      var filter_b = [];\n      //product_s = [\"id\",\"id\"]\n      //categorie_s = [\"id\",\"id\"]\n      if (data.type_segment == 1) {\n        filter_a.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n      } else {\n        filter_a.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n      }\n      // 5 - 8 marzo -> televisor - laptop\n      // 4 - 7 de marzo ->  refrigeradora\n\n      // 5 - 8 marzo -> televisor - laptop\n      // 7 - 9 de marzo -> televisor - refrigeradora\n      filter_a.push({\n        type_campaign: data.type_campaign,\n        start_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      filter_b.push({\n        type_campaign: data.type_campaign,\n        end_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      let exits_start_date = await _models.default.Discount.find({\n        $and: filter_a\n      }); //[]\n\n      let exits_end_date = await _models.default.Discount.find({\n        $and: filter_b\n      });\n      if (exits_start_date.length > 0 || exits_end_date.length > 0) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR ELIMINAR ALGUNAS OPCIONES\"\n        });\n        return;\n      }\n      let discount = await _models.default.Discount.create(data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL DESCUENTO SE REGISTRO CORRECTAMENTE\",\n        discount: discount\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      var filter_a = [];\n      var filter_b = [];\n      //product_s = [\"id\",\"id\"]\n      //categorie_s = [\"id\",\"id\"]\n      if (data.type_segment == 1) {\n        filter_a.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n      } else {\n        filter_a.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n      }\n      // 5 - 8 marzo -> televisor - laptop\n      // 4 - 7 de marzo ->  refrigeradora\n\n      // 5 - 8 marzo -> televisor - laptop\n      // 7 - 9 de marzo -> televisor - refrigeradora\n      filter_a.push({\n        type_campaign: data.type_campaign,\n        _id: {\n          $ne: data._id\n        },\n        start_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      filter_b.push({\n        type_campaign: data.type_campaign,\n        _id: {\n          $ne: data._id\n        },\n        end_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      let exits_start_date = await _models.default.Discount.find({\n        $and: filter_a\n      });\n      let exits_end_date = await _models.default.Discount.find({\n        $and: filter_b\n      });\n      if (exits_start_date.length > 0 || exits_end_date.length > 0) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR ELIMINAR ALGUNAS OPCIONES\"\n        });\n        return;\n      }\n      let discount = await _models.default.Discount.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL DESCUENTO SE REGISTRO CORRECTAMENTE\",\n        discount: discount\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Discount.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL DESCUENTO SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      // let search = req.query.search;\n\n      let discounts = await _models.default.Discount.find().sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        message: 200,\n        discounts: discounts\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  show: async (req, res) => {\n    try {\n      let discount_id = req.query.discount_id;\n      let discount = await _models.default.Discount.findOne({\n        _id: discount_id\n      });\n      res.status(200).json({\n        message: 200,\n        discount: discount\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  config: async (req, res) => {\n    try {\n      let Products = await _models.default.Product.find({\n        state: 2\n      });\n      let Categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      res.status(200).json({\n        message: 200,\n        products: Products,\n        categories: Categories\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZWdpc3RlciIsInJlcSIsInJlcyIsImRhdGEiLCJib2R5IiwiZmlsdGVyX2EiLCJmaWx0ZXJfYiIsInR5cGVfc2VnbWVudCIsInB1c2giLCIkZWxlbU1hdGNoIiwiX2lkIiwiJGluIiwicHJvZHVjdF9zIiwiY2F0ZWdvcmllX3MiLCJ0eXBlX2NhbXBhaWduIiwic3RhcnRfZGF0ZV9udW0iLCIkZ3RlIiwiJGx0ZSIsImVuZF9kYXRlX251bSIsImV4aXRzX3N0YXJ0X2RhdGUiLCJtb2RlbHMiLCJEaXNjb3VudCIsImZpbmQiLCIkYW5kIiwiZXhpdHNfZW5kX2RhdGUiLCJsZW5ndGgiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsIm1lc3NhZ2VfdGV4dCIsImRpc2NvdW50IiwiY3JlYXRlIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwic2VuZCIsInVwZGF0ZSIsIiRuZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiZGVsZXRlIiwicXVlcnkiLCJmaW5kQnlJZEFuZERlbGV0ZSIsImxpc3QiLCJkaXNjb3VudHMiLCJzb3J0Iiwic2hvdyIsImRpc2NvdW50X2lkIiwiZmluZE9uZSIsImNvbmZpZyIsIlByb2R1Y3RzIiwiUHJvZHVjdCIsInN0YXRlIiwiQ2F0ZWdvcmllcyIsIkNhdGVnb3JpZSIsInByb2R1Y3RzIiwiY2F0ZWdvcmllcyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiRGlzY291bnRDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSBcIi4uL21vZGVsc1wiXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICByZWdpc3RlcjogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XHJcbiAgICAgICAgICAgIHZhciBmaWx0ZXJfYSA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgZmlsdGVyX2IgPSBbXTtcclxuICAgICAgICAgICAgLy9wcm9kdWN0X3MgPSBbXCJpZFwiLFwiaWRcIl1cclxuICAgICAgICAgICAgLy9jYXRlZ29yaWVfcyA9IFtcImlkXCIsXCJpZFwiXVxyXG4gICAgICAgICAgICBpZihkYXRhLnR5cGVfc2VnbWVudCA9PSAxKXtcclxuICAgICAgICAgICAgICAgIGZpbHRlcl9hLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgIFwicHJvZHVjdHNcIjogeyRlbGVtTWF0Y2g6IHtfaWQ6IHskaW46IGRhdGEucHJvZHVjdF9zfX19XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGZpbHRlcl9iLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIFwicHJvZHVjdHNcIjogeyRlbGVtTWF0Y2g6IHtfaWQ6IHskaW46IGRhdGEucHJvZHVjdF9zfX19XHJcbiAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJfYS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBcImNhdGVnb3JpZXNcIjogeyRlbGVtTWF0Y2g6IHtfaWQ6IHskaW46IGRhdGEuY2F0ZWdvcmllX3N9fX1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyX2IucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJjYXRlZ29yaWVzXCI6IHskZWxlbU1hdGNoOiB7X2lkOiB7JGluOiBkYXRhLmNhdGVnb3JpZV9zfX19XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyA1IC0gOCBtYXJ6byAtPiB0ZWxldmlzb3IgLSBsYXB0b3BcclxuICAgICAgICAgICAgLy8gNCAtIDcgZGUgbWFyem8gLT4gIHJlZnJpZ2VyYWRvcmFcclxuXHJcbiAgICAgICAgICAgIC8vIDUgLSA4IG1hcnpvIC0+IHRlbGV2aXNvciAtIGxhcHRvcFxyXG4gICAgICAgICAgICAvLyA3IC0gOSBkZSBtYXJ6byAtPiB0ZWxldmlzb3IgLSByZWZyaWdlcmFkb3JhXHJcbiAgICAgICAgICAgIGZpbHRlcl9hLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjogZGF0YS50eXBlX2NhbXBhaWduLFxyXG4gICAgICAgICAgICAgICAgc3RhcnRfZGF0ZV9udW06IHskZ3RlOiBkYXRhLnN0YXJ0X2RhdGVfbnVtLCRsdGU6IGRhdGEuZW5kX2RhdGVfbnVtfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBmaWx0ZXJfYi5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHR5cGVfY2FtcGFpZ246IGRhdGEudHlwZV9jYW1wYWlnbixcclxuICAgICAgICAgICAgICAgIGVuZF9kYXRlX251bTogeyRndGU6IGRhdGEuc3RhcnRfZGF0ZV9udW0sJGx0ZTogZGF0YS5lbmRfZGF0ZV9udW19XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGxldCBleGl0c19zdGFydF9kYXRlID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmQoeyRhbmQ6IGZpbHRlcl9hfSk7Ly9bXVxyXG5cclxuICAgICAgICAgICAgbGV0IGV4aXRzX2VuZF9kYXRlID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmQoeyRhbmQ6IGZpbHRlcl9ifSk7XHJcblxyXG4gICAgICAgICAgICBpZihleGl0c19zdGFydF9kYXRlLmxlbmd0aCA+IDAgfHwgZXhpdHNfZW5kX2RhdGUubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTo0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIERFU0NVRU5UTyBOTyBTRSBQVUVERSBQUk9HUkFNQVIgRUxJTUlOQVIgQUxHVU5BUyBPUENJT05FU1wiXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGRpc2NvdW50ID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmNyZWF0ZShkYXRhKTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBERVNDVUVOVE8gU0UgUkVHSVNUUk8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICAgICAgZGlzY291bnQ6ZGlzY291bnRcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB1cGRhdGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xyXG4gICAgICAgICAgICB2YXIgZmlsdGVyX2EgPSBbXTtcclxuICAgICAgICAgICAgdmFyIGZpbHRlcl9iID0gW107XHJcbiAgICAgICAgICAgIC8vcHJvZHVjdF9zID0gW1wiaWRcIixcImlkXCJdXHJcbiAgICAgICAgICAgIC8vY2F0ZWdvcmllX3MgPSBbXCJpZFwiLFwiaWRcIl1cclxuICAgICAgICAgICAgaWYoZGF0YS50eXBlX3NlZ21lbnQgPT0gMSl7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJfYS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICBcInByb2R1Y3RzXCI6IHskZWxlbU1hdGNoOiB7X2lkOiB7JGluOiBkYXRhLnByb2R1Y3Rfc319fVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJfYi5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBcInByb2R1Y3RzXCI6IHskZWxlbU1hdGNoOiB7X2lkOiB7JGluOiBkYXRhLnByb2R1Y3Rfc319fVxyXG4gICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyX2EucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJjYXRlZ29yaWVzXCI6IHskZWxlbU1hdGNoOiB7X2lkOiB7JGluOiBkYXRhLmNhdGVnb3JpZV9zfX19XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGZpbHRlcl9iLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIFwiY2F0ZWdvcmllc1wiOiB7JGVsZW1NYXRjaDoge19pZDogeyRpbjogZGF0YS5jYXRlZ29yaWVfc319fVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gNSAtIDggbWFyem8gLT4gdGVsZXZpc29yIC0gbGFwdG9wXHJcbiAgICAgICAgICAgIC8vIDQgLSA3IGRlIG1hcnpvIC0+ICByZWZyaWdlcmFkb3JhXHJcblxyXG4gICAgICAgICAgICAvLyA1IC0gOCBtYXJ6byAtPiB0ZWxldmlzb3IgLSBsYXB0b3BcclxuICAgICAgICAgICAgLy8gNyAtIDkgZGUgbWFyem8gLT4gdGVsZXZpc29yIC0gcmVmcmlnZXJhZG9yYVxyXG4gICAgICAgICAgICBmaWx0ZXJfYS5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHR5cGVfY2FtcGFpZ246IGRhdGEudHlwZV9jYW1wYWlnbixcclxuICAgICAgICAgICAgICAgIF9pZDogeyRuZTogZGF0YS5faWR9LFxyXG4gICAgICAgICAgICAgICAgc3RhcnRfZGF0ZV9udW06IHskZ3RlOiBkYXRhLnN0YXJ0X2RhdGVfbnVtLCRsdGU6IGRhdGEuZW5kX2RhdGVfbnVtfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBmaWx0ZXJfYi5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHR5cGVfY2FtcGFpZ246IGRhdGEudHlwZV9jYW1wYWlnbixcclxuICAgICAgICAgICAgICAgIF9pZDogeyRuZTogZGF0YS5faWR9LFxyXG4gICAgICAgICAgICAgICAgZW5kX2RhdGVfbnVtOiB7JGd0ZTogZGF0YS5zdGFydF9kYXRlX251bSwkbHRlOiBkYXRhLmVuZF9kYXRlX251bX1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgbGV0IGV4aXRzX3N0YXJ0X2RhdGUgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZCh7JGFuZDogZmlsdGVyX2F9KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBleGl0c19lbmRfZGF0ZSA9IGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kKHskYW5kOiBmaWx0ZXJfYn0pO1xyXG5cclxuICAgICAgICAgICAgaWYoZXhpdHNfc3RhcnRfZGF0ZS5sZW5ndGggPiAwIHx8IGV4aXRzX2VuZF9kYXRlLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6NDAzLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBERVNDVUVOVE8gTk8gU0UgUFVFREUgUFJPR1JBTUFSIEVMSU1JTkFSIEFMR1VOQVMgT1BDSU9ORVNcIlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBkaXNjb3VudCA9IGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiBkYXRhLl9pZH0sZGF0YSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgREVTQ1VFTlRPIFNFIFJFR0lTVFJPIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgICAgIGRpc2NvdW50OmRpc2NvdW50XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGRlbGV0ZTogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBfaWQgPSByZXEucXVlcnkuX2lkO1xyXG5cclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IF9pZH0pO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIERFU0NVRU5UTyBTRSBFTElNSU5PIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbGlzdDogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIGxldCBzZWFyY2ggPSByZXEucXVlcnkuc2VhcmNoO1xyXG5cclxuICAgICAgICAgICAgbGV0IGRpc2NvdW50cyA9IGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kKCkuc29ydCh7J2NyZWF0ZWRBdCc6IC0xfSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICBkaXNjb3VudHM6IGRpc2NvdW50cyxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2hvdzogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkaXNjb3VudF9pZCA9IHJlcS5xdWVyeS5kaXNjb3VudF9pZDtcclxuXHJcbiAgICAgICAgICAgIGxldCBkaXNjb3VudCA9IGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kT25lKHtfaWQ6IGRpc2NvdW50X2lkfSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICBkaXNjb3VudDogZGlzY291bnQsXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGNvbmZpZzogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcblxyXG4gICAgICAgICAgICBsZXQgUHJvZHVjdHMgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kKHtzdGF0ZTogMn0pO1xyXG4gICAgICAgICAgICBsZXQgQ2F0ZWdvcmllcyA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZCh7c3RhdGU6MX0pO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgcHJvZHVjdHM6IFByb2R1Y3RzLFxyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllczogQ2F0ZWdvcmllcyxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUE4QjtBQUFBLGlDQUVmO0VBQ1hBLFFBQVEsRUFBRSxPQUFNQyxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUN4QixJQUFJO01BQ0EsSUFBSUMsSUFBSSxHQUFHRixHQUFHLENBQUNHLElBQUk7TUFDbkIsSUFBSUMsUUFBUSxHQUFHLEVBQUU7TUFDakIsSUFBSUMsUUFBUSxHQUFHLEVBQUU7TUFDakI7TUFDQTtNQUNBLElBQUdILElBQUksQ0FBQ0ksWUFBWSxJQUFJLENBQUMsRUFBQztRQUN0QkYsUUFBUSxDQUFDRyxJQUFJ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","map":{"version":3,"names":["register","req","res","data","body","filter_a","filter_b","type_segment","push","$elemMatch","_id","$in","product_s","categorie_s","type_campaign","start_date_num","$gte","$lte","end_date_num","exits_start_date","models","Discount","find","$and","exits_end_date","length","status","json","message","message_text","discount","create","error","console","log","send","update","$ne","findByIdAndUpdate","delete","query","findByIdAndDelete","list","discounts","sort","show","discount_id","findOne","config","Products","Product","state","Categories","Categorie","products","categories"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["DiscountController.js"],"sourcesContent":["import models from \"../models\"\r\n\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            var filter_a = [];\r\n            var filter_b = [];\r\n            //product_s = [\"id\",\"id\"]\r\n            //categorie_s = [\"id\",\"id\"]\r\n            if(data.type_segment == 1){\r\n                filter_a.push({\r\n                 \"products\": {$elemMatch: {_id: {$in: data.product_s}}}\r\n                });\r\n                filter_b.push({\r\n                    \"products\": {$elemMatch: {_id: {$in: data.product_s}}}\r\n                   });\r\n            }else{\r\n                filter_a.push({\r\n                    \"categories\": {$elemMatch: {_id: {$in: data.categorie_s}}}\r\n                });\r\n                filter_b.push({\r\n                    \"categories\": {$elemMatch: {_id: {$in: data.categorie_s}}}\r\n                });\r\n            }\r\n            // 5 - 8 marzo -> televisor - laptop\r\n            // 4 - 7 de marzo ->  refrigeradora\r\n\r\n            // 5 - 8 marzo -> televisor - laptop\r\n            // 7 - 9 de marzo -> televisor - refrigeradora\r\n            filter_a.push({\r\n                type_campaign: data.type_campaign,\r\n                start_date_num: {$gte: data.start_date_num,$lte: data.end_date_num}\r\n            })\r\n            filter_b.push({\r\n                type_campaign: data.type_campaign,\r\n                end_date_num: {$gte: data.start_date_num,$lte: data.end_date_num}\r\n            })\r\n            let exits_start_date = await models.Discount.find({$and: filter_a});//[]\r\n\r\n            let exits_end_date = await models.Discount.find({$and: filter_b});\r\n\r\n            if(exits_start_date.length > 0 || exits_end_date.length > 0){\r\n                res.status(200).json({\r\n                    message:403,\r\n                    message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR ELIMINAR ALGUNAS OPCIONES\"\r\n                });\r\n                return;\r\n            }\r\n\r\n            let discount = await models.Discount.create(data);\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL DESCUENTO SE REGISTRO CORRECTAMENTE\",\r\n                discount:discount\r\n            });\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    update: async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            var filter_a = [];\r\n            var filter_b = [];\r\n            //product_s = [\"id\",\"id\"]\r\n            //categorie_s = [\"id\",\"id\"]\r\n            if(data.type_segment == 1){\r\n                filter_a.push({\r\n                 \"products\": {$elemMatch: {_id: {$in: data.product_s}}}\r\n                });\r\n                filter_b.push({\r\n                    \"products\": {$elemMatch: {_id: {$in: data.product_s}}}\r\n                   });\r\n            }else{\r\n                filter_a.push({\r\n                    \"categories\": {$elemMatch: {_id: {$in: data.categorie_s}}}\r\n                });\r\n                filter_b.push({\r\n                    \"categories\": {$elemMatch: {_id: {$in: data.categorie_s}}}\r\n                });\r\n            }\r\n            // 5 - 8 marzo -> televisor - laptop\r\n            // 4 - 7 de marzo ->  refrigeradora\r\n\r\n            // 5 - 8 marzo -> televisor - laptop\r\n            // 7 - 9 de marzo -> televisor - refrigeradora\r\n            filter_a.push({\r\n                type_campaign: data.type_campaign,\r\n                _id: {$ne: data._id},\r\n                start_date_num: {$gte: data.start_date_num,$lte: data.end_date_num}\r\n            })\r\n            filter_b.push({\r\n                type_campaign: data.type_campaign,\r\n                _id: {$ne: data._id},\r\n                end_date_num: {$gte: data.start_date_num,$lte: data.end_date_num}\r\n            })\r\n            let exits_start_date = await models.Discount.find({$and: filter_a});\r\n\r\n            let exits_end_date = await models.Discount.find({$and: filter_b});\r\n\r\n            if(exits_start_date.length > 0 || exits_end_date.length > 0){\r\n                res.status(200).json({\r\n                    message:403,\r\n                    message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR ELIMINAR ALGUNAS OPCIONES\"\r\n                });\r\n                return;\r\n            }\r\n\r\n            let discount = await models.Discount.findByIdAndUpdate({_id: data._id},data);\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL DESCUENTO SE REGISTRO CORRECTAMENTE\",\r\n                discount:discount\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    delete: async(req,res) => {\r\n        try {\r\n            let _id = req.query._id;\r\n\r\n            await models.Discount.findByIdAndDelete({_id: _id});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL DESCUENTO SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    list: async(req,res) => {\r\n        try {\r\n            // let search = req.query.search;\r\n\r\n            let discounts = await models.Discount.find().sort({'createdAt': -1});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                discounts: discounts,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    show: async(req,res) => {\r\n        try {\r\n            let discount_id = req.query.discount_id;\r\n\r\n            let discount = await models.Discount.findOne({_id: discount_id});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                discount: discount,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    config: async(req,res) => {\r\n        try {\r\n\r\n            let Products = await models.Product.find({state: 2});\r\n            let Categories = await models.Categorie.find({state:1});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                products: Products,\r\n                categories: Categories,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":"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"}},"mtime":1677887742763},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\Home.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _HomeController = _interopRequireDefault(require(\"../controllers/HomeController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.get(\"/list\", _HomeController.default.list);\nrouter.get(\"/landing-product/:slug\", _HomeController.default.show_landing_product);\nrouter.post(\"/search_product\", _HomeController.default.search_product);\nrouter.get(\"/config_initial\", _HomeController.default.config_initial);\nrouter.post(\"/filter_products\", _HomeController.default.filter_products);\nrouter.post(\"/profile_client\", _auth.default.verifyEcommerce, _HomeController.default.profile_client);\nrouter.post(\"/update_client\", _auth.default.verifyEcommerce, _HomeController.default.update_client);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJyb3V0ZXJ4IiwiZ2V0IiwiaG9tZUNvbnRyb2xsZXIiLCJsaXN0Iiwic2hvd19sYW5kaW5nX3Byb2R1Y3QiLCJwb3N0Iiwic2VhcmNoX3Byb2R1Y3QiLCJjb25maWdfaW5pdGlhbCIsImZpbHRlcl9wcm9kdWN0cyIsImF1dGgiLCJ2ZXJpZnlFY29tbWVyY2UiLCJwcm9maWxlX2NsaWVudCIsInVwZGF0ZV9jbGllbnQiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJIb21lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gJ2V4cHJlc3MtcHJvbWlzZS1yb3V0ZXInXHJcbmltcG9ydCBob21lQ29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9Ib21lQ29udHJvbGxlcidcclxuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCdcclxuXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuXHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGhvbWVDb250cm9sbGVyLmxpc3QpO1xyXG5yb3V0ZXIuZ2V0KFwiL2xhbmRpbmctcHJvZHVjdC86c2x1Z1wiLGhvbWVDb250cm9sbGVyLnNob3dfbGFuZGluZ19wcm9kdWN0KTtcclxucm91dGVyLnBvc3QoXCIvc2VhcmNoX3Byb2R1Y3RcIixob21lQ29udHJvbGxlci5zZWFyY2hfcHJvZHVjdCk7XHJcbnJvdXRlci5nZXQoXCIvY29uZmlnX2luaXRpYWxcIixob21lQ29udHJvbGxlci5jb25maWdfaW5pdGlhbCk7XHJcbnJvdXRlci5wb3N0KFwiL2ZpbHRlcl9wcm9kdWN0c1wiLGhvbWVDb250cm9sbGVyLmZpbHRlcl9wcm9kdWN0cyk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9wcm9maWxlX2NsaWVudFwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLGhvbWVDb250cm9sbGVyLnByb2ZpbGVfY2xpZW50KTtcclxucm91dGVyLnBvc3QoXCIvdXBkYXRlX2NsaWVudFwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLGhvbWVDb250cm9sbGVyLnVwZGF0ZV9jbGllbnQpO1xyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFBc0M7QUFFdEMsTUFBTUEsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEdBQUU7QUFFeEJELE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLE9BQU8sRUFBQ0MsdUJBQWMsQ0FBQ0MsSUFBSSxDQUFDO0FBQ3ZDSixNQUFNLENBQUNFLEdBQUcsQ0FBQyx3QkFBd0IsRUFBQ0MsdUJBQWMsQ0FBQ0Usb0JBQW9CLENBQUM7QUFDeEVMLE1BQU0sQ0FBQ00sSUFBSSxDQUFDLGlCQUFpQixFQUFDSCx1QkFBYyxDQUFDSSxjQUFjLENBQUM7QUFDNURQLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLGlCQUFpQixFQUFDQyx1QkFBYyxDQUFDSyxjQUFjLENBQUM7QUFDM0RSLE1BQU0sQ0FBQ00sSUFBSSxDQUFDLGtCQUFrQixFQUFDSCx1QkFBYyxDQUFDTSxlQUFlLENBQUM7QUFFOURULE1BQU0sQ0FBQ00sSUFBSSxDQUFDLGlCQUFpQixFQUFDSSxhQUFJLENBQUNDLGVBQWUsRUFBQ1IsdUJBQWMsQ0FBQ1MsY0FBYyxDQUFDO0FBQ2pGWixNQUFNLENBQUNNLElBQUksQ0FBQyxnQkFBZ0IsRUFBQ0ksYUFBSSxDQUFDQyxlQUFlLEVBQUNSLHVCQUFjLENBQUNVLGFBQWEsQ0FBQztBQUFDLGlDQUNqRWIsTUFBTSJ9","map":{"version":3,"names":["router","routerx","get","homeController","list","show_landing_product","post","search_product","config_initial","filter_products","auth","verifyEcommerce","profile_client","update_client"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["Home.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport homeController from '../controllers/HomeController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n\r\nrouter.get(\"/list\",homeController.list);\r\nrouter.get(\"/landing-product/:slug\",homeController.show_landing_product);\r\nrouter.post(\"/search_product\",homeController.search_product);\r\nrouter.get(\"/config_initial\",homeController.config_initial);\r\nrouter.post(\"/filter_products\",homeController.filter_products);\r\n\r\nrouter.post(\"/profile_client\",auth.verifyEcommerce,homeController.profile_client);\r\nrouter.post(\"/update_client\",auth.verifyEcommerce,homeController.update_client);\r\nexport default router;"],"mappings":";;;;;;AAAA;AACA;AACA;AAAsC;AAEtC,MAAMA,MAAM,GAAG,IAAAC,6BAAO,GAAE;AAExBD,MAAM,CAACE,GAAG,CAAC,OAAO,EAACC,uBAAc,CAACC,IAAI,CAAC;AACvCJ,MAAM,CAACE,GAAG,CAAC,wBAAwB,EAACC,uBAAc,CAACE,oBAAoB,CAAC;AACxEL,MAAM,CAACM,IAAI,CAAC,iBAAiB,EAACH,uBAAc,CAACI,cAAc,CAAC;AAC5DP,MAAM,CAACE,GAAG,CAAC,iBAAiB,EAACC,uBAAc,CAACK,cAAc,CAAC;AAC3DR,MAAM,CAACM,IAAI,CAAC,kBAAkB,EAACH,uBAAc,CAACM,eAAe,CAAC;AAE9DT,MAAM,CAACM,IAAI,CAAC,iBAAiB,EAACI,aAAI,CAACC,eAAe,EAACR,uBAAc,CAACS,cAAc,CAAC;AACjFZ,MAAM,CAACM,IAAI,CAAC,gBAAgB,EAACI,aAAI,CAACC,eAAe,EAACR,uBAAc,CAACU,aAAa,CAAC;AAAC,iCACjEb,MAAM"}},"mtime":1680991869393},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\HomeController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  list: async (req, res) => {\n    try {\n      var TIME_NOW = req.query.TIME_NOW;\n      let Sliders = await _models.default.Slider.find({\n        state: 1\n      });\n      Sliders = Sliders.map(slider => {\n        return _resources.default.Slider.slider_list(slider);\n      });\n      let Categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      Categories = Categories.map(categorie => {\n        return _resources.default.Categorie.categorie_list(categorie);\n      });\n      let CampaingDiscount = await _models.default.Discount.findOne({\n        type_campaign: 1,\n        start_date_num: {\n          $lte: TIME_NOW\n        },\n        // start_date_num >= TIME_NOW\n        end_date_num: {\n          $gte: TIME_NOW\n        } // >=\n      });\n      // console.log(CampaingDiscount);\n      let BestProducts = await _models.default.Product.find({\n        state: 2\n      }).sort({\n        \"createdAt\": -1\n      });\n      var ObjectBestProducts = [];\n      for (const Product of BestProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        let DISCOUNT_EXITS = null;\n        if (CampaingDiscount) {\n          if (CampaingDiscount.type_segment == 1) {\n            //por producto\n            let products_a = [];\n            CampaingDiscount.products.forEach(item => {\n              products_a.push(item._id);\n            });\n            if (products_a.includes(Product._id + \"\")) {\n              DISCOUNT_EXITS = CampaingDiscount;\n            }\n          } else {\n            //por categoria\n            let categories_a = [];\n            CampaingDiscount.categories.forEach(item => {\n              categories_a.push(item._id);\n            });\n            if (categories_a.includes(Product.categorie + \"\")) {\n              DISCOUNT_EXITS = CampaingDiscount;\n            }\n          }\n        }\n        ObjectBestProducts.push(_resources.default.Product.product_list(Product, VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n      }\n      let OursProducts = await _models.default.Product.find({\n        state: 2\n      }).sort({\n        \"createdAt\": 1\n      });\n      var ObjectOursProducts = [];\n      for (const Product of OursProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        let DISCOUNT_EXITS = null;\n        if (CampaingDiscount) {\n          if (CampaingDiscount.type_segment == 1) {\n            //por producto\n            let products_a = [];\n            CampaingDiscount.products.forEach(item => {\n              products_a.push(item._id);\n            });\n            if (products_a.includes(Product._id + \"\")) {\n              DISCOUNT_EXITS = CampaingDiscount;\n            }\n          } else {\n            //por categoria\n            let categories_a = [];\n            CampaingDiscount.categories.forEach(item => {\n              categories_a.push(item._id);\n            });\n            if (categories_a.includes(Product.categorie + \"\")) {\n              DISCOUNT_EXITS = CampaingDiscount;\n            }\n          }\n        }\n        ObjectOursProducts.push(_resources.default.Product.product_list(Product, VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n      }\n      // OursProducts = OursProducts.map(async (product) => {\n      //     let VARIEDADES = await models.Variedad.find({product: product._id});\n      //     return resource.Product.product_list(product,VARIEDADES);\n      // })\n\n      let FlashSale = await _models.default.Discount.findOne({\n        type_campaign: 2,\n        start_date_num: {\n          $lte: TIME_NOW\n        },\n        // start_date_num >= TIME_NOW\n        end_date_num: {\n          $gte: TIME_NOW\n        } // >=\n      });\n\n      let ProductList = [];\n      if (FlashSale) {\n        for (const product of FlashSale.products) {\n          var ObjecT = await _models.default.Product.findById({\n            _id: product._id\n          });\n          let VARIEDADES = await _models.default.Variedad.find({\n            product: product._id\n          });\n          ProductList.push(_resources.default.Product.product_list(ObjecT, VARIEDADES));\n        }\n      }\n      // console.log(FlashSale);\n      res.status(200).json({\n        sliders: Sliders,\n        categories: Categories,\n        best_products: ObjectBestProducts,\n        our_products: ObjectOursProducts,\n        FlashSale: FlashSale,\n        campaign_products: ProductList\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  show_landing_product: async (req, res) => {\n    try {\n      let SLUG = req.params.slug;\n      let DISCOUNT_ID = req.query._id;\n      console.log(DISCOUNT_ID);\n      let Product = await _models.default.Product.findOne({\n        slug: SLUG,\n        state: 2\n      });\n      let VARIEDADES = await _models.default.Variedad.find({\n        product: Product._id\n      });\n      let REVIEWS = await _models.default.Review.find({\n        product: Product._id\n      }).populate(\"user\");\n      let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n      let COUNT_REVIEW = REVIEWS.length;\n      let RelatedProducts = await _models.default.Product.find({\n        categorie: Product.categorie,\n        state: 2\n      });\n      var ObjectRelatedProducts = [];\n      for (const Product of RelatedProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        ObjectRelatedProducts.push(_resources.default.Product.product_list(Product, VARIEDADES));\n      }\n      let SALE_FLASH = null;\n      if (DISCOUNT_ID) {\n        SALE_FLASH = await _models.default.Discount.findById({\n          _id: DISCOUNT_ID\n        });\n      }\n      res.status(200).json({\n        product: _resources.default.Product.product_list(Product, VARIEDADES),\n        related_products: ObjectRelatedProducts,\n        SALE_FLASH: SALE_FLASH,\n        REVIEWS: REVIEWS,\n        AVG_REVIEW: AVG_REVIEW,\n        COUNT_REVIEW: COUNT_REVIEW\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  search_product: async (req, res) => {\n    try {\n      var TIME_NOW = req.query.TIME_NOW;\n      let search_product = req.body.search_product;\n      let OursProducts = await _models.default.Product.find({\n        state: 2,\n        title: new RegExp(search_product, 'i')\n      }).sort({\n        \"createdAt\": 1\n      });\n      let CampaingDiscount = await _models.default.Discount.findOne({\n        type_campaign: 1,\n        start_date_num: {\n          $lte: TIME_NOW\n        },\n        // start_date_num >= TIME_NOW\n        end_date_num: {\n          $gte: TIME_NOW\n        } // >=\n      });\n\n      var Products = [];\n      for (const Product of OursProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        let DISCOUNT_EXITS = null;\n        if (CampaingDiscount) {\n          if (CampaingDiscount.type_segment == 1) {\n            //por producto\n            let products_a = [];\n            CampaingDiscount.products.forEach(item => {\n              products_a.push(item._id);\n            });\n            if (products_a.includes(Product._id + \"\")) {\n              DISCOUNT_EXITS = CampaingDiscount;\n            }\n          } else {\n            //por categoria\n            let categories_a = [];\n            CampaingDiscount.categories.forEach(item => {\n              categories_a.push(item._id);\n            });\n            if (categories_a.includes(Product.categorie + \"\")) {\n              DISCOUNT_EXITS = CampaingDiscount;\n            }\n          }\n        }\n        Products.push(_resources.default.Product.product_list(Product, VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n      }\n      res.status(200).json({\n        products: Products\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"Ocurrio un error\"\n      });\n    }\n  },\n  profile_client: async (req, res) => {\n    try {\n      let user_id = req.body.user_id;\n      let Orders = await _models.default.Sale.find({\n        user: user_id\n      });\n      let sale_orders = [];\n      for (const order of Orders) {\n        let detail_orders = await _models.default.SaleDetail.find({\n          sale: order._id\n        }).populate({\n          path: \"product\",\n          populate: {\n            path: \"categorie\"\n          }\n        }).populate(\"variedad\");\n        let sale_address = await _models.default.SaleAddress.find({\n          sale: order._id\n        });\n        let collection_detail_orders = [];\n        for (const detail_order of detail_orders) {\n          let reviewS = await _models.default.Review.findOne({\n            sale_detail: detail_order._id\n          });\n          collection_detail_orders.push({\n            _id: detail_order._id,\n            product: {\n              _id: detail_order.product._id,\n              title: detail_order.product.title,\n              sku: detail_order.product.sku,\n              slug: detail_order.product.slug,\n              imagen: process.env.URL_BACKEND + '/api/products/uploads/product/' + detail_order.product.portada,\n              //*\n              categorie: detail_order.product.categorie,\n              price_pesos: detail_order.product.price_pesos,\n              price_usd: detail_order.product.price_usd\n            },\n            type_discount: detail_order.type_discount,\n            discount: detail_order.discount,\n            cantidad: detail_order.cantidad,\n            variedad: detail_order.variedad,\n            code_cupon: detail_order.code_cupon,\n            code_discount: detail_order.code_discount,\n            price_unitario: detail_order.price_unitario,\n            subtotal: detail_order.subtotal,\n            total: detail_order.total,\n            review: reviewS\n          });\n        }\n        sale_orders.push({\n          sale: order,\n          sale_details: collection_detail_orders,\n          sale_address: sale_address\n        });\n      }\n      let ADDRESS_CLIENT = await _models.default.AddressClient.find({\n        user: user_id\n      }).sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        sale_orders: sale_orders,\n        address_client: ADDRESS_CLIENT\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"Ocurrio un error\"\n      });\n    }\n  },\n  update_client: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('\\\\');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let User = await _models.default.User.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"SE GUARDO SU INFORMACIÓN CORRECTAMENTE\",\n        user: {\n          name: User.name,\n          surname: User.surname,\n          email: User.email,\n          _id: User._id\n        }\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"Ocurrio un error\"\n      });\n    }\n  },\n  config_initial: async (req, res) => {\n    try {\n      let categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      let variedades = await _models.default.Variedad.find({});\n      res.status(200).json({\n        categories: categories,\n        variedades: variedades\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"Ocurrio un error\"\n      });\n    }\n  },\n  filter_products: async (req, res) => {\n    try {\n      var TIME_NOW = req.query.TIME_NOW;\n      let search_product = req.body.search_product;\n      let categories_selecteds = req.body.categories_selecteds;\n      let is_discount = req.body.is_discount;\n      let variedad_selected = req.body.variedad_selected;\n      let price_min = req.body.price_min;\n      let price_max = req.body.price_max;\n      let filter = [{\n        state: 2\n      }];\n      var categories_s = [];\n      var products_s = [];\n      // {state: 2,title: new RegExp(search_product,'i')}\n      if (categories_selecteds.length > 0) {\n        categories_selecteds.forEach(categorie => {\n          categories_s.push(categorie);\n        });\n        // filter.push({\n        //     categorie: {$in: categories_selecteds},\n        // })\n      }\n\n      let CampaingDiscount = await _models.default.Discount.findOne({\n        type_campaign: 1,\n        start_date_num: {\n          $lte: TIME_NOW\n        },\n        // start_date_num >= TIME_NOW\n        end_date_num: {\n          $gte: TIME_NOW\n        } // >=\n      });\n\n      if (is_discount == 2) {\n        if (CampaingDiscount.type_segment == 1) {\n          CampaingDiscount.products.forEach(item => {\n            products_s.push(item._id);\n          });\n        } else {\n          CampaingDiscount.categories.forEach(item => {\n            categories_s.push(item._id);\n          });\n        }\n      }\n      if (variedad_selected) {\n        let VAR = await _models.default.Variedad.findById({\n          _id: variedad_selected._id\n        });\n        if (VAR) {\n          products_s.push(VAR.product);\n        }\n      }\n      if (categories_s.length > 0) {\n        filter.push({\n          categorie: {\n            $in: categories_s\n          }\n        });\n      }\n      if (products_s.length > 0) {\n        filter.push({\n          _id: {\n            $in: products_s\n          }\n        });\n      }\n      if (price_min > 0 && price_max > 0) {\n        filter.push({\n          price_usd: {\n            $gte: price_min,\n            $lte: price_max\n          }\n        });\n      }\n      let OursProducts = await _models.default.Product.find({\n        $and: filter\n      }).sort({\n        \"createdAt\": 1\n      });\n      var Products = [];\n      for (const Product of OursProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        let DISCOUNT_EXITS = null;\n        if (CampaingDiscount) {\n          if (CampaingDiscount.type_segment == 1) {\n            //por producto\n            let products_a = [];\n            CampaingDiscount.products.forEach(item => {\n              products_a.push(item._id);\n            });\n            if (products_a.includes(Product._id + \"\")) {\n              DISCOUNT_EXITS = CampaingDiscount;\n            }\n          } else {\n            //por categoria\n            let categories_a = [];\n            CampaingDiscount.categories.forEach(item => {\n              categories_a.push(item._id);\n            });\n            if (categories_a.includes(Product.categorie + \"\")) {\n              DISCOUNT_EXITS = CampaingDiscount;\n            }\n          }\n        }\n        Products.push(_resources.default.Product.product_list(Product, VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n      }\n      res.status(200).json({\n        products: Products\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"Ocurrio un error\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJsaXN0IiwicmVxIiwicmVzIiwiVElNRV9OT1ciLCJxdWVyeSIsIlNsaWRlcnMiLCJtb2RlbHMiLCJTbGlkZXIiLCJmaW5kIiwic3RhdGUiLCJtYXAiLCJzbGlkZXIiLCJyZXNvdXJjZSIsInNsaWRlcl9saXN0IiwiQ2F0ZWdvcmllcyIsIkNhdGVnb3JpZSIsImNhdGVnb3JpZSIsImNhdGVnb3JpZV9saXN0IiwiQ2FtcGFpbmdEaXNjb3VudCIsIkRpc2NvdW50IiwiZmluZE9uZSIsInR5cGVfY2FtcGFpZ24iLCJzdGFydF9kYXRlX251bSIsIiRsdGUiLCJlbmRfZGF0ZV9udW0iLCIkZ3RlIiwiQmVzdFByb2R1Y3RzIiwiUHJvZHVjdCIsInNvcnQiLCJPYmplY3RCZXN0UHJvZHVjdHMiLCJWQVJJRURBREVTIiwiVmFyaWVkYWQiLCJwcm9kdWN0IiwiX2lkIiwiUkVWSUVXUyIsIlJldmlldyIsIkFWR19SRVZJRVciLCJsZW5ndGgiLCJNYXRoIiwiY2VpbCIsInJlZHVjZSIsInN1bSIsIml0ZW0iLCJjYW50aWRhZCIsIkNPVU5UX1JFVklFVyIsIkRJU0NPVU5UX0VYSVRTIiwidHlwZV9zZWdtZW50IiwicHJvZHVjdHNfYSIsInByb2R1Y3RzIiwiZm9yRWFjaCIsInB1c2giLCJpbmNsdWRlcyIsImNhdGVnb3JpZXNfYSIsImNhdGVnb3JpZXMiLCJwcm9kdWN0X2xpc3QiLCJPdXJzUHJvZHVjdHMiLCJPYmplY3RPdXJzUHJvZHVjdHMiLCJGbGFzaFNhbGUiLCJQcm9kdWN0TGlzdCIsIk9iamVjVCIsImZpbmRCeUlkIiwic3RhdHVzIiwianNvbiIsInNsaWRlcnMiLCJiZXN0X3Byb2R1Y3RzIiwib3VyX3Byb2R1Y3RzIiwiY2FtcGFpZ25fcHJvZHVjdHMiLCJlcnJvciIsInNlbmQiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyIsInNob3dfbGFuZGluZ19wcm9kdWN0IiwiU0xVRyIsInBhcmFtcyIsInNsdWciLCJESVNDT1VOVF9JRCIsInBvcHVsYXRlIiwiUmVsYXRlZFByb2R1Y3RzIiwiT2JqZWN0UmVsYXRlZFByb2R1Y3RzIiwiU0FMRV9GTEFTSCIsInJlbGF0ZWRfcHJvZHVjdHMiLCJzZWFyY2hfcHJvZHVjdCIsImJvZHkiLCJ0aXRsZSIsIlJlZ0V4cCIsIlByb2R1Y3RzIiwicHJvZmlsZV9jbGllbnQiLCJ1c2VyX2lkIiwiT3JkZXJzIiwiU2FsZSIsInVzZXIiLCJzYWxlX29yZGVycyIsIm9yZGVyIiwiZGV0YWlsX29yZGVycyIsIlNhbGVEZXRhaWwiLCJzYWxlIiwicGF0aCIsInNhbGVfYWRkcmVzcyIsIlNhbGVBZGRyZXNzIiwiY29sbGVjdGlvbl9kZXRhaWxfb3JkZXJzIiwiZGV0YWlsX29yZGVyIiwicmV2aWV3UyIsInNhbGVfZGV0YWlsIiwic2t1IiwiaW1hZ2VuIiwicHJvY2VzcyIsImVudiIsIlVSTF9CQUNLRU5EIiwicG9ydGFkYSIsInByaWNlX3Blc29zIiwicHJpY2VfdXNkIiwidHlwZV9kaXNjb3VudCIsImRpc2NvdW50IiwidmFyaWVkYWQiLCJjb2RlX2N1cG9uIiwiY29kZV9kaXNjb3VudCIsInByaWNlX3VuaXRhcmlvIiwic3VidG90YWwiLCJ0b3RhbCIsInJldmlldyIsInNhbGVfZGV0YWlscyIsIkFERFJFU1NfQ0xJRU5UIiwiQWRkcmVzc0NsaWVudCIsImFkZHJlc3NfY2xpZW50IiwidXBkYXRlX2NsaWVudCIsImZpbGVzIiwiaW1nX3BhdGgiLCJhdmF0YXIiLCJuYW1lIiwic3BsaXQiLCJhdmF0YXJfbmFtZSIsInBhc3N3b3JkIiwiYmNyeXB0IiwiaGFzaCIsIlVzZXIiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsInN1cm5hbWUiLCJlbWFpbCIsImNvbmZpZ19pbml0aWFsIiwidmFyaWVkYWRlcyIsImZpbHRlcl9wcm9kdWN0cyIsImNhdGVnb3JpZXNfc2VsZWN0ZWRzIiwiaXNfZGlzY291bnQiLCJ2YXJpZWRhZF9zZWxlY3RlZCIsInByaWNlX21pbiIsInByaWNlX21heCIsImZpbHRlciIsImNhdGVnb3JpZXNfcyIsInByb2R1Y3RzX3MiLCJWQVIiLCIkaW4iLCIkYW5kIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJIb21lQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gJy4uL21vZGVscydcclxuaW1wb3J0IHJlc291cmNlIGZyb20gJy4uL3Jlc291cmNlcydcclxuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIGxpc3Q6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgVElNRV9OT1cgID0gcmVxLnF1ZXJ5LlRJTUVfTk9XO1xyXG5cclxuICAgICAgICAgICAgbGV0IFNsaWRlcnMgPSBhd2FpdCBtb2RlbHMuU2xpZGVyLmZpbmQoe3N0YXRlOjF9KTtcclxuXHJcbiAgICAgICAgICAgIFNsaWRlcnMgPSBTbGlkZXJzLm1hcCgoc2xpZGVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb3VyY2UuU2xpZGVyLnNsaWRlcl9saXN0KHNsaWRlcik7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICBsZXQgQ2F0ZWdvcmllcyA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZCh7c3RhdGU6MX0pO1xyXG5cclxuICAgICAgICAgICAgQ2F0ZWdvcmllcyA9IENhdGVnb3JpZXMubWFwKChjYXRlZ29yaWUpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvdXJjZS5DYXRlZ29yaWUuY2F0ZWdvcmllX2xpc3QoY2F0ZWdvcmllKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBDYW1wYWluZ0Rpc2NvdW50ID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjogMSxcclxuICAgICAgICAgICAgICAgIHN0YXJ0X2RhdGVfbnVtOiB7JGx0ZTogVElNRV9OT1d9LC8vIHN0YXJ0X2RhdGVfbnVtID49IFRJTUVfTk9XXHJcbiAgICAgICAgICAgICAgICBlbmRfZGF0ZV9udW06IHskZ3RlOiBUSU1FX05PV30sLy8gPj1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKENhbXBhaW5nRGlzY291bnQpO1xyXG4gICAgICAgICAgICBsZXQgQmVzdFByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7c3RhdGU6IDJ9KS5zb3J0KHtcImNyZWF0ZWRBdFwiOiAtMX0pO1xyXG5cclxuICAgICAgICAgICAgdmFyIE9iamVjdEJlc3RQcm9kdWN0cyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFByb2R1Y3Qgb2YgQmVzdFByb2R1Y3RzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgVkFSSUVEQURFUyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHtwcm9kdWN0OiBQcm9kdWN0Ll9pZH0pO1xyXG4gICAgICAgICAgICAgICAgbGV0IFJFVklFV1MgPSBhd2FpdCBtb2RlbHMuUmV2aWV3LmZpbmQoe3Byb2R1Y3Q6IFByb2R1Y3QuX2lkfSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgQVZHX1JFVklFVyA9IFJFVklFV1MubGVuZ3RoID4gMCA/IE1hdGguY2VpbChSRVZJRVdTLnJlZHVjZSgoc3VtLGl0ZW0pID0+IHN1bSArIGl0ZW0uY2FudGlkYWQsMCkvUkVWSUVXUy5sZW5ndGgpIDogMDtcclxuICAgICAgICAgICAgICAgIGxldCBDT1VOVF9SRVZJRVcgPSBSRVZJRVdTLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIGxldCBESVNDT1VOVF9FWElUUyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBpZihDYW1wYWluZ0Rpc2NvdW50KXtcclxuICAgICAgICAgICAgICAgICAgICBpZihDYW1wYWluZ0Rpc2NvdW50LnR5cGVfc2VnbWVudCA9PSAxKXsvL3BvciBwcm9kdWN0b1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcHJvZHVjdHNfYSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDYW1wYWluZ0Rpc2NvdW50LnByb2R1Y3RzLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c19hLnB1c2goaXRlbS5faWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihwcm9kdWN0c19hLmluY2x1ZGVzKFByb2R1Y3QuX2lkK1wiXCIpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERJU0NPVU5UX0VYSVRTID0gQ2FtcGFpbmdEaXNjb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNley8vcG9yIGNhdGVnb3JpYVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2F0ZWdvcmllc19hID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIENhbXBhaW5nRGlzY291bnQuY2F0ZWdvcmllcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllc19hLnB1c2goaXRlbS5faWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihjYXRlZ29yaWVzX2EuaW5jbHVkZXMoUHJvZHVjdC5jYXRlZ29yaWUrXCJcIikpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRElTQ09VTlRfRVhJVFMgPSBDYW1wYWluZ0Rpc2NvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgT2JqZWN0QmVzdFByb2R1Y3RzLnB1c2gocmVzb3VyY2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUHJvZHVjdCxWQVJJRURBREVTLEFWR19SRVZJRVcsQ09VTlRfUkVWSUVXLERJU0NPVU5UX0VYSVRTKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBPdXJzUHJvZHVjdHMgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kKHtzdGF0ZTogMn0pLnNvcnQoe1wiY3JlYXRlZEF0XCI6IDF9KTtcclxuXHJcbiAgICAgICAgICAgIHZhciBPYmplY3RPdXJzUHJvZHVjdHMgPSBbXTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBQcm9kdWN0IG9mIE91cnNQcm9kdWN0cykge1xyXG4gICAgICAgICAgICAgICAgbGV0IFZBUklFREFERVMgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZCh7cHJvZHVjdDogUHJvZHVjdC5faWR9KTtcclxuICAgICAgICAgICAgICAgIGxldCBSRVZJRVdTID0gYXdhaXQgbW9kZWxzLlJldmlldy5maW5kKHtwcm9kdWN0OiBQcm9kdWN0Ll9pZH0pO1xyXG4gICAgICAgICAgICAgICAgbGV0IEFWR19SRVZJRVcgPSBSRVZJRVdTLmxlbmd0aCA+IDAgPyBNYXRoLmNlaWwoUkVWSUVXUy5yZWR1Y2UoKHN1bSxpdGVtKSA9PiBzdW0gKyBpdGVtLmNhbnRpZGFkLDApL1JFVklFV1MubGVuZ3RoKSA6IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgQ09VTlRfUkVWSUVXID0gUkVWSUVXUy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBsZXQgRElTQ09VTlRfRVhJVFMgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgaWYoQ2FtcGFpbmdEaXNjb3VudCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoQ2FtcGFpbmdEaXNjb3VudC50eXBlX3NlZ21lbnQgPT0gMSl7Ly9wb3IgcHJvZHVjdG9cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RzX2EgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQ2FtcGFpbmdEaXNjb3VudC5wcm9kdWN0cy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHNfYS5wdXNoKGl0ZW0uX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYocHJvZHVjdHNfYS5pbmNsdWRlcyhQcm9kdWN0Ll9pZCtcIlwiKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBESVNDT1VOVF9FWElUUyA9IENhbXBhaW5nRGlzY291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXsvL3BvciBjYXRlZ29yaWFcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNhdGVnb3JpZXNfYSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDYW1wYWluZ0Rpc2NvdW50LmNhdGVnb3JpZXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNfYS5wdXNoKGl0ZW0uX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2F0ZWdvcmllc19hLmluY2x1ZGVzKFByb2R1Y3QuY2F0ZWdvcmllK1wiXCIpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERJU0NPVU5UX0VYSVRTID0gQ2FtcGFpbmdEaXNjb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIE9iamVjdE91cnNQcm9kdWN0cy5wdXNoKHJlc291cmNlLlByb2R1Y3QucHJvZHVjdF9saXN0KFByb2R1Y3QsVkFSSUVEQURFUyxBVkdfUkVWSUVXLENPVU5UX1JFVklFVyxESVNDT1VOVF9FWElUUykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIE91cnNQcm9kdWN0cyA9IE91cnNQcm9kdWN0cy5tYXAoYXN5bmMgKHByb2R1Y3QpID0+IHtcclxuICAgICAgICAgICAgLy8gICAgIGxldCBWQVJJRURBREVTID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoe3Byb2R1Y3Q6IHByb2R1Y3QuX2lkfSk7XHJcbiAgICAgICAgICAgIC8vICAgICByZXR1cm4gcmVzb3VyY2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QocHJvZHVjdCxWQVJJRURBREVTKTtcclxuICAgICAgICAgICAgLy8gfSlcclxuXHJcbiAgICAgICAgICAgIGxldCBGbGFzaFNhbGUgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZE9uZSh7XHJcbiAgICAgICAgICAgICAgICB0eXBlX2NhbXBhaWduOiAyLFxyXG4gICAgICAgICAgICAgICAgc3RhcnRfZGF0ZV9udW06IHskbHRlOiBUSU1FX05PV30sLy8gc3RhcnRfZGF0ZV9udW0gPj0gVElNRV9OT1dcclxuICAgICAgICAgICAgICAgIGVuZF9kYXRlX251bTogeyRndGU6IFRJTUVfTk9XfSwvLyA+PVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBQcm9kdWN0TGlzdCA9IFtdO1xyXG4gICAgICAgICAgICBpZihGbGFzaFNhbGUpe1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwcm9kdWN0IG9mIEZsYXNoU2FsZS5wcm9kdWN0cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBPYmplY1QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kQnlJZCh7X2lkOiBwcm9kdWN0Ll9pZH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBWQVJJRURBREVTID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoe3Byb2R1Y3Q6IHByb2R1Y3QuX2lkfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvZHVjdExpc3QucHVzaChyZXNvdXJjZS5Qcm9kdWN0LnByb2R1Y3RfbGlzdChPYmplY1QsVkFSSUVEQURFUykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKEZsYXNoU2FsZSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIHNsaWRlcnM6IFNsaWRlcnMsXHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzOiBDYXRlZ29yaWVzLFxyXG4gICAgICAgICAgICAgICAgYmVzdF9wcm9kdWN0czogT2JqZWN0QmVzdFByb2R1Y3RzLFxyXG4gICAgICAgICAgICAgICAgb3VyX3Byb2R1Y3RzOiBPYmplY3RPdXJzUHJvZHVjdHMsXHJcbiAgICAgICAgICAgICAgICBGbGFzaFNhbGU6IEZsYXNoU2FsZSxcclxuICAgICAgICAgICAgICAgIGNhbXBhaWduX3Byb2R1Y3RzOiBQcm9kdWN0TGlzdCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTpcIk9DVVJSSU8gRVJST1JcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzaG93X2xhbmRpbmdfcHJvZHVjdDphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IFNMVUcgPSByZXEucGFyYW1zLnNsdWc7XHJcbiAgICAgICAgICAgIGxldCBESVNDT1VOVF9JRCA9IHJlcS5xdWVyeS5faWQ7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKERJU0NPVU5UX0lEKTtcclxuICAgICAgICAgICAgbGV0IFByb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kT25lKHtzbHVnOiBTTFVHLHN0YXRlOiAyfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgVkFSSUVEQURFUyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHtwcm9kdWN0OiBQcm9kdWN0Ll9pZH0pO1xyXG5cclxuICAgICAgICAgICAgbGV0IFJFVklFV1MgPSBhd2FpdCBtb2RlbHMuUmV2aWV3LmZpbmQoe3Byb2R1Y3Q6IFByb2R1Y3QuX2lkfSkucG9wdWxhdGUoXCJ1c2VyXCIpO1xyXG4gICAgICAgICAgICBsZXQgQVZHX1JFVklFVyA9IFJFVklFV1MubGVuZ3RoID4gMCA/IE1hdGguY2VpbChSRVZJRVdTLnJlZHVjZSgoc3VtLGl0ZW0pID0+IHN1bSArIGl0ZW0uY2FudGlkYWQsMCkvUkVWSUVXUy5sZW5ndGgpIDogMDtcclxuICAgICAgICAgICAgbGV0IENPVU5UX1JFVklFVyA9IFJFVklFV1MubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgbGV0IFJlbGF0ZWRQcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoe2NhdGVnb3JpZTogUHJvZHVjdC5jYXRlZ29yaWUsc3RhdGU6IDJ9KTtcclxuICAgICAgICAgICAgdmFyIE9iamVjdFJlbGF0ZWRQcm9kdWN0cyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFByb2R1Y3Qgb2YgUmVsYXRlZFByb2R1Y3RzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgVkFSSUVEQURFUyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHtwcm9kdWN0OiBQcm9kdWN0Ll9pZH0pO1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0UmVsYXRlZFByb2R1Y3RzLnB1c2gocmVzb3VyY2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUHJvZHVjdCxWQVJJRURBREVTKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IFNBTEVfRkxBU0ggPSBudWxsO1xyXG4gICAgICAgICAgICBpZihESVNDT1VOVF9JRCl7XHJcbiAgICAgICAgICAgICAgICBTQUxFX0ZMQVNIID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRCeUlkKHtfaWQ6IERJU0NPVU5UX0lEfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgcHJvZHVjdDogcmVzb3VyY2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUHJvZHVjdCxWQVJJRURBREVTKSxcclxuICAgICAgICAgICAgICAgIHJlbGF0ZWRfcHJvZHVjdHM6IE9iamVjdFJlbGF0ZWRQcm9kdWN0cyxcclxuICAgICAgICAgICAgICAgIFNBTEVfRkxBU0g6IFNBTEVfRkxBU0gsXHJcbiAgICAgICAgICAgICAgICBSRVZJRVdTOiBSRVZJRVdTLFxyXG4gICAgICAgICAgICAgICAgQVZHX1JFVklFVzogQVZHX1JFVklFVyxcclxuICAgICAgICAgICAgICAgIENPVU5UX1JFVklFVzogQ09VTlRfUkVWSUVXLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6XCJPQ1VSUklPIEVSUk9SXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2VhcmNoX3Byb2R1Y3Q6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBUSU1FX05PVyAgPSByZXEucXVlcnkuVElNRV9OT1c7XHJcbiAgICAgICAgICAgIGxldCBzZWFyY2hfcHJvZHVjdCA9IHJlcS5ib2R5LnNlYXJjaF9wcm9kdWN0O1xyXG4gICAgICAgICAgICBsZXQgT3Vyc1Byb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7c3RhdGU6IDIsdGl0bGU6IG5ldyBSZWdFeHAoc2VhcmNoX3Byb2R1Y3QsJ2knKX0pLnNvcnQoe1wiY3JlYXRlZEF0XCI6IDF9KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBDYW1wYWluZ0Rpc2NvdW50ID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjogMSxcclxuICAgICAgICAgICAgICAgIHN0YXJ0X2RhdGVfbnVtOiB7JGx0ZTogVElNRV9OT1d9LC8vIHN0YXJ0X2RhdGVfbnVtID49IFRJTUVfTk9XXHJcbiAgICAgICAgICAgICAgICBlbmRfZGF0ZV9udW06IHskZ3RlOiBUSU1FX05PV30sLy8gPj1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgUHJvZHVjdHMgPSBbXTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBQcm9kdWN0IG9mIE91cnNQcm9kdWN0cykge1xyXG4gICAgICAgICAgICAgICAgbGV0IFZBUklFREFERVMgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZCh7cHJvZHVjdDogUHJvZHVjdC5faWR9KTtcclxuICAgICAgICAgICAgICAgIGxldCBSRVZJRVdTID0gYXdhaXQgbW9kZWxzLlJldmlldy5maW5kKHtwcm9kdWN0OiBQcm9kdWN0Ll9pZH0pO1xyXG4gICAgICAgICAgICAgICAgbGV0IEFWR19SRVZJRVcgPSBSRVZJRVdTLmxlbmd0aCA+IDAgPyBNYXRoLmNlaWwoUkVWSUVXUy5yZWR1Y2UoKHN1bSxpdGVtKSA9PiBzdW0gKyBpdGVtLmNhbnRpZGFkLDApL1JFVklFV1MubGVuZ3RoKSA6IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgQ09VTlRfUkVWSUVXID0gUkVWSUVXUy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBsZXQgRElTQ09VTlRfRVhJVFMgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgaWYoQ2FtcGFpbmdEaXNjb3VudCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoQ2FtcGFpbmdEaXNjb3VudC50eXBlX3NlZ21lbnQgPT0gMSl7Ly9wb3IgcHJvZHVjdG9cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RzX2EgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQ2FtcGFpbmdEaXNjb3VudC5wcm9kdWN0cy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHNfYS5wdXNoKGl0ZW0uX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYocHJvZHVjdHNfYS5pbmNsdWRlcyhQcm9kdWN0Ll9pZCtcIlwiKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBESVNDT1VOVF9FWElUUyA9IENhbXBhaW5nRGlzY291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXsvL3BvciBjYXRlZ29yaWFcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNhdGVnb3JpZXNfYSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDYW1wYWluZ0Rpc2NvdW50LmNhdGVnb3JpZXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNfYS5wdXNoKGl0ZW0uX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2F0ZWdvcmllc19hLmluY2x1ZGVzKFByb2R1Y3QuY2F0ZWdvcmllK1wiXCIpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERJU0NPVU5UX0VYSVRTID0gQ2FtcGFpbmdEaXNjb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFByb2R1Y3RzLnB1c2gocmVzb3VyY2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUHJvZHVjdCxWQVJJRURBREVTLEFWR19SRVZJRVcsQ09VTlRfUkVWSUVXLERJU0NPVU5UX0VYSVRTKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgcHJvZHVjdHM6IFByb2R1Y3RzLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT2N1cnJpbyB1biBlcnJvclwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgcHJvZmlsZV9jbGllbnQ6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgdXNlcl9pZCA9IHJlcS5ib2R5LnVzZXJfaWQ7XHJcblxyXG4gICAgICAgICAgICBsZXQgT3JkZXJzID0gYXdhaXQgbW9kZWxzLlNhbGUuZmluZCh7dXNlcjogdXNlcl9pZH0pO1xyXG5cclxuICAgICAgICAgICAgbGV0IHNhbGVfb3JkZXJzID0gW107XHJcblxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IG9yZGVyIG9mIE9yZGVycykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGRldGFpbF9vcmRlcnMgPSBhd2FpdCBtb2RlbHMuU2FsZURldGFpbC5maW5kKHtzYWxlOiBvcmRlci5faWR9KS5wb3B1bGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogXCJwcm9kdWN0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgcG9wdWxhdGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogXCJjYXRlZ29yaWVcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9KS5wb3B1bGF0ZShcInZhcmllZGFkXCIpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNhbGVfYWRkcmVzcyA9IGF3YWl0IG1vZGVscy5TYWxlQWRkcmVzcy5maW5kKHtzYWxlOiBvcmRlci5faWR9KTtcclxuICAgICAgICAgICAgICAgIGxldCBjb2xsZWN0aW9uX2RldGFpbF9vcmRlcnMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZGV0YWlsX29yZGVyIG9mIGRldGFpbF9vcmRlcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcmV2aWV3UyA9IGF3YWl0IG1vZGVscy5SZXZpZXcuZmluZE9uZSh7c2FsZV9kZXRhaWw6IGRldGFpbF9vcmRlci5faWR9KTtcclxuICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uX2RldGFpbF9vcmRlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZDogZGV0YWlsX29yZGVyLl9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2lkOiBkZXRhaWxfb3JkZXIucHJvZHVjdC5faWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogZGV0YWlsX29yZGVyLnByb2R1Y3QudGl0bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBza3U6IGRldGFpbF9vcmRlci5wcm9kdWN0LnNrdSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsdWc6IGRldGFpbF9vcmRlci5wcm9kdWN0LnNsdWcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZW46IHByb2Nlc3MuZW52LlVSTF9CQUNLRU5EKycvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC8nK2RldGFpbF9vcmRlci5wcm9kdWN0LnBvcnRhZGEsLy8qXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWU6IGRldGFpbF9vcmRlci5wcm9kdWN0LmNhdGVnb3JpZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlX3Blc29zOiBkZXRhaWxfb3JkZXIucHJvZHVjdC5wcmljZV9wZXNvcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlX3VzZDogZGV0YWlsX29yZGVyLnByb2R1Y3QucHJpY2VfdXNkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlX2Rpc2NvdW50OiBkZXRhaWxfb3JkZXIudHlwZV9kaXNjb3VudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzY291bnQ6IGRldGFpbF9vcmRlci5kaXNjb3VudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FudGlkYWQ6IGRldGFpbF9vcmRlci5jYW50aWRhZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWVkYWQ6IGRldGFpbF9vcmRlci52YXJpZWRhZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZV9jdXBvbjogZGV0YWlsX29yZGVyLmNvZGVfY3Vwb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVfZGlzY291bnQ6IGRldGFpbF9vcmRlci5jb2RlX2Rpc2NvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmljZV91bml0YXJpbzogZGV0YWlsX29yZGVyLnByaWNlX3VuaXRhcmlvLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0b3RhbDogZGV0YWlsX29yZGVyLnN1YnRvdGFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbDogZGV0YWlsX29yZGVyLnRvdGFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXZpZXc6IHJldmlld1MsXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNhbGVfb3JkZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIHNhbGU6IG9yZGVyLFxyXG4gICAgICAgICAgICAgICAgICAgIHNhbGVfZGV0YWlsczogY29sbGVjdGlvbl9kZXRhaWxfb3JkZXJzLFxyXG4gICAgICAgICAgICAgICAgICAgIHNhbGVfYWRkcmVzczogc2FsZV9hZGRyZXNzLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IEFERFJFU1NfQ0xJRU5UID0gYXdhaXQgbW9kZWxzLkFkZHJlc3NDbGllbnQuZmluZCh7dXNlcjogdXNlcl9pZH0pLnNvcnQoeydjcmVhdGVkQXQnOiAtMX0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBzYWxlX29yZGVyczogc2FsZV9vcmRlcnMsXHJcbiAgICAgICAgICAgICAgICBhZGRyZXNzX2NsaWVudDogQUREUkVTU19DTElFTlQsXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPY3VycmlvIHVuIGVycm9yXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB1cGRhdGVfY2xpZW50OiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYocmVxLmZpbGVzKXtcclxuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5hdmF0YXIucGF0aDtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJ1xcXFwnKTtcclxuICAgICAgICAgICAgICAgIHZhciBhdmF0YXJfbmFtZSA9IG5hbWVbMl07XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhdmF0YXJfbmFtZSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihyZXEuYm9keS5wYXNzd29yZCl7XHJcbiAgICAgICAgICAgICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLDEwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuVXNlci5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiByZXEuYm9keS5faWR9LHJlcS5ib2R5KTtcclxuICAgICAgICAgICAgbGV0IFVzZXIgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kT25lKHtfaWQ6IHJlcS5ib2R5Ll9pZH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlNFIEdVQVJETyBTVSBJTkZPUk1BQ0nDk04gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICAgICAgdXNlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFVzZXIubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBzdXJuYW1lOiBVc2VyLnN1cm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6VXNlci5lbWFpbCxcclxuICAgICAgICAgICAgICAgICAgICBfaWQ6VXNlci5faWQsXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPY3VycmlvIHVuIGVycm9yXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBjb25maWdfaW5pdGlhbDphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGNhdGVnb3JpZXMgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmZpbmQoe3N0YXRlOiAxfSk7XHJcbiAgICAgICAgICAgIGxldCB2YXJpZWRhZGVzID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoe30pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzOiBjYXRlZ29yaWVzLFxyXG4gICAgICAgICAgICAgICAgdmFyaWVkYWRlczogdmFyaWVkYWRlcyxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9jdXJyaW8gdW4gZXJyb3JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGZpbHRlcl9wcm9kdWN0czphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIFRJTUVfTk9XICA9IHJlcS5xdWVyeS5USU1FX05PVztcclxuICAgICAgICAgICAgbGV0IHNlYXJjaF9wcm9kdWN0ID0gcmVxLmJvZHkuc2VhcmNoX3Byb2R1Y3Q7XHJcblxyXG4gICAgICAgICAgICBsZXQgY2F0ZWdvcmllc19zZWxlY3RlZHMgPSByZXEuYm9keS5jYXRlZ29yaWVzX3NlbGVjdGVkcztcclxuICAgICAgICAgICAgbGV0IGlzX2Rpc2NvdW50ID0gcmVxLmJvZHkuaXNfZGlzY291bnQ7XHJcbiAgICAgICAgICAgIGxldCB2YXJpZWRhZF9zZWxlY3RlZCA9IHJlcS5ib2R5LnZhcmllZGFkX3NlbGVjdGVkO1xyXG4gICAgICAgICAgICBsZXQgcHJpY2VfbWluID0gcmVxLmJvZHkucHJpY2VfbWluO1xyXG4gICAgICAgICAgICBsZXQgcHJpY2VfbWF4ID0gcmVxLmJvZHkucHJpY2VfbWF4O1xyXG5cclxuICAgICAgICAgICAgbGV0IGZpbHRlciA9IFtcclxuICAgICAgICAgICAgICAgIHtzdGF0ZTogMn0sXHJcbiAgICAgICAgICAgIF07XHJcblxyXG4gICAgICAgICAgICB2YXIgY2F0ZWdvcmllc19zID0gW107XHJcbiAgICAgICAgICAgIHZhciBwcm9kdWN0c19zID0gW107XHJcbiAgICAgICAgICAgIC8vIHtzdGF0ZTogMix0aXRsZTogbmV3IFJlZ0V4cChzZWFyY2hfcHJvZHVjdCwnaScpfVxyXG4gICAgICAgICAgICBpZihjYXRlZ29yaWVzX3NlbGVjdGVkcy5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNfc2VsZWN0ZWRzLmZvckVhY2goKGNhdGVnb3JpZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNfcy5wdXNoKGNhdGVnb3JpZSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLy8gZmlsdGVyLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGNhdGVnb3JpZTogeyRpbjogY2F0ZWdvcmllc19zZWxlY3RlZHN9LFxyXG4gICAgICAgICAgICAgICAgLy8gfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgQ2FtcGFpbmdEaXNjb3VudCA9IGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kT25lKHtcclxuICAgICAgICAgICAgICAgIHR5cGVfY2FtcGFpZ246IDEsXHJcbiAgICAgICAgICAgICAgICBzdGFydF9kYXRlX251bTogeyRsdGU6IFRJTUVfTk9XfSwvLyBzdGFydF9kYXRlX251bSA+PSBUSU1FX05PV1xyXG4gICAgICAgICAgICAgICAgZW5kX2RhdGVfbnVtOiB7JGd0ZTogVElNRV9OT1d9LC8vID49XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYoaXNfZGlzY291bnQgPT0gMil7XHJcbiAgICAgICAgICAgICAgICBpZihDYW1wYWluZ0Rpc2NvdW50LnR5cGVfc2VnbWVudCA9PSAxKXtcclxuICAgICAgICAgICAgICAgICAgICBDYW1wYWluZ0Rpc2NvdW50LnByb2R1Y3RzLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzX3MucHVzaChpdGVtLl9pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIENhbXBhaW5nRGlzY291bnQuY2F0ZWdvcmllcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzX3MucHVzaChpdGVtLl9pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZih2YXJpZWRhZF9zZWxlY3RlZCl7XHJcbiAgICAgICAgICAgICAgICBsZXQgVkFSID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkKHtfaWQ6IHZhcmllZGFkX3NlbGVjdGVkLl9pZH0pO1xyXG4gICAgICAgICAgICAgICAgaWYoVkFSKXtcclxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c19zLnB1c2goVkFSLnByb2R1Y3QpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKGNhdGVnb3JpZXNfcy5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgICAgIGZpbHRlci5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWU6IHskaW46IGNhdGVnb3JpZXNfc30sXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihwcm9kdWN0c19zLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIF9pZDogeyRpbjogcHJvZHVjdHNfc31cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHByaWNlX21pbiA+IDAgJiYgcHJpY2VfbWF4ID4gMCl7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXIucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJpY2VfdXNkOiB7JGd0ZTogcHJpY2VfbWluLCAkbHRlOiBwcmljZV9tYXh9LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IE91cnNQcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoeyRhbmQ6IGZpbHRlcn0pLnNvcnQoe1wiY3JlYXRlZEF0XCI6IDF9KTtcclxuXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB2YXIgUHJvZHVjdHMgPSBbXTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBQcm9kdWN0IG9mIE91cnNQcm9kdWN0cykge1xyXG4gICAgICAgICAgICAgICAgbGV0IFZBUklFREFERVMgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZCh7cHJvZHVjdDogUHJvZHVjdC5faWR9KTtcclxuICAgICAgICAgICAgICAgIGxldCBSRVZJRVdTID0gYXdhaXQgbW9kZWxzLlJldmlldy5maW5kKHtwcm9kdWN0OiBQcm9kdWN0Ll9pZH0pO1xyXG4gICAgICAgICAgICAgICAgbGV0IEFWR19SRVZJRVcgPSBSRVZJRVdTLmxlbmd0aCA+IDAgPyBNYXRoLmNlaWwoUkVWSUVXUy5yZWR1Y2UoKHN1bSxpdGVtKSA9PiBzdW0gKyBpdGVtLmNhbnRpZGFkLDApL1JFVklFV1MubGVuZ3RoKSA6IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgQ09VTlRfUkVWSUVXID0gUkVWSUVXUy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBsZXQgRElTQ09VTlRfRVhJVFMgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgaWYoQ2FtcGFpbmdEaXNjb3VudCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoQ2FtcGFpbmdEaXNjb3VudC50eXBlX3NlZ21lbnQgPT0gMSl7Ly9wb3IgcHJvZHVjdG9cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RzX2EgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQ2FtcGFpbmdEaXNjb3VudC5wcm9kdWN0cy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHNfYS5wdXNoKGl0ZW0uX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYocHJvZHVjdHNfYS5pbmNsdWRlcyhQcm9kdWN0Ll9pZCtcIlwiKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBESVNDT1VOVF9FWElUUyA9IENhbXBhaW5nRGlzY291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXsvL3BvciBjYXRlZ29yaWFcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNhdGVnb3JpZXNfYSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDYW1wYWluZ0Rpc2NvdW50LmNhdGVnb3JpZXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNfYS5wdXNoKGl0ZW0uX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2F0ZWdvcmllc19hLmluY2x1ZGVzKFByb2R1Y3QuY2F0ZWdvcmllK1wiXCIpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERJU0NPVU5UX0VYSVRTID0gQ2FtcGFpbmdEaXNjb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFByb2R1Y3RzLnB1c2gocmVzb3VyY2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUHJvZHVjdCxWQVJJRURBREVTLEFWR19SRVZJRVcsQ09VTlRfUkVWSUVXLERJU0NPVU5UX0VYSVRTKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgcHJvZHVjdHM6IFByb2R1Y3RzLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT2N1cnJpbyB1biBlcnJvclwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFBNkI7QUFBQSxpQ0FFZDtFQUNYQSxJQUFJLEVBQUMsT0FBTUMsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDbkIs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","map":{"version":3,"names":["list","req","res","TIME_NOW","query","Sliders","models","Slider","find","state","map","slider","resource","slider_list","Categories","Categorie","categorie","categorie_list","CampaingDiscount","Discount","findOne","type_campaign","start_date_num","$lte","end_date_num","$gte","BestProducts","Product","sort","ObjectBestProducts","VARIEDADES","Variedad","product","_id","REVIEWS","Review","AVG_REVIEW","length","Math","ceil","reduce","sum","item","cantidad","COUNT_REVIEW","DISCOUNT_EXITS","type_segment","products_a","products","forEach","push","includes","categories_a","categories","product_list","OursProducts","ObjectOursProducts","FlashSale","ProductList","ObjecT","findById","status","json","sliders","best_products","our_products","campaign_products","error","send","message","console","log","show_landing_product","SLUG","params","slug","DISCOUNT_ID","populate","RelatedProducts","ObjectRelatedProducts","SALE_FLASH","related_products","search_product","body","title","RegExp","Products","profile_client","user_id","Orders","Sale","user","sale_orders","order","detail_orders","SaleDetail","sale","path","sale_address","SaleAddress","collection_detail_orders","detail_order","reviewS","sale_detail","sku","imagen","process","env","URL_BACKEND","portada","price_pesos","price_usd","type_discount","discount","variedad","code_cupon","code_discount","price_unitario","subtotal","total","review","sale_details","ADDRESS_CLIENT","AddressClient","address_client","update_client","files","img_path","avatar","name","split","avatar_name","password","bcrypt","hash","User","findByIdAndUpdate","surname","email","config_initial","variedades","filter_products","categories_selecteds","is_discount","variedad_selected","price_min","price_max","filter","categories_s","products_s","VAR","$in","$and"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["HomeController.js"],"sourcesContent":["import models from '../models'\r\nimport resource from '../resources'\r\nimport bcrypt from 'bcryptjs'\r\n\r\nexport default {\r\n    list:async(req,res) => {\r\n        try {\r\n\r\n            var TIME_NOW  = req.query.TIME_NOW;\r\n\r\n            let Sliders = await models.Slider.find({state:1});\r\n\r\n            Sliders = Sliders.map((slider) => {\r\n                return resource.Slider.slider_list(slider);\r\n            })\r\n\r\n            let Categories = await models.Categorie.find({state:1});\r\n\r\n            Categories = Categories.map((categorie) => {\r\n                return resource.Categorie.categorie_list(categorie);\r\n            })\r\n            \r\n            let CampaingDiscount = await models.Discount.findOne({\r\n                type_campaign: 1,\r\n                start_date_num: {$lte: TIME_NOW},// start_date_num >= TIME_NOW\r\n                end_date_num: {$gte: TIME_NOW},// >=\r\n            });\r\n            // console.log(CampaingDiscount);\r\n            let BestProducts = await models.Product.find({state: 2}).sort({\"createdAt\": -1});\r\n\r\n            var ObjectBestProducts = [];\r\n            for (const Product of BestProducts) {\r\n                let VARIEDADES = await models.Variedad.find({product: Product._id});\r\n                let REVIEWS = await models.Review.find({product: Product._id});\r\n                let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length) : 0;\r\n                let COUNT_REVIEW = REVIEWS.length;\r\n                let DISCOUNT_EXITS = null;\r\n                if(CampaingDiscount){\r\n                    if(CampaingDiscount.type_segment == 1){//por producto\r\n                        let products_a = [];\r\n                        CampaingDiscount.products.forEach(item => {\r\n                            products_a.push(item._id);\r\n                        })\r\n                        if(products_a.includes(Product._id+\"\")){\r\n                            DISCOUNT_EXITS = CampaingDiscount;\r\n                        }\r\n                    }else{//por categoria\r\n                        let categories_a = [];\r\n                        CampaingDiscount.categories.forEach(item => {\r\n                            categories_a.push(item._id);\r\n                        })\r\n                        if(categories_a.includes(Product.categorie+\"\")){\r\n                            DISCOUNT_EXITS = CampaingDiscount;\r\n                        }\r\n                    }\r\n                }\r\n                ObjectBestProducts.push(resource.Product.product_list(Product,VARIEDADES,AVG_REVIEW,COUNT_REVIEW,DISCOUNT_EXITS));\r\n            }\r\n\r\n            let OursProducts = await models.Product.find({state: 2}).sort({\"createdAt\": 1});\r\n\r\n            var ObjectOursProducts = [];\r\n            for (const Product of OursProducts) {\r\n                let VARIEDADES = await models.Variedad.find({product: Product._id});\r\n                let REVIEWS = await models.Review.find({product: Product._id});\r\n                let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length) : 0;\r\n                let COUNT_REVIEW = REVIEWS.length;\r\n                let DISCOUNT_EXITS = null;\r\n                if(CampaingDiscount){\r\n                    if(CampaingDiscount.type_segment == 1){//por producto\r\n                        let products_a = [];\r\n                        CampaingDiscount.products.forEach(item => {\r\n                            products_a.push(item._id);\r\n                        })\r\n                        if(products_a.includes(Product._id+\"\")){\r\n                            DISCOUNT_EXITS = CampaingDiscount;\r\n                        }\r\n                    }else{//por categoria\r\n                        let categories_a = [];\r\n                        CampaingDiscount.categories.forEach(item => {\r\n                            categories_a.push(item._id);\r\n                        })\r\n                        if(categories_a.includes(Product.categorie+\"\")){\r\n                            DISCOUNT_EXITS = CampaingDiscount;\r\n                        }\r\n                    }\r\n                }\r\n                ObjectOursProducts.push(resource.Product.product_list(Product,VARIEDADES,AVG_REVIEW,COUNT_REVIEW,DISCOUNT_EXITS));\r\n            }\r\n            // OursProducts = OursProducts.map(async (product) => {\r\n            //     let VARIEDADES = await models.Variedad.find({product: product._id});\r\n            //     return resource.Product.product_list(product,VARIEDADES);\r\n            // })\r\n\r\n            let FlashSale = await models.Discount.findOne({\r\n                type_campaign: 2,\r\n                start_date_num: {$lte: TIME_NOW},// start_date_num >= TIME_NOW\r\n                end_date_num: {$gte: TIME_NOW},// >=\r\n            });\r\n\r\n            let ProductList = [];\r\n            if(FlashSale){\r\n                for (const product of FlashSale.products) {\r\n                    var ObjecT = await models.Product.findById({_id: product._id});\r\n                    let VARIEDADES = await models.Variedad.find({product: product._id});\r\n                    ProductList.push(resource.Product.product_list(ObjecT,VARIEDADES));\r\n                }\r\n            }\r\n            // console.log(FlashSale);\r\n            res.status(200).json({\r\n                sliders: Sliders,\r\n                categories: Categories,\r\n                best_products: ObjectBestProducts,\r\n                our_products: ObjectOursProducts,\r\n                FlashSale: FlashSale,\r\n                campaign_products: ProductList,\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO ERROR\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    show_landing_product:async(req,res) => {\r\n        try {\r\n            let SLUG = req.params.slug;\r\n            let DISCOUNT_ID = req.query._id;\r\n            console.log(DISCOUNT_ID);\r\n            let Product = await models.Product.findOne({slug: SLUG,state: 2});\r\n            \r\n            let VARIEDADES = await models.Variedad.find({product: Product._id});\r\n\r\n            let REVIEWS = await models.Review.find({product: Product._id}).populate(\"user\");\r\n            let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length) : 0;\r\n            let COUNT_REVIEW = REVIEWS.length;\r\n\r\n            let RelatedProducts = await models.Product.find({categorie: Product.categorie,state: 2});\r\n            var ObjectRelatedProducts = [];\r\n            for (const Product of RelatedProducts) {\r\n                let VARIEDADES = await models.Variedad.find({product: Product._id});\r\n                ObjectRelatedProducts.push(resource.Product.product_list(Product,VARIEDADES));\r\n            }\r\n            let SALE_FLASH = null;\r\n            if(DISCOUNT_ID){\r\n                SALE_FLASH = await models.Discount.findById({_id: DISCOUNT_ID});\r\n            }\r\n            res.status(200).json({\r\n                product: resource.Product.product_list(Product,VARIEDADES),\r\n                related_products: ObjectRelatedProducts,\r\n                SALE_FLASH: SALE_FLASH,\r\n                REVIEWS: REVIEWS,\r\n                AVG_REVIEW: AVG_REVIEW,\r\n                COUNT_REVIEW: COUNT_REVIEW,\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO ERROR\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    search_product:async(req,res) => {\r\n        try {\r\n            var TIME_NOW  = req.query.TIME_NOW;\r\n            let search_product = req.body.search_product;\r\n            let OursProducts = await models.Product.find({state: 2,title: new RegExp(search_product,'i')}).sort({\"createdAt\": 1});\r\n\r\n            let CampaingDiscount = await models.Discount.findOne({\r\n                type_campaign: 1,\r\n                start_date_num: {$lte: TIME_NOW},// start_date_num >= TIME_NOW\r\n                end_date_num: {$gte: TIME_NOW},// >=\r\n            });\r\n\r\n            var Products = [];\r\n            for (const Product of OursProducts) {\r\n                let VARIEDADES = await models.Variedad.find({product: Product._id});\r\n                let REVIEWS = await models.Review.find({product: Product._id});\r\n                let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length) : 0;\r\n                let COUNT_REVIEW = REVIEWS.length;\r\n                let DISCOUNT_EXITS = null;\r\n                if(CampaingDiscount){\r\n                    if(CampaingDiscount.type_segment == 1){//por producto\r\n                        let products_a = [];\r\n                        CampaingDiscount.products.forEach(item => {\r\n                            products_a.push(item._id);\r\n                        })\r\n                        if(products_a.includes(Product._id+\"\")){\r\n                            DISCOUNT_EXITS = CampaingDiscount;\r\n                        }\r\n                    }else{//por categoria\r\n                        let categories_a = [];\r\n                        CampaingDiscount.categories.forEach(item => {\r\n                            categories_a.push(item._id);\r\n                        })\r\n                        if(categories_a.includes(Product.categorie+\"\")){\r\n                            DISCOUNT_EXITS = CampaingDiscount;\r\n                        }\r\n                    }\r\n                }\r\n                Products.push(resource.Product.product_list(Product,VARIEDADES,AVG_REVIEW,COUNT_REVIEW,DISCOUNT_EXITS));\r\n            }\r\n            res.status(200).json({\r\n                products: Products,\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"Ocurrio un error\",\r\n            });\r\n        }\r\n    },\r\n    profile_client:async(req,res) => {\r\n        try {\r\n            \r\n            let user_id = req.body.user_id;\r\n\r\n            let Orders = await models.Sale.find({user: user_id});\r\n\r\n            let sale_orders = [];\r\n\r\n            for (const order of Orders) {\r\n                let detail_orders = await models.SaleDetail.find({sale: order._id}).populate({\r\n                    path: \"product\",\r\n                    populate: {\r\n                        path: \"categorie\"\r\n                    },\r\n                }).populate(\"variedad\");\r\n                let sale_address = await models.SaleAddress.find({sale: order._id});\r\n                let collection_detail_orders = [];\r\n                for (const detail_order of detail_orders) {\r\n                    let reviewS = await models.Review.findOne({sale_detail: detail_order._id});\r\n                    collection_detail_orders.push({\r\n                        _id: detail_order._id,\r\n                        product: {\r\n                            _id: detail_order.product._id,\r\n                            title: detail_order.product.title,\r\n                            sku: detail_order.product.sku,\r\n                            slug: detail_order.product.slug,\r\n                            imagen: process.env.URL_BACKEND+'/api/products/uploads/product/'+detail_order.product.portada,//*\r\n                            categorie: detail_order.product.categorie,\r\n                            price_pesos: detail_order.product.price_pesos,\r\n                            price_usd: detail_order.product.price_usd,\r\n                        },\r\n                        type_discount: detail_order.type_discount,\r\n                        discount: detail_order.discount,\r\n                        cantidad: detail_order.cantidad,\r\n                        variedad: detail_order.variedad,\r\n                        code_cupon: detail_order.code_cupon,\r\n                        code_discount: detail_order.code_discount,\r\n                        price_unitario: detail_order.price_unitario,\r\n                        subtotal: detail_order.subtotal,\r\n                        total: detail_order.total,\r\n                        review: reviewS,\r\n                    })\r\n                }\r\n                sale_orders.push({\r\n                    sale: order,\r\n                    sale_details: collection_detail_orders,\r\n                    sale_address: sale_address,\r\n                });\r\n            }\r\n            let ADDRESS_CLIENT = await models.AddressClient.find({user: user_id}).sort({'createdAt': -1});\r\n            res.status(200).json({\r\n                sale_orders: sale_orders,\r\n                address_client: ADDRESS_CLIENT,\r\n            })\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"Ocurrio un error\",\r\n            });\r\n        }\r\n    },\r\n    update_client: async(req,res) => {\r\n        try {\r\n            if(req.files){\r\n                var img_path = req.files.avatar.path;\r\n                var name = img_path.split('\\\\');\r\n                var avatar_name = name[2];\r\n                console.log(avatar_name)\r\n            }\r\n            if(req.body.password){\r\n                req.body.password = await bcrypt.hash(req.body.password,10);\r\n            }\r\n            await models.User.findByIdAndUpdate({_id: req.body._id},req.body);\r\n            let User = await models.User.findOne({_id: req.body._id});\r\n            res.status(200).json({\r\n                message: \"SE GUARDO SU INFORMACIÓN CORRECTAMENTE\",\r\n                user: {\r\n                    name: User.name,\r\n                    surname: User.surname,\r\n                    email:User.email,\r\n                    _id:User._id,\r\n                }\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"Ocurrio un error\",\r\n            });\r\n        }\r\n    },\r\n    config_initial:async(req,res) => {\r\n        try {\r\n            let categories = await models.Categorie.find({state: 1});\r\n            let variedades = await models.Variedad.find({});\r\n            res.status(200).json({\r\n                categories: categories,\r\n                variedades: variedades,\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"Ocurrio un error\",\r\n            });\r\n        }\r\n    },\r\n    filter_products:async(req,res) => {\r\n        try {\r\n            var TIME_NOW  = req.query.TIME_NOW;\r\n            let search_product = req.body.search_product;\r\n\r\n            let categories_selecteds = req.body.categories_selecteds;\r\n            let is_discount = req.body.is_discount;\r\n            let variedad_selected = req.body.variedad_selected;\r\n            let price_min = req.body.price_min;\r\n            let price_max = req.body.price_max;\r\n\r\n            let filter = [\r\n                {state: 2},\r\n            ];\r\n\r\n            var categories_s = [];\r\n            var products_s = [];\r\n            // {state: 2,title: new RegExp(search_product,'i')}\r\n            if(categories_selecteds.length > 0){\r\n                categories_selecteds.forEach((categorie) => {\r\n                    categories_s.push(categorie);\r\n                })\r\n                // filter.push({\r\n                //     categorie: {$in: categories_selecteds},\r\n                // })\r\n            }\r\n            let CampaingDiscount = await models.Discount.findOne({\r\n                type_campaign: 1,\r\n                start_date_num: {$lte: TIME_NOW},// start_date_num >= TIME_NOW\r\n                end_date_num: {$gte: TIME_NOW},// >=\r\n            });\r\n            \r\n            if(is_discount == 2){\r\n                if(CampaingDiscount.type_segment == 1){\r\n                    CampaingDiscount.products.forEach(item => {\r\n                        products_s.push(item._id);\r\n                    })\r\n                }else{\r\n                    CampaingDiscount.categories.forEach(item => {\r\n                        categories_s.push(item._id);\r\n                    })\r\n                }\r\n            }\r\n            if(variedad_selected){\r\n                let VAR = await models.Variedad.findById({_id: variedad_selected._id});\r\n                if(VAR){\r\n                    products_s.push(VAR.product);\r\n                }\r\n            }\r\n            if(categories_s.length > 0){\r\n                filter.push({\r\n                    categorie: {$in: categories_s},\r\n                });\r\n            }\r\n            if(products_s.length > 0){\r\n                filter.push({\r\n                    _id: {$in: products_s}\r\n                });\r\n            }\r\n            if(price_min > 0 && price_max > 0){\r\n                filter.push({\r\n                    price_usd: {$gte: price_min, $lte: price_max},\r\n                });\r\n            }\r\n            let OursProducts = await models.Product.find({$and: filter}).sort({\"createdAt\": 1});\r\n\r\n            \r\n            var Products = [];\r\n            for (const Product of OursProducts) {\r\n                let VARIEDADES = await models.Variedad.find({product: Product._id});\r\n                let REVIEWS = await models.Review.find({product: Product._id});\r\n                let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length) : 0;\r\n                let COUNT_REVIEW = REVIEWS.length;\r\n                let DISCOUNT_EXITS = null;\r\n                if(CampaingDiscount){\r\n                    if(CampaingDiscount.type_segment == 1){//por producto\r\n                        let products_a = [];\r\n                        CampaingDiscount.products.forEach(item => {\r\n                            products_a.push(item._id);\r\n                        })\r\n                        if(products_a.includes(Product._id+\"\")){\r\n                            DISCOUNT_EXITS = CampaingDiscount;\r\n                        }\r\n                    }else{//por categoria\r\n                        let categories_a = [];\r\n                        CampaingDiscount.categories.forEach(item => {\r\n                            categories_a.push(item._id);\r\n                        })\r\n                        if(categories_a.includes(Product.categorie+\"\")){\r\n                            DISCOUNT_EXITS = CampaingDiscount;\r\n                        }\r\n                    }\r\n                }\r\n                Products.push(resource.Product.product_list(Product,VARIEDADES,AVG_REVIEW,COUNT_REVIEW,DISCOUNT_EXITS));\r\n            }\r\n            res.status(200).json({\r\n                products: Products,\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"Ocurrio un error\",\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":"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"}},"mtime":1726095898722},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\Cart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CartController = _interopRequireDefault(require(\"../controllers/CartController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.get(\"/list\", _auth.default.verifyEcommerce, _CartController.default.list);\nrouter.post(\"/register\", _auth.default.verifyEcommerce, _CartController.default.register);\nrouter.put(\"/update\", _auth.default.verifyEcommerce, _CartController.default.update);\nrouter.delete(\"/delete/:id\", _auth.default.verifyEcommerce, _CartController.default.delete);\nrouter.post(\"/aplicar_cupon\", _auth.default.verifyEcommerce, _CartController.default.applyCupon);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJyb3V0ZXJ4IiwiZ2V0IiwiYXV0aCIsInZlcmlmeUVjb21tZXJjZSIsImNhcnRDb250cm9sbGVyIiwibGlzdCIsInBvc3QiLCJyZWdpc3RlciIsInB1dCIsInVwZGF0ZSIsImRlbGV0ZSIsImFwcGx5Q3Vwb24iXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJDYXJ0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gJ2V4cHJlc3MtcHJvbWlzZS1yb3V0ZXInXHJcbmltcG9ydCBjYXJ0Q29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9DYXJ0Q29udHJvbGxlcidcclxuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCdcclxuXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuXHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLGNhcnRDb250cm9sbGVyLmxpc3QpO1xyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLGNhcnRDb250cm9sbGVyLnJlZ2lzdGVyKTtcclxucm91dGVyLnB1dChcIi91cGRhdGVcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxjYXJ0Q29udHJvbGxlci51cGRhdGUpO1xyXG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZS86aWRcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxjYXJ0Q29udHJvbGxlci5kZWxldGUpO1xyXG5yb3V0ZXIucG9zdChcIi9hcGxpY2FyX2N1cG9uXCIsYXV0aC52ZXJpZnlFY29tbWVyY2UsY2FydENvbnRyb2xsZXIuYXBwbHlDdXBvbik7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFBc0M7QUFFdEMsTUFBTUEsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEdBQUU7QUFFeEJELE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLE9BQU8sRUFBQ0MsYUFBSSxDQUFDQyxlQUFlLEVBQUNDLHVCQUFjLENBQUNDLElBQUksQ0FBQztBQUM1RE4sTUFBTSxDQUFDTyxJQUFJLENBQUMsV0FBVyxFQUFDSixhQUFJLENBQUNDLGVBQWUsRUFBQ0MsdUJBQWMsQ0FBQ0csUUFBUSxDQUFDO0FBQ3JFUixNQUFNLENBQUNTLEdBQUcsQ0FBQyxTQUFTLEVBQUNOLGFBQUksQ0FBQ0MsZUFBZSxFQUFDQyx1QkFBYyxDQUFDSyxNQUFNLENBQUM7QUFDaEVWLE1BQU0sQ0FBQ1csTUFBTSxDQUFDLGFBQWEsRUFBQ1IsYUFBSSxDQUFDQyxlQUFlLEVBQUNDLHVCQUFjLENBQUNNLE1BQU0sQ0FBQztBQUN2RVgsTUFBTSxDQUFDTyxJQUFJLENBQUMsZ0JBQWdCLEVBQUNKLGFBQUksQ0FBQ0MsZUFBZSxFQUFDQyx1QkFBYyxDQUFDTyxVQUFVLENBQUM7QUFBQyxpQ0FFOURaLE1BQU0ifQ==","map":{"version":3,"names":["router","routerx","get","auth","verifyEcommerce","cartController","list","post","register","put","update","delete","applyCupon"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["Cart.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport cartController from '../controllers/CartController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n\r\nrouter.get(\"/list\",auth.verifyEcommerce,cartController.list);\r\nrouter.post(\"/register\",auth.verifyEcommerce,cartController.register);\r\nrouter.put(\"/update\",auth.verifyEcommerce,cartController.update);\r\nrouter.delete(\"/delete/:id\",auth.verifyEcommerce,cartController.delete);\r\nrouter.post(\"/aplicar_cupon\",auth.verifyEcommerce,cartController.applyCupon);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA;AACA;AACA;AAAsC;AAEtC,MAAMA,MAAM,GAAG,IAAAC,6BAAO,GAAE;AAExBD,MAAM,CAACE,GAAG,CAAC,OAAO,EAACC,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACC,IAAI,CAAC;AAC5DN,MAAM,CAACO,IAAI,CAAC,WAAW,EAACJ,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACG,QAAQ,CAAC;AACrER,MAAM,CAACS,GAAG,CAAC,SAAS,EAACN,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACK,MAAM,CAAC;AAChEV,MAAM,CAACW,MAAM,CAAC,aAAa,EAACR,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACM,MAAM,CAAC;AACvEX,MAAM,CAACO,IAAI,CAAC,gBAAgB,EAACJ,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACO,UAAU,CAAC;AAAC,iCAE9DZ,MAAM"}},"mtime":1679241548364},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\CartController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  list: async (req, res) => {\n    try {\n      let user_id = req.query.user_id;\n      let CARTS = await _models.default.Cart.find({\n        user: user_id\n      }).populate(\"variedad\").populate({\n        path: \"product\",\n        populate: {\n          path: \"categorie\"\n        }\n      });\n      CARTS = CARTS.map(cart => {\n        return _resources.default.Cart.cart_list(cart);\n      });\n      res.status(200).json({\n        carts: CARTS\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      //PRIMERO VAMOS A VALIDAR SI EL PRODUCTO EXISTE EN EL CARRITO DE COMPRA\n      if (data.variedad) {\n        let valid_cart = await _models.default.Cart.findOne({\n          user: data.user,\n          variedad: data.variedad,\n          product: data.product\n        });\n        if (valid_cart) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL PRODUCTO CON LA VARIEDAD YA EXISTE EN EL CARRITO DE COMPRA\"\n          });\n          return;\n        }\n      } else {\n        let valid_cart = await _models.default.Cart.findOne({\n          user: data.user,\n          product: data.product\n        });\n        if (valid_cart) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL PRODUCTO YA EXISTE EN EL CARRITO DE COMPRA\"\n          });\n          return;\n        }\n      }\n\n      //SEGUNDO VAMOS A VALIDAR SI EL STOCK ESTA DISPONIBLE\n\n      if (data.variedad) {\n        let valid_variedad = await _models.default.Variedad.findOne({\n          id_: data.variedad\n        });\n        if (valid_variedad.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL STOCK NO ESTA DISPONIBLE\"\n          });\n          return;\n        }\n      } else {\n        let valid_product = await _models.default.Product.findOne({\n          _id: data.product\n        });\n        if (valid_product.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL STOCK NO ESTA DISPONIBLE\"\n          });\n          return;\n        }\n      }\n      let CART = await _models.default.Cart.create(data);\n      let NEW_CART = await _models.default.Cart.findById({\n        _id: CART._id\n      }).populate(\"variedad\").populate({\n        path: \"product\",\n        populate: {\n          path: \"categorie\"\n        }\n      });\n      res.status(200).json({\n        cart: _resources.default.Cart.cart_list(NEW_CART),\n        message_text: \"EL CARRITO SE REGISTRO CON EXITO\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n\n      //SEGUNDO VAMOS A VALIDAR SI EL STOCK ESTA DISPONIBLE\n\n      if (data.variedad) {\n        let valid_variedad = await _models.default.Variedad.findOne({\n          id_: data.variedad\n        });\n        if (valid_variedad.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL STOCK NO ESTA DISPONIBLE\"\n          });\n          return;\n        }\n      } else {\n        let valid_product = await _models.default.Product.findOne({\n          _id: data.product\n        });\n        if (valid_product.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL STOCK NO ESTA DISPONIBLE\"\n          });\n          return;\n        }\n      }\n      let CART = await _models.default.Cart.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let NEW_CART = await _models.default.Cart.findById({\n        _id: CART._id\n      }).populate(\"variedad\").populate({\n        path: \"product\",\n        populate: {\n          path: \"categorie\"\n        }\n      });\n      res.status(200).json({\n        cart: _resources.default.Cart.cart_list(NEW_CART),\n        message_text: \"EL CARRITO SE ACTUALIZO CON EXITO\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.params.id;\n      let CART = await _models.default.Cart.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message_text: \"EL CARRITO SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  applyCupon: async (req, res) => {\n    try {\n      let data = req.body;\n      // LA PRIMERA VALIDACIÓN TIENE QUE VER CON LA EXISTENCIA DEL CUPON\n      let CUPON = await _models.default.Cupone.findOne({\n        code: data.code\n      });\n      if (!CUPON) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL CUPON INGRESADO NO EXISTE, DIGITE OTRO NUEVAMENTE\"\n        });\n        return;\n      }\n      // TIENE CON EL USO DEL CUPON -- ESPERA \n\n      //la parte operativa\n\n      let carts = await _models.default.Cart.find({\n        user: data.user_id\n      }).populate(\"product\");\n      console.log(carts);\n      let products = [];\n      let categories = [];\n      CUPON.products.forEach(product => {\n        products.push(product._id);\n      });\n      //[837373.838383]\n      //[{_id: 837373},{_id: 838383}].includes\n      CUPON.categories.forEach(categorie => {\n        categories.push(categorie._id);\n      });\n      console.log(products);\n      console.log(categories);\n      for (const cart of carts) {\n        if (products.length > 0) {\n          if (products.includes(cart.product._id + \"\")) {\n            let subtotal = 0;\n            let total = 0;\n            if (CUPON.type_discount == 1) {\n              //PORCENTAJE\n              subtotal = cart.price_unitario - cart.price_unitario * (CUPON.discount * 0.01);\n            } else {\n              //POR MONEDA\n              subtotal = cart.price_unitario - CUPON.discount;\n            }\n            total = subtotal * cart.cantidad;\n            await _models.default.Cart.findByIdAndUpdate({\n              _id: cart._id\n            }, {\n              subtotal: subtotal,\n              total: total,\n              type_discount: CUPON.type_discount,\n              discount: CUPON.discount,\n              code_cupon: CUPON.code\n            });\n          }\n        }\n        if (categories.length > 0) {\n          if (categories.includes(cart.product.categorie + \"\")) {\n            let subtotal = 0;\n            let total = 0;\n            if (CUPON.type_discount == 1) {\n              //PORCENTAJE\n              subtotal = cart.price_unitario - cart.price_unitario * (CUPON.discount * 0.01);\n            } else {\n              //POR MONEDA\n              subtotal = cart.price_unitario - CUPON.discount;\n            }\n            total = subtotal * cart.cantidad;\n            await _models.default.Cart.findByIdAndUpdate({\n              _id: cart._id\n            }, {\n              subtotal: subtotal,\n              total: total,\n              type_discount: CUPON.type_discount,\n              discount: CUPON.discount,\n              code_cupon: CUPON.code\n            });\n          }\n        }\n      }\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL CUPON SE APLICADO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJsaXN0IiwicmVxIiwicmVzIiwidXNlcl9pZCIsInF1ZXJ5IiwiQ0FSVFMiLCJtb2RlbHMiLCJDYXJ0IiwiZmluZCIsInVzZXIiLCJwb3B1bGF0ZSIsInBhdGgiLCJtYXAiLCJjYXJ0IiwicmVzb3VyY2UiLCJjYXJ0X2xpc3QiLCJzdGF0dXMiLCJqc29uIiwiY2FydHMiLCJlcnJvciIsInNlbmQiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyIsInJlZ2lzdGVyIiwiZGF0YSIsImJvZHkiLCJ2YXJpZWRhZCIsInZhbGlkX2NhcnQiLCJmaW5kT25lIiwicHJvZHVjdCIsIm1lc3NhZ2VfdGV4dCIsInZhbGlkX3ZhcmllZGFkIiwiVmFyaWVkYWQiLCJpZF8iLCJzdG9jayIsImNhbnRpZGFkIiwidmFsaWRfcHJvZHVjdCIsIlByb2R1Y3QiLCJfaWQiLCJDQVJUIiwiY3JlYXRlIiwiTkVXX0NBUlQiLCJmaW5kQnlJZCIsInVwZGF0ZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiZGVsZXRlIiwicGFyYW1zIiwiaWQiLCJmaW5kQnlJZEFuZERlbGV0ZSIsImFwcGx5Q3Vwb24iLCJDVVBPTiIsIkN1cG9uZSIsImNvZGUiLCJwcm9kdWN0cyIsImNhdGVnb3JpZXMiLCJmb3JFYWNoIiwicHVzaCIsImNhdGVnb3JpZSIsImxlbmd0aCIsImluY2x1ZGVzIiwic3VidG90YWwiLCJ0b3RhbCIsInR5cGVfZGlzY291bnQiLCJwcmljZV91bml0YXJpbyIsImRpc2NvdW50IiwiY29kZV9jdXBvbiJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiQ2FydENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnXHJcbmltcG9ydCByZXNvdXJjZSBmcm9tICcuLi9yZXNvdXJjZXMnXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIGxpc3Q6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCB1c2VyX2lkID0gcmVxLnF1ZXJ5LnVzZXJfaWQ7XHJcbiAgICAgICAgICAgIGxldCBDQVJUUyA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmQoe1xyXG4gICAgICAgICAgICAgICAgdXNlcjogdXNlcl9pZCxcclxuICAgICAgICAgICAgfSkucG9wdWxhdGUoXCJ2YXJpZWRhZFwiKS5wb3B1bGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBwYXRoOiBcInByb2R1Y3RcIixcclxuICAgICAgICAgICAgICAgIHBvcHVsYXRlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogXCJjYXRlZ29yaWVcIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBDQVJUUyA9IENBUlRTLm1hcCgoY2FydCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlLkNhcnQuY2FydF9saXN0KGNhcnQpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIGNhcnRzOiBDQVJUUyxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICByZWdpc3Rlcjphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuICAgICAgICAgICAgLy9QUklNRVJPIFZBTU9TIEEgVkFMSURBUiBTSSBFTCBQUk9EVUNUTyBFWElTVEUgRU4gRUwgQ0FSUklUTyBERSBDT01QUkFcclxuICAgICAgICAgICAgaWYoZGF0YS52YXJpZWRhZCl7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsaWRfY2FydCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXI6IGRhdGEudXNlcixcclxuICAgICAgICAgICAgICAgICAgICB2YXJpZWRhZDogZGF0YS52YXJpZWRhZCxcclxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiBkYXRhLnByb2R1Y3QsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlmKHZhbGlkX2NhcnQpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogNDAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgUFJPRFVDVE8gQ09OIExBIFZBUklFREFEIFlBIEVYSVNURSBFTiBFTCBDQVJSSVRPIERFIENPTVBSQVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGxldCB2YWxpZF9jYXJ0ID0gYXdhaXQgbW9kZWxzLkNhcnQuZmluZE9uZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcjogZGF0YS51c2VyLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6IGRhdGEucHJvZHVjdCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYodmFsaWRfY2FydCl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiA0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBQUk9EVUNUTyBZQSBFWElTVEUgRU4gRUwgQ0FSUklUTyBERSBDT01QUkFcIixcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9TRUdVTkRPIFZBTU9TIEEgVkFMSURBUiBTSSBFTCBTVE9DSyBFU1RBIERJU1BPTklCTEVcclxuXHJcbiAgICAgICAgICAgIGlmKGRhdGEudmFyaWVkYWQpe1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbGlkX3ZhcmllZGFkID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIGlkXzogZGF0YS52YXJpZWRhZCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYodmFsaWRfdmFyaWVkYWQuc3RvY2sgPCBkYXRhLmNhbnRpZGFkKXtcclxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDQwMyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIFNUT0NLIE5PIEVTVEEgRElTUE9OSUJMRVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbGlkX3Byb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kT25lKHtcclxuICAgICAgICAgICAgICAgICAgICBfaWQ6IGRhdGEucHJvZHVjdCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYodmFsaWRfcHJvZHVjdC5zdG9jayA8IGRhdGEuY2FudGlkYWQpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogNDAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgU1RPQ0sgTk8gRVNUQSBESVNQT05JQkxFXCJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IENBUlQgPSBhd2FpdCBtb2RlbHMuQ2FydC5jcmVhdGUoZGF0YSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgTkVXX0NBUlQgPSBhd2FpdCBtb2RlbHMuQ2FydC5maW5kQnlJZCh7X2lkOiBDQVJULl9pZH0pLnBvcHVsYXRlKFwidmFyaWVkYWRcIikucG9wdWxhdGUoe1xyXG4gICAgICAgICAgICAgICAgcGF0aDogXCJwcm9kdWN0XCIsXHJcbiAgICAgICAgICAgICAgICBwb3B1bGF0ZToge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IFwiY2F0ZWdvcmllXCJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBjYXJ0OiByZXNvdXJjZS5DYXJ0LmNhcnRfbGlzdChORVdfQ0FSVCksXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgQ0FSUklUTyBTRSBSRUdJU1RSTyBDT04gRVhJVE9cIixcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB1cGRhdGU6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XHJcblxyXG4gICAgICAgICAgICAvL1NFR1VORE8gVkFNT1MgQSBWQUxJREFSIFNJIEVMIFNUT0NLIEVTVEEgRElTUE9OSUJMRVxyXG5cclxuICAgICAgICAgICAgaWYoZGF0YS52YXJpZWRhZCl7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsaWRfdmFyaWVkYWQgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZE9uZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgaWRfOiBkYXRhLnZhcmllZGFkLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZih2YWxpZF92YXJpZWRhZC5zdG9jayA8IGRhdGEuY2FudGlkYWQpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogNDAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgU1RPQ0sgTk8gRVNUQSBESVNQT05JQkxFXCJcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsaWRfcHJvZHVjdCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIF9pZDogZGF0YS5wcm9kdWN0LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZih2YWxpZF9wcm9kdWN0LnN0b2NrIDwgZGF0YS5jYW50aWRhZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiA0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBTVE9DSyBOTyBFU1RBIERJU1BPTklCTEVcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgQ0FSVCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IGRhdGEuX2lkfSxkYXRhKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBORVdfQ0FSVCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkKHtfaWQ6IENBUlQuX2lkfSkucG9wdWxhdGUoXCJ2YXJpZWRhZFwiKS5wb3B1bGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBwYXRoOiBcInByb2R1Y3RcIixcclxuICAgICAgICAgICAgICAgIHBvcHVsYXRlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogXCJjYXRlZ29yaWVcIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIGNhcnQ6IHJlc291cmNlLkNhcnQuY2FydF9saXN0KE5FV19DQVJUKSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBDQVJSSVRPIFNFIEFDVFVBTElaTyBDT04gRVhJVE9cIixcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBkZWxldGU6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBfaWQgPSByZXEucGFyYW1zLmlkO1xyXG4gICAgICAgICAgICBsZXQgQ0FSVCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IF9pZH0pO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENBUlJJVE8gU0UgRUxJTUlOTyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6XCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGFwcGx5Q3Vwb246YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XHJcbiAgICAgICAgICAgIC8vIExBIFBSSU1FUkEgVkFMSURBQ0nDk04gVElFTkUgUVVFIFZFUiBDT04gTEEgRVhJU1RFTkNJQSBERUwgQ1VQT05cclxuICAgICAgICAgICAgbGV0IENVUE9OID0gYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kT25lKHtcclxuICAgICAgICAgICAgICAgIGNvZGU6IGRhdGEuY29kZSxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgaWYoIUNVUE9OKXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiA0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENVUE9OIElOR1JFU0FETyBOTyBFWElTVEUsIERJR0lURSBPVFJPIE5VRVZBTUVOVEVcIlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gVElFTkUgQ09OIEVMIFVTTyBERUwgQ1VQT04gLS0gRVNQRVJBIFxyXG5cclxuICAgICAgICAgICAgLy9sYSBwYXJ0ZSBvcGVyYXRpdmFcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBjYXJ0cyA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmQoe3VzZXI6IGRhdGEudXNlcl9pZH0pLnBvcHVsYXRlKFwicHJvZHVjdFwiKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coY2FydHMpO1xyXG4gICAgICAgICAgICBsZXQgcHJvZHVjdHMgPSBbXTtcclxuICAgICAgICAgICAgbGV0IGNhdGVnb3JpZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIENVUE9OLnByb2R1Y3RzLmZvckVhY2goKHByb2R1Y3QpID0+IHtcclxuICAgICAgICAgICAgICAgIHByb2R1Y3RzLnB1c2gocHJvZHVjdC5faWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy9bODM3MzczLjgzODM4M11cclxuICAgICAgICAgICAgLy9be19pZDogODM3MzczfSx7X2lkOiA4MzgzODN9XS5pbmNsdWRlc1xyXG4gICAgICAgICAgICBDVVBPTi5jYXRlZ29yaWVzLmZvckVhY2goKGNhdGVnb3JpZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllcy5wdXNoKGNhdGVnb3JpZS5faWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocHJvZHVjdHMpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjYXRlZ29yaWVzKTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBjYXJ0IG9mIGNhcnRzKSB7XHJcbiAgICAgICAgICAgICAgICBpZihwcm9kdWN0cy5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihwcm9kdWN0cy5pbmNsdWRlcyhjYXJ0LnByb2R1Y3QuX2lkK1wiXCIpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN1YnRvdGFsID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRvdGFsID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoQ1VQT04udHlwZV9kaXNjb3VudCA9PSAxKXsvL1BPUkNFTlRBSkVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRvdGFsID0gY2FydC5wcmljZV91bml0YXJpbyAtIGNhcnQucHJpY2VfdW5pdGFyaW8qKENVUE9OLmRpc2NvdW50KjAuMDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsvL1BPUiBNT05FREFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRvdGFsID0gY2FydC5wcmljZV91bml0YXJpbyAtIENVUE9OLmRpc2NvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsID0gc3VidG90YWwgKiBjYXJ0LmNhbnRpZGFkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgbW9kZWxzLkNhcnQuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogY2FydC5faWR9LHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRvdGFsOiBzdWJ0b3RhbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsOiB0b3RhbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVfZGlzY291bnQ6IENVUE9OLnR5cGVfZGlzY291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudDogQ1VQT04uZGlzY291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlX2N1cG9uOiBDVVBPTi5jb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZihjYXRlZ29yaWVzLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGNhdGVnb3JpZXMuaW5jbHVkZXMoY2FydC5wcm9kdWN0LmNhdGVnb3JpZStcIlwiKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdWJ0b3RhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0b3RhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKENVUE9OLnR5cGVfZGlzY291bnQgPT0gMSl7Ly9QT1JDRU5UQUpFXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0b3RhbCA9IGNhcnQucHJpY2VfdW5pdGFyaW8gLSBjYXJ0LnByaWNlX3VuaXRhcmlvKihDVVBPTi5kaXNjb3VudCowLjAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7Ly9QT1IgTU9ORURBXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0b3RhbCA9IGNhcnQucHJpY2VfdW5pdGFyaW8gLSBDVVBPTi5kaXNjb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCA9IHN1YnRvdGFsICogY2FydC5jYW50aWRhZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IGNhcnQuX2lkfSx7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0b3RhbDogc3VidG90YWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbDogdG90YWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlX2Rpc2NvdW50OiBDVVBPTi50eXBlX2Rpc2NvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzY291bnQ6IENVUE9OLmRpc2NvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZV9jdXBvbjogQ1VQT04uY29kZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgQ1VQT04gU0UgQVBMSUNBRE8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOyBcclxu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","map":{"version":3,"names":["list","req","res","user_id","query","CARTS","models","Cart","find","user","populate","path","map","cart","resource","cart_list","status","json","carts","error","send","message","console","log","register","data","body","variedad","valid_cart","findOne","product","message_text","valid_variedad","Variedad","id_","stock","cantidad","valid_product","Product","_id","CART","create","NEW_CART","findById","update","findByIdAndUpdate","delete","params","id","findByIdAndDelete","applyCupon","CUPON","Cupone","code","products","categories","forEach","push","categorie","length","includes","subtotal","total","type_discount","price_unitario","discount","code_cupon"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["CartController.js"],"sourcesContent":["import models from '../models'\r\nimport resource from '../resources'\r\nexport default {\r\n    list:async(req,res) => {\r\n        try {\r\n            let user_id = req.query.user_id;\r\n            let CARTS = await models.Cart.find({\r\n                user: user_id,\r\n            }).populate(\"variedad\").populate({\r\n                path: \"product\",\r\n                populate: {\r\n                    path: \"categorie\"\r\n                },\r\n            });\r\n\r\n            CARTS = CARTS.map((cart) => {\r\n                return resource.Cart.cart_list(cart);\r\n            });\r\n\r\n            res.status(200).json({\r\n                carts: CARTS,\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    register:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            //PRIMERO VAMOS A VALIDAR SI EL PRODUCTO EXISTE EN EL CARRITO DE COMPRA\r\n            if(data.variedad){\r\n                let valid_cart = await models.Cart.findOne({\r\n                    user: data.user,\r\n                    variedad: data.variedad,\r\n                    product: data.product,\r\n                });\r\n                if(valid_cart){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL PRODUCTO CON LA VARIEDAD YA EXISTE EN EL CARRITO DE COMPRA\",\r\n                    })\r\n                    return;\r\n                }\r\n            }else{\r\n                let valid_cart = await models.Cart.findOne({\r\n                    user: data.user,\r\n                    product: data.product,\r\n                });\r\n                if(valid_cart){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL PRODUCTO YA EXISTE EN EL CARRITO DE COMPRA\",\r\n                    })\r\n                    return;\r\n                }\r\n            }\r\n\r\n            //SEGUNDO VAMOS A VALIDAR SI EL STOCK ESTA DISPONIBLE\r\n\r\n            if(data.variedad){\r\n                let valid_variedad = await models.Variedad.findOne({\r\n                    id_: data.variedad,\r\n                });\r\n                if(valid_variedad.stock < data.cantidad){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL STOCK NO ESTA DISPONIBLE\"\r\n                    })\r\n                    return;\r\n                }\r\n            }else{\r\n                let valid_product = await models.Product.findOne({\r\n                    _id: data.product,\r\n                });\r\n                if(valid_product.stock < data.cantidad){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL STOCK NO ESTA DISPONIBLE\"\r\n                    });\r\n                    return;\r\n                }\r\n            }\r\n            let CART = await models.Cart.create(data);\r\n            \r\n            let NEW_CART = await models.Cart.findById({_id: CART._id}).populate(\"variedad\").populate({\r\n                path: \"product\",\r\n                populate: {\r\n                    path: \"categorie\"\r\n                },\r\n            });\r\n            res.status(200).json({\r\n                cart: resource.Cart.cart_list(NEW_CART),\r\n                message_text: \"EL CARRITO SE REGISTRO CON EXITO\",\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    update:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n\r\n            //SEGUNDO VAMOS A VALIDAR SI EL STOCK ESTA DISPONIBLE\r\n\r\n            if(data.variedad){\r\n                let valid_variedad = await models.Variedad.findOne({\r\n                    id_: data.variedad,\r\n                });\r\n                if(valid_variedad.stock < data.cantidad){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL STOCK NO ESTA DISPONIBLE\"\r\n                    })\r\n                    return;\r\n                }\r\n            }else{\r\n                let valid_product = await models.Product.findOne({\r\n                    _id: data.product,\r\n                });\r\n                if(valid_product.stock < data.cantidad){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL STOCK NO ESTA DISPONIBLE\"\r\n                    });\r\n                    return;\r\n                }\r\n            }\r\n            let CART = await models.Cart.findByIdAndUpdate({_id: data._id},data);\r\n            \r\n            let NEW_CART = await models.Cart.findById({_id: CART._id}).populate(\"variedad\").populate({\r\n                path: \"product\",\r\n                populate: {\r\n                    path: \"categorie\"\r\n                },\r\n            });\r\n            res.status(200).json({\r\n                cart: resource.Cart.cart_list(NEW_CART),\r\n                message_text: \"EL CARRITO SE ACTUALIZO CON EXITO\",\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    delete:async(req,res) => {\r\n        try {\r\n            let _id = req.params.id;\r\n            let CART = await models.Cart.findByIdAndDelete({_id: _id});\r\n\r\n            res.status(200).json({\r\n                message_text: \"EL CARRITO SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    applyCupon:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            // LA PRIMERA VALIDACIÓN TIENE QUE VER CON LA EXISTENCIA DEL CUPON\r\n            let CUPON = await models.Cupone.findOne({\r\n                code: data.code,\r\n            })\r\n            if(!CUPON){\r\n                res.status(200).json({\r\n                    message: 403,\r\n                    message_text: \"EL CUPON INGRESADO NO EXISTE, DIGITE OTRO NUEVAMENTE\"\r\n                });\r\n                return;\r\n            }\r\n            // TIENE CON EL USO DEL CUPON -- ESPERA \r\n\r\n            //la parte operativa\r\n            \r\n            let carts = await models.Cart.find({user: data.user_id}).populate(\"product\");\r\n            console.log(carts);\r\n            let products = [];\r\n            let categories = [];\r\n\r\n            CUPON.products.forEach((product) => {\r\n                products.push(product._id);\r\n            });\r\n            //[837373.838383]\r\n            //[{_id: 837373},{_id: 838383}].includes\r\n            CUPON.categories.forEach((categorie) => {\r\n                categories.push(categorie._id);\r\n            });\r\n            console.log(products);\r\n            console.log(categories);\r\n            for (const cart of carts) {\r\n                if(products.length > 0){\r\n                    if(products.includes(cart.product._id+\"\")){\r\n                        let subtotal = 0;\r\n                        let total = 0;\r\n                        if(CUPON.type_discount == 1){//PORCENTAJE\r\n                            subtotal = cart.price_unitario - cart.price_unitario*(CUPON.discount*0.01);\r\n                        }else{//POR MONEDA\r\n                            subtotal = cart.price_unitario - CUPON.discount;\r\n                        }\r\n                        total = subtotal * cart.cantidad;\r\n\r\n                        await models.Cart.findByIdAndUpdate({_id: cart._id},{\r\n                            subtotal: subtotal,\r\n                            total: total,\r\n                            type_discount: CUPON.type_discount,\r\n                            discount: CUPON.discount,\r\n                            code_cupon: CUPON.code,\r\n                        });\r\n                    }\r\n                }\r\n                if(categories.length > 0){\r\n                    if(categories.includes(cart.product.categorie+\"\")){\r\n                        let subtotal = 0;\r\n                        let total = 0;\r\n                        if(CUPON.type_discount == 1){//PORCENTAJE\r\n                            subtotal = cart.price_unitario - cart.price_unitario*(CUPON.discount*0.01);\r\n                        }else{//POR MONEDA\r\n                            subtotal = cart.price_unitario - CUPON.discount;\r\n                        }\r\n                        total = subtotal * cart.cantidad;\r\n\r\n                        await models.Cart.findByIdAndUpdate({_id: cart._id},{\r\n                            subtotal: subtotal,\r\n                            total: total,\r\n                            type_discount: CUPON.type_discount,\r\n                            discount: CUPON.discount,\r\n                            code_cupon: CUPON.code,\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL CUPON SE APLICADO CORRECTAMENTE\",\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error); \r\n        }\r\n    },\r\n}"],"mappings":"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"}},"mtime":1679242177694},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\AddressClient.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _AddressClientController = _interopRequireDefault(require(\"../controllers/AddressClientController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", _auth.default.verifyEcommerce, _AddressClientController.default.register);\nrouter.put(\"/update\", _auth.default.verifyEcommerce, _AddressClientController.default.update);\nrouter.get(\"/list\", _auth.default.verifyEcommerce, _AddressClientController.default.list);\nrouter.delete(\"/delete/:id\", _auth.default.verifyEcommerce, _AddressClientController.default.remove);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlFY29tbWVyY2UiLCJBZGRyZXNzQ2xpZW50Q29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImRlbGV0ZSIsInJlbW92ZSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxccm91dGVyXFwiLCJzb3VyY2VzIjpbIkFkZHJlc3NDbGllbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IEFkZHJlc3NDbGllbnRDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL0FkZHJlc3NDbGllbnRDb250cm9sbGVyJ1xyXG5pbXBvcnQgYXV0aCBmcm9tICcuLi9taWRkbGV3YXJlcy9hdXRoJ1xyXG5cclxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xyXG4vLyBodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3VzZXJzL3JlZ2lzdGVyXHJcblxyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLEFkZHJlc3NDbGllbnRDb250cm9sbGVyLnJlZ2lzdGVyKTtcclxucm91dGVyLnB1dChcIi91cGRhdGVcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxBZGRyZXNzQ2xpZW50Q29udHJvbGxlci51cGRhdGUpO1xyXG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxBZGRyZXNzQ2xpZW50Q29udHJvbGxlci5saXN0KTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGUvOmlkXCIsYXV0aC52ZXJpZnlFY29tbWVyY2UsQWRkcmVzc0NsaWVudENvbnRyb2xsZXIucmVtb3ZlKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUFzQztBQUV0QyxNQUFNQSxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sR0FBRTtBQUN4Qjs7QUFFQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFDQyxhQUFJLENBQUNDLGVBQWUsRUFBQ0MsZ0NBQXVCLENBQUNDLFFBQVEsQ0FBQztBQUM5RU4sTUFBTSxDQUFDTyxHQUFHLENBQUMsU0FBUyxFQUFDSixhQUFJLENBQUNDLGVBQWUsRUFBQ0MsZ0NBQXVCLENBQUNHLE1BQU0sQ0FBQztBQUN6RVIsTUFBTSxDQUFDUyxHQUFHLENBQUMsT0FBTyxFQUFDTixhQUFJLENBQUNDLGVBQWUsRUFBQ0MsZ0NBQXVCLENBQUNLLElBQUksQ0FBQztBQUNyRVYsTUFBTSxDQUFDVyxNQUFNLENBQUMsYUFBYSxFQUFDUixhQUFJLENBQUNDLGVBQWUsRUFBQ0MsZ0NBQXVCLENBQUNPLE1BQU0sQ0FBQztBQUFDLGlDQUVsRVosTUFBTSJ9","map":{"version":3,"names":["router","routerx","post","auth","verifyEcommerce","AddressClientController","register","put","update","get","list","delete","remove"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["AddressClient.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport AddressClientController from '../controllers/AddressClientController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n// http://localhost:3000/api/users/register\r\n\r\nrouter.post(\"/register\",auth.verifyEcommerce,AddressClientController.register);\r\nrouter.put(\"/update\",auth.verifyEcommerce,AddressClientController.update);\r\nrouter.get(\"/list\",auth.verifyEcommerce,AddressClientController.list);\r\nrouter.delete(\"/delete/:id\",auth.verifyEcommerce,AddressClientController.remove);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA;AACA;AACA;AAAsC;AAEtC,MAAMA,MAAM,GAAG,IAAAC,6BAAO,GAAE;AACxB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,eAAe,EAACC,gCAAuB,CAACC,QAAQ,CAAC;AAC9EN,MAAM,CAACO,GAAG,CAAC,SAAS,EAACJ,aAAI,CAACC,eAAe,EAACC,gCAAuB,CAACG,MAAM,CAAC;AACzER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,eAAe,EAACC,gCAAuB,CAACK,IAAI,CAAC;AACrEV,MAAM,CAACW,MAAM,CAAC,aAAa,EAACR,aAAI,CAACC,eAAe,EAACC,gCAAuB,CAACO,MAAM,CAAC;AAAC,iCAElEZ,MAAM"}},"mtime":1679756135320},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\AddressClientController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      const address_client = await _models.default.AddressClient.create(req.body);\n      res.status(200).json({\n        message: \"LA DIRECCIÓN DEL CLIENTE SE REGISTRO CORRECTAMENTE\",\n        address_client: address_client\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"HUBO UN ERROR\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      await _models.default.AddressClient.findByIdAndUpdate({\n        _id: req.body._id\n      }, data);\n      let AddressClient = await _models.default.AddressClient.findById({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"LA DIRECCIÓN DEL CLIENTE SE EDITO CORRECTAMENTE\",\n        address_client: AddressClient\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"HUBO UN ERROR\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      let ADDRESS_CLIENT = await _models.default.AddressClient.find({\n        user: req.query.user_id\n      }).sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        address_client: ADDRESS_CLIENT\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"HUBO UN ERROR\"\n      });\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.AddressClient.findByIdAndDelete({\n        _id: req.params._id\n      });\n      res.status(200).json({\n        message: \"LA DIRECCIÓN DEL CLIENTE SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"HUBO UN ERROR\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZWdpc3RlciIsInJlcSIsInJlcyIsImFkZHJlc3NfY2xpZW50IiwibW9kZWxzIiwiQWRkcmVzc0NsaWVudCIsImNyZWF0ZSIsImJvZHkiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInNlbmQiLCJ1cGRhdGUiLCJkYXRhIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJfaWQiLCJmaW5kQnlJZCIsImxpc3QiLCJBRERSRVNTX0NMSUVOVCIsImZpbmQiLCJ1c2VyIiwicXVlcnkiLCJ1c2VyX2lkIiwic29ydCIsInJlbW92ZSIsImZpbmRCeUlkQW5kRGVsZXRlIiwicGFyYW1zIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJBZGRyZXNzQ2xpZW50Q29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHJlZ2lzdGVyOmFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBhZGRyZXNzX2NsaWVudCA9IGF3YWl0IG1vZGVscy5BZGRyZXNzQ2xpZW50LmNyZWF0ZShyZXEuYm9keSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTEEgRElSRUNDScOTTiBERUwgQ0xJRU5URSBTRSBSRUdJU1RSTyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICBhZGRyZXNzX2NsaWVudDogYWRkcmVzc19jbGllbnQsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJIVUJPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB1cGRhdGU6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5BZGRyZXNzQ2xpZW50LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHJlcS5ib2R5Ll9pZH0sZGF0YSk7XHJcbiAgICAgICAgICAgIGxldCBBZGRyZXNzQ2xpZW50ID0gYXdhaXQgbW9kZWxzLkFkZHJlc3NDbGllbnQuZmluZEJ5SWQoe19pZDogcmVxLmJvZHkuX2lkfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTEEgRElSRUNDScOTTiBERUwgQ0xJRU5URSBTRSBFRElUTyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICBhZGRyZXNzX2NsaWVudDogQWRkcmVzc0NsaWVudCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkhVQk8gVU4gRVJST1JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGxpc3Q6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBBRERSRVNTX0NMSUVOVCA9IGF3YWl0IG1vZGVscy5BZGRyZXNzQ2xpZW50LmZpbmQoe3VzZXI6IHJlcS5xdWVyeS51c2VyX2lkfSkuc29ydCh7J2NyZWF0ZWRBdCc6IC0xfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIGFkZHJlc3NfY2xpZW50OiBBRERSRVNTX0NMSUVOVFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiSFVCTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgcmVtb3ZlOmFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuQWRkcmVzc0NsaWVudC5maW5kQnlJZEFuZERlbGV0ZSh7X2lkOiByZXEucGFyYW1zLl9pZH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkxBIERJUkVDQ0nDk04gREVMIENMSUVOVEUgU0UgRUxJTUlOTyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJIVUJPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQStCO0FBQUEsaUNBRWhCO0VBQ1hBLFFBQVEsRUFB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","map":{"version":3,"names":["register","req","res","address_client","models","AddressClient","create","body","status","json","message","error","console","log","send","update","data","findByIdAndUpdate","_id","findById","list","ADDRESS_CLIENT","find","user","query","user_id","sort","remove","findByIdAndDelete","params"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["AddressClientController.js"],"sourcesContent":["import models from \"../models\";\r\n\r\nexport default {\r\n    register:async(req,res) => {\r\n        try {\r\n            const address_client = await models.AddressClient.create(req.body);\r\n            res.status(200).json({\r\n                message: \"LA DIRECCIÓN DEL CLIENTE SE REGISTRO CORRECTAMENTE\",\r\n                address_client: address_client,\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"HUBO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    update:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            await models.AddressClient.findByIdAndUpdate({_id: req.body._id},data);\r\n            let AddressClient = await models.AddressClient.findById({_id: req.body._id});\r\n            res.status(200).json({\r\n                message: \"LA DIRECCIÓN DEL CLIENTE SE EDITO CORRECTAMENTE\",\r\n                address_client: AddressClient,\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"HUBO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    list:async(req,res) => {\r\n        try {\r\n            let ADDRESS_CLIENT = await models.AddressClient.find({user: req.query.user_id}).sort({'createdAt': -1});\r\n            res.status(200).json({\r\n                address_client: ADDRESS_CLIENT\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"HUBO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    remove:async(req,res) => {\r\n        try {\r\n            await models.AddressClient.findByIdAndDelete({_id: req.params._id});\r\n            res.status(200).json({\r\n                message: \"LA DIRECCIÓN DEL CLIENTE SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"HUBO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":";;;;;;AAAA;AAA+B;AAAA,iCAEhB;EACXA,QAAQ,EAAC,OAAMC,GAAG,EAACC,GAAG,KAAK;IACvB,IAAI;MACA,MAAMC,cAAc,GAAG,MAAMC,eAAM,CAACC,aAAa,CAACC,MAAM,CAACL,GAAG,CAACM,IAAI,CAAC;MAClEL,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE,oDAAoD;QAC7DP,cAAc,EAAEA;MACpB,CAAC,CAAC;IACN,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClBT,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;QACjBJ,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ,CAAC;EACDK,MAAM,EAAC,OAAMd,GAAG,EAACC,GAAG,KAAK;IACrB,IAAI;MACA,IAAIc,IAAI,GAAGf,GAAG,CAACM,IAAI;MACnB,MAAMH,eAAM,CAACC,aAAa,CAACY,iBAAiB,CAAC;QAACC,GAAG,EAAEjB,GAAG,CAACM,IAAI,CAACW;MAAG,CAAC,EAACF,IAAI,CAAC;MACtE,IAAIX,aAAa,GAAG,MAAMD,eAAM,CAACC,aAAa,CAACc,QAAQ,CAAC;QAACD,GAAG,EAAEjB,GAAG,CAACM,IAAI,CAACW;MAAG,CAAC,CAAC;MAC5EhB,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE,iDAAiD;QAC1DP,cAAc,EAAEE;MACpB,CAAC,CAAC;IACN,CAAC,CAAC,OAAOM,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClBT,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;QACjBJ,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ,CAAC;EACDU,IAAI,EAAC,OAAMnB,GAAG,EAACC,GAAG,KAAK;IACnB,IAAI;MACA,IAAImB,cAAc,GAAG,MAAMjB,eAAM,CAACC,aAAa,CAACiB,IAAI,CAAC;QAACC,IAAI,EAAEtB,GAAG,CAACuB,KAAK,CAACC;MAAO,CAAC,CAAC,CAACC,IAAI,CAAC;QAAC,WAAW,EAAE,CAAC;MAAC,CAAC,CAAC;MACvGxB,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBN,cAAc,EAAEkB;MACpB,CAAC,CAAC;IACN,CAAC,CAAC,OAAOV,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClBT,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;QACjBJ,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ,CAAC;EACDiB,MAAM,EAAC,OAAM1B,GAAG,EAACC,GAAG,KAAK;IACrB,IAAI;MACA,MAAME,eAAM,CAACC,aAAa,CAACuB,iBAAiB,CAAC;QAACV,GAAG,EAAEjB,GAAG,CAAC4B,MAAM,CAACX;MAAG,CAAC,CAAC;MACnEhB,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClBT,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;QACjBJ,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ;AACJ,CAAC"}},"mtime":1679758734010},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\Sale.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _SaleController = _interopRequireDefault(require(\"../controllers/SaleController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", _auth.default.verifyEcommerce, _SaleController.default.register);\n// router.get(\"/send_email/:id\",SaleController.send_email);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlFY29tbWVyY2UiLCJTYWxlQ29udHJvbGxlciIsInJlZ2lzdGVyIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiU2FsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tICdleHByZXNzLXByb21pc2Utcm91dGVyJ1xyXG5pbXBvcnQgU2FsZUNvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvU2FsZUNvbnRyb2xsZXInXHJcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXHJcblxyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcbi8vIGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcnMvcmVnaXN0ZXJcclxuXHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsYXV0aC52ZXJpZnlFY29tbWVyY2UsU2FsZUNvbnRyb2xsZXIucmVnaXN0ZXIpO1xyXG4vLyByb3V0ZXIuZ2V0KFwiL3NlbmRfZW1haWwvOmlkXCIsU2FsZUNvbnRyb2xsZXIuc2VuZF9lbWFpbCk7XHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUFzQztBQUV0QyxNQUFNQSxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sR0FBRTtBQUN4Qjs7QUFFQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFDQyxhQUFJLENBQUNDLGVBQWUsRUFBQ0MsdUJBQWMsQ0FBQ0MsUUFBUSxDQUFDO0FBQ3JFO0FBQUEsaUNBQ2VOLE1BQU0ifQ==","map":{"version":3,"names":["router","routerx","post","auth","verifyEcommerce","SaleController","register"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["Sale.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport SaleController from '../controllers/SaleController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n// http://localhost:3000/api/users/register\r\n\r\nrouter.post(\"/register\",auth.verifyEcommerce,SaleController.register);\r\n// router.get(\"/send_email/:id\",SaleController.send_email);\r\nexport default router;"],"mappings":";;;;;;AAAA;AACA;AACA;AAAsC;AAEtC,MAAMA,MAAM,GAAG,IAAAC,6BAAO,GAAE;AACxB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACC,QAAQ,CAAC;AACrE;AAAA,iCACeN,MAAM"}},"mtime":1680307071422},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\SaleController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _handlebars = _interopRequireDefault(require(\"handlebars\"));\nvar _ejs = _interopRequireDefault(require(\"ejs\"));\nvar _nodemailer = _interopRequireDefault(require(\"nodemailer\"));\nvar _nodemailerSmtpTransport = _interopRequireDefault(require(\"nodemailer-smtp-transport\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nasync function send_email(sale_id) {\n  try {\n    var readHTMLFile = function (path, callback) {\n      _fs.default.readFile(path, {\n        encoding: 'utf-8'\n      }, function (err, html) {\n        if (err) {\n          throw err;\n          callback(err);\n        } else {\n          callback(null, html);\n        }\n      });\n    };\n    let Order = await _models.default.Sale.findById({\n      _id: sale_id\n    }).populate(\"user\");\n    let OrderDetail = await _models.default.SaleDetail.find({\n      sale: Order._id\n    }).populate(\"product\").populate(\"variedad\");\n    let AddressSale = await _models.default.SaleAddress.findOne({\n      sale: Order._id\n    });\n    var transporter = _nodemailer.default.createTransport((0, _nodemailerSmtpTransport.default)({\n      service: 'gmail',\n      host: 'smtp.gmail.com',\n      auth: {\n        user: 'demo@gmail.com',\n        pass: 'bilcfvchcrscbseu'\n      }\n    }));\n    readHTMLFile(process.cwd() + '/mails/email_sale.html', (err, html) => {\n      let rest_html = _ejs.default.render(html, {\n        order: Order,\n        address_sale: AddressSale,\n        order_detail: OrderDetail\n      });\n      var template = _handlebars.default.compile(rest_html);\n      var htmlToSend = template({\n        op: true\n      });\n      var mailOptions = {\n        from: 'demo@gmail.com',\n        to: Order.user.email,\n        subject: 'Finaliza tu compra ' + Order._id,\n        html: htmlToSend\n      };\n      transporter.sendMail(mailOptions, function (error, info) {\n        if (!error) {\n          console.log('Email sent: ' + info.response);\n        }\n      });\n    });\n\n    // res.status(200).json({\n    //     message: \"EL CORREO SE ENVIO CORRECTAMENTE\",\n    // });\n  } catch (error) {\n    console.log(error);\n    // res.status(500).send({\n    //     menssage:\"OCURRIO UN ERROR\",\n    // });\n  }\n}\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let sale_data = req.body.sale;\n      let sale_address_data = req.body.sale_address;\n      let SALE = await _models.default.Sale.create(sale_data);\n      sale_address_data.sale = SALE._id;\n      let SALE_ADDRESS = await _models.default.SaleAddress.create(sale_address_data);\n      let CARTS = await _models.default.Cart.find({\n        user: SALE.user\n      });\n      for (let CART of CARTS) {\n        CART = CART.toObject();\n        CART.sale = SALE._id;\n        //EL DESCUENTO DE INVENTARIO\n        if (CART.variedad) {\n          //MULTIPLE INVENTARIO\n          let VARIEDAD = await _models.default.Variedad.findById({\n            _id: CART.variedad\n          });\n          let new_stock = VARIEDAD.stock - CART.cantidad;\n          await _models.default.Variedad.findByIdAndUpdate({\n            _id: CART.variedad\n          }, {\n            stock: new_stock\n          });\n        } else {\n          //UNITARIO INVENTARIO\n          let PRODUCT = await _models.default.Product.findById({\n            _id: CART.product\n          });\n          let new_stock = PRODUCT.stock - CART.cantidad;\n          await _models.default.Product.findByIdAndUpdate({\n            _id: CART.product\n          }, {\n            stock: new_stock\n          });\n        }\n        // \n        await _models.default.SaleDetail.create(CART);\n        await _models.default.Cart.findByIdAndDelete({\n          _id: CART._id\n        });\n      }\n      await send_email(SALE._id);\n      res.status(200).json({\n        message: \"LA ORDEN DE GENERO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"HUBO UN ERROR\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzZW5kX2VtYWlsIiwic2FsZV9pZCIsInJlYWRIVE1MRmlsZSIsInBhdGgiLCJjYWxsYmFjayIsImZzIiwicmVhZEZpbGUiLCJlbmNvZGluZyIsImVyciIsImh0bWwiLCJPcmRlciIsIm1vZGVscyIsIlNhbGUiLCJmaW5kQnlJZCIsIl9pZCIsInBvcHVsYXRlIiwiT3JkZXJEZXRhaWwiLCJTYWxlRGV0YWlsIiwiZmluZCIsInNhbGUiLCJBZGRyZXNzU2FsZSIsIlNhbGVBZGRyZXNzIiwiZmluZE9uZSIsInRyYW5zcG9ydGVyIiwibm9kZW1haWxlciIsImNyZWF0ZVRyYW5zcG9ydCIsInNtdHBUcmFuc3BvcnQiLCJzZXJ2aWNlIiwiaG9zdCIsImF1dGgiLCJ1c2VyIiwicGFzcyIsInByb2Nlc3MiLCJjd2QiLCJyZXN0X2h0bWwiLCJlanMiLCJyZW5kZXIiLCJvcmRlciIsImFkZHJlc3Nfc2FsZSIsIm9yZGVyX2RldGFpbCIsInRlbXBsYXRlIiwiaGFuZGxlYmFycyIsImNvbXBpbGUiLCJodG1sVG9TZW5kIiwib3AiLCJtYWlsT3B0aW9ucyIsImZyb20iLCJ0byIsImVtYWlsIiwic3ViamVjdCIsInNlbmRNYWlsIiwiZXJyb3IiLCJpbmZvIiwiY29uc29sZSIsImxvZyIsInJlc3BvbnNlIiwicmVnaXN0ZXIiLCJyZXEiLCJyZXMiLCJzYWxlX2RhdGEiLCJib2R5Iiwic2FsZV9hZGRyZXNzX2RhdGEiLCJzYWxlX2FkZHJlc3MiLCJTQUxFIiwiY3JlYXRlIiwiU0FMRV9BRERSRVNTIiwiQ0FSVFMiLCJDYXJ0IiwiQ0FSVCIsInRvT2JqZWN0IiwidmFyaWVkYWQiLCJWQVJJRURBRCIsIlZhcmllZGFkIiwibmV3X3N0b2NrIiwic3RvY2siLCJjYW50aWRhZCIsImZpbmRCeUlkQW5kVXBkYXRlIiwiUFJPRFVDVCIsIlByb2R1Y3QiLCJwcm9kdWN0IiwiZmluZEJ5SWRBbmREZWxldGUiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInNlbmQiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIlNhbGVDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSAnLi4vbW9kZWxzJztcclxuXHJcbmltcG9ydCBmcyBmcm9tICdmcyc7XHJcbmltcG9ydCBoYW5kbGViYXJzIGZyb20gJ2hhbmRsZWJhcnMnO1xyXG5pbXBvcnQgZWpzIGZyb20gJ2Vqcyc7XHJcbmltcG9ydCBub2RlbWFpbGVyIGZyb20gJ25vZGVtYWlsZXInO1xyXG5pbXBvcnQgc210cFRyYW5zcG9ydCBmcm9tICdub2RlbWFpbGVyLXNtdHAtdHJhbnNwb3J0JztcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHNlbmRfZW1haWwoc2FsZV9pZCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB2YXIgcmVhZEhUTUxGaWxlID0gZnVuY3Rpb24ocGF0aCwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgZnMucmVhZEZpbGUocGF0aCwge2VuY29kaW5nOiAndXRmLTgnfSwgZnVuY3Rpb24gKGVyciwgaHRtbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgaHRtbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07ICBcclxuICAgICAgICBcclxuICAgICAgICBsZXQgT3JkZXIgPSBhd2FpdCBtb2RlbHMuU2FsZS5maW5kQnlJZCh7X2lkOiBzYWxlX2lkfSkucG9wdWxhdGUoXCJ1c2VyXCIpO1xyXG4gICAgICAgIGxldCBPcmRlckRldGFpbCA9IGF3YWl0IG1vZGVscy5TYWxlRGV0YWlsLmZpbmQoe3NhbGU6IE9yZGVyLl9pZH0pLnBvcHVsYXRlKFwicHJvZHVjdFwiKS5wb3B1bGF0ZShcInZhcmllZGFkXCIpO1xyXG4gICAgICAgIGxldCBBZGRyZXNzU2FsZSA9IGF3YWl0IG1vZGVscy5TYWxlQWRkcmVzcy5maW5kT25lKHtzYWxlOiBPcmRlci5faWR9KTtcclxuICAgICAgICB2YXIgdHJhbnNwb3J0ZXIgPSBub2RlbWFpbGVyLmNyZWF0ZVRyYW5zcG9ydChzbXRwVHJhbnNwb3J0KHtcclxuICAgICAgICAgICAgc2VydmljZTogJ2dtYWlsJyxcclxuICAgICAgICAgICAgaG9zdDogJ3NtdHAuZ21haWwuY29tJyxcclxuICAgICAgICAgICAgYXV0aDoge1xyXG4gICAgICAgICAgICB1c2VyOiAnZGVtb0BnbWFpbC5jb20nLFxyXG4gICAgICAgICAgICAgICAgcGFzczogJ2JpbGNmdmNoY3JzY2JzZXUnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgIHJlYWRIVE1MRmlsZShwcm9jZXNzLmN3ZCgpICsgJy9tYWlscy9lbWFpbF9zYWxlLmh0bWwnLCAoZXJyLCBodG1sKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgcmVzdF9odG1sID0gZWpzLnJlbmRlcihodG1sLCB7b3JkZXI6IE9yZGVyLGFkZHJlc3Nfc2FsZTogQWRkcmVzc1NhbGUsb3JkZXJfZGV0YWlsOiBPcmRlckRldGFpbH0pO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9IGhhbmRsZWJhcnMuY29tcGlsZShyZXN0X2h0bWwpO1xyXG4gICAgICAgICAgICB2YXIgaHRtbFRvU2VuZCA9IHRlbXBsYXRlKHtvcDp0cnVlfSk7XHJcbiAgICBcclxuICAgICAgICAgICAgdmFyIG1haWxPcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgZnJvbTogJ2RlbW9AZ21haWwuY29tJyxcclxuICAgICAgICAgICAgICAgIHRvOiBPcmRlci51c2VyLmVtYWlsLFxyXG4gICAgICAgICAgICAgICAgc3ViamVjdDogJ0ZpbmFsaXphIHR1IGNvbXByYSAnICsgT3JkZXIuX2lkLFxyXG4gICAgICAgICAgICAgICAgaHRtbDogaHRtbFRvU2VuZFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAgIHRyYW5zcG9ydGVyLnNlbmRNYWlsKG1haWxPcHRpb25zLCBmdW5jdGlvbihlcnJvciwgaW5mbyl7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0VtYWlsIHNlbnQ6ICcgKyBpbmZvLnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgIC8vICAgICBtZXNzYWdlOiBcIkVMIENPUlJFTyBTRSBFTlZJTyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAvLyByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgLy8gICAgIG1lbnNzYWdlOlwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHJlZ2lzdGVyOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IHNhbGVfZGF0YSA9IHJlcS5ib2R5LnNhbGU7XHJcbiAgICAgICAgICAgIGxldCBzYWxlX2FkZHJlc3NfZGF0YSA9IHJlcS5ib2R5LnNhbGVfYWRkcmVzcztcclxuXHJcbiAgICAgICAgICAgIGxldCBTQUxFID0gYXdhaXQgbW9kZWxzLlNhbGUuY3JlYXRlKHNhbGVfZGF0YSk7XHJcblxyXG4gICAgICAgICAgICBzYWxlX2FkZHJlc3NfZGF0YS5zYWxlID0gU0FMRS5faWQ7XHJcblxyXG4gICAgICAgICAgICBsZXQgU0FMRV9BRERSRVNTID0gYXdhaXQgbW9kZWxzLlNhbGVBZGRyZXNzLmNyZWF0ZShzYWxlX2FkZHJlc3NfZGF0YSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgQ0FSVFMgPSBhd2FpdCBtb2RlbHMuQ2FydC5maW5kKHt1c2VyOiBTQUxFLnVzZXJ9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGZvciAobGV0IENBUlQgb2YgQ0FSVFMpIHtcclxuICAgICAgICAgICAgICAgIENBUlQgPSBDQVJULnRvT2JqZWN0KCk7XHJcbiAgICAgICAgICAgICAgICBDQVJULnNhbGUgPSBTQUxFLl9pZDtcclxuICAgICAgICAgICAgICAgIC8vRUwgREVTQ1VFTlRPIERFIElOVkVOVEFSSU9cclxuICAgICAgICAgICAgICAgIGlmKENBUlQudmFyaWVkYWQpey8vTVVMVElQTEUgSU5WRU5UQVJJT1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBWQVJJRURBRCA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kQnlJZCh7X2lkOiBDQVJULnZhcmllZGFkfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld19zdG9jayA9IFZBUklFREFELnN0b2NrIC0gQ0FSVC5jYW50aWRhZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IENBUlQudmFyaWVkYWR9LHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RvY2s6IG5ld19zdG9jayxcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfWVsc2V7Ly9VTklUQVJJTyBJTlZFTlRBUklPXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IFBST0RVQ1QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kQnlJZCh7X2lkOiBDQVJULnByb2R1Y3R9KTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbmV3X3N0b2NrID0gUFJPRFVDVC5zdG9jayAtIENBUlQuY2FudGlkYWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IENBUlQucHJvZHVjdH0se1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9jazpuZXdfc3RvY2ssXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgICAgIGF3YWl0IG1vZGVscy5TYWxlRGV0YWlsLmNyZWF0ZShDQVJUKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IENBUlQuX2lkfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGF3YWl0IHNlbmRfZW1haWwoU0FMRS5faWQpO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJMQSBPUkRFTiBERSBHRU5FUk8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJIVUJPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAg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","map":{"version":3,"names":["send_email","sale_id","readHTMLFile","path","callback","fs","readFile","encoding","err","html","Order","models","Sale","findById","_id","populate","OrderDetail","SaleDetail","find","sale","AddressSale","SaleAddress","findOne","transporter","nodemailer","createTransport","smtpTransport","service","host","auth","user","pass","process","cwd","rest_html","ejs","render","order","address_sale","order_detail","template","handlebars","compile","htmlToSend","op","mailOptions","from","to","email","subject","sendMail","error","info","console","log","response","register","req","res","sale_data","body","sale_address_data","sale_address","SALE","create","SALE_ADDRESS","CARTS","Cart","CART","toObject","variedad","VARIEDAD","Variedad","new_stock","stock","cantidad","findByIdAndUpdate","PRODUCT","Product","product","findByIdAndDelete","status","json","message","send"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["SaleController.js"],"sourcesContent":["import models from '../models';\r\n\r\nimport fs from 'fs';\r\nimport handlebars from 'handlebars';\r\nimport ejs from 'ejs';\r\nimport nodemailer from 'nodemailer';\r\nimport smtpTransport from 'nodemailer-smtp-transport';\r\n\r\nasync function send_email(sale_id) {\r\n    try {\r\n        var readHTMLFile = function(path, callback) {\r\n            fs.readFile(path, {encoding: 'utf-8'}, function (err, html) {\r\n                if (err) {\r\n                    throw err;\r\n                    callback(err);\r\n                }\r\n                else {\r\n                    callback(null, html);\r\n                }\r\n            });\r\n        };  \r\n        \r\n        let Order = await models.Sale.findById({_id: sale_id}).populate(\"user\");\r\n        let OrderDetail = await models.SaleDetail.find({sale: Order._id}).populate(\"product\").populate(\"variedad\");\r\n        let AddressSale = await models.SaleAddress.findOne({sale: Order._id});\r\n        var transporter = nodemailer.createTransport(smtpTransport({\r\n            service: 'gmail',\r\n            host: 'smtp.gmail.com',\r\n            auth: {\r\n            user: 'demo@gmail.com',\r\n                pass: 'bilcfvchcrscbseu'\r\n            }\r\n        }));\r\n\r\n        readHTMLFile(process.cwd() + '/mails/email_sale.html', (err, html)=>{\r\n                                \r\n            let rest_html = ejs.render(html, {order: Order,address_sale: AddressSale,order_detail: OrderDetail});\r\n    \r\n            var template = handlebars.compile(rest_html);\r\n            var htmlToSend = template({op:true});\r\n    \r\n            var mailOptions = {\r\n                from: 'demo@gmail.com',\r\n                to: Order.user.email,\r\n                subject: 'Finaliza tu compra ' + Order._id,\r\n                html: htmlToSend\r\n            };\r\n          \r\n            transporter.sendMail(mailOptions, function(error, info){\r\n                if (!error) {\r\n                    console.log('Email sent: ' + info.response);\r\n                }\r\n            });\r\n        \r\n        });\r\n        \r\n        // res.status(200).json({\r\n        //     message: \"EL CORREO SE ENVIO CORRECTAMENTE\",\r\n        // });\r\n    } catch (error) {\r\n        console.log(error);\r\n        // res.status(500).send({\r\n        //     menssage:\"OCURRIO UN ERROR\",\r\n        // });\r\n    }\r\n}\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            let sale_data = req.body.sale;\r\n            let sale_address_data = req.body.sale_address;\r\n\r\n            let SALE = await models.Sale.create(sale_data);\r\n\r\n            sale_address_data.sale = SALE._id;\r\n\r\n            let SALE_ADDRESS = await models.SaleAddress.create(sale_address_data);\r\n\r\n            let CARTS = await models.Cart.find({user: SALE.user});\r\n            \r\n            for (let CART of CARTS) {\r\n                CART = CART.toObject();\r\n                CART.sale = SALE._id;\r\n                //EL DESCUENTO DE INVENTARIO\r\n                if(CART.variedad){//MULTIPLE INVENTARIO\r\n                    let VARIEDAD = await models.Variedad.findById({_id: CART.variedad});\r\n                    let new_stock = VARIEDAD.stock - CART.cantidad;\r\n\r\n                    await models.Variedad.findByIdAndUpdate({_id: CART.variedad},{\r\n                        stock: new_stock,\r\n                    })\r\n                }else{//UNITARIO INVENTARIO\r\n                    let PRODUCT = await models.Product.findById({_id: CART.product});\r\n                    let new_stock = PRODUCT.stock - CART.cantidad;\r\n\r\n                    await models.Product.findByIdAndUpdate({_id: CART.product},{\r\n                        stock:new_stock,\r\n                    });\r\n                }\r\n                // \r\n                await models.SaleDetail.create(CART);\r\n                await models.Cart.findByIdAndDelete({_id: CART._id});\r\n            }\r\n\r\n            await send_email(SALE._id);\r\n\r\n            res.status(200).json({\r\n                message: \"LA ORDEN DE GENERO CORRECTAMENTE\",\r\n            })\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"HUBO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":"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"}},"mtime":1681620934838},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\Review.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _ReviewClientController = _interopRequireDefault(require(\"../controllers/ReviewClientController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", _auth.default.verifyEcommerce, _ReviewClientController.default.register);\nrouter.put(\"/update\", _auth.default.verifyEcommerce, _ReviewClientController.default.update);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlFY29tbWVyY2UiLCJSZXZpZXdDbGllbnRDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJSZXZpZXcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IFJldmlld0NsaWVudENvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvUmV2aWV3Q2xpZW50Q29udHJvbGxlcidcclxuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCdcclxuXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuXHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsYXV0aC52ZXJpZnlFY29tbWVyY2UsUmV2aWV3Q2xpZW50Q29udHJvbGxlci5yZWdpc3Rlcik7XHJcbnJvdXRlci5wdXQoXCIvdXBkYXRlXCIsYXV0aC52ZXJpZnlFY29tbWVyY2UsUmV2aWV3Q2xpZW50Q29udHJvbGxlci51cGRhdGUpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQXNDO0FBRXRDLE1BQU1BLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxHQUFFO0FBRXhCRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUNDLGFBQUksQ0FBQ0MsZUFBZSxFQUFDQywrQkFBc0IsQ0FBQ0MsUUFBUSxDQUFDO0FBQzdFTixNQUFNLENBQUNPLEdBQUcsQ0FBQyxTQUFTLEVBQUNKLGFBQUksQ0FBQ0MsZUFBZSxFQUFDQywrQkFBc0IsQ0FBQ0csTUFBTSxDQUFDO0FBQUMsaUNBRTFEUixNQUFNIn0=","map":{"version":3,"names":["router","routerx","post","auth","verifyEcommerce","ReviewClientController","register","put","update"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["Review.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport ReviewClientController from '../controllers/ReviewClientController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n\r\nrouter.post(\"/register\",auth.verifyEcommerce,ReviewClientController.register);\r\nrouter.put(\"/update\",auth.verifyEcommerce,ReviewClientController.update);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA;AACA;AACA;AAAsC;AAEtC,MAAMA,MAAM,GAAG,IAAAC,6BAAO,GAAE;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,eAAe,EAACC,+BAAsB,CAACC,QAAQ,CAAC;AAC7EN,MAAM,CAACO,GAAG,CAAC,SAAS,EAACJ,aAAI,CAACC,eAAe,EAACC,+BAAsB,CAACG,MAAM,CAAC;AAAC,iCAE1DR,MAAM"}},"mtime":1680709913230},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\controllers\\\\ReviewClientController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let review = await _models.default.Review.create(req.body);\n      res.status(200).json({\n        message: \"LA RESEÑA HA SIDO REGISTRADA CORRECTAMENTE\",\n        review: review\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      await _models.default.Review.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let reviewD = await _models.default.Review.findById({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"LA RESEÑA HA MODIFICADO CORRECTAMENTE\",\n        review: reviewD\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZWdpc3RlciIsInJlcSIsInJlcyIsInJldmlldyIsIm1vZGVscyIsIlJldmlldyIsImNyZWF0ZSIsImJvZHkiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInNlbmQiLCJ1cGRhdGUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIl9pZCIsInJldmlld0QiLCJmaW5kQnlJZCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxFZHVjYSBpbmZvcm1hdGljYVxcRGVza3RvcFxcRFNXXFxFLUNPTU1FUkNFXFxUUFxcYXBpX2Vjb21tZXJjZVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiUmV2aWV3Q2xpZW50Q29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHJlZ2lzdGVyOmFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgcmV2aWV3ID0gYXdhaXQgbW9kZWxzLlJldmlldy5jcmVhdGUocmVxLmJvZHkpO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJMQSBSRVNFw5FBIEhBIFNJRE8gUkVHSVNUUkFEQSBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICByZXZpZXc6IHJldmlldyxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlOmFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuUmV2aWV3LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHJlcS5ib2R5Ll9pZH0scmVxLmJvZHkpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHJldmlld0QgPSBhd2FpdCBtb2RlbHMuUmV2aWV3LmZpbmRCeUlkKHtfaWQ6IHJlcS5ib2R5Ll9pZH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkxBIFJFU0XDkUEgSEEgTU9ESUZJQ0FETyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICByZXZpZXc6IHJldmlld0RcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUErQjtBQUFBLGlDQUVoQjtFQUNYQSxRQUFRLEVBQUMsT0FBTUMsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDdkIsSUFBSTtNQUNBLElBQUlDLE1BQU0sR0FBRyxNQUFNQyxlQUFNLENBQUNDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDTCxHQUFHLENBQUNNLElBQUksQ0FBQztNQUVqREwsR0FBRyxDQUFDTSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFLDRDQUE0QztRQUNyRFAsTUFBTSxFQUFFQTtNQUNaLENBQUMsQ0FBQztJQUNOLENBQUMsQ0FBQyxPQUFPUSxLQUFLLEVBQUU7TUFDWkMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEtBQUssQ0FBQztNQUNsQlQsR0FBRyxDQUFDTSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNNLElBQUksQ0FBQztRQUNqQkosT0FBTyxFQUFDO01BQ1osQ0FBQyxDQUFDO0lBQ047RUFDSixDQUFDO0VBQ0RLLE1BQU0sRUFBQyxPQUFNZCxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUNyQixJQUFJO01BQ0EsTUFBTUUsZUFBTSxDQUFDQyxNQUFNLENBQUNXLGlCQUFpQixDQUFDO1FBQUNDLEdBQUcsRUFBRWhCLEdBQUcsQ0FBQ00sSUFBSSxDQUFDVTtNQUFHLENBQUMsRUFBQ2hCLEdBQUcsQ0FBQ00sSUFBSSxDQUFDO01BRW5FLElBQUlXLE9BQU8sR0FBRyxNQUFNZCxlQUFNLENBQUNDLE1BQU0sQ0FBQ2MsUUFBUSxDQUFDO1FBQUNGLEdBQUcsRUFBRWhCLEdBQUcsQ0FBQ00sSUFBSSxDQUFDVTtNQUFHLENBQUMsQ0FBQztNQUMvRGYsR0FBRyxDQUFDTSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFLHVDQUF1QztRQUNoRFAsTUFBTSxFQUFFZTtNQUNaLENBQUMsQ0FBQztJQUNOLENBQUMsQ0FBQyxPQUFPUCxLQUFLLEVBQUU7TUFDWkMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEtBQUssQ0FBQztNQUNsQlQsR0FBRyxDQUFDTSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNNLElBQUksQ0FBQztRQUNqQkosT0FBTyxFQUFDO01BQ1osQ0FBQyxDQUFDO0lBQ047RUFDSjtBQUNKLENBQUMifQ==","map":{"version":3,"names":["register","req","res","review","models","Review","create","body","status","json","message","error","console","log","send","update","findByIdAndUpdate","_id","reviewD","findById"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\controllers\\","sources":["ReviewClientController.js"],"sourcesContent":["import models from \"../models\";\r\n\r\nexport default {\r\n    register:async(req,res) => {\r\n        try {\r\n            let review = await models.Review.create(req.body);\r\n\r\n            res.status(200).json({\r\n                message: \"LA RESEÑA HA SIDO REGISTRADA CORRECTAMENTE\",\r\n                review: review,\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    update:async(req,res) => {\r\n        try {\r\n            await models.Review.findByIdAndUpdate({_id: req.body._id},req.body);\r\n\r\n            let reviewD = await models.Review.findById({_id: req.body._id});\r\n            res.status(200).json({\r\n                message: \"LA RESEÑA HA MODIFICADO CORRECTAMENTE\",\r\n                review: reviewD\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":";;;;;;AAAA;AAA+B;AAAA,iCAEhB;EACXA,QAAQ,EAAC,OAAMC,GAAG,EAACC,GAAG,KAAK;IACvB,IAAI;MACA,IAAIC,MAAM,GAAG,MAAMC,eAAM,CAACC,MAAM,CAACC,MAAM,CAACL,GAAG,CAACM,IAAI,CAAC;MAEjDL,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE,4CAA4C;QACrDP,MAAM,EAAEA;MACZ,CAAC,CAAC;IACN,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClBT,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;QACjBJ,OAAO,EAAC;MACZ,CAAC,CAAC;IACN;EACJ,CAAC;EACDK,MAAM,EAAC,OAAMd,GAAG,EAACC,GAAG,KAAK;IACrB,IAAI;MACA,MAAME,eAAM,CAACC,MAAM,CAACW,iBAAiB,CAAC;QAACC,GAAG,EAAEhB,GAAG,CAACM,IAAI,CAACU;MAAG,CAAC,EAAChB,GAAG,CAACM,IAAI,CAAC;MAEnE,IAAIW,OAAO,GAAG,MAAMd,eAAM,CAACC,MAAM,CAACc,QAAQ,CAAC;QAACF,GAAG,EAAEhB,GAAG,CAACM,IAAI,CAACU;MAAG,CAAC,CAAC;MAC/Df,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE,uCAAuC;QAChDP,MAAM,EAAEe;MACZ,CAAC,CAAC;IACN,CAAC,CAAC,OAAOP,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClBT,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;QACjBJ,OAAO,EAAC;MACZ,CAAC,CAAC;IACN;EACJ;AACJ,CAAC"}},"mtime":1680715491681},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _Cupone = _interopRequireDefault(require(\"./Cupone\"));\nvar _Discount = _interopRequireDefault(require(\"./Discount\"));\nvar _Home = _interopRequireDefault(require(\"./Home\"));\nvar _Cart = _interopRequireDefault(require(\"./Cart\"));\nvar _AddressClient = _interopRequireDefault(require(\"./AddressClient\"));\nvar _Sale = _interopRequireDefault(require(\"./Sale\"));\nvar _Review = _interopRequireDefault(require(\"./Review\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.use('/users', _User.default);\nrouter.use('/categories', _Categorie.default);\nrouter.use('/products', _Product.default);\nrouter.use('/sliders', _Slider.default);\nrouter.use('/cupones', _Cupone.default);\nrouter.use('/discount', _Discount.default);\nrouter.use('/home', _Home.default);\nrouter.use('/cart', _Cart.default);\nrouter.use('/address_client', _AddressClient.default);\nrouter.use('/sale', _Sale.default);\nrouter.use('/review', _Review.default);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJyb3V0ZXJ4IiwidXNlIiwiVXNlciIsIkNhdGVnb3JpZSIsIlByb2R1Y3QiLCJTbGlkZXIiLCJDdXBvbmUiLCJEaXNjb3VudCIsIkhvbWUiLCJDYXJ0IiwiQWRkcmVzc0NsaWVudCIsIlNhbGUiLCJSZXZpZXciXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcRWR1Y2EgaW5mb3JtYXRpY2FcXERlc2t0b3BcXERTV1xcRS1DT01NRVJDRVxcVFBcXGFwaV9lY29tbWVyY2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tICdleHByZXNzLXByb21pc2Utcm91dGVyJ1xyXG5pbXBvcnQgVXNlciBmcm9tICcuL1VzZXInXHJcbmltcG9ydCBDYXRlZ29yaWUgZnJvbSAnLi9DYXRlZ29yaWUnXHJcbmltcG9ydCBQcm9kdWN0IGZyb20gJy4vUHJvZHVjdCdcclxuaW1wb3J0IFNsaWRlciBmcm9tICcuL1NsaWRlcidcclxuaW1wb3J0IEN1cG9uZSBmcm9tICcuL0N1cG9uZSdcclxuaW1wb3J0IERpc2NvdW50IGZyb20gJy4vRGlzY291bnQnXHJcbmltcG9ydCBIb21lIGZyb20gJy4vSG9tZSdcclxuaW1wb3J0IENhcnQgZnJvbSAnLi9DYXJ0J1xyXG5pbXBvcnQgQWRkcmVzc0NsaWVudCBmcm9tICcuL0FkZHJlc3NDbGllbnQnXHJcbmltcG9ydCBTYWxlIGZyb20gJy4vU2FsZSdcclxuaW1wb3J0IFJldmlldyBmcm9tICcuL1JldmlldydcclxuXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxucm91dGVyLnVzZSgnL3VzZXJzJywgVXNlcik7XHJcbnJvdXRlci51c2UoJy9jYXRlZ29yaWVzJywgQ2F0ZWdvcmllKTtcclxucm91dGVyLnVzZSgnL3Byb2R1Y3RzJywgUHJvZHVjdCk7XHJcbnJvdXRlci51c2UoJy9zbGlkZXJzJywgU2xpZGVyKTtcclxucm91dGVyLnVzZSgnL2N1cG9uZXMnLCBDdXBvbmUpO1xyXG5yb3V0ZXIudXNlKCcvZGlzY291bnQnLCBEaXNjb3VudCk7XHJcbnJvdXRlci51c2UoJy9ob21lJywgSG9tZSk7XHJcbnJvdXRlci51c2UoJy9jYXJ0JywgQ2FydCk7XHJcbnJvdXRlci51c2UoJy9hZGRyZXNzX2NsaWVudCcsQWRkcmVzc0NsaWVudCk7XHJcbnJvdXRlci51c2UoJy9zYWxlJyxTYWxlKTtcclxucm91dGVyLnVzZSgnL3JldmlldycsUmV2aWV3KTtcclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQTZCO0FBRTdCLE1BQU1BLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxHQUFFO0FBQ3hCRCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxRQUFRLEVBQUVDLGFBQUksQ0FBQztBQUMxQkgsTUFBTSxDQUFDRSxHQUFHLENBQUMsYUFBYSxFQUFFRSxrQkFBUyxDQUFDO0FBQ3BDSixNQUFNLENBQUNFLEdBQUcsQ0FBQyxXQUFXLEVBQUVHLGdCQUFPLENBQUM7QUFDaENMLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLFVBQVUsRUFBRUksZUFBTSxDQUFDO0FBQzlCTixNQUFNLENBQUNFLEdBQUcsQ0FBQyxVQUFVLEVBQUVLLGVBQU0sQ0FBQztBQUM5QlAsTUFBTSxDQUFDRSxHQUFHLENBQUMsV0FBVyxFQUFFTSxpQkFBUSxDQUFDO0FBQ2pDUixNQUFNLENBQUNFLEdBQUcsQ0FBQyxPQUFPLEVBQUVPLGFBQUksQ0FBQztBQUN6QlQsTUFBTSxDQUFDRSxHQUFHLENBQUMsT0FBTyxFQUFFUSxhQUFJLENBQUM7QUFDekJWLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLGlCQUFpQixFQUFDUyxzQkFBYSxDQUFDO0FBQzNDWCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxPQUFPLEVBQUNVLGFBQUksQ0FBQztBQUN4QlosTUFBTSxDQUFDRSxHQUFHLENBQUMsU0FBUyxFQUFDVyxlQUFNLENBQUM7QUFBQyxpQ0FDZGIsTUFBTSJ9","map":{"version":3,"names":["router","routerx","use","User","Categorie","Product","Slider","Cupone","Discount","Home","Cart","AddressClient","Sale","Review"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["index.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport User from './User'\r\nimport Categorie from './Categorie'\r\nimport Product from './Product'\r\nimport Slider from './Slider'\r\nimport Cupone from './Cupone'\r\nimport Discount from './Discount'\r\nimport Home from './Home'\r\nimport Cart from './Cart'\r\nimport AddressClient from './AddressClient'\r\nimport Sale from './Sale'\r\nimport Review from './Review'\r\n\r\nconst router = routerx();\r\nrouter.use('/users', User);\r\nrouter.use('/categories', Categorie);\r\nrouter.use('/products', Product);\r\nrouter.use('/sliders', Slider);\r\nrouter.use('/cupones', Cupone);\r\nrouter.use('/discount', Discount);\r\nrouter.use('/home', Home);\r\nrouter.use('/cart', Cart);\r\nrouter.use('/address_client',AddressClient);\r\nrouter.use('/sale',Sale);\r\nrouter.use('/review',Review);\r\nexport default router;"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAA6B;AAE7B,MAAMA,MAAM,GAAG,IAAAC,6BAAO,GAAE;AACxBD,MAAM,CAACE,GAAG,CAAC,QAAQ,EAAEC,aAAI,CAAC;AAC1BH,MAAM,CAACE,GAAG,CAAC,aAAa,EAAEE,kBAAS,CAAC;AACpCJ,MAAM,CAACE,GAAG,CAAC,WAAW,EAAEG,gBAAO,CAAC;AAChCL,MAAM,CAACE,GAAG,CAAC,UAAU,EAAEI,eAAM,CAAC;AAC9BN,MAAM,CAACE,GAAG,CAAC,UAAU,EAAEK,eAAM,CAAC;AAC9BP,MAAM,CAACE,GAAG,CAAC,WAAW,EAAEM,iBAAQ,CAAC;AACjCR,MAAM,CAACE,GAAG,CAAC,OAAO,EAAEO,aAAI,CAAC;AACzBT,MAAM,CAACE,GAAG,CAAC,OAAO,EAAEQ,aAAI,CAAC;AACzBV,MAAM,CAACE,GAAG,CAAC,iBAAiB,EAACS,sBAAa,CAAC;AAC3CX,MAAM,CAACE,GAAG,CAAC,OAAO,EAACU,aAAI,CAAC;AACxBZ,MAAM,CAACE,GAAG,CAAC,SAAS,EAACW,eAAM,CAAC;AAAC,iCACdb,MAAM"}},"mtime":1680709936100},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\\\\router\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Educa informatica\\\\Desktop\\\\DSW\\\\E-COMMERCE\\\\TP\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _UserController = _interopRequireDefault(require(\"../controllers/UserController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", _UserController.default.register);\nrouter.put(\"/update\", _UserController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _UserController.default.list);\nrouter.post(\"/register_admin\", _auth.default.verifyAdmin, _UserController.default.register_admin);\nrouter.post(\"/login\", _UserController.default.login);\nrouter.post(\"/login_admin\", _UserController.default.login_admin);\nrouter.delete(\"/delete\", _UserController.default.remove);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsInVzZXJjb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJsaXN0IiwicmVnaXN0ZXJfYWRtaW4iLCJsb2dpbiIsImxvZ2luX2FkbWluIiwiZGVsZXRlIiwicmVtb3ZlIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEVkdWNhIGluZm9ybWF0aWNhXFxEZXNrdG9wXFxEU1dcXEUtQ09NTUVSQ0VcXFRQXFxhcGlfZWNvbW1lcmNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tICdleHByZXNzLXByb21pc2Utcm91dGVyJ1xyXG5pbXBvcnQgdXNlcmNvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvVXNlckNvbnRyb2xsZXInXHJcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXHJcblxyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcbi8vIGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcnMvcmVnaXN0ZXJcclxuXHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsdXNlcmNvbnRyb2xsZXIucmVnaXN0ZXIpO1xyXG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLHVzZXJjb250cm9sbGVyLnVwZGF0ZSk7XHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4sdXNlcmNvbnRyb2xsZXIubGlzdCk7XHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyX2FkbWluXCIsYXV0aC52ZXJpZnlBZG1pbix1c2VyY29udHJvbGxlci5yZWdpc3Rlcl9hZG1pbik7XHJcbnJvdXRlci5wb3N0KFwiL2xvZ2luXCIsdXNlcmNvbnRyb2xsZXIubG9naW4pO1xyXG5yb3V0ZXIucG9zdChcIi9sb2dpbl9hZG1pblwiLHVzZXJjb250cm9sbGVyLmxvZ2luX2FkbWluKTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIix1c2VyY29udHJvbGxlci5yZW1vdmUpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQXNDO0FBRXRDLE1BQU1BLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxHQUFFO0FBQ3hCOztBQUVBRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUNDLHVCQUFjLENBQUNDLFFBQVEsQ0FBQztBQUNoREosTUFBTSxDQUFDSyxHQUFHLENBQUMsU0FBUyxFQUFDRix1QkFBYyxDQUFDRyxNQUFNLENBQUM7QUFDM0NOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLE9BQU8sRUFBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUNOLHVCQUFjLENBQUNPLElBQUksQ0FBQztBQUN4RFYsTUFBTSxDQUFDRSxJQUFJLENBQUMsaUJBQWlCLEVBQUNNLGFBQUksQ0FBQ0MsV0FBVyxFQUFDTix1QkFBYyxDQUFDUSxjQUFjLENBQUM7QUFDN0VYLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFFBQVEsRUFBQ0MsdUJBQWMsQ0FBQ1MsS0FBSyxDQUFDO0FBQzFDWixNQUFNLENBQUNFLElBQUksQ0FBQyxjQUFjLEVBQUNDLHVCQUFjLENBQUNVLFdBQVcsQ0FBQztBQUN0RGIsTUFBTSxDQUFDYyxNQUFNLENBQUMsU0FBUyxFQUFDWCx1QkFBYyxDQUFDWSxNQUFNLENBQUM7QUFBQyxpQ0FFaENmLE1BQU0ifQ==","map":{"version":3,"names":["router","routerx","post","usercontroller","register","put","update","get","auth","verifyAdmin","list","register_admin","login","login_admin","delete","remove"],"sourceRoot":"C:\\Users\\Educa informatica\\Desktop\\DSW\\E-COMMERCE\\TP\\api_ecommerce\\router\\","sources":["User.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport usercontroller from '../controllers/UserController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n// http://localhost:3000/api/users/register\r\n\r\nrouter.post(\"/register\",usercontroller.register);\r\nrouter.put(\"/update\",usercontroller.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,usercontroller.list);\r\nrouter.post(\"/register_admin\",auth.verifyAdmin,usercontroller.register_admin);\r\nrouter.post(\"/login\",usercontroller.login);\r\nrouter.post(\"/login_admin\",usercontroller.login_admin);\r\nrouter.delete(\"/delete\",usercontroller.remove);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA;AACA;AACA;AAAsC;AAEtC,MAAMA,MAAM,GAAG,IAAAC,6BAAO,GAAE;AACxB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,uBAAc,CAACC,QAAQ,CAAC;AAChDJ,MAAM,CAACK,GAAG,CAAC,SAAS,EAACF,uBAAc,CAACG,MAAM,CAAC;AAC3CN,MAAM,CAACO,GAAG,CAAC,OAAO,EAACC,aAAI,CAACC,WAAW,EAACN,uBAAc,CAACO,IAAI,CAAC;AACxDV,MAAM,CAACE,IAAI,CAAC,iBAAiB,EAACM,aAAI,CAACC,WAAW,EAACN,uBAAc,CAACQ,cAAc,CAAC;AAC7EX,MAAM,CAACE,IAAI,CAAC,QAAQ,EAACC,uBAAc,CAACS,KAAK,CAAC;AAC1CZ,MAAM,CAACE,IAAI,CAAC,cAAc,EAACC,uBAAc,CAACU,WAAW,CAAC;AACtDb,MAAM,CAACc,MAAM,CAAC,SAAS,EAACX,uBAAc,CAACY,MAAM,CAAC;AAAC,iCAEhCf,MAAM"}},"mtime":1676271632239}}